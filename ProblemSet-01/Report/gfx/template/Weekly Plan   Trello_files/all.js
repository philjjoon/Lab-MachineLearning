/*

 Sizzle CSS Selector Engine v1.10.16
 http://sizzlejs.com/

 Copyright 2013 jQuery Foundation, Inc. and other contributors
 Released under the MIT license
 http://jquery.org/license

 Date: 2014-01-13

 jQuery JavaScript Library v2.1.0
 http://jquery.com/

 Includes Sizzle.js
 http://sizzlejs.com/

 Copyright 2005, 2014 jQuery Foundation, Inc. and other contributors
 Released under the MIT license
 http://jquery.org/license

 Date: 2014-01-23T21:10Z

 jQuery UI Core 1.10.3
 http://jqueryui.com

 Copyright 2013 jQuery Foundation and other contributors
 Released under the MIT license.
 http://jquery.org/license

 http://api.jqueryui.com/category/ui-core/

 jQuery UI Widget 1.10.3
 http://jqueryui.com

 Copyright 2013 jQuery Foundation and other contributors
 Released under the MIT license.
 http://jquery.org/license

 http://api.jqueryui.com/jQuery.widget/

 jQuery UI Mouse 1.10.3
 http://jqueryui.com

 Copyright 2013 jQuery Foundation and other contributors
 Released under the MIT license.
 http://jquery.org/license

 http://api.jqueryui.com/mouse/

 Depends:
 jquery.ui.widget.js

 jQuery UI Position 1.10.3
 http://jqueryui.com

 Copyright 2013 jQuery Foundation and other contributors
 Released under the MIT license.
 http://jquery.org/license

 http://api.jqueryui.com/position/

 jQuery UI Draggable 1.10.3
 http://jqueryui.com

 Copyright 2013 jQuery Foundation and other contributors
 Released under the MIT license.
 http://jquery.org/license

 http://api.jqueryui.com/draggable/

 Depends:
 jquery.ui.core.js
 jquery.ui.mouse.js
 jquery.ui.widget.js

 jQuery UI Droppable 1.10.3
 http://jqueryui.com

 Copyright 2013 jQuery Foundation and other contributors
 Released under the MIT license.
 http://jquery.org/license

 http://api.jqueryui.com/droppable/

 Depends:
 jquery.ui.core.js
 jquery.ui.widget.js
 jquery.ui.mouse.js
 jquery.ui.draggable.js

 jQuery UI Sortable 1.10.3
 http://jqueryui.com

 Copyright 2013 jQuery Foundation and other contributors
 Released under the MIT license.
 http://jquery.org/license

 http://api.jqueryui.com/sortable/

 Depends:
 jquery.ui.core.js
 jquery.ui.mouse.js
 jquery.ui.widget.js

 jQuery UI Datepicker 1.10.3
 http://jqueryui.com

 Copyright 2013 jQuery Foundation and other contributors
 Released under the MIT license.
 http://jquery.org/license

 http://api.jqueryui.com/datepicker/

 Depends:
 jquery.ui.core.js
 Copyright (c) 2011 Brandon Aaron (http://brandonaaron.net)
 Licensed under the MIT License (LICENSE.txt).

 Thanks to: http://adomas.org/javascript-mouse-wheel/ for some pointers.
 Thanks to: Mathias Bank(http://www.mathias-bank.de) for a scope bug fix.
 Thanks to: Seamus Leahy for adding deltaX and deltaY

 Version: 3.0.6

 Requires: 1.2.2+
: Copyright (c) 2006-2008, Coolite Inc. (http://www.coolite.com/). All rights reserved.
 @license: Licensed under The MIT License. See license.txt and http://www.datejs.com/license/. 
 @website: http://www.datejs.com/

  Copyright 2011 Twitter, Inc.
  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.

  Trello modification note: we have modified this version of the Hogan library
  to treat the empty string as False for the purposes of section rendering.
  See https://github.com/twitter/hogan.js/issues/search?q=48 for the issue and
  patch.


 Block below copied from Protovis: http://mbostock.github.com/protovis/
 Copyright 2010 Stanford Visualization Group
 Licensed under the BSD License: http://www.opensource.org/licenses/bsd-license.php

 This application uses other third-party javascript components
 distributed under appropriate licenses. For more information,
 see the following:
      backbone.js   http://backbonejs.org/
      json2.js      https://github.com/douglascrockford/JSON-js
      markdown.js   https://github.com/evilstreak/markdown-js
      socket.io.js  http://socket.io/
      underscore.js http://underscorejs.org/
 Socket.IO.js build:0.8.6, development. Copyright(c) 2011 LearnBoost <dev@learnboost.com> MIT Licensed 
! CHANGES FOR TRELLO: Remove all transports other than built-in browser Websockets, try/catch around errors, fix transport merge, fix heartbeat
! Diff with published v0.8.6 for the details.

 quantize.js Copyright 2008 Nick Rabinowitz.
 Licensed under the MIT license: http://www.opensource.org/licenses/mit-license.php
*/
(function(){var Zc,$c,ad;window.clientVersion={head:"jellydonut",version:"58",patch:0};window.require=null;window.attachmentsDomain="https://trello-attachments.s3.amazonaws.com";window.avatarDomain="https://trello-avatars.s3.amazonaws.com";window.logoDomain="https://trello-logos.s3.amazonaws.com";window.siteDomain=location.origin||/^[^/]+?[/]{2}[^/]+/.exec(location.href)[0];window.googleDrive={publicAPIKey:"AIzaSyDcHmdn94AmewycScWCBNeAMz0nbT8HQ_c",clientId:"908467292589.apps.googleusercontent.com"};
var u={action:function(c,b,d){this.b(d=d||"");this.s(this.f("member",c,b,1),c,b,0,11,77,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <div class="creator member js-show-mem-menu"> ');e.b(e.rp("member",b,d,""));e.b(" </div> ")}),c.pop());this.b(" ");this.s(this.f("member",c,b,1),c,b,1,0,0,"")||this.b(' <div class="creator member member-no-menu"><span class="member-initials quiet">?</span></div> ');this.b(' <div class="phenom-desc" ');this.s(this.f("type",c,b,1),c,b,0,241,262,"{{ }}")&&(this.rs(c,b,
function(b,d,e){e.b('actionType="');e.b(e.v(e.f("type",b,d,0)));e.b('"')}),c.pop());this.b("> ");this.s(this.f("member",c,b,1),c,b,0,284,357,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b('<a class="inline-object js-show-mem-menu" href="');e.b(e.v(e.f("url",b,d,0)));e.b('">');e.b(e.v(e.f("fullName",b,d,0)));e.b("</a>")}),c.pop());this.b(" ");this.s(this.f("member",c,b,1),c,b,1,0,0,"")||this.b('<span class="quiet">[deleted account]</span>');this.b(" ");this.s(this.f("entities",c,b,1),c,b,0,449,462,"{{ }}")&&
(this.rs(c,b,function(b,d,e){e.b(" ");e.b(e.rp("entity",b,d,""));e.b(" ")}),c.pop());this.b(" ");this.s(this.f("hasMoreThanOneChild",c,b,1),c,b,1,0,0,"")||(this.b(" "),this.s(this.f("children",c,b,1),c,b,0,514,553,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(" ");e.s(e.f("entities",b,d,1),b,d,0,528,539,"{{ }}")&&(e.rs(b,d,function(b,d,f){f.b(f.rp("entity",b,d,""))}),b.pop());e.b(" ")}),c.pop()),this.b(" "));this.b(" ");this.s(this.f("hasMoreThanOneChild",c,b,1),c,b,0,616,703,"{{ }}")&&(this.rs(c,b,
function(b,d,e){e.b(" <ul> ");e.s(e.f("children",b,d,1),b,d,0,635,683,"{{ }}")&&(e.rs(b,d,function(b,d,f){f.b(" <li>");f.s(f.f("entities",b,d,1),b,d,0,653,664,"{{ }}")&&(f.rs(b,d,function(b,d,f){f.b(f.rp("entity",b,d,""))}),b.pop());f.b("</li> ")}),b.pop());e.b(" </ul> ")}),c.pop());this.b(" ");this.s(this.f("useEmbedly",c,b,1),c,b,0,743,788,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <div class="hide embedly js-embedly"></div> ')}),c.pop());this.b(" ");this.s(this.f("usePreviews",c,b,1),c,b,0,820,
867,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <div class="hide previews js-previews"></div> ')}),c.pop());this.b(' </div> <p class="phenom-meta quiet"> ');this.s(this.f("saved",c,b,1),c,b,0,931,984,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b('<span class="date js-hide-on-sending" dt="');e.b(e.v(e.f("date",b,d,0)));e.b('"/>')}),c.pop());this.b(" ");this.s(this.f("dateLastEdited",c,b,1),c,b,0,1014,1108,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b('<span class="js-hide-on-sending"> - edited <span class="date" dt="');
e.b(e.v(e.f("dateLastEdited",b,d,0)));e.b('"/></span>')}),c.pop());this.b(' <span class="js-spinner');this.s(this.f("saved",c,b,1),c,b,0,1161,1166,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(" hide")}),c.pop());this.b('"><span class="spinner small left" style="margin-right: 4px;"/> Sending\u2026</span> ');this.s(this.f("board",c,b,1),c,b,0,1266,1407,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' - on board <a class="bold" href="');e.b(e.v(e.f("url",b,d,0)));e.b('">');e.b(e.v(e.f("name",b,d,0)));e.b('</a> <span title="');
e.b(e.v(e.f("boardPLevelAltText",b,d,0)));e.b('" class="icon-sm icon-');e.b(e.v(e.f("boardPLevelIconClass",b,d,0)));e.b('"/> ')}),c.pop());this.b(" ");this.s(this.f("organization",c,b,1),c,b,0,1435,1579,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' - on organization <a class="bold" href="');e.b(e.v(e.f("url",b,d,0)));e.b('">');e.b(e.v(e.f("name",b,d,0)));e.b('</a> <span title="');e.b(e.v(e.f("orgPLevelAltText",b,d,0)));e.b('" class="icon-sm icon-');e.b(e.v(e.f("orgPLevelIconClass",b,d,0)));e.b('"/> ')}),
c.pop());this.b(' <span class="js-hide-on-sending"> ');this.s(this.f("canEdit",c,b,1),c,b,0,1643,1690,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' - <a href="#" class="js-edit-action">Edit</a> ')}),c.pop());this.b(" ");this.s(this.f("canDelete",c,b,1),c,b,0,1717,1776,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' - <a href="#" class="js-confirm-delete-action">Delete</a> ')}),c.pop());this.b(" ");this.s(this.f("canPromoteToCard",c,b,1),c,b,0,1812,1874,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' - <a href="#" class="js-promote-to-card">Promote to Card</a> ')}),
c.pop());this.b(" </span> </p> ");return this.fl()},actions_empty:function(c,b,d){this.b(d=d||"");this.b('<p class="empty-list">No actions');this.s(this.f("daysBack",c,b,1),c,b,0,45,76,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(" in the last ");e.b(e.v(e.f("daysBack",b,d,0)));e.b(" days ")}),c.pop());this.b("</p> ");return this.fl()},ad_bc_banner:function(c,b,d){this.b(d||"");this.b('<a class="bc-pitch js-bc-ad" href="');this.b(this.v(this.f("url",c,b,0)));this.b('"> <span class="mark business-class-mark" alt="Trello Business Class Logo"/> <span class="title">Get Business Class</span> <span class="pitchlet"> Supercharge your organization. </span> </a> ');
return this.fl()},ad_business_class:function(c,b,d){this.b(d||"");this.b('<span class="title"> Trello Business Class </span> <span class="pitchlet">Add features to supercharge your organization.</span> <span class="features">Google Apps Integration \u00b7 Bulk Export \u00b7 Read-only Observers</span> <span class="learn-more"><a href="#">Learn More\u2026</a></span> ');return this.fl()},ad_business_class_google_apps:function(c,b,d){this.b(d||"");this.b('<span class="title"> Using Google Apps? </span> <span class="learn-more"><a href="#">Learn about Business Class\u2026</a></span> ');
return this.fl()},ad_business_class_manage_any_board:function(c,b,d){this.b(d||"");this.b('<span class="title"> Want to manage all ');this.b(this.v(this.d("organization.displayName",c,b,0)));this.b(' boards? </span> <span class="learn-more"><a href="#">Learn about Business Class\u2026</a></span> ');return this.fl()},ad_business_class_observers:function(c,b,d){this.b(d||"");this.b('<span class="title"> Want to add observers? </span> <span class="learn-more"><a href="#">Learn about Business Class\u2026</a></span> ');
return this.fl()},ad_gold_banner:function(c,b,d){this.b(d||"");this.b('<a class="gold-pitch js-gold-ad" href="/gold"> <span class="mark gold-mark" alt="Trello Gold Logo"/> <span class="title">Get Trello Gold</span> <span class="pitchlet"> Support Trello and get extra fun and functionality. </span> </a> ');return this.fl()},"admin/channelAccess.entry":function(c,b,d){this.b(d=d||"");this.b("<td>");this.b(this.v(this.f("fullName",c,b,0)));this.b("</td> <td>");this.b(this.v(this.f("email",c,b,0)));this.b("</td> <td>");
this.b(this.v(this.d("channels.active",c,b,0)));this.b("</td> <td> ");this.s(this.d("channels.allowed",c,b,1),c,b,0,96,205,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(" <div class='allowance' data-key='");e.b(e.v(e.d(".",b,d,0)));e.b("'> ");e.b(e.v(e.d(".",b,d,0)));e.b(" <div class='close js-remove-allowance'>&#10006;</div> </div> ")}),c.pop());this.b(" <div class='allowance new-allowance'> <input type='text' class='js-input-allowance' placeholder='add permission'> <div class='add js-add-allowance'>+</div> </div> </td> ");
return this.fl()},"admin/manage.entry":function(c,b,d){this.b(d=d||"");this.b("<td>");this.b(this.v(this.f("fullName",c,b,0)));this.b("</td> <td>");this.b(this.v(this.f("email",c,b,0)));this.b("</td> <td> ");this.s(this.f("allow",c,b,1),c,b,0,56,165,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(" <div class='allowance' data-key='");e.b(e.v(e.d(".",b,d,0)));e.b("'> ");e.b(e.v(e.d(".",b,d,0)));e.b(" <div class='close js-remove-allowance'>&#10006;</div> </div> ")}),c.pop());this.b(" <div class='allowance new-allowance'> <input type='text' class='js-input-allowance' placeholder='add permission'> <div class='add js-add-allowance'>+</div> </div> </td> ");
return this.fl()},"admin/release.channel":function(c,b,d){this.b(d=d||"");this.b('<div class="channel"> <h3>');this.b(this.v(this.f("name",c,b,0)));this.b("</h3> <table> <tr> ");this.s(this.f("editable",c,b,1),c,b,0,66,77,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(" <th></th> ")}),c.pop());this.b(" <th>Head</th> <th>Version (max)</th> <th>Percent</th> ");this.s(this.f("editable",c,b,1),c,b,0,158,169,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(" <th></th> ")}),c.pop());this.b(" </tr> ");this.s(this.f("editable",
c,b,1),c,b,0,202,486,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(" ");e.s(e.f("message",b,d,1),b,d,0,215,307,"{{ }}")&&(e.rs(b,d,function(b,d,f){f.b(' <tr> <td colspan="5" align="center" class="message ');f.b(f.v(f.f("className",b,d,0)));f.b('"> ');f.b(f.v(f.f("message",b,d,0)));f.b(" </td> </tr> ")}),b.pop());e.b(' <tr> <td colspan="5" align="center"> <input type="button" class="js-add-head" value="Add" /> <input type="button" class="js-save-channel" value="Save" /> </td> </tr> ')}),c.pop());this.b(" </table> </div> <hr> ");
return this.fl()},"admin/release.deployment":function(c,b,d){this.b(d||"");this.b(this.v(this.f("head",c,b,0)));this.b("-");this.b(this.v(this.f("version",c,b,0)));this.b(".");this.b(this.v(this.f("patch",c,b,0)));this.b(" ");return this.fl()},"admin/release.deploymentList":function(c,b,d){this.b(d||"");this.b("<label>");this.b(this.v(this.f("head",c,b,0)));this.b("</label> <ul></ul> ");return this.fl()},"admin/release.head":function(c,b,d){this.b(d=d||"");this.s(this.f("editable",c,b,1),c,b,0,13,
135,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <td> <a href="#" class="js-move-up change-head">&uarr;</a> <a href="#" class="js-move-down change-head">&darr;</a> </td> ')}),c.pop());this.b(" <td> ");this.s(this.f("editable",c,b,1),c,b,0,167,219,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <input name="name" type="text" value="');e.b(e.v(e.f("name",b,d,0)));e.b('" /> ')}),c.pop());this.b(" ");this.s(this.f("editable",c,b,1),c,b,1,0,0,"")||(this.b(" "),this.b(this.v(this.f("name",c,b,0))),this.b(" "));
this.b(" </td> <td> ");this.s(this.f("editable",c,b,1),c,b,0,294,361,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <input name="version" size="5" type="text" value="');e.b(e.v(e.f("version",b,d,0)));e.b('" /> ')}),c.pop());this.b(" ");this.s(this.f("editable",c,b,1),c,b,1,0,0,"")||(this.b(" "),this.b(this.v(this.f("version",c,b,0))),this.b(" "));this.b(" </td> <td> ");this.s(this.f("editable",c,b,1),c,b,0,439,506,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <input name="percent" size="5" type="text" value="');
e.b(e.v(e.f("percent",b,d,0)));e.b('" /> ')}),c.pop());this.b(" ");this.s(this.f("editable",c,b,1),c,b,1,0,0,"")||(this.b(" "),this.b(this.v(this.f("percent",c,b,0))),this.b(" "));this.b(" </td> ");this.s(this.f("editable",c,b,1),c,b,0,579,645,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <td> <a href="#" class="js-remove change-head">&times;</a> </td> ')}),c.pop());this.b(" ");return this.fl()},announcement:function(c,b,d){this.b(d=d||"");this.b('<div class="announcement');this.s(this.f("type",c,
b,1),c,b,0,33,55,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(" announcement-");e.b(e.v(e.f("type",b,d,0)))}),c.pop());this.b('"> <h3 class="announcement-header"> ');this.s(this.f("url",c,b,1),c,b,0,108,188,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b('<a class="announcement-header-link" target="_blank" href="');e.b(e.v(e.f("url",b,d,0)));e.b('">');e.b(e.v(e.f("title",b,d,0)));e.b("</a>")}),c.pop());this.b(" ");this.s(this.f("url",c,b,1),c,b,1,0,0,"")||this.b(this.v(this.f("title",c,b,0)));this.b(" </h3> <p>");
this.b(this.t(this.f("html",c,b,0)));this.b("</p> ");this.s(this.f("url",c,b,1),c,b,0,255,349,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <p class="quiet"> <a href="');e.b(e.v(e.f("url",b,d,0)));e.b('" target="_blank" class="js-real-link">Read more\u2026</a> </p> ')}),c.pop());this.b(" </div> ");return this.fl()},archive_dropzone_dropped:function(c,b,d){this.b(d||"");this.b('<p> The card has been archived. <a href="#" style="margin-left: 8px;" class="js-open-archive">View archive?</a> <a href="#" style="margin-left: 8px;" class="js-close-dropzone">Close.</a> </p> ');
return this.fl()},archive_dropzone_text:function(c,b,d){this.b(d||"");this.b(' <div class="bottom-archive-dropzone js-bottom-archive-dropzone"><p>Drop here to archive card.</p></div> ');return this.fl()},archive_item:function(c,b,d){this.b(d=d||"");this.b('<p class="item-name"> ');this.s(this.f("url",c,b,1),c,b,0,30,62,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <a href="');e.b(e.v(e.f("url",b,d,0)));e.b('">');e.b(e.v(e.f("name",b,d,0)));e.b("</a> ")}),c.pop());this.b(" ");this.s(this.f("url",c,
b,1),c,b,1,0,0,"")||(this.b(" <span>"),this.b(this.v(this.f("name",c,b,0))),this.b("</span> "));this.b(" </p> ");this.s(this.f("__ed",c,b,1),c,b,0,125,382,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <div class="options"> <a href="#" class="button-link js-reopen"> <span class="icon-sm icon-reopen"/> ');e.b(e.v(e.f("reOpenText",b,d,0)));e.b(" </a> ");e.s(e.f("canDelete",b,d,1),b,d,0,261,360,"{{ }}")&&(e.rs(b,d,function(b,d,f){f.b(' <a href="#" class="button-link negate js-delete"> <span class="icon-sm icon-remove"/> Delete </a> ')}),
b.pop());e.b(" </div> ")}),c.pop());this.b(" ");return this.fl()},archive_items:function(c,b,d){this.b(d=d||"");this.s(this.f("empty",c,b,1),c,b,1,0,0,"")||(this.b(' <div class="clearfix"> '),this.s(this.f("section_lists",c,b,1),c,b,0,52,101,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <ul class="archive-list js-archive-items"></ul> ')}),c.pop()),this.b(" "),this.s(this.f("section_cards",c,b,1),c,b,0,138,212,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <div class="js-archive-items');e.s(e.f("__ed",
b,d,1),b,d,0,176,194,"{{ }}")&&(e.rs(b,d,function(b,d,f){f.b(" js-archived-cards")}),b.pop());e.b('"></div> ')}),c.pop()),this.b(" </div> "));this.b(" ");this.s(this.f("loading",c,b,1),c,b,0,261,298,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <div class="spinner loading"></div> ')}),c.pop());this.b(" ");this.s(this.f("empty",c,b,1),c,b,0,321,365,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <p class="empty-list">');e.b(e.v(e.f("emptyMessage",b,d,0)));e.b("</p> ")}),c.pop());this.b(" ");return this.fl()},
archived_card_options:function(c,b,d){this.b(d=d||"");this.s(this.f("__ed",c,b,1),c,b,0,9,181,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <p class="quiet" style="margin-left: 8px;"> <a href="#" class="js-reopen">');e.b(e.v(e.f("reOpenText",b,d,0)));e.b("</a> ");e.s(e.f("canDelete",b,d,1),b,d,0,117,161,"{{ }}")&&(e.rs(b,d,function(b,d,f){f.b(' - <a href="#" class="js-delete">Delete</a> ')}),b.pop());e.b(" </p> ")}),c.pop());this.b(" ");return this.fl()},atMention:function(c,b,d){this.b(d=d||"");this.b('<span class="atMention');
this.s(this.f("isMe",c,b,1),c,b,0,31,34,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(" me")}),c.pop());this.b('" title="');this.b(this.v(this.f("fullName",c,b,0)));this.b('">');this.b(this.v(this.f("atMention",c,b,0)));this.b("</span> ");return this.fl()},attachment_detail:function(c,b,d){this.b(d=d||"");this.b('<div class="window-header clearfix"> <span class="window-header-icon icon-lg icon-attachment"/> <div class="window-title"> <h2 class="window-title-text">');this.b(this.v(this.f("name",c,b,0)));
this.b('</h2> </div> </div> <div class="window-main-col"> <div class="window-module gutter clearfix"> ');this.s(this.f("date",c,b,1),c,b,0,264,310,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b('<span class="date quiet" dt="');e.b(e.v(e.f("date",b,d,0)));e.b('"></span>')}),c.pop());this.b(" ");this.s(this.f("size",c,b,1),c,b,0,329,367,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b('<span class="quiet"> - ');e.b(e.v(e.f("size",b,d,0)));e.b("</span>")}),c.pop());this.b(" ");this.s(this.f("__ed",c,b,1),c,b,
0,386,682,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <span class="block quiet"> ');e.s(e.f("isImage",b,d,1),b,d,0,426,496,"{{ }}")&&(e.rs(b,d,function(b,d,f){f.b('<a href="#" class="inline-block quiet js-make-cover">Make Cover</a> - ')}),b.pop());e.b(' <a href="');e.b(e.v(e.f("url",b,d,0)));e.b('" class="inline-block quiet js-real-link" target="_blank">View Original</a> - <a href="#" class="inline-block quiet js-delete-attachment">Delete</a> </span> ')}),c.pop());this.b(' </div> <div class="window-module center clearfix" style="margin: 16px 0 0;"> <img src="');
this.b(this.v(this.f("url",c,b,0)));this.b('"> </div> </div> ');return this.fl()},attachment_thumb:function(c,b,d){this.b(d=d||"");this.b('<a href="');this.b(this.v(this.f("url",c,b,0)));this.b('" class="attachment-thumbnail-preview ');this.s(this.f("canUseViewer",c,b,1),c,b,0,71,86,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(" js-open-viewer")}),c.pop());this.b(" ");this.s(this.f("canUseViewer",c,b,1),c,b,1,0,0,"")||this.b(" js-real-link");this.b(" ");this.s(this.f("isCover",c,b,1),c,b,0,164,202,
"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(" attachment-thumbnail-preview-is-cover")}),c.pop());this.b('" target="_blank" title="');this.b(this.v(this.f("name",c,b,0)));this.b('" ');this.s(this.f("imgSrc",c,b,1),c,b,0,260,302,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' style="background-image:url(');e.b(e.v(e.f("imgSrc",b,d,0)));e.b(');"')}),c.pop());this.b(" ");this.s(this.f("edgeColor",c,b,1),c,b,0,328,368,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' style="background-color:');e.b(e.v(e.f("edgeColor",
b,d,0)));e.b(';"')}),c.pop());this.b("> ");this.s(this.f("isKnownService",c,b,1),c,b,1,0,0,"")||(this.b(" "),this.s(this.f("ext",c,b,1),c,b,1,0,0,"")||(this.b(" "),this.s(this.f("isImage",c,b,1),c,b,1,0,0,"")||(this.b(" "),this.s(this.f("isKnownService",c,b,1),c,b,1,0,0,"")||this.b(' <span class="icon-lg icon-attachment attachment-thumbnail-preview-attachment-icon"></span> '),this.b(" ")),this.b(" ")),this.b(" "),this.s(this.f("ext",c,b,1),c,b,0,587,650,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <span class="attachment-thumbnail-preview-ext">');
e.b(e.v(e.f("ext",b,d,0)));e.b("</span> ")}),c.pop()),this.b(" "));this.b(" ");this.s(this.f("isKnownService",c,b,1),c,b,0,698,780,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <span class="attachment-thumbnail-preview-service-logo ');e.b(e.v(e.f("previewClass",b,d,0)));e.b('"></span> ')}),c.pop());this.b(' </a> <p class="attachment-thumbnail-details ');this.s(this.f("canUseViewer",c,b,1),c,b,0,861,876,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(" js-open-viewer")}),c.pop());this.b('"> <a href="');
this.b(this.v(this.f("url",c,b,0)));this.b('" class="attachment-thumbnail-details-title js-attachment-thumbnail-details ');this.s(this.f("canUseViewer",c,b,1),c,b,1,0,0,"")||this.b(" js-real-link");this.b(' " ');this.s(this.f("idName",c,b,1),c,b,0,1049,1065,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' id="');e.b(e.v(e.f("idName",b,d,0)));e.b('"')}),c.pop());this.b(' title="');this.b(this.v(this.f("name",c,b,0)));this.b('" target="_blank"> ');this.b(this.v(this.f("name",c,b,0)));this.b(" ");this.s(this.f("date",
c,b,1),c,b,0,1129,1208,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b('<span class="block quiet">Added <span class="date" dt="');e.b(e.v(e.f("date",b,d,0)));e.b('"></span></span>')}),c.pop());this.b(" ");this.s(this.f("source",c,b,1),c,b,0,1229,1253,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(" <span>");e.b(e.v(e.f("source",b,d,0)));e.b("</span>")}),c.pop());this.b(' </a> <span class="quiet attachment-thumbnail-details-options"> <a class="attachment-thumbnail-details-options-item dark-hover');this.s(this.f("doDownload",
c,b,1),c,b,0,1405,1417,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(" js-download")}),c.pop());this.b('" href="');this.b(this.v(this.f("url",c,b,0)));this.b('" target="_blank" ');this.s(this.f("doDownload",c,b,1),c,b,0,1480,1499,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b('download="');e.b(e.v(e.f("name",b,d,0)));e.b('"')}),c.pop());this.b(' > <span class="icon-sm icon-');this.b(this.v(this.f("openIconClass",c,b,0)));this.b('"></span> <span class="attachment-thumbnail-details-options-item-text">');this.b(this.v(this.f("openText",
c,b,0)));this.b("</span> </a> ");this.s(this.f("__ed",c,b,1),c,b,0,1665,2368,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <a href="#" class="attachment-thumbnail-details-options-item dark-hover hide js-make-cover"> <span class="icon-sm icon-cover"></span> <span class="attachment-thumbnail-details-options-item-text">Make Cover</span> </a> <a href="#" class="attachment-thumbnail-details-options-item dark-hover hide js-remove-cover"> <span class="icon-sm icon-cover"></span> <span class="attachment-thumbnail-details-options-item-text">Remove Cover</span> </a> <a href="#" class="attachment-thumbnail-details-options-item attachment-thumbnail-details-options-item-delete dark-hover js-confirm-delete"> <span class="icon-sm icon-close"></span> <span class="attachment-thumbnail-details-options-item-text">Delete</span> </a> ')}),
c.pop());this.b(" </span> </p> ");return this.fl()},attachment_thumb_processing:function(c,b,d){this.b(d||"");this.b('<div class="attachment-thumbnail attachment-thumbnail-processing js-attachment-thumb-processing"> <span class="spinner small"></span> Processing\u2026 </div> ');return this.fl()},attachment_type_picker:function(c,b,d){this.b(d=d||"");this.b('<div class="error js-file-too-large" style="margin: 12px 0 6px; display:none;"> ');this.s(this.f("hasLargeAttachments",c,b,1),c,b,0,104,145,"{{ }}")&&
(this.rs(c,b,function(b,d,e){e.b(" That file size exceeds the 250MB limit. ")}),c.pop());this.b(" ");this.s(this.f("hasLargeAttachments",c,b,1),c,b,1,0,0,"")||this.b(' <div class="gold-promo js-gold-promo"> That file size exceeds the 10MB limit, but if you upgrade to <span class="icon-sm icon-crown icon-color"></span> <a href="/gold">Trello Gold</a>, you can upload files up to 250MB! </div> ');this.b(' </div> <ul class="pop-over-list"> <li class="uploader"> <a class="js-trello-attachment fakefile js-fakefile" href="#">Computer</a> <form class="realfile" action="/1/card/');
this.b(this.v(this.f("id",c,b,0)));this.b('/attachments" method="post" enctype="multipart/form-data"> <input type="hidden" name="token" value="" /> <input type="hidden" name="format" value="http" /> <input type="file" name="file" class="js-attach-file" tabindex="-1" multiple=""/> </form> </li> <li> <a class="js-google-drive-attachment ');this.s(this.f("googleDriveReady",c,b,1),c,b,1,0,0,"")||this.b("disabled");this.b('" href="#">Google Drive</a> </li> <li> <a class="js-dropbox-attachment" href="#">Dropbox</a> </li> <li> <a class="js-box-attachment" href="#">Box</a> </li> <li> <a class="js-one-drive-attachment" href="#">OneDrive</a> </li> </ul> <hr> <textarea class="attachment-url js-attachment-url" placeholder="Paste any link\u2026"></textarea> <div class="button add-attachment-url js-add-attachment-url">Add</div> <hr> <p class="quiet bottom"> Tip: You can drag and drop files and links onto cards to upload them. </p> ');
return this.fl()},attachment_viewer:function(c,b,d){this.b(d||"");this.b('<div class="attachment-viewer-header js-close-viewer"> <span class="icon-lg icon-close attachment-viewer-header-close-icon"></span> </div> <div class="attachment-viewer-underlay js-close-viewer"></div> <div class="attachment-viewer-frames js-frames"></div> <div class="attachment-viewer-overlay"> <div class="attachment-viewer-frame-details js-display-frame-details"></div> </div> <a class="attachment-viewer-next-frame-btn js-show-next-frame"> <span class="icon-lg icon-rightarrow light attachment-viewer-next-frame-btn-icon"></span> </a> <a class="attachment-viewer-prev-frame-btn js-show-prev-frame"> <span class="icon-lg icon-leftarrow light attachment-viewer-prev-frame-btn-icon"></span> </a> ');
return this.fl()},attachment_viewer_frame:function(c,b,d){this.b(d=d||"");this.b('<div class="attachment-viewer-frame js-close-viewer ');this.b(this.v(this.f("directionClass",c,b,0)));this.b('" data-idAttachment="');this.b(this.v(this.f("id",c,b,0)));this.b('"> <div class="attachment-viewer-frame-preview-wrapper"> <div class="attachment-viewer-frame-preview');this.s(this.f("isImage",c,b,1),c,b,0,209,255,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(" attachment-viewer-frame-preview-image-wrapper")}),
c.pop());this.b('"> ');this.s(this.f("isImage",c,b,1),c,b,0,282,372,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <img class="attachment-viewer-frame-preview-image js-stop" src="');e.b(e.v(e.f("url",b,d,0)));e.b('" alt="');e.b(e.v(e.f("name",b,d,0)));e.b('"> ')}),c.pop());this.b(" ");this.s(this.f("isAudio",c,b,1),c,b,0,397,538,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <audio controls name="');e.b(e.v(e.f("name",b,d,0)));e.b('" class="attachment-viewer-frame-preview-audio js-stop"> <source src="');
e.b(e.v(e.f("url",b,d,0)));e.b('" type="audio/');e.b(e.v(e.f("ext",b,d,0)));e.b('"> </audio> ')}),c.pop());this.b(" ");this.s(this.f("isVideo",c,b,1),c,b,0,563,674,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <video controls name="');e.b(e.v(e.f("name",b,d,0)));e.b('" src="');e.b(e.v(e.f("url",b,d,0)));e.b('" class="attachment-viewer-frame-preview-video js-stop"> </video> ')}),c.pop());this.b(" ");this.s(this.f("isIFrameable",c,b,1),c,b,0,704,792,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <iframe class="attachment-viewer-frame-preview-iframe js-stop" src="');
e.b(e.v(e.f("url",b,d,0)));e.b('"></iframe> ')}),c.pop());this.b(" ");this.s(this.f("isPlaceholder",c,b,1),c,b,0,828,1062,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <p class="attachment-viewer-frame-preview-placeholder"> There is no preview available for this attachment. <a href="');e.b(e.v(e.f("url",b,d,0)));e.b('" class="attachment-viewer-frame-preview-placeholder-link js-real-link" target="_blank">');e.b(e.v(e.f("openText",b,d,0)));e.b("</a> </p> ")}),c.pop());this.b(" </div> </div> </div> ");
return this.fl()},attachment_viewer_frame_details:function(c,b,d){this.b(d=d||"");this.b('<div class="attachment-viewer-frame-details"> <h2 class="attachment-viewer-frame-details-title">');this.b(this.v(this.f("name",c,b,0)));this.b("</h2> <p> ");this.s(this.f("date",c,b,1),c,b,0,123,169,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b('Added <span class="date" dt="');e.b(e.v(e.f("date",b,d,0)));e.b('"></span>')}),c.pop());this.b(" ");this.s(this.f("meta",c,b,1),c,b,0,188,199,"{{ }}")&&(this.rs(c,b,function(b,
d,e){e.b(" - ");e.b(e.v(e.f("meta",b,d,0)))}),c.pop());this.b(' </p> <p> <span class="js-meta"> <a href="');this.b(this.v(this.f("url",c,b,0)));this.b('" target="_blank" ');this.s(this.f("doDownload",c,b,1),c,b,0,290,309,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b('download="');e.b(e.v(e.f("name",b,d,0)));e.b('"')}),c.pop());this.b(' > <span class="icon-sm icon-');this.b(this.v(this.f("openIconClass",c,b,0)));this.b(' light" style="margin: 0 3px 0 0"></span>');this.b(this.v(this.f("openText",c,b,0)));
this.b(" </a> ");this.s(this.f("__ed",c,b,1),c,b,0,438,1045,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <span class="js-cover-options');e.s(e.f("canMakeCover",b,d,1),b,d,1,0,0,"")||e.b(" hide");e.b('"> <span class="js-make-cover-box');e.s(e.f("isCover",b,d,1),b,d,0,552,557,"{{ }}")&&(e.rs(b,d,function(b,d,f){f.b(" hide")}),b.pop());e.b('"><a href="#" class="js-make-cover"><span class="icon-sm icon-cover light" style="margin: 0 3px 0 14px"></span>Make Cover</a></span> <span class="js-remove-cover-box');
e.s(e.f("isCover",b,d,1),b,d,1,0,0,"")||e.b(" hide");e.b('"><a href="#" class="js-remove-cover"><span class="icon-sm icon-cover light" style="margin: 0 3px 0 14px"></span>Remove Cover</a></span> </span> <a href="#" class="js-open-delete-confirm"><span class="icon-sm icon-close light" style="margin: 0 3px 0 10px"></span>');e.b(e.v(e.f("removeText",b,d,0)));e.b("</a> ")}),c.pop());this.b(' </span> <span class="js-confirm-delete hide"> Are you sure you want to <span class="lowercase">');this.b(this.v(this.f("removeText",
c,b,0)));this.b('</span>? There is no undo. <a href="#" class="js-delete" style="margin: 0 4px;">');this.b(this.v(this.f("removeText",c,b,0)));this.b(' forever.</a> <a href="#" class="js-close-delete-confirm">Never mind.</a> </span> </p> </div> ');return this.fl()},avatar_change:function(c,b,d){this.b(d=d||"");this.s(this.f("uploadedAvatarHash",c,b,1),c,b,0,23,300,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <a class="avatar-option js-use-uploaded-avatar ');e.s(e.f("avatarSource_upload",b,d,1),b,
d,0,95,101,"{{ }}")&&(e.rs(b,d,function(b,d,f){f.b("active")}),b.pop());e.b('" href="#"> <img class="pic" src="');e.b(e.v(e.f("__avatarDomain",b,d,0)));e.b("/");e.b(e.v(e.f("uploadedAvatarHash",b,d,0)));e.b('/50.png"> <span class="text"> Uploaded Picture <span class="icon-sm icon-check"/> </span> </a> <hr> ')}),c.pop());this.b(' <div class="js-grav hide"> <a class="avatar-option js-use-gravatar ');this.s(this.f("avatarSource_gravatar",c,b,1),c,b,0,417,423,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b("active")}),
c.pop());this.b('" href="#"> <img class="pic" src="https://secure.gravatar.com/avatar/');this.b(this.v(this.f("gravatarHash",c,b,0)));this.b('.png?s=50&r=PG&d=404"> <span class="text"> Gravatar <span class="icon-sm icon-check"/> </span> </a> <hr> </div> <a class="avatar-option js-no-avatar ');this.s(this.f("avatarSource_none",c,b,1),c,b,0,705,711,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b("active")}),c.pop());this.b('" href="#"> <span class="pic member"> <span class="member-initials">');this.b(this.v(this.f("initials",
c,b,0)));this.b('</span> </span> <span class="text"> Initials (no avatar) <span class="icon-sm icon-check"/> </span> </a> <hr> ');this.s(this.f("canTakePhoto",c,b,1),c,b,0,940,1094,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <a class="button-link js-take-photo" href="#" style="margin: 12px 4px 12px;"> <span class="icon-sm icon-camera"></span> Take Photo With Camera </a> <hr> ')}),c.pop());this.b(' <p class="error hide js-error"></p> <div class="uploader" style="margin: 12px 4px 8px;"> <form class="realfile" action="/1/member/');
this.b(this.v(this.f("id",c,b,0)));this.b('/avatar" method="post" enctype="multipart/form-data"> <input type="hidden" name="token" value="" /> <input type="hidden" name="format" value="http" /> <input type="file" name="file" class="js-upload-avatar" style="margin-bottom: 0;" tabindex="-1" accept="image/*;capture=camera"/> </form> <a class="button-link fakefile js-fakefile"> <span class="icon-sm icon-attachment"></span> Upload a ');this.s(this.f("uploadedAvatarHash",c,b,1),c,b,0,1660,1665,"{{ }}")&&
(this.rs(c,b,function(b,d,e){e.b(" new ")}),c.pop());this.b(" picture </a> </div> ");return this.fl()},badge:function(c,b,d){this.b(d=d||"");this.b('<span class="badge-icon icon-sm icon-');this.b(this.v(this.f("icon",c,b,0)));this.b('"></span> ');this.s(this.f("text",c,b,1),c,b,0,64,104,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b('<span class="badge-text">');e.b(e.v(e.f("text",b,d,0)));e.b("</span>")}),c.pop());this.b(" ");return this.fl()},billing:function(c,b,d){this.b(d=d||"");this.b('<div class="window-module gutter"> ');
this.s(this.f("activeAccount",c,b,1),c,b,0,53,812,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(" ");e.s(e.f("problemAccount",b,d,1),b,d,1,0,0,"")||(e.b(' <p class="bc-active-status active'),e.s(e.f("processingAccount",b,d,1),b,d,0,129,137,"{{ }}")&&(e.rs(b,d,function(b,d,f){f.b(" warning")}),b.pop()),e.b('"> <span class="icon-lg icon-'),e.b(e.v(e.f("productIconClass",b,d,0))),e.b('"/>'),e.b(e.v(e.f("productName",b,d,0))),e.b(" is "),e.s(e.f("processingAccount",b,d,1),b,d,0,252,258,"{{ }}")&&(e.rs(b,
d,function(b,d,f){f.b("ALMOST")}),b.pop()),e.b(" active! </p> "),e.s(e.f("processingAccount",b,d,1),b,d,0,316,400,"{{ }}")&&(e.rs(b,d,function(b,d,f){f.b('<p class="quiet" style="margin-left: 46px;">Your credit card is being processed.</p>')}),b.pop()),e.b(" "));e.b(" ");e.s(e.f("problemAccount",b,d,1),b,d,0,462,792,"{{ }}")&&(e.rs(b,d,function(b,d,f){f.b(' <p class="bc-active-status error"> <span class="icon-lg icon-');f.b(f.v(f.f("productIconClass",b,d,0)));f.b("\"/>There's an issue with ");f.b(f.v(f.f("productName",
b,d,0)));f.b('! </p> <a class="emphasis-button js-resolve-billing-issue" href="');f.b(f.v(f.f("urlBase",b,d,0)));f.b('/billing/card">You are overdue and we are having trouble processing your credit card. Enter a credit card to resolve the issue.</a> ')}),b.pop());e.b(" ")}),c.pop());this.b(" ");this.s(this.f("cancelledAccount",c,b,1),c,b,0,852,1270,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(" ");e.s(e.f("processingReactivation",b,d,1),b,d,1,0,0,"")||(e.b(' <p class="bc-active-status error"> <span class="icon-lg icon-'),
e.b(e.v(e.f("productIconClass",b,d,0))),e.b('"/>'),e.b(e.v(e.f("productName",b,d,0))),e.b(" is cancelled. </p> "));e.b(" ");e.s(e.f("processingReactivation",b,d,1),b,d,0,1055,1242,"{{ }}")&&(e.rs(b,d,function(b,d,f){f.b(' <p class="bc-active-status warning"> <span class="icon-lg icon-');f.b(f.v(f.f("productIconClass",b,d,0)));f.b('"/>Your account is being processed for reactivation. </p> <p class="quiet center">Check back soon!</p> ')}),b.pop());e.b(" ")}),c.pop());this.b(" ");this.s(this.f("needCC",
c,b,1),c,b,0,1303,1561,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <p class="bc-active-status error"> <span class="icon-lg icon-');e.b(e.v(e.f("productIconClass",b,d,0)));e.b('"/>');e.b(e.v(e.f("productName",b,d,0)));e.b(' is NOT active! </p> <a class="emphasis-button js-enter-new-credit-card" href="');e.b(e.v(e.f("urlBase",b,d,0)));e.b('/billing/card">Enter a credit card to activate ');e.b(e.v(e.f("productName",b,d,0)));e.b(".</a> ")}),c.pop());this.b(" </div> ");this.s(this.f("activeAccount",c,
b,1),c,b,0,1598,3108,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <div class="window-module center"> <div class="gutter"> ');e.s(e.f("willExpire",b,d,1),b,d,1,0,0,"")||(e.b(" "),e.s(e.f("paidAccount_cardType",b,d,1),b,d,0,1696,2273,"{{ }}")&&(e.rs(b,d,function(b,d,f){f.b(" ");f.s(f.f("nextChargeAmount",b,d,1),b,d,0,1718,1888,"{{ }}")&&(f.rs(b,d,function(b,d,f){f.b(" ");f.s(f.f("nextBillingDate",b,d,1),b,d,0,1739,1867,"{{ }}")&&(f.rs(b,d,function(b,d,f){f.b(' <p class="next-charge"> You will be billed <strong>');
f.b(f.v(f.f("nextChargeAmount",b,d,0)));f.b("</strong> on <strong>");f.b(f.v(f.f("nextBillingDate",b,d,0)));f.b("</strong>. </p> ")}),b.pop());f.b(" ")}),b.pop());f.b(" ");f.s(f.f("billedMonthly",b,d,1),b,d,0,1928,2254,"{{ }}")&&(f.rs(b,d,function(b,d,f){f.b(" ");f.s(f.f("yearlyIsDiscount",b,d,1),b,d,0,1950,2232,"{{ }}")&&(f.rs(b,d,function(b,d,f){f.b(' <p> <a href="#" class="button-link inline-block js-switch-to-yearly-billing" style="padding-left: 24px; padding-right: 24px;"> Switch to Yearly Billing! </a> </p> <p> Yearly billing is ');
f.b(f.v(f.f("yearlyPrice",b,d,0)));f.b(" per year. <br> That\u2019s ");f.b(f.v(f.f("yearlyDiscount",b,d,0)));f.b(" less compared to monthly billing! </p> ")}),b.pop());f.b(" ")}),b.pop());f.b(" ")}),b.pop()),e.b(" "),e.s(e.f("paidAccount_cardType",b,d,1),b,d,1,0,0,"")||(e.b(' <p class="next-charge"> Your credits will expire on <strong>'),e.b(e.v(e.f("nextBillingDate",b,d,0))),e.b('</strong>. </p> <p> <a href="'),e.b(e.v(e.f("changeCardUrl",b,d,0))),e.b('" class="button-link inline-block js-change-cc" style="padding-left: 24px; padding-right: 24px;"> Add Billing Information </a> </p> <p> Keep using Trello in style, even after your credits expire! </p> ')),
e.b(" "));e.b(" ");e.s(e.f("willExpire",b,d,1),b,d,0,2708,3078,"{{ }}")&&(e.rs(b,d,function(b,d,f){f.b(' <p class="quiet"> You\'ve cancelled ');f.b(f.v(f.f("productName",b,d,0)));f.b(", but you can use the premium features until <strong>");f.b(f.v(f.f("expirationDate",b,d,0)));f.b('</strong>. </p> <p> <a href="#" class="button-link inline-block js-renew" style="padding-left: 24px; padding-right: 24px;"> Renew Your Subscription? </a> </p> <p class="quiet"> When you renew, you won\'t be charged until the date listed above. </p> ')}),
b.pop());e.b(" </div> </div> ")}),c.pop());this.b(" ");this.s(this.f("cancelledAccount",c,b,1),c,b,0,3148,3688,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(" ");e.s(e.f("processingReactivation",b,d,1),b,d,1,0,0,"")||(e.b(' <div class="window-module"> <div class="window-module-title"> <h3>Reactivate '),e.b(e.v(e.f("productName",b,d,0))),e.b('</h3> </div> <div class="gutter"> <div class="billing-option-buttons clearfix"> <a href="#" class="js-reactivate-monthly"> <span class="name">Charge Monthly</span> <span class="price">'),
e.b(e.v(e.f("monthlyPrice",b,d,0))),e.b(' per month</span> </a> <a href="#" class="js-reactivate-yearly"> <span class="name">Charge Yearly (Save!)</span> <span class="price">'),e.b(e.v(e.f("yearlyPrice",b,d,0))),e.b(" per year</span> </a> </div> </div> </div> "));e.b(" ")}),c.pop());this.b(" ");this.s(this.f("paidAccount_cardType",c,b,1),c,b,0,3735,4504,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <div class="window-module"> <div class="window-module-title"> <h3>Billing Contact</h3> </div> <div class="gutter"> <p> ');
e.b(e.v(e.f("paidAccount_contactFullName",b,d,0)));e.b(" - ");e.b(e.v(e.f("paidAccount_contactEmail",b,d,0)));e.b(' <a class="quiet js-change-billing-contact" href="#" style="margin-left: 8px;">Change</a> </p> </div> </div> ');e.s(e.f("activeAccount",b,d,1),b,d,0,4044,4485,"{{ }}")&&(e.rs(b,d,function(b,d,f){f.b(' <div class="window-module"> <div class="window-module-title"> <h3 class="inline">Payment Method</h3> <p class="inline quiet" style="margin-left: 4px;"> Account standing: ');f.b(f.v(f.f("accountStandingDisplay",
b,d,0)));f.b(' </p> </div> <div class="gutter"> <p> ');f.b(f.v(f.f("paidAccount_cardType",b,d,0)));f.b("<br /> ");f.b(f.v(f.f("paidAccount_cardName",b,d,0)));f.b("<br /> \u2022\u2022\u2022\u2022 \u2022\u2022\u2022\u2022 \u2022\u2022\u2022\u2022 ");f.b(f.v(f.f("paidAccount_cardLast4",b,d,0)));f.b('<br /> <a class="quiet js-change-cc" href="');f.b(f.v(f.f("changeCardUrl",b,d,0)));f.b('">Change credit card</a> </p> </div> </div> ')}),b.pop());e.b(" ")}),c.pop());this.b(' <div class="window-module"> <div class="window-module-title"> <h3>Billing History</h3> </div> <div id="billing-statement" class="gutter js-billing-activity"> <div class="spinner loading" /> </div> </div> ');
this.s(this.f("activeAccount",c,b,1),c,b,0,4752,6452,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(" ");e.s(e.f("willExpire",b,d,1),b,d,1,0,0,"")||(e.b(' <div class="window-module gutter"> <a href="#" class="quiet dark-hover js-start-cancel"><span class="icon-sm icon-close"/>Cancel '),e.b(e.v(e.f("productName",b,d,0))),e.b('\u2026</a> <div class="js-cancel-feedback hide"> <p> Thanks for trying '),e.b(e.v(e.f("productName",b,d,0))),e.b(". We're sorry to see you go. </p> <p>Clicking the button below will cancel your subscription and you will not be billed again. Of course, we'll keep your data safe and your account will remain usable. If you'd like, you can reinstate "),
e.b(e.v(e.f("productName",b,d,0))),e.b(" at any time by re-entering your credit card information. </p> <p> We're working hard to make Trello better every day and would really appreciate any feedback you have on "),e.b(e.v(e.f("productName",b,d,0))),e.b('. </p> <p> <b>Please let us know why you are cancelling\u2026</b> </p> <div class="js-random-reasons"> <label><input name="why" type="radio" value="missing functionality"> It\'s missing functionality </label> <label><input name="why" type="radio" value="not using it"> I\'m not using it </label> <label><input name="why" type="radio" value="too expensive"> It\'s too expensive </label> </div> <label><input name="why" type="radio" value="other"> Other </label> <textarea class="js-long-feedback hide" placeholder="Tell us more\u2026"></textarea> <div> <input type="submit" class="button js-cancel" value="Cancel '),
e.b(e.v(e.f("productName",b,d,0))),e.b('"> <a href="#" class="quiet js-cancel-cancel">Never Mind</a> </div> </div> <div class="js-cancelled hide"> <p> <b>Your '),e.b(e.v(e.f("productName",b,d,0))),e.b(" subscription has been cancelled.</b> </p> <p> We'll keep your data safe and your account will remain usable. If you'd like, you can reinstate "),e.b(e.v(e.f("productName",b,d,0))),e.b(" at any time by re-entering your credit card information. </p> <p>-The Trello Team</p> </div> </div> "));e.b(" ")}),
c.pop());this.b(" ");return this.fl()},billing_contact:function(c,b,d){this.b(d||"");this.b('<div class="error" style="display:hidden"></div> <form> <label for="billingContactFullName">Name:</label> <input name="billingContactFullName" type="text" id="billingContactFullName" class="text" value="');this.b(this.v(this.f("billingFullName",c,b,0)));this.b('" maxlength="50"> <label for="billingContactEmail">Email:</label> <input name="billingContactEmail" type="text" id="billingContactEmail" class="text" value="');
this.b(this.v(this.f("billingEmail",c,b,0)));this.b('"> <input type="submit" value="Save" class="primary js-submit"> </form> ');return this.fl()},billing_statement:function(c,b,d){this.b(d=d||"");this.s(this.f("statement",c,b,1),c,b,0,14,652,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(" <div> <p> <strong>");e.b(e.v(e.f("date",b,d,0)));e.b("</strong> - ");e.b(e.v(e.f("item",b,d,0)));e.b(' </p> <p style="text-align:right;"> ');e.s(e.f("return",b,d,1),b,d,0,108,252,"{{ }}")&&(e.rs(b,d,function(b,d,f){f.b(" Credited: $");
f.b(f.v(f.f("return",b,d,0)));f.b(" ");f.s(f.f("statementUrl",b,d,1),b,d,0,148,234,"{{ }}")&&(f.rs(b,d,function(b,d,f){f.b('- <a href="');f.b(f.v(f.f("statementUrl",b,d,0)));f.b('" class="js-view-statement-pdf" target="_blank">Receipt</a>')}),b.pop());f.b(" ")}),b.pop());e.b(" ");e.s(e.f("credit",b,d,1),b,d,0,275,415,"{{ }}")&&(e.rs(b,d,function(b,d,f){f.b(" Paid: $");f.b(f.v(f.f("credit",b,d,0)));f.b(" ");f.s(f.f("statementUrl",b,d,1),b,d,0,311,397,"{{ }}")&&(f.rs(b,d,function(b,d,f){f.b('- <a href="');
f.b(f.v(f.f("statementUrl",b,d,0)));f.b('" class="js-view-statement-pdf" target="_blank">Receipt</a>')}),b.pop());f.b(" ")}),b.pop());e.b(" ");e.s(e.f("debit",b,d,1),b,d,0,437,578,"{{ }}")&&(e.rs(b,d,function(b,d,f){f.b(" Billed: $");f.b(f.v(f.f("debit",b,d,0)));f.b(" ");f.s(f.f("statementUrl",b,d,1),b,d,0,474,560,"{{ }}")&&(f.rs(b,d,function(b,d,f){f.b('- <a href="');f.b(f.v(f.f("statementUrl",b,d,0)));f.b('" class="js-view-statement-pdf" target="_blank">Invoice</a>')}),b.pop());f.b(" ")}),b.pop());
e.b(" ");e.s(e.f("refund",b,d,1),b,d,0,600,623,"{{ }}")&&(e.rs(b,d,function(b,d,f){f.b(" Refunded: $");f.b(f.v(f.f("refund",b,d,0)));f.b(" ")}),b.pop());e.b(" </p> </div> <hr> ")}),c.pop());this.b(" ");return this.fl()},board:function(c,b,d){this.b(d=d||"");this.b('<div class="board-header clearfix js-board-header"></div> <a href="#" class="sidebar-show-btn dark-hover js-show-sidebar"> <span class="icon-sm icon-leftarrow"/> <span class="text">Show sidebar</span> </a> <div class="board-widgets"></div> <div class="board-canvas"> <div id="board" class="clearfix');
this.s(this.f("__ed",c,b,1),c,b,1,0,0,"")||this.b(" permission-public");this.b('"> <div class="list-area-wrapper fancy-scrollbar"> <div class="list-area ');this.s(this.f("__ed",c,b,1),c,b,0,416,434,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(" js-list-sortable ")}),c.pop());this.b(' js-no-higher-edits clearfix"></div> </div> <div class="bottom-archive-dropzone js-bottom-archive-dropzone"></div> </div> </div> ');return this.fl()},board_activity:function(c,b,d){this.b(d||"");this.b('<div class="window-header clearfix"> <span class="window-header-icon icon-lg icon-activity"/> <div class="window-title"> <h2 class="window-title-text"> Board Activity </h2> </div> </div> <div class="window-main-col"> <div class="list-activity"></div> <a class="show-more js-more-actions" href="#">Load More Activity</a> </div> ');
return this.fl()},board_archive:function(c,b,d){this.b(d||"");this.b('<div class="archive-controls clearfix"> <div class="archive-search search-with-spinner"> <input class="js-search js-autofocus" type="text" placeholder="Search archived cards"> <div class="spinner small hide js-search-loading"></div> </div> <a class="archive-switch quiet-button js-switch-section" href="#">Switch to <span class="js-new-section"></span>.</a> </div> <div class="js-archive-content"> ');this.b(this.t(this.f("content",
c,b,0)));this.b(" </div> ");return this.fl()},board_background_options:function(c,b,d){this.b(d=d||"");this.b('<p class="bold quiet">Display Type</p> <ul class="pop-over-list"> <li> <a href="#" class="js-select-option" data-background-display-type="cover"> Cover ');this.s(this.f("tile",c,b,1),c,b,1,0,0,"")||this.b(' <span class="icon-sm icon-check"></span> ');this.b(' </a> </li> <li> <a href="#" class="js-select-option" data-background-display-type="tile"> Tile ');this.s(this.f("tile",c,b,1),c,b,
0,317,359,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <span class="icon-sm icon-check"></span> ')}),c.pop());this.b(' </a> </li> </ul> <hr> <p class="bold quiet">Board Text</p> <ul class="pop-over-list"> <li> <a href="#" class="js-select-option" data-board-brightness="dark"> Light ');this.s(this.f("brightnessDark",c,b,1),c,b,0,552,594,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <span class="icon-sm icon-check"></span> ')}),c.pop());this.b(' </a> </li> <li> <a href="#" class="js-select-option" data-board-brightness="light"> Dark ');
this.s(this.f("brightnessLight",c,b,1),c,b,0,723,765,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <span class="icon-sm icon-check"></span> ')}),c.pop());this.b(' </a> </li> </ul> <hr> <a href="#" class="quiet-button js-delete-background">Delete background.</a> ');return this.fl()},board_background_selection:function(c,b,d){this.b(d=d||"");this.b('<span class="background-box ');this.s(this.f("pending",c,b,1),c,b,0,40,67,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b("background-box-unselectable")}),c.pop());
this.s(this.f("tile",c,b,1),c,b,0,88,104,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(" background-tile")}),c.pop());this.b('" style=" ');this.s(this.f("backgroundImageThumbnail",c,b,1),c,b,0,152,215,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b("background-image: url(&quot;");e.b(e.v(e.f("backgroundImageThumbnail",b,d,0)));e.b("&quot;)")}),c.pop());this.b("; ");this.s(this.f("color",c,b,1),c,b,0,256,284,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b("background-color: ");e.b(e.v(e.f("color",b,d,0)));e.b(";")}),
c.pop());this.b(' "> ');this.s(this.f("attribution",c,b,1),c,b,0,314,663,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <a class="background-option js-background-attribution" href="');e.b(e.v(e.f("url",b,d,0)));e.b('" target="_blank" title="');e.b(e.v(e.f("url",b,d,0)));e.b('"> <img src="https://d2k1ftgv7pobq7.cloudfront.net/images/d906fe5c1274c56c5571d49705547587/cc.png" style="height: 14px; width: 14px; vertical-align: text-top;" title="');e.b(e.v(e.f("license",b,d,0)));e.b('"/> <span class="text" style="margin-left: 2px;">');
e.b(e.v(e.f("name",b,d,0)));e.b("</span> </a> ")}),c.pop());this.b(" ");this.s(this.f("id",c,b,1),c,b,0,687,846,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <a class="background-option js-options"> <span class="icon-sm icon-menu light" style="vertical-align: bottom;"></span> <span class="text">Options</span> </a> ')}),c.pop());this.b(" ");this.s(this.f("error",c,b,1),c,b,0,864,940,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <span class="background-info"> <span class="text">');e.b(e.v(e.f("error",
b,d,0)));e.b("</span> </span> ")}),c.pop());this.b(" ");this.s(this.f("pending",c,b,1),c,b,0,963,1108,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <span class="background-info"> <span class="spinner small left" style="margin-right: 4px;"></span> <span class="text">Uploading\u2026</span> </span> ')}),c.pop());this.b(" </span> ");return this.fl()},board_change_background:function(c,b,d){this.b(d||"");this.b('<div class="board-backgrounds-list clearfix js-default-list"></div> <h2 class="clear">Photos</h2> <div class="board-backgrounds-list relative clearfix js-gold-photos-list');
this.s(this.f("enabled_additionalBackgrounds",c,b,1),c,b,1,0,0,"")||this.b(" disabled");this.b('"></div> <h2 class="clear">Patterns and Textures</h2> <div class="board-backgrounds-list relative clearfix js-gold-patterns-list');this.s(this.f("enabled_additionalBackgrounds",c,b,1),c,b,1,0,0,"")||this.b(" disabled");this.b('"></div> <h2 class="clear">Custom</h2> <div class="board-backgrounds-list relative clearfix js-custom-list');this.s(this.f("enabled_customBoardBackgrounds",c,b,1),c,b,1,0,0,"")||
this.b(" disabled");this.b('"> <div class="board-background-select board-background-select-upload js-uploader"> <form action="/1/member/');this.b(this.v(this.f("idMember",c,b,0)));this.b('/customBoardBackgrounds" method="post" enctype="multipart/form-data"> <input type="hidden" name="token" value="" /> <input type="hidden" name="format" value="http" /> <span class="background-box"> <span class="icon-lg icon-add"></span> </span> <input type="file" name="file" class="upload-background js-upload-image" multiple="multiple" accept="image/*" /> </form> </div> </div> ');
return this.fl()},board_closed:function(c,b,d){this.b(d=d||"");this.b('<div class="big-message quiet"> <h1> ');this.b(this.v(this.f("name",c,b,0)));this.b(" is closed. </h1> ");this.s(this.f("__own",c,b,1),c,b,0,73,145,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <p> <a href="#" class="js-reopen"> Click here to re-open it. </a> </p> ')}),c.pop());this.b(" ");this.s(this.f("__own",c,b,1),c,b,1,0,0,"")||(this.b(" "),this.s(this.f("__ed",c,b,1),c,b,0,176,263,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(" <p> You\u2019re a member of this board, but only board admins are able to re-open it. </p> ")}),
c.pop()),this.b(" "));this.b(" </div> ");return this.fl()},board_desc:function(c,b,d){this.b(d=d||"");this.b('<div class="window-header clearfix"> <span class="window-header-icon icon-lg icon-board"/> <div class="window-title non-empty inline ');this.s(this.f("__own",c,b,1),c,b,0,143,153,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(" editable ")}),c.pop());this.b(' " attr="name"> <h2 class="window-title-text current hide-on-edit"> ');this.b(this.v(this.f("name",c,b,0)));this.b(" </h2> ");this.s(this.f("__own",
c,b,1),c,b,0,256,529,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(" <p class=\"edits-warning quiet\">You have unsaved edits on this field. <a href='#' class='js-view-edits'>View edits</a> or <a href='#' class='js-discard-edits'>discard</a>.</p> <div class=\"edit edit-heavy\"> <textarea type=\"text\" class=\"field single-line\"></textarea> </div> ")}),c.pop());this.b(' </div> </div> <div class="window-main-col"> <div class="board-description clearfix');this.s(this.f("__ed",c,b,1),c,b,0,631,640,"{{ }}")&&
(this.rs(c,b,function(b,d,e){e.b(" editable")}),c.pop());this.b('" attr="desc"> <div class="current markeddown hide-on-edit bottom"> ');this.s(this.f("hasDesc",c,b,1),c,b,1,0,0,"")||(this.b(' <p class="bottom"> '),this.s(this.f("__ed",c,b,1),c,b,0,758,850,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b('<a class=\'quiet empty\' style="padding: 100px 0;" href="#">No description. Click to edit.</a>')}),c.pop()),this.b(" "),this.s(this.f("__ed",c,b,1),c,b,1,0,0,"")||this.b("<span class='quiet empty' style=\"padding: 100px 0;\">No description.</span>"),
this.b(" </p> "));this.b(" </div> ");this.s(this.f("__ed",c,b,1),c,b,0,987,1540,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(" ");e.s(e.f("hasDesc",b,d,1),b,d,0,1E3,1155,"{{ }}")&&(e.rs(b,d,function(b,d,f){f.b(' <p class="bottom js-edit-desc"> <a class="quiet-button hide-on-edit w-img" href="#"><span class="icon-sm icon-edit"/>Edit the board description.</a> </p> ')}),b.pop());e.b(' <p class="edits-warning quiet">You have unsaved edits on this field. <a href=\'#\' class=\'js-view-edits\'>View edits</a> or <a href=\'#\' class=\'js-discard-edits\'>discard</a>.</p> <div class="board-description-edit edit"> <p class="helper"><a href="http://daringfireball.net/projects/markdown/syntax" target="_blank">Markdown</a> accepted</p> <textarea class="field" /> </div> ')}),
c.pop());this.b(" </div> </div> ");return this.fl()},board_header:function(c,b,d){this.b(d=d||"");this.b('<a href="#" class="board-header-btn board-header-btn-name');this.s(this.f("canRename",c,b,1),c,b,0,71,87,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(" js-rename-board")}),c.pop());this.s(this.f("canRename",c,b,1),c,b,1,0,0,"")||this.b(" no-edit");this.s(this.f("orgLogoUrl",c,b,1),c,b,0,152,188,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(" board-header-btn-name-with-org-logo")}),c.pop());this.b('" ');
this.s(this.f("canRename",c,b,1),c,b,0,219,245,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' title="Rename the board."')}),c.pop());this.b("> ");this.s(this.f("orgLogoUrl",c,b,1),c,b,0,276,373,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <img class="board-header-btn-name-org-logo" src="');e.b(e.v(e.f("orgLogoUrl",b,d,0)));e.b('" alt="');e.b(e.v(e.f("orgDisplayName",b,d,0)));e.b(' logo"> ')}),c.pop());this.b(' <span class="board-header-btn-text"> ');this.b(this.v(this.f("name",c,b,0)));this.b(" </span> </a> ");
this.s(this.f("orgDisplayName",c,b,1),c,b,0,467,893,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <a href="/');e.b(e.v(e.f("orgName",b,d,0)));e.b('" class="board-header-btn board-header-btn-org-name js-org-name');e.s(e.f("hasBusinessClass",b,d,1),b,d,1,0,0,"")||e.b(" board-header-btn-without-icon");e.b('" title="This board is part of the ');e.b(e.v(e.f("orgDisplayName",b,d,0)));e.b(' organization"> ');e.s(e.f("hasBusinessClass",b,d,1),b,d,0,714,804,"{{ }}")&&(e.rs(b,d,function(b,d,f){f.b('<span class="board-header-btn-icon icon-sm icon-briefcase icon-briefcase-bc-color"></span>')}),
b.pop());e.b(' <span class="board-header-btn-text">');e.b(e.v(e.f("orgDisplayName",b,d,0)));e.b("</span> </a> ")}),c.pop());this.b(' <div class="board-header-btns left"> ');this.s(this.f("__loggedIn",c,b,1),c,b,0,965,1203,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <a href="#" class="board-header-btn js-star-board" title="Click to star or unstar this board. Starred boards show up at the top of your boards list."> <span class="board-header-btn-icon icon-sm icon-star js-star-board-icon"></span> </a> ')}),
c.pop());this.b(' <a href="#" class="board-header-btn hide js-open-desc js-fill-desc"> <span class="board-header-btn-icon icon-sm icon-edit"></span> </a> <a href="#" class="board-header-btn perms-btn js-change-vis" id="permission-level"></a> </div> <div class="board-header-btns right"> <a href="#" class="board-header-btn board-header-btn-filter-indicator hide js-filter-cards-indicator" title="You are filtering cards on this board. Click here to edit filter."> <span class="board-header-btn-icon icon-sm icon-filter"/> <span class="board-header-btn-text underline">Filtering is on.</span> <span class="board-header-btn-icon-close icon-sm icon-close js-filter-card-clear" title="Clear filter."/> </a> <div class="board-header-btn sub-btn hide js-board-header-subscribed" title="You are subscribed to this board. You\'ll get notifications about changes."> <span class="board-header-btn-icon icon-sm icon-follow"/> <span class="board-header-btn-text underline">Subscribed</span> </div> <a href="#" class="board-header-btn calendar-btn hide js-calendar" title="View all your cards with due dates in a calendar view."> <span class="board-header-btn-icon icon-sm icon-cal"/> <span class="board-header-btn-text underline">Calendar</span> </a> </div> ');
return this.fl()},board_header_permissions:function(c,b,d){this.b(d||"");this.b('<span class="board-header-btn-icon icon-sm icon-');this.b(this.v(this.f("permissionLevel",c,b,0)));this.b('"/> <span class="board-header-btn-text">');this.b(this.v(this.f("permText",c,b,0)));this.b("</span> ");return this.fl()},board_inline:function(c,b,d){this.b(d||"");this.b('<span>the board</span> <a href="');this.b(this.v(this.f("boardUrl",c,b,0)));this.b('" class="inline-object"> ');this.b(this.v(this.f("name",c,
b,0)));this.b(" </a> ");return this.fl()},board_labels:function(c,b,d){this.b(d=d||"");this.s(this.f("labelNames",c,b,1),c,b,0,15,1060,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <div class="relative"> <div class="card-label card-label-green"></div> <input type="text" class="js-label-title" name="green" value="');e.b(e.v(e.f("green",b,d,0)));e.b('" placeholder="No name"> </div> <div class="relative"> <div class="card-label card-label-yellow"></div> <input type="text" class="js-label-title" name="yellow" value="');
e.b(e.v(e.f("yellow",b,d,0)));e.b('" placeholder="No name"> </div> <div class="relative"> <div class="card-label card-label-orange"></div> <input type="text" class="js-label-title" name="orange" value="');e.b(e.v(e.f("orange",b,d,0)));e.b('" placeholder="No name"> </div> <div class="relative"> <div class="card-label card-label-red"></div> <input type="text" class="js-label-title" name="red" value="');e.b(e.v(e.f("red",b,d,0)));e.b('" placeholder="No name"> </div> <div class="relative"> <div class="card-label card-label-purple"></div> <input type="text" class="js-label-title" name="purple" value="');
e.b(e.v(e.f("purple",b,d,0)));e.b('" placeholder="No name"> </div> <div class="relative"> <div class="card-label card-label-blue"></div> <input type="text" class="js-label-title" name="blue" value="');e.b(e.v(e.f("blue",b,d,0)));e.b('" placeholder="No name"> </div> ')}),c.pop());this.b(' <input type="submit" class="primary wide js-save" value="Save"> ');return this.fl()},board_labels_static:function(c,b,d){this.b(d=d||"");this.s(this.f("labelNames",c,b,1),c,b,0,15,351,"{{ }}")&&(this.rs(c,b,function(b,
d,e){e.b(' <div class="labels-static"> <p class="card-label green-label"> ');e.b(e.v(e.f("green",b,d,0)));e.b(' </p> <p class="card-label yellow-label"> ');e.b(e.v(e.f("yellow",b,d,0)));e.b(' </p> <p class="card-label orange-label"> ');e.b(e.v(e.f("orange",b,d,0)));e.b(' </p> <p class="card-label red-label"> ');e.b(e.v(e.f("red",b,d,0)));e.b(' </p> <p class="card-label purple-label"> ');e.b(e.v(e.f("purple",b,d,0)));e.b(' </p> <p class="card-label blue-label"> ');e.b(e.v(e.f("blue",b,d,0)));e.b(" </p> </div> ")}),
c.pop());this.b(" ");return this.fl()},board_list:function(c,b,d){this.b(d=d||"");this.b('<div class="window-module-title window-module-title-no-divider"> <span class="icon-lg window-module-title-icon icon-');this.b(this.v(this.f("iconClass",c,b,0)));this.s(this.f("logoHash",c,b,1),c,b,0,142,155,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(" custom-image")}),c.pop());this.b('"> ');this.s(this.f("logoHash",c,b,1),c,b,0,184,259,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b('<img src="');e.b(e.v(e.f("__logoDomain",
b,d,0)));e.b("/");e.b(e.v(e.f("logoHash",b,d,0)));e.b('/30.png" alt="');e.b(e.v(e.f("displayName",b,d,0)));e.b(' logo">')}),c.pop());this.b(" </span> <h3>");this.b(this.v(this.f("title",c,b,0)));this.b("</h3> ");this.s(this.f("hasBusinessClass",c,b,1),c,b,0,321,446,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <span class="window-title-extra bc"> <span class="business-class-mark" title="Business Class Mark"/> Business Class </span> ')}),c.pop());this.b(" ");this.s(this.f("url",c,b,1),c,b,0,476,663,
"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <a class="inline-block quiet dark-hover js-view-org-profile" href="');e.b(e.v(e.f("url",b,d,0)));e.b('" style="margin: 2px 6px 0 0;"> <span class="icon-sm icon-info" style="margin-right: 2px;"></span>Overview </a> ')}),c.pop());this.b(' </div> <ul class="board-list gutter js-board-list clearfix"></ul> ');return this.fl()},board_list_item:function(c,b,d){this.b(d=d||"");this.b('<a class="js-open-board highlight-icon ');this.s(this.f("current",c,b,1),c,b,
0,51,58,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b("current")}),c.pop());this.b(" ");this.s(this.f("backgroundTile",c,b,1),c,b,0,90,95,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(" tile")}),c.pop());this.b(" ");this.s(this.f("backgroundBrightness",c,b,1),c,b,0,140,165,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(" ");e.b(e.v(e.f("backgroundBrightness",b,d,0)))}),c.pop());this.b('" href="');this.b(this.v(this.f("url",c,b,0)));this.b('" style=" ');this.s(this.f("backgroundImageThumbnail",c,b,1),c,b,0,
244,308,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b("background-image: url(&quot;");e.b(e.v(e.f("backgroundImageThumbnail",b,d,0)));e.b("&quot;);")}),c.pop());this.b(" ");this.s(this.f("backgroundColor",c,b,1),c,b,0,358,396,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b("background-color: ");e.b(e.v(e.f("backgroundColor",b,d,0)));e.b(";")}),c.pop());this.b(' " > <span class="thumbnail" style=" ');this.s(this.f("backgroundImageThumbnail",c,b,1),c,b,0,482,545,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b("background-image: url(&quot;");
e.b(e.v(e.f("backgroundImageThumbnail",b,d,0)));e.b("&quot;)")}),c.pop());this.b("; ");this.s(this.f("backgroundColor",c,b,1),c,b,0,596,634,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b("background-color: ");e.b(e.v(e.f("backgroundColor",b,d,0)));e.b(";")}),c.pop());this.b(' " ></span> <span class="fade"></span> <span class="details');this.s(this.f("orgname",c,b,1),c,b,0,725,738,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(" has-sub-name")}),c.pop());this.b('"> <span class="board-list-item-name" title="');
this.b(this.v(this.f("name",c,b,0)));this.b('">');this.b(this.v(this.f("name",c,b,0)));this.b("</span> ");this.s(this.f("orgname",c,b,1),c,b,0,833,912,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <span class="board-list-item-sub-name" title="');e.b(e.v(e.f("orgname",b,d,0)));e.b('">');e.b(e.v(e.f("orgname",b,d,0)));e.b("</span> ")}),c.pop());this.b(" ");this.s(this.f("__loggedIn",c,b,1),c,b,0,940,1167,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <span class="unread-indicator js-unread" title="There is new activity on this board."></span> <span class="icon-sm icon-star js-star-board" title="Click to star this board. It will show up at top of your boards list."></span> ')}),
c.pop());this.b(" </span> </a> ");return this.fl()},board_member_profile:function(c,b,d){this.b(d||"");this.b('<div class="window-header clearfix"> <span class="window-header-icon icon-lg icon-activity"/> <h2 class="window-title"> ');this.b(this.v(this.f("fullName",c,b,0)));this.b(' <span class="quiet" style="margin-left: 3px">(');this.b(this.v(this.f("username",c,b,0)));this.b(')</span> </h2> </div> <div class="window-main-col clearfix"> <div class="list-actions"></div> <a class="show-more js-more-actions" href="#">Load More Activity</a> </div> ');
return this.fl()},board_menu_commenting:function(c,b,d){this.b(d=d||"");this.b('<li> <a href="#" class="js-select" name="disabled"> Disabled ');this.s(this.f("comments_disabled",c,b,1),c,b,0,83,125,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <span class="icon-sm icon-check"></span> ')}),c.pop());this.b(' <span class="sub-name"> No one is allowed to comment. </span> </a> </li> <li> <a href="#" class="js-select" name="members"> Members ');this.s(this.f("comments_members",c,b,1),c,b,0,301,337,"{{ }}")&&
(this.rs(c,b,function(b,d,e){e.b(' <span class="icon-sm icon-check"/> ')}),c.pop());this.b(' <span class="sub-name"> Allow admins and normal members to comment. </span> </a> </li> <li> <a href="#" class="js-select');this.s(this.f("comments_showObservers",c,b,1),c,b,1,0,0,"")||this.b(" disabled");this.b('" name="observers"> Members and Observers ');this.s(this.f("comments_observers",c,b,1),c,b,0,607,643,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <span class="icon-sm icon-check"/> ')}),c.pop());this.b(' <span class="sub-name"> Allow admins, normal members, and observers to comment. </span> </a> </li> <li> <a href="#" class="js-select');
this.s(this.f("orgCanSee",c,b,1),c,b,1,0,0,"")||this.b(" disabled");this.b('" name="org"> Organization members ');this.s(this.f("comments_org",c,b,1),c,b,0,888,924,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <span class="icon-sm icon-check"/> ')}),c.pop());this.b(' <span class="sub-name"> Allow admins, normal members, observers, and org members to comment. </span> </a> </li> <li> <a href="#" class="js-select');this.s(this.f("permissionLevel_public",c,b,1),c,b,1,0,0,"")||this.b(" disabled");this.b('" name="public"> Public members ');
this.s(this.f("comments_public",c,b,1),c,b,0,1202,1238,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <span class="icon-sm icon-check"/> ')}),c.pop());this.b(' <span class="sub-name"> Allow any Trello member to comment. </span> </a> </li> ');return this.fl()},board_menu_email:function(c,b,d){this.b(d=d||"");this.b('<label for="boardEmail">Your email address for this board</label> <input id="boardEmail" type="text" name="boardEmail" readonly="readonly" class="non-empty js-autofocus" placeholder="Loading\u2026" value="');
this.b(this.v(this.f("email",c,b,0)));this.b('" style="margin: 4px 0 8px;"> <a href="#" class="quiet-button js-generate-address">Generate a new email address.</a> <a href="#" class="quiet-button js-send-address">Email me this address.</a> <hr> <label>Your emailed cards appear in\u2026</label> <div class="button-link setting" style="width: 163px; margin: 0 8px 8px 0;"> <span class="label">List</span> <span class="value js-list-value">');this.b(this.v(this.f("listName",c,b,0)));this.b('</span> <label>List</label> <select class="js-select-list"> ');
this.s(this.f("lists",c,b,1),c,b,0,677,765,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <option value="');e.b(e.v(e.f("id",b,d,0)));e.b('"');e.s(e.f("selected",b,d,1),b,d,0,713,733,"{{ }}")&&(e.rs(b,d,function(b,d,f){f.b(' selected="selected"')}),b.pop());e.b(">");e.b(e.v(e.f("name",b,d,0)));e.b("</option> ")}),c.pop());this.b(' </select> </div> <div class="button-link setting" style="width: 70px; margin-bottom: 8px;"> <span class="label">Position</span> <span class="value js-pos-value">');this.b(this.v(this.f("positionName",
c,b,0)));this.b('</span> <label>Position</label> <select class="js-select-position"> <option value="top"');this.s(this.f("position_top",c,b,1),c,b,0,1057,1077,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' selected="selected"')}),c.pop());this.b('>Top</option> <option value="bottom"');this.s(this.f("position_bottom",c,b,1),c,b,0,1150,1170,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' selected="selected"')}),c.pop());this.b('>Bottom</option> </select> </div> <hr> <p class="bottom quiet"> <strong>Tip:</strong> Don\'t share this email address. Anyone who has it can add cards as you. When composing emails, the card title goes in the subject and the card description in the body. <a href="http://help.trello.com/customer/portal/articles/1216141-creating-cards-by-email#formattingTips">More email formatting tips.</a> </p> ');
return this.fl()},board_menu_invitations:function(c,b,d){this.b(d=d||"");this.b('<li> <a href="#" class="js-select" name="admins"> Admins ');this.s(this.f("invitations_admins",c,b,1),c,b,0,80,116,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <span class="icon-sm icon-check"/> ')}),c.pop());this.b(' <span class="sub-name"> Allow only admins to add and invite others. </span> </a> </li> <li> <a href="#" class="js-select" name="members"> All Members ');this.s(this.f("invitations_members",c,b,1),c,b,0,
314,350,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <span class="icon-sm icon-check"/> ')}),c.pop());this.b(' <span class="sub-name"> Allow members and admins to add and invite others. </span> </a> </li> ');return this.fl()},board_menu_settings:function(c,b,d){this.b(d=d||"");this.b('<ul class="pop-over-list inset"> <li> <a class="js-rename');this.s(this.f("__own",c,b,1),c,b,1,0,0,"")||this.b(" disabled");this.b('" href="#">Rename Board\u2026</a> </li> <li> <a class="js-org');this.s(this.f("canChangeOrg",
c,b,1),c,b,1,0,0,"")||this.b(" disabled");this.b('" href="#"> ');this.s(this.f("setOrgNull",c,b,1),c,b,0,212,238,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(" Remove From Organization ")}),c.pop());this.b(" ");this.s(this.f("setOrgNull",c,b,1),c,b,1,0,0,"")||this.b(" Change Organization\u2026 ");this.b(" ");this.s(this.f("orgDisplayName",c,b,1),c,b,0,326,376,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <span class="sub-name">');e.b(e.v(e.f("orgDisplayName",b,d,0)));e.b("</span> ")}),c.pop());this.b(' </a> </li> <hr> <li> <a class="board-settings-background js-change-background');
this.s(this.f("__own",c,b,1),c,b,1,0,0,"")||this.b(" disabled");this.b('" href="#"> <span class="board-settings-background-preview" style="');this.s(this.f("backgroundImageUrl",c,b,1),c,b,0,592,638,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b("background-image: url(");e.b(e.v(e.f("backgroundImageUrl",b,d,0)));e.b(");")}),c.pop());this.s(this.f("backgroundColor",c,b,1),c,b,0,681,717,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b("background-color:");e.b(e.v(e.f("backgroundColor",b,d,0)))}),c.pop());this.b('"></span> Change Background\u2026 </a> </li> <hr> <li> <a class="');
this.s(this.f("__own",c,b,1),c,b,0,807,820,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b("js-change-vis")}),c.pop());this.s(this.f("__own",c,b,1),c,b,1,0,0,"")||this.b(" disabled");this.b('" href="#"> Change Visibility\u2026 <span class="sub-name"><span class="icon-sm icon-');this.b(this.v(this.f("pLevelClass",c,b,0)));this.b('"/> ');this.b(this.v(this.f("visDisplay",c,b,0)));this.b('</span> </a> </li> <hr> <li> <a class="');this.s(this.f("__own",c,b,1),c,b,0,1021,1037,"{{ }}")&&(this.rs(c,b,function(b,
d,e){e.b("js-toggle-covers")}),c.pop());this.s(this.f("__own",c,b,1),c,b,1,0,0,"")||this.b(" disabled");this.b('" href="#"> ');this.s(this.f("cardCovers",c,b,1),c,b,1,0,0,"")||this.b(" Enable Card Cover Images ");this.b(" ");this.s(this.f("cardCovers",c,b,1),c,b,0,1160,1222,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' Card Cover Images Enabled <span class="icon-sm icon-check"/> ')}),c.pop());this.b(' <span class="sub-name">Show images on front of cards.</span> </a> </li> <hr> <li> <a class="');this.s(this.f("__own",
c,b,1),c,b,0,1340,1358,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b("js-change-comments")}),c.pop());this.s(this.f("__own",c,b,1),c,b,1,0,0,"")||this.b(" disabled");this.b('" href="#"> Commenting Permissions\u2026 <span class="sub-name">');this.b(this.v(this.f("commentsDisplay",c,b,0)));this.b('</span> </a> </li> <li> <a class="');this.s(this.f("__own",c,b,1),c,b,0,1519,1540,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b("js-change-add-members")}),c.pop());this.s(this.f("__own",c,b,1),c,b,1,0,0,"")||this.b(" disabled");
this.b('" href="#"> Invitations Permissions\u2026 <span class="sub-name">');this.b(this.v(this.f("invitationsDisplay",c,b,0)));this.b('</span> </a> </li> <hr> <li> <a class=" ');this.s(this.f("__own",c,b,1),c,b,0,1711,1735,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(" js-toggle-org-mem-join ")}),c.pop());this.b(" ");this.s(this.f("__own",c,b,1),c,b,1,0,0,"")||this.b(" disabled ");this.b(" ");this.s(this.f("hasOrg",c,b,1),c,b,1,0,0,"")||this.b(" disabled ");this.b(" ");this.s(this.f("permissionLevel_private",
c,b,1),c,b,0,1838,1848,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(" disabled ")}),c.pop());this.b(' " href="#"> Allow Org Members to Join ');this.s(this.f("selfJoin_true",c,b,1),c,b,0,1933,1969,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <span class="icon-sm icon-check"/> ')}),c.pop());this.b(' <span class="sub-name"> Any org member can join this board without being invited. ');this.s(this.f("hasOrg",c,b,1),c,b,1,0,0,"")||this.b(" To enable this, the board has to be a part of an org. ");this.b(" ");
this.s(this.f("permissionLevel_private",c,b,1),c,b,0,2176,2221,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(" To enable this, the board can't be private. ")}),c.pop());this.b(" </span> </a> </li> </ul> ");this.s(this.f("__ed",c,b,1),c,b,0,2284,2445,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <hr style="margin-bottom: 8px;"> <h3 style="margin: 12px 0;">Edit label names</h3> <form class="edit-labels js-edit-labels clearfix"> ');e.b(e.rp("board_labels",b,d,""));e.b(" </form> ")}),c.pop());this.b(" ");
return this.fl()},board_menu_subscribed_state:function(c,b,d){this.b(d=d||"");this.b("Subscribe");this.s(this.f("subscribed",c,b,1),c,b,0,24,60,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b('d <span class="icon-sm icon-check"/>')}),c.pop());this.b(" ");return this.fl()},board_menu_vis:function(c,b,d){this.b(d=d||"");this.s(this.f("explanationText",c,b,1),c,b,0,20,64,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <p class="quiet"> ');e.b(e.v(e.f("explanationText",b,d,0)));e.b(" </p> ")}),c.pop());this.b(' <li> <a class="js-select');
this.s(this.f("disabledVis_private",c,b,1),c,b,1,0,0,"")||this.b(" light-hover");this.b(" ");this.s(this.f("disabledVis_private",c,b,1),c,b,0,194,203,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(" disabled")}),c.pop());this.b(' " href="#" name="private"> <span class="icon-sm icon-');this.b(this.v(this.f("iconClass_private",c,b,0)));this.b(' vis-icon"/> Private ');this.s(this.f("permissionLevel_private",c,b,1),c,b,0,351,387,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <span class="icon-sm icon-check"/> ')}),
c.pop());this.b(' <span class="sub-name"> ');this.b(this.v(this.f("permText_private",c,b,0)));this.b(" ");this.s(this.f("showVisRestriction_private",c,b,1),c,b,0,492,543,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <span class="error">');e.b(e.v(e.f("visRestrictionText",b,d,0)));e.b("</span> ")}),c.pop());this.b(' </span> </a> </li> <li> <a class="js-select ');this.s(this.f("disabledVis_org",c,b,1),c,b,1,0,0,"")||this.b(" light-hover");this.b(" ");this.s(this.f("disabledVis_org",c,b,1),c,b,0,692,
701,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(" disabled")}),c.pop());this.b(' " href="#" name="org"> <span class="icon-sm icon-');this.b(this.v(this.f("iconClass_org",c,b,0)));this.b(' vis-icon"/> Organization ');this.s(this.f("permissionLevel_org",c,b,1),c,b,0,838,874,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <span class="icon-sm icon-check"/> ')}),c.pop());this.b(' <span class="sub-name"> ');this.b(this.v(this.f("permText_org",c,b,0)));this.b(" ");this.s(this.f("disabledVis_org",c,b,1),c,b,
0,960,1062,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.s(e.f("hasOrg",b,d,1),b,d,1,0,0,"")||e.b(' <span class="error"> The board must be added to an org to enable this. </span> ')}),c.pop());this.b(" ");this.s(this.f("showVisRestriction_org",c,b,1),c,b,0,1110,1161,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <span class="error">');e.b(e.v(e.f("visRestrictionText",b,d,0)));e.b("</span> ")}),c.pop());this.b(' </span> </a> </li> <li> <a class="js-select');this.s(this.f("disabledVis_public",c,b,1),c,b,1,
0,0,"")||this.b(" light-hover");this.b(" ");this.s(this.f("disabledVis_public",c,b,1),c,b,0,1314,1323,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(" disabled")}),c.pop());this.b(' " href="#" name="public"> <span class="icon-sm icon-');this.b(this.v(this.f("iconClass_public",c,b,0)));this.b(' vis-icon"/> Public ');this.s(this.f("permissionLevel_public",c,b,1),c,b,0,1466,1502,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <span class="icon-sm icon-check"/> ')}),c.pop());this.b(' <span class="sub-name"> ');
this.b(this.v(this.f("permText_public",c,b,0)));this.b(" ");this.s(this.f("showVisRestriction_public",c,b,1),c,b,0,1604,1655,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <span class="error">');e.b(e.v(e.f("visRestrictionText",b,d,0)));e.b("</span> ")}),c.pop());this.b(" </span> </a> </li> ");return this.fl()},board_new:function(c,b,d){this.b(d=d||"");this.b('<form> <label for="boardNewTitle">Title</label> <input id="boardNewTitle" type="text" name="name" class="non-empty js-autofocus" placeholder="Untitled Board"> <div');
this.s(this.f("hideOrg",c,b,1),c,b,0,175,188,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' class="hide"')}),c.pop());this.b('> <div class="clearfix"> <label class="left" style="margin-right: 8px;">Organization</label> ');this.s(this.f("canAddToOrgs",c,b,1),c,b,0,310,383,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <a href="#" class="icon-sm icon-info dark-hover js-helper-add-org"></a> ')}),c.pop());this.b(" </div> ");this.s(this.f("canAddToOrgs",c,b,1),c,b,1,0,0,"")||this.b(' <p style="margin-bottom: 16px;" class="quiet"> Organizations make sharing and working within a group even easier. It doesn\u2019t look like you are a member of any organizations. <a href="#" class=\'js-create-org\'>Create an organization.</a> </p> ');
this.b(' <select name="org-id"');this.s(this.f("canAddToOrgs",c,b,1),c,b,1,0,0,"")||this.b(' class="hide"');this.b('> <option value="">(none)</option> ');this.s(this.f("orgs",c,b,1),c,b,0,797,883,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <option value="');e.b(e.v(e.f("id",b,d,0)));e.b('"');e.s(e.f("selectOrg",b,d,1),b,d,0,834,843,"{{ }}")&&(e.rs(b,d,function(b,d,f){f.b(" selected")}),b.pop());e.b(">");e.b(e.v(e.f("displayName",b,d,0)));e.b("</option> ")}),c.pop());this.b(' </select> </div> <input type="hidden" name="permissionLevel" value="');
this.b(this.v(this.f("pLevel",c,b,0)));this.b('"> <p class="quiet js-vis-display"/> <ul class="pop-over-list js-vis-chooser hide"/> <p class="error bottom js-no-valid-org-privs clearfix hide"> Due to<span class="js-not-admin-text"> admin</span> restrictions, you are not allowed to create new boards in this organization. To change this, <span class="js-not-admin-text">get an organization admin to </span> change the Board Creation Restrictions <span class="js-not-admin-text">on the organization\u2019s settings page.</span> <span class="js-admin-text hide">on the <a class="js-org-account-url">organization\u2019s settings page</a>.</span> </p> ');
this.s(this.f("isCopyBoard",c,b,1),c,b,0,1578,1753,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <div class="check-div clearfix" style="margin: 12px 0 6px;"> <input type="checkbox" id="idKeepCards" name="cards" checked> <label for="idKeepCards">Keep Cards</label> </div> ')}),c.pop());this.b(' <input type="submit" class="primary wide js-submit disabled" value="Create"> </form> ');return this.fl()},board_new_vis:function(c,b,d){this.b(d||"");this.b('<span class="icon-sm icon-');this.b(this.v(this.f("visIconClass",
c,b,0)));this.b('"/>This board will be <strong>');this.b(this.v(this.f("visDisplayText",c,b,0)));this.b('</strong>. <a href="#" class="js-change-vis">Change.</a> ');return this.fl()},board_observer_count:function(c,b,d){this.b(d||"");this.b('<a href="#" class="quiet-button js-show-observers" style="margin: 4px 0 0;">');this.b(this.v(this.f("count",c,b,0)));this.b("</a> ");return this.fl()},board_sidebar:function(c,b,d){this.b(d||"");this.b('<a href="#" class="sidebar-hide-btn dark-hover js-hide-sidebar" title="Close the board sidebar."> <span class="icon-sm icon-rightarrow"/> </a> <div class="board-widgets-title clearfix"> <a href="#" class="board-sidebar-back-btn js-pop-widget-view"><span class="left-arrow"/>Back</a> <h3 class="text js-widget-title"></h3> <hr> </div> <div class="board-widgets-content-wrapper"></div> <div class="sidebar-archive-dropzone js-sidebar-archive-dropzone"><p>Drop here to archive.</p></div> ');
return this.fl()},board_watchers:function(c,b,d){this.b(d=d||"");this.s(this.f("showWatchers",c,b,1),c,b,0,17,49,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(" ");e.b(e.v(e.f("nWatchers",b,d,0)));e.b(" people watching. ")}),c.pop());this.b(" ");return this.fl()},board_widget_default:function(c,b,d){this.b(d=d||"");this.b('<p class="error js-file-too-large" style="margin: 12px 0 6px; display:none;">File too large. 10mb limit.</p> <div class="board-widget board-widget-nav clearfix');this.s(this.f("collapseWidgetNav",
c,b,1),c,b,0,181,191,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(" collapsed")}),c.pop());this.b('"> <h3 class="dark-hover toggle-widget-nav js-toggle-widget-nav" title="Click here to see more board options."> Menu <span class="icon-sm icon-leftarrow toggle-menu-icon"/> </h3> <ul class="nav-list"> <hr style="margin-top: 0;"> <li> <a href="#" class="js-open-card-filter"> <span class="icon-sm icon-filter icon-type"/> Filter cards </a> </li> <li> <a href="#" class="js-open-archive"> <span class="icon-sm icon-archive icon-type"/> Archived items </a> </li> ');
this.s(this.f("__ed",c,b,1),c,b,0,682,793,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <li> <a href="#" class="js-open-stickers"> <span class="icon-sm icon-sticker icon-type"/> Stickers </a> </li> ')}),c.pop());this.b(' <li> <a href="#" class="js-open-power-ups"> <span class="icon-sm icon-rocket icon-type"/> Power-Ups </a> </li> <li> <a href="#" class="js-open-settings"> <span class="icon-sm icon-gear icon-type"/> Settings </a> </li> <hr> ');this.s(this.f("__ed",c,b,1),c,b,0,1035,1124,"{{ }}")&&(this.rs(c,
b,function(b,d,e){e.b(' <li class="sub-item"> <a href="#" class="js-email"> Email-to-board Settings\u2026 </a> </li> ')}),c.pop());this.b(" ");this.s(this.f("__loggedIn",c,b,1),c,b,0,1149,1350,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <li class="sub-item"> <a class="dark-hover js-board-subscribe" href="#"> <span class="js-subscribed-state"/> </a> </li> <li class="sub-item"> <a class="js-copy-board" href="#"> Copy Board\u2026 </a> </li> ')}),c.pop());this.b(' <li class="sub-item"> <a class="js-share" href="#"> Share, Print, and Export\u2026 </a> </li> ');
this.s(this.f("canCloseBoard",c,b,1),c,b,0,1473,1559,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <hr> <li class="sub-item"> <a class="js-close-board" href="#">Close Board\u2026</a> </li> ')}),c.pop());this.b(" ");this.s(this.f("canLeaveBoard",c,b,1),c,b,0,1596,1720,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(" ");e.s(e.f("canCloseBoard",b,d,1),b,d,1,0,0,"")||e.b(" <hr> ");e.b(' <li class="sub-item"> <a class="js-leave-board" href="#">Leave Board\u2026</a> </li> ')}),c.pop());this.b(' </ul> </div> <div class="js-ad"></div> <hr> ');
this.s(this.f("canJoin",c,b,1),c,b,0,1795,2039,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <div class="board-widget clearfix"> <a href="#" class="button js-join-board" style="margin: 0;"> Join Board </a> ');e.s(e.f("selfJoin_true",b,d,1),b,d,0,1927,2008,"{{ }}")&&(e.rs(b,d,function(b,d,f){f.b(' <p class="helper" style="margin-top: 8px;">Org members can join this board.</p> ')}),b.pop());e.b(" </div> <hr> ")}),c.pop());this.b(' <div class="board-widget board-widget-members clearfix"> <div class="board-widget-title"> <h3>Members</h3> </div> <div class="board-widget-content"> <div class="board-widget-members js-list-board-members clearfix');
this.s(this.f("__ed",c,b,1),c,b,0,2273,2305,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(" js-list-draggable-board-members")}),c.pop());this.b('"></div> <div class="js-list-observers"></div> ');this.s(this.f("canInviteMembers",c,b,1),c,b,0,2382,2505,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <a href="#" class="button-link js-open-manage-board-members"> <span class="icon-sm icon-member"></span> Add Members\u2026 </a> ')}),c.pop());this.b(' </div> </div> <hr> <div class="board-widget board-widget-activity bottom clearfix"> <div class="board-widget-title"> <h3>Activity</h3> </div> <div class="board-widget-content"> <div class="activity-gradient-t"></div> <div class="activity-gradient-b"></div> <div class="board-actions-list fancy-scrollbar"> <div class="js-sidebar-list-actions"></div> <a class="show-more js-view-all-activity-list" href="#"> View all activity\u2026 </a> </div> </div> </div> ');
return this.fl()},boards_sidebar_section:function(c,b,d){this.b(d=d||"");this.b('<p class="sidebar-section-header quiet js-sidebar-section-header"> ');this.s(this.f("isOrg",c,b,1),c,b,1,0,0,"")||(this.b(" "),this.s(this.f("title",c,b,1),c,b,0,88,228,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(" ");e.s(e.f("iconClass",b,d,1),b,d,0,103,153,"{{ }}")&&(e.rs(b,d,function(b,d,f){f.b(' <span class="icon-sm icon-');f.b(f.v(f.f("iconClass",b,d,0)));f.b('"></span> ')}),b.pop());e.b(' <span class="sidebar-section-header-title">');
e.b(e.v(e.f("title",b,d,0)));e.b("</span> ")}),c.pop()),this.b(" "));this.b(" ");this.s(this.f("isOrg",c,b,1),c,b,0,260,662,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <a class="dark-hover" href="');e.b(e.v(e.f("url",b,d,0)));e.b('"> <span class="icon-sm ');e.s(e.f("orgLogoUrl",b,d,1),b,d,1,0,0,"")||e.b("icon-org");e.s(e.f("orgLogoUrl",b,d,1),b,d,0,373,385,"{{ }}")&&(e.rs(b,d,function(b,d,f){f.b("custom-image")}),b.pop());e.b('"> ');e.s(e.f("orgLogoUrl",b,d,1),b,d,0,418,471,"{{ }}")&&(e.rs(b,d,function(b,
d,f){f.b('<img src="');f.b(f.v(f.f("orgLogoUrl",b,d,0)));f.b('" alt="');f.b(f.v(f.f("displayName",b,d,0)));f.b(' logo">')}),b.pop());e.b(' </span> <span class="sidebar-section-header-title">');e.b(e.v(e.f("displayName",b,d,0)));e.b('</span> <span class="icon-sm icon-briefcase icon-briefcase-bc-color hide js-has-business-class"></span> </a> ')}),c.pop());this.b(" ");this.s(this.f("sectionId",c,b,1),c,b,0,687,961,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <span class="sidebar-section-header-toggle-icon icon-sm icon-remove dark-hover js-collapse-section hide" title="Collapse section."> </span> <span class="sidebar-section-header-toggle-icon icon-sm icon-add dark-hover js-expand-section hide" title="Expand section."> </span> ')}),
c.pop());this.b(' </p> <ul class="sidebar-boards-list js-board-list"></ul> ');return this.fl()},calendar_day:function(c,b,d){this.b(d=d||"");this.b(" ");this.s(this.f("monthView",c,b,1),c,b,0,17,54,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b('<div class="calendar-day-spacer-div">')}),c.pop());this.b(' <div class="calendar-day js-expand-day ');this.s(this.f("isToday",c,b,1),c,b,0,124,129,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b("today")}),c.pop());this.b('"> <div class="day-header clearfix js-toggle-day"> <h3 class="date"> <div class=\'day-month-header\'>');
this.b(this.v(this.f("month",c,b,0)));this.b("</div> <div class='day-full-month-header'>");this.b(this.v(this.f("fullMonth",c,b,0)));this.b("</div> <div class='day-date-header'>");this.b(this.v(this.f("date",c,b,0)));this.b('</div> </h3> <div class="quiet num-cards"> <div class="day-number-header"></div> <div class="day-cards-header"></div> </div> <a class="close-button icon-sm icon-close dark-hover"></a> </div> <div class="calendar-day-list js-calendar-sortable fancy-scrollbar"></div> ');this.s(this.f("__ed",
c,b,1),c,b,0,625,696,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <a class="open-card-composer js-open-card-composer">Add a card...</a> ')}),c.pop());this.b(" </div> ");this.s(this.f("monthView",c,b,1),c,b,0,729,735,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b("</div>")}),c.pop());this.b(" ");return this.fl()},calendar_day_list_header:function(c,b,d){this.b(d||"");this.b("<span class='calendar-list-header' name='");this.b(this.v(this.f("listID",c,b,0)));this.b('\'> <span class="icon-sm icon-list"></span>');
this.b(this.v(this.f("listName",c,b,0)));this.b(" </span> ");return this.fl()},calendar_month:function(c,b,d){this.b(d||"");this.b('<table class="calendar-table"></table> ');return this.fl()},calendar_toolbar:function(c,b,d){this.b(d=d||"");this.b('<div class="calendar-header"> <div class="calendar-header-toolbar"> <h2 class="calendar-header-toolbar-title js-calendar-header"></h2> <div class="calendar-header-toolbar-today"> <a class="button-link today-button js-today" href="#"> Today </a> </div> <div class="calendar-header-toolbar-nav"> <a class="button-link js-left-arrow left-arrow" href="#"> <span class="icon-sm icon-leftarrow"/> </a> <a class="button-link js-right-arrow right-arrow" href="#"> <span class="icon-sm icon-rightarrow"/> </a> </div> <div class="calendar-header-toolbar-close"> <a class="icon-lg icon-close dark-hover js-close-calendar" href="#" title="Close the calendar"/> </div> <div class="calendar-header-toolbar-type"> <a class="button-link js-week-view week-button" href="#"> Week </a> <a class="button-link js-month-view month-button" href="#"> Month </a> </div> </div> <div class="days-of-week"> ');
this.s(this.f("days",c,b,1),c,b,0,888,920,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <div class="quiet">');e.b(e.v(e.d(".",b,d,0)));e.b("</div> ")}),c.pop());this.b(' </div> </div> <div class="calendar-content"></div> ');return this.fl()},calendar_week:function(c,b,d){this.b(d||"");this.b("<div class='week-horizontal-canvas'></div> ");return this.fl()},cant_add_board_to_org:function(c,b,d){this.b(d=d||"");this.b('<p class="quiet"> ');this.s(this.f("organization",c,b,1),c,b,0,35,50,"{{ }}")&&(this.rs(c,
b,function(b,d,e){e.b(e.v(e.f("displayName",b,d,0)))}),c.pop());this.b(" does not allow new boards. ");this.s(this.f("isOrgAdmin",c,b,1),c,b,0,110,239,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' You can change this in the <a href="');e.b(e.v(e.f("orgSettingsUrl",b,d,0)));e.b('">organization settings</a> by clicking on "Board Creation Restrictions". ')}),c.pop());this.b(" ");this.s(this.f("isOrgAdmin",c,b,1),c,b,1,0,0,"")||this.b(' An org admin can change this on the organization settings page by clicking on "Board Creation Restrictions". ');
this.b(" </p> ");return this.fl()},cardLink:function(c,b,d){this.b(d=d||"");this.b('<a href="');this.b(this.v(this.f("url",c,b,0)));this.b('"');this.s(this.f("name",c,b,1),c,b,0,26,43,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' title="');e.b(e.v(e.f("name",b,d,0)));e.b('"')}),c.pop());this.b(">#");this.b(this.v(this.f("idShort",c,b,0)));this.b("</a> ");return this.fl()},card_composer_inline:function(c,b,d){this.b(d||"");this.b('<div class="list-card js-composer"> <div class="list-card-labels clearfix js-list-card-composer-labels"></div> <textarea class="list-card-composer-textarea js-card-title">');
this.b(this.v(this.f("title",c,b,0)));this.b('</textarea> <div class="list-card-members js-list-card-composer-members"></div> </div> <div class="cc-controls clearfix"> <input type="submit" class="primary confirm js-add-card" value="Add"> <a class="icon-lg icon-close dark-hover js-cancel" href="#"/> <a class="cc-opt icon-lg icon-menu dark-hover js-cc-menu" href="#"/> </div> ');return this.fl()},card_copy:function(c,b,d){this.b(d=d||"");this.s(this.f("loading",c,b,1),c,b,0,12,73,"{{ }}")&&(this.rs(c,
b,function(b,d,e){e.b(' <div class="spinner loading js-loading-card-actions"></div> ')}),c.pop());this.b(" ");this.s(this.f("loading",c,b,1),c,b,1,0,0,"")||(this.b(' <form> <label>Title</label> <textarea name="name" class="js-autofocus" style="margin-bottom: 12px;">'),this.b(this.v(this.f("name",c,b,0))),this.b("</textarea> "),this.s(this.f("hasStuff",c,b,1),c,b,0,232,1703,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <p style="margin-bottom: 4px;"><strong>Keep\u2026</strong></p> ');e.s(e.f("hasChecklists",
b,d,1),b,d,0,309,518,"{{ }}")&&(e.rs(b,d,function(b,d,f){f.b(' <div class="check-div clearfix"> <input id="idKeepChecklists" type="checkbox" name="checklists" checked> <label for="idKeepChecklists">Checklists <span class="quiet">(');f.b(f.v(f.f("numChecklists",b,d,0)));f.b(")</span></label> </div> ")}),b.pop());e.b(" ");e.s(e.f("hasLabels",b,d,1),b,d,0,551,740,"{{ }}")&&(e.rs(b,d,function(b,d,f){f.b(' <div class="check-div clearfix"> <input id="idKeepLabels" type="checkbox" name="labels" checked> <label for="idKeepLabels">Labels <span class="quiet">(');
f.b(f.v(f.f("numLabels",b,d,0)));f.b(")</span></label> </div> ")}),b.pop());e.b(" ");e.s(e.f("hasMembers",b,d,1),b,d,0,770,964,"{{ }}")&&(e.rs(b,d,function(b,d,f){f.b(' <div class="check-div clearfix"> <input id="idKeepMembers" type="checkbox" name="members" checked> <label for="idKeepMembers">Members <span class="quiet">(');f.b(f.v(f.f("numMembers",b,d,0)));f.b(")</span></label> </div> ")}),b.pop());e.b(" ");e.s(e.f("hasAttachments",b,d,1),b,d,0,999,1215,"{{ }}")&&(e.rs(b,d,function(b,d,f){f.b(' <div class="check-div clearfix"> <input id="idKeepAttachments" type="checkbox" name="attachments" checked> <label for="idKeepAttachments">Attachments <span class="quiet">(');
f.b(f.v(f.f("numAttachments",b,d,0)));f.b(")</span></label> </div> ")}),b.pop());e.b(" ");e.s(e.f("hasComments",b,d,1),b,d,0,1251,1452,"{{ }}")&&(e.rs(b,d,function(b,d,f){f.b(' <div class="check-div clearfix"> <input id="idKeepComments" type="checkbox" name="comments" checked> <label for="idKeepComments">Comments <span class="quiet">(');f.b(f.v(f.f("numComments",b,d,0)));f.b(")</span></label> </div> ")}),b.pop());e.b(" ");e.s(e.f("hasStickers",b,d,1),b,d,0,1485,1686,"{{ }}")&&(e.rs(b,d,function(b,
d,f){f.b(' <div class="check-div clearfix"> <input id="idKeepStickers" type="checkbox" name="stickers" checked> <label for="idKeepStickers">Stickers <span class="quiet">(');f.b(f.v(f.f("numStickers",b,d,0)));f.b(")</span></label> </div> ")}),b.pop());e.b(" ")}),c.pop()),this.b(" <br> <label>Copy to\u2026</label> "),this.b(this.rp("move_card_controls",c,b,"")),this.b(' <input type="submit" class="primary wide js-submit" value="Create Card"> </form> '));this.b(" ");return this.fl()},card_copy_from:function(c,
b,d){this.b(d=d||"");this.s(this.f("showInput",c,b,1),c,b,0,14,103,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b('<input class="js-input js-autofocus" type="text" placeholder="Search for a card to copy">')}),c.pop());this.b(' <div class="js-card-results"></div> ');return this.fl()},card_detail:function(c,b,d){this.b(d=d||"");this.b('<div class="window-cover hide js-card-cover-box js-open-card-cover-in-viewer"> <div class="window-cover-stickers js-display-stickers"></div> </div> <div class="window-archive-banner hide js-archive-banner"> <span class="icon-lg icon-archive window-archive-banner-icon"></span> <p class="window-archive-banner-text"> This card is archived.</p> </div> <div class="window-header clearfix"> <span class="window-header-icon icon-lg icon-card"></span> <div class="window-title card-detail-title non-empty inline ');
this.s(this.f("__ed",c,b,1),c,b,0,515,525,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(" editable ")}),c.pop());this.b(' " attr="name"> <h2 class="window-title-text current hide-on-edit js-card-title"> ');this.b(this.v(this.f("name",c,b,0)));this.b(" </h2> ");this.s(this.f("__ed",c,b,1),c,b,0,640,913,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(" <p class=\"edits-warning quiet\">You have unsaved edits on this field. <a href='#' class='js-view-edits'>View edits</a> or <a href='#' class='js-discard-edits'>discard</a>.</p> <div class=\"edit edit-heavy\"> <textarea type=\"text\" class=\"field single-line\"></textarea> </div> ")}),
c.pop());this.b(' <div class="hide quiet hide-on-edit window-header-inline-content js-current-list"></div> <div class="hide hide-on-edit window-header-inline-content js-subscribed-indicator-header"><span class="icon-sm icon-follow"></span></div> </div> </div> <div class="window-main-col clearfix"> <div class="card-detail-data gutter clearfix"> <div class="card-detail-item card-detail-item-members clearfix hide js-card-detail-members"> <h3 class="card-detail-item-header">Members</h3> <div class="js-card-detail-members-list clearfix"></div> </div> <div class="card-detail-item card-detail-item-labels clearfix hide js-card-detail-labels"> <h3 class="card-detail-item-header">Labels</h3> <div class="js-card-detail-labels-list clearfix"></div> </div> <div class="card-detail-item card-detail-item-due-date clearfix hide js-card-detail-due-date"> <h3 class="card-detail-item-header">Due Date</h3> <a href="#" class="card-detail-badge card-detail-due-date-badge js-card-detail-due-date-badge"></a> </div> <div class="card-detail-item card-detail-item-votes clearfix hide js-card-detail-votes"> <h3 class="card-detail-item-header">Votes</h3> <a href="#" class="card-detail-badge card-detail-vote-badge badge-state-clickable js-card-detail-votes-badge js-show-votes"></a> </div> <div class="card-detail-item clearfix hide js-card-detail-age"> <h3 class="card-detail-item-header">Last Updated</h3> <div class="card-detail-badge card-detail-badge-aging date js-card-detail-age-badge clearfix"></div> </div> <div class="card-detail-item card-detail-item-block clear clearfix');
this.s(this.f("__ed",c,b,1),c,b,0,2484,2493,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(" editable")}),c.pop());this.b('" attr="desc"> <h3 class="card-detail-item-header hide js-show-with-desc">Description</h3> ');this.s(this.f("__ed",c,b,1),c,b,0,2602,2696,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <a class="card-detail-item-header-edit hide-on-edit js-show-with-desc js-edit-desc">Edit</a> ')}),c.pop());this.b(' <div class="current markeddown hide-on-edit js-card-desc js-show-with-desc hide"></div> ');
this.s(this.f("__ed",c,b,1),c,b,0,2803,3324,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <p class="bottom"><a class="hide-on-edit quiet-button w-img js-edit-desc js-hide-with-desc" href="#"><span class="icon-sm icon-edit"/>Edit the description\u2026</a></p> <div class="card-detail-edit edit"> <a href="#" class="helper js-format-help">Formatting help</a> <textarea class="field" /> </div> <p class="edits-warning quiet">You have unsaved edits on this field. <a href=\'#\' class=\'js-view-edits\'>View edits</a> or <a href=\'#\' class=\'js-discard-edits\'>discard</a>.</p> <p class="edits-error error">Edit not saved.</p> ')}),
c.pop());this.b(' </div> </div> <div class="window-module js-attachments-section clearfix hide"> <div class="window-module-title window-module-title-no-divider"> <span class="window-module-title-icon icon-lg icon-attachment"/> <h3 class="inline-block">Attachments</h3> </div> <div class="gutter"> <div class="clearfix js-attachment-list"></div> <p class="js-show-fewer-attachments hide"> <a class="quiet-button js-view-some-attachments" href="#">Show fewer attachments.</a> </p> <p class="js-show-more-attachments hide"> <a class="quiet-button js-view-all-attachments" href="#">View all attachments (<span class="js-num-attachments"/> hidden)</a> </p> ');
this.s(this.f("__ed",c,b,1),c,b,0,3977,4187,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <p> <a href="#" class="quiet-button js-attach" title="Attach files from your computer, Dropbox, or Google Drive. You can also drag\'n\'drop files from your desktop to upload them."> Add an attachment\u2026 </a> </p> ')}),c.pop());this.b(' </div> </div> <div class="checklist-list window-module js-checklist-list js-no-higher-edits"></div> <div class="window-module"> <div class="window-module-title window-module-title-no-divider"> <span class="window-module-title-icon icon-lg icon-activity"/> <h3>Activity</h3> <span class="editing-members js-editing-members hide"></span> </div> ');
this.s(this.f("canComment",c,b,1),c,b,0,4555,5311,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <div class="new-comment js-new-comment"> ');e.s(e.f("me",b,d,1),b,d,0,4604,4660,"{{ }}")&&(e.rs(b,d,function(b,d,f){f.b(' <div class="member member-no-menu"> ');f.b(f.rp("member",b,d,""));f.b(" </div> ")}),b.pop());e.b(' <textarea class="new-comment-input js-new-comment-input js-no-ie-placeholder" placeholder="Write a comment\u2026" /> <div class="add-controls clearfix"> <input type="submit" class="primary confirm js-add-comment" value="Comment"> <a href="#" class="icon-lg icon-close dark-hover cancel js-cancel-comment"></a> <a class="option options-menu dark-hover js-open-editing-menu" href="#"> <span class="icon-lg icon-menu"/> </a> </div> <div class="too-long hide"> <div>Your comment is too long</div> <input type="submit" class="js-attach-comment" value="Add as attachment"> <input type="submit" class="js-truncate-comment" value="Truncate"> </div> </div> ')}),
c.pop());this.b(' <div class="list-actions"></div> ');this.s(this.f("loading",c,b,1),c,b,0,5372,5433,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <div class="spinner loading js-loading-card-actions"></div> ')}),c.pop());this.b(' <p class="bottom"> <a class="show-more hide js-show-all-actions" href="#">Show all actions\u2026</a> </p> </div> </div> <div class="window-sidebar"> ');this.s(this.f("__ed",c,b,1),c,b,0,5599,6513,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <div class="window-module clearfix"> <h3>Add</h3> <div class="clearfix"> <a class="button-link js-change-card-members" title="Add or remove members of the board from the card."> <span class="icon-sm icon-member"/> Members </a> <a class="button-link js-edit-labels" title="Change the labels for the card."> <span class="icon-sm icon-label"/> Labels </a> <a class="button-link js-add-checklist-menu" title="Add a checklist and divide the card into subtasks."> <span class="icon-sm icon-checklist"/> Checklist </a> <a class="button-link js-add-due-date" title="Add a due date for the card and get notifications when it is almost due."> <span class="icon-sm icon-clock"/> Due date </a> <a class="button-link js-attach" title="Attach files from your computer or from Google Drive. You can also drag\'n\'drop files from your desktop to upload them."> <span class="icon-sm icon-attachment"/> Attachment </a> </div> </div> ')}),
c.pop());this.b(" ");this.s(this.f("__ed",c,b,1),c,b,1,0,0,"")||(this.b(" "),this.s(this.f("showActions",c,b,1),c,b,0,6549,6768,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(" ");e.s(e.f("canSubscribe",b,d,1),b,d,0,6567,6750,"{{ }}")&&(e.rs(b,d,function(b,d,f){f.b(' <div class="window-module clearfix"> <h3>Actions</h3> <div class="clearfix"> <div class="js-subscribe-sidebar-button"></div> <div class="js-vote-sidebar-button"></div> </div> </div> ')}),b.pop());e.b(" ")}),c.pop()),this.b(" "));this.b(" ");
this.s(this.f("__ed",c,b,1),c,b,0,6804,7829,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <div class="window-module other-actions clearfix"> <h3>Actions</h3> <div class="clearfix"> <a class="button-link js-move-card" title="Move the card to another board, another list, or a new position in a list"> <span class="icon-sm icon-move"></span> Move </a> <a class="button-link js-copy-card" title="Make a copy of this card, optionally include checklist, labels, members, attachments, etc."> <span class="icon-sm icon-card"></span> Copy </a> <div class="js-subscribe-sidebar-button"></div> <div class="js-vote-sidebar-button"></div> <hr> <a class="button-link js-archive-card" title="Remove the card from the board."> <span class="icon-sm icon-archive"></span> Archive </a> <a class="button-link js-unarchive-card" title="Send the card back to the board."> <span class="icon-sm icon-reopen"></span> Send to board </a> <a class="button-link negate hide js-delete-card" title="Delete the card and all history associated with it. It can\u2019t be retrieved."> <span class="icon-sm icon-remove"></span> Delete </a> </div> </div> ')}),
c.pop());this.b(' <div class="window-module clearfix"> <p class="quiet bottom"> <a class="quiet-button js-more-menu" href="#" title="More options share, print, export');this.s(this.f("__ed",c,b,1),c,b,0,7996,8008,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(", and delete")}),c.pop());this.b('.">Share and more\u2026</a> </p> </div> </div> <p class="dropzone">Drop files to upload.</p> ');return this.fl()},card_detail_add_button:function(c,b,d){this.b(d||"");this.b('<a class="card-detail-item-add-button dark-hover ');
this.b(this.v(this.f("classes",c,b,0)));this.b('"><span class="icon-sm icon-add"></span></a> ');return this.fl()},card_detail_list:function(c,b,d){this.b(d=d||"");this.b('<p class="inline-block bottom">in list <a href="#" class="');this.s(this.f("__ed",c,b,1),c,b,0,67,91,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b("js-open-move-from-header")}),c.pop());this.s(this.f("__ed",c,b,1),c,b,1,0,0,"")||this.b("disabled");this.b('"><strong>');this.b(this.v(this.f("listName",c,b,0)));this.b("</strong></a></p> ");
return this.fl()},card_detail_more_menu:function(c,b,d){this.b(d||"");this.b('<ul class="pop-over-list"> <li> <a class="js-print" href="#" title="Use the browser\u2019s print function. You can use \u201cFile\u201d > \u201cPrint\u201d or \u201ccmd + P\u201d (Mac) or \u201ccontrol + P\u201d (Windows)">Print\u2026</a> </li> <li> <a class="js-export-json js-real-link" href="');this.b(this.v(this.f("jsonURL",c,b,0)));this.b('" title="Export the card data in JSON format">Export JSON</a> </li> </ul> ');
this.b(this.rp("meta",c,b,""));this.b(" ");return this.fl()},card_detail_subscribe:function(c,b,d){this.b(d=d||"");this.b('<a class="button-link ');this.s(this.f("subscribed",c,b,1),c,b,0,37,43,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b("is-on ")}),c.pop());this.b(" js-");this.s(this.f("subscribed",c,b,1),c,b,0,77,79,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b("un")}),c.pop());this.b('subscribe" title="Subscribe to the card to get notifications when something changes."> <span class="icon-sm icon-follow"></span> Subscribe <span class="on"><span class="icon-sm icon-check light"/></span> </a> ');
return this.fl()},card_detail_vote_badge:function(c,b,d){this.b(d=d||"");this.b('<a class="badge vote-badge js-show-votes clickable');this.s(this.f("voted",c,b,1),c,b,0,60,66,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(" voted")}),c.pop());this.b('" href="#"> <span class="icon-sm icon-vote"/> <span class="badge-text">');this.s(this.f("nVotes",c,b,1),c,b,0,158,206,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(e.v(e.f("nVotes",b,d,0)));e.b(" vote");e.s(e.f("singleVote",b,d,1),b,d,1,0,0,"")||e.b("s ");e.b(" ")}),
c.pop());this.b(" ");this.s(this.f("voted",c,b,1),c,b,0,228,316,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(" ");e.s(e.f("justYourVote",b,d,1),b,d,1,0,0,"")||e.b(" (with you)");e.b(" ");e.s(e.f("justYourVote",b,d,1),b,d,0,292,298,"{{ }}")&&(e.rs(b,d,function(b,d,f){f.b(" (you)")}),b.pop());e.b(" ")}),c.pop());this.b(" </span> </a> ");return this.fl()},card_detail_vote_btn_sidebar:function(c,b,d){this.b(d=d||"");this.s(this.f("canVote",c,b,1),c,b,0,12,203,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <a class="button-link ');
e.s(e.f("voted",b,d,1),b,d,0,45,51,"{{ }}")&&(e.rs(b,d,function(b,d,f){f.b("is-on ")}),b.pop());e.b(" js-");e.s(e.f("voted",b,d,1),b,d,0,75,77,"{{ }}")&&(e.rs(b,d,function(b,d,f){f.b("un")}),b.pop());e.b('vote"> <span class="icon-sm icon-vote"/> Vote <span class="on"><span class="icon-sm icon-check light"/></span> </a> ')}),c.pop());this.b(" ");return this.fl()},card_in_list:function(c,b,d){this.b(d=d||"");this.b('<div class="list-card-labels clearfix js-card-labels">');this.s(this.f("labels",c,b,
1),c,b,0,65,75,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(e.rp("label",b,d,""))}),c.pop());this.b('</div> <div class="list-card-cover js-card-cover');this.s(this.f("showCover",c,b,1),c,b,1,0,0,"")||this.b(" hide");this.b('"></div> ');this.s(this.f("showMenu",c,b,1),c,b,0,189,272,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b('<span class="list-card-operation icon-sm icon-menu dark-hover js-card-menu"></span>')}),c.pop());this.b(' <div class="list-card-stickers-area clearfix');this.s(this.f("hasStickers",
c,b,1),c,b,1,0,0,"")||this.b(" hide");this.b('"> <div class="stickers js-card-stickers"></div> </div> <div class="list-card-details clearfix"> <a class="list-card-title clear js-card-name');this.s(this.f("realLink",c,b,1),c,b,0,521,534,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(" js-real-link")}),c.pop());this.b('"><span class="card-short-id hide">#');this.b(this.v(this.f("idShort",c,b,0)));this.b(" </span>");this.b(this.v(this.f("name",c,b,0)));this.b('</a> <div class="badges"></div> <div class="list-card-members js-list-card-members">');
this.s(this.f("members",c,b,1),c,b,0,706,725,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(e.rp("member_on_card",b,d,""))}),c.pop());this.b("</div> ");this.s(this.f("detailsOverlay",c,b,1),c,b,0,763,808,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b('<div class="list-card-details-overlay"></div>')}),c.pop());this.b(' </div> <p class="list-card-dropzone">Drop files to upload.</p> ');return this.fl()},card_inline:function(c,b,d){this.b(d=d||"");this.b('<a href="');this.b(this.v(this.f("cardUrl",c,b,0)));this.b('" class="inline-object"');
this.s(this.f("nameTruncated",c,b,1),c,b,0,61,78,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' title="');e.b(e.v(e.f("name",b,d,0)));e.b('"')}),c.pop());this.b("> ");this.s(this.f("nameTruncated",c,b,1),c,b,0,116,134,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(e.v(e.f("nameTruncated",b,d,0)));e.b("\u2026")}),c.pop());this.b(" ");this.s(this.f("nameTruncated",c,b,1),c,b,1,0,0,"")||this.b(this.v(this.f("name",c,b,0)));this.b(" </a> ");return this.fl()},card_menu:function(c,b,d){this.b(d=d||"");this.s(this.f("showMore",
c,b,1),c,b,1,0,0,"")||(this.b(' <ul class="pop-over-list"> <li> <a class="js-edit-labels" href="#">Labels\u2026</a> </li> <li> <a class="js-change-card-members" href="#">Members\u2026</a> </li> <li> <a class="js-due-date" href="#">Due Date\u2026</a> </li> <li> <a class="js-move-card" href="#">Move\u2026</a> </li> '),this.s(this.f("hasStickers",c,b,1),c,b,0,293,361,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <li> <a class="js-edit-stickers" href="#">Edit Stickers\u2026</a> </li> ')}),c.pop()),this.b(' <li> <a class="js-subscribe highlight-icon" href="#">Subscribe'),
this.s(this.f("isSubscribed",c,b,1),c,b,0,457,493,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b('d <span class="icon-sm icon-check"/>')}),c.pop()),this.b('</a> </li> <li> <a class="js-more" href="#">More Actions\u2026</a> </li> </ul> <hr> <ul class="pop-over-list"> <li> <a class="js-archive-card" href="#">Archive</a> </li> </ul> '));this.b(" ");this.s(this.f("showMore",c,b,1),c,b,0,708,1030,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <ul class="pop-over-list"> ');e.s(e.f("canVote",b,d,1),b,d,0,748,
874,"{{ }}")&&(e.rs(b,d,function(b,d,f){f.b(' <li> <a class="js-vote highlight-icon" href="#">Vote');f.s(f.f("hasVoted",b,d,1),b,d,0,814,850,"{{ }}")&&(f.rs(b,d,function(b,d,f){f.b('d <span class="icon-sm icon-check"/>')}),b.pop());f.b("</a> </li> ")}),b.pop());e.b(' <li> <a class="js-attach" href="#">Attach File\u2026</a> </li> <li> <a class="js-copy-card highlight-icon" href="#">Copy\u2026</a> </li> </ul> ');e.b(e.rp("meta",b,d,""));e.b(" ")}),c.pop());this.b(" ");return this.fl()},card_menu_meta:function(c,
b,d){this.b(d=d||"");this.b('<hr> <p class="quiet bottom" style="padding: 6px 6px 4px;"> <span class="clearfix" style="display:block; margin-bottom: 6px;"> Card #');this.b(this.v(this.f("idShort",c,b,0)));this.b(' </span> <span class="clearfix" style="display:block;"> <span>Link to this card</span> <span class="icon-sm icon-');this.b(this.v(this.f("pLevelClass",c,b,0)));this.b('" title="');this.b(this.v(this.f("pLevelAltText",c,b,0)));this.b('"></span> <input class="js-url js-autofocus inline-input" type="text" readonly="readonly" value="');
this.b(this.v(this.f("shortUrl",c,b,0)));this.b('"> </span> ');this.s(this.f("dateAdded",c,b,1),c,b,0,432,487,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' Added <span class="date" dt="');e.b(e.v(e.f("dateAdded",b,d,0)));e.b('"></span> - ')}),c.pop());this.b(" ");this.s(this.f("__ed",c,b,1),c,b,0,511,637,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <a class="js-delete" href="#" title="Deleting is permanent. You will lose all actions associated with this card.">Delete</a> ')}),c.pop());this.b(" </p> ");
return this.fl()},card_title_on_card_front:function(c,b,d){this.b(d||"");this.b('<span class="card-short-id hide">#');this.b(this.v(this.f("idShort",c,b,0)));this.b(" </span>");this.b(this.v(this.f("name",c,b,0)));this.b(" ");return this.fl()},change_org_board_invite_restrict:function(c,b,d){this.b(d=d||"");this.b('<li> <a class="highlight-icon js-');this.s(this.f("externalMembersDisabled",c,b,1),c,b,1,0,0,"")||this.b("enable");this.s(this.f("externalMembersDisabled",c,b,1),c,b,0,123,130,"{{ }}")&&
(this.rs(c,b,function(b,d,e){e.b("disable")}),c.pop());this.b('-restrict" href="#"> Disable invites ');this.s(this.f("externalMembersDisabled",c,b,1),c,b,0,223,258,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <span class="icon-sm icon-check"/>')}),c.pop());this.b(' <span class="sub-name">If disabled, organization members won\u2019t be able to invite others outside of the organization. Org members wil still be able to add other org members to org boards.</span> </a> </li> ');return this.fl()},change_org_vis:function(c,
b,d){this.b(d=d||"");this.b('<li> <a class="highlight-icon js-select-members" href="#"> Private');this.s(this.f("permissionLevel_private",c,b,1),c,b,0,94,129,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <span class="icon-sm icon-check"/>')}),c.pop());this.b(' <span class="sub-name">');this.b(this.v(this.f("privateText",c,b,0)));this.b('</span> </a> </li> <li> <a class="highlight-icon js-select-public" href="#"> Public');this.s(this.f("permissionLevel_public",c,b,1),c,b,0,306,341,"{{ }}")&&(this.rs(c,
b,function(b,d,e){e.b(' <span class="icon-sm icon-check"/>')}),c.pop());this.b(' <span class="sub-name">');this.b(this.v(this.f("publicText",c,b,0)));this.b("</span> </a> </li> ");return this.fl()},checkitem_inline:function(c,b,d){this.b(d||"");this.b(' checklist item "');this.b(this.v(this.f("name",c,b,0)));this.b('" ');return this.fl()},checklist:function(c,b,d){this.b(d=d||"");this.b('<div class="window-module-title window-module-title-no-divider clearfix');this.s(this.f("__ed",c,b,1),c,b,0,80,
88,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(" ed grab")}),c.pop());this.b('"> <span class="window-module-title-icon icon-lg icon-checklist"></span> ');this.s(this.f("__ed",c,b,1),c,b,0,179,719,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <div class="editable non-empty checklist-title" attr="name"> <h3 class="current hide-on-edit"');e.s(e.f("__ed",b,d,1),b,d,0,282,310,"{{ }}")&&(e.rs(b,d,function(b,d,f){f.b(' style="margin-right: 40px;"')}),b.pop());e.b(">");e.b(e.v(e.f("name",b,d,0)));e.b('</h3> <div class="edit edit-heavy"> <input type="text" class="field full single-line"/> </div> <p class="edits-warning quiet">You have unsaved edits on this field. <a href=\'#\' class=\'js-view-edits\'>View edits</a> or <a href=\'#\' class=\'js-discard-edits\'>discard</a>.</p> <span class="window-module-title-option icon-sm icon-menu dark-hover hide-on-edit js-open-checklist-menu"></span> </div> ')}),
c.pop());this.b(" ");this.s(this.f("__ed",c,b,1),c,b,1,0,0,"")||(this.b(" <h3>"),this.b(this.v(this.f("name",c,b,0))),this.b("</h3> "));this.b(' </div> <div class="checklist-progress"> <span class="checklist-progress-percentage js-checklist-progress-percent">0%</span> <div class="checklist-progress-bar"> <div class="checklist-progress-bar-current js-checklist-progress-bar"></div> </div> </div> <div class="checklist-items-list js-checklist-items-list js-no-higher-edits"></div> ');this.s(this.f("__ed",
c,b,1),c,b,0,1112,1615,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <div class="checklist-new-item gutter js-new-checklist-item"> <textarea class="checklist-new-item-text js-new-checklist-item-input" placeholder="Add item"></textarea> <div class="add-controls clearfix"> <input type="submit" class="primary confirm js-add-checklist-item" value="Add"> <a href="#" class="icon-lg icon-close dark-hover cancel js-cancel-checklist-item"></a> <a class="option options-menu dark-hover js-open-editing-menu" href="#"> <span class="icon-lg icon-menu"></span> </a> </div> </div> ')}),
c.pop());this.b(" ");return this.fl()},checklist_add_menu:function(c,b,d){this.b(d=d||"");this.b('<form> <label for="id-checklist">Title</label> <input class="js-checklist-title js-autofocus" type="text" id="id-checklist" value="Checklist"> ');this.s(this.f("hasChecklistCards",c,b,1),c,b,0,165,530,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <span class="js-copy-checklist"> <label for="js-checklist-copy-source">Copy Items From\u2026</label> <select class="js-checklist-copy-source"> <option value="" selected>(none)</option> ');
e.s(e.f("checklistCards",b,d,1),b,d,0,365,492,"{{ }}")&&(e.rs(b,d,function(b,d,f){f.b(' <optgroup label="');f.b(f.v(f.f("name",b,d,0)));f.b('"> ');f.s(f.f("checklists",b,d,1),b,d,0,409,464,"{{ }}")&&(f.rs(b,d,function(b,d,f){f.b(' <option value="');f.b(f.v(f.f("id",b,d,0)));f.b('">');f.b(f.v(f.f("name",b,d,0)));f.b(" (");f.b(f.v(f.f("length",b,d,0)));f.b(")</option> ")}),b.pop());f.b(" </optgroup> ")}),b.pop());e.b(" </select> </span> ")}),c.pop());this.b(' <input type="submit" class="primary wide confirm js-add-checklist" value="Add"> </form> ');
return this.fl()},checklist_inline:function(c,b,d){this.b(d||"");this.b(' checklist "');this.b(this.v(this.f("name",c,b,0)));this.b('" ');return this.fl()},checklist_item:function(c,b,d){this.b(d=d||"");this.b('<div class="checklist-item-checkbox ');this.s(this.f("__ed",c,b,1),c,b,0,45,77,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b("enabled js-toggle-checklist-item")}),c.pop());this.b('">&#x2713;</div> <div class="checklist-item-details non-empty ');this.s(this.f("__ed",c,b,1),c,b,0,157,165,"{{ }}")&&
(this.rs(c,b,function(b,d,e){e.b("editable")}),c.pop());this.b('" attr="name"> <p class="checklist-item-details-text current hide-on-edit markeddown">');this.b(this.t(this.f("nameHtml",c,b,0)));this.b("</p> ");this.s(this.f("__ed",c,b,1),c,b,0,288,602,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(" <div class=\"edit delete convert options-menu\"> <textarea type=\"text\" class=\"field full single-line js-checkitem-input\"></textarea> </div> <p class=\"edits-warning quiet\">You have unsaved edits on this field. <a href='#' class='js-view-edits'>View edits</a> or <a href='#' class='js-discard-edits'>discard</a>.</p> ")}),
c.pop());this.b(" </div> ");return this.fl()},closed_boards:function(c,b,d){this.b(d=d||"");this.b('<div class="window-header"> <span class="window-header-icon icon-lg icon-archive"/> <h2 class="window-title">Closed Boards</h2> </div> <div class="window-main-col"> ');this.s(this.f("empty",c,b,1),c,b,1,0,0,"")||this.b(' <div class="window-module clearfix"> <ul class="archive-list gutter js-archive-items"/> </div> ');this.b(" ");this.s(this.f("empty",c,b,1),c,b,0,292,346,"{{ }}")&&(this.rs(c,b,function(b,
d,e){e.b(' <p class="empty-list">No boards have been closed</p> ')}),c.pop());this.b(' </div> <div class="window-sidebar"> <p class="helper">You have to have been a board admin to re-open a closed board.</p> </div> ');return this.fl()},confirm:function(c,b,d){this.b(d=d||"");this.b("<p> ");this.b(this.v(this.f("text",c,b,0)));this.b(' </p> <input type="submit" class="js-confirm ');this.b(this.v(this.f("confirmBtnClass",c,b,0)));this.s(this.f("cancelText",c,b,1),c,b,1,0,0,"")||this.b(" full");this.b('" value="');
this.b(this.v(this.f("confirmText",c,b,0)));this.b('"> ');this.s(this.f("cancelText",c,b,1),c,b,0,153,217,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <input type="submit" class="js-cancel" value="');e.b(e.v(e.f("cancelText",b,d,0)));e.b('"> ')}),c.pop());this.b(" ");return this.fl()},confirm_merge:function(c,b,d){this.b(d||"");this.b('<p> You are about to add the email address <span class="bold">');this.b(this.v(this.f("ghostEmail",c,b,0)));this.b('</span> to the account </p> <ul class="pop-over-member-list js-member"> </ul> <input type="submit" class="js-confirm full" value="');
this.b(this.v(this.f("confirmText",c,b,0)));this.b('"> ');return this.fl()},connect_failed:function(c,b,d){this.b(d=d||"");this.b(this.v(this.f("msg",c,b,0)));this.b("<br /> ");this.s(this.f("allowReset",c,b,1),c,b,0,29,101,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <a href="#" onclick="window.ajaxQueueReset(); return false;">Retry</a> ')}),c.pop());this.b(' <a href="#" onclick="window.location.reload()">Reload page</a> ');return this.fl()},credit_card:function(c,b,d){this.b(d=d||"");this.b(" ");
this.s(this.f("formAreas_subscribingTo",c,b,1),c,b,0,29,106,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <p class="gutter quiet">Subscribing to <strong>');e.b(e.v(e.f("productName",b,d,0)));e.b("</strong></p> ")}),c.pop());this.b(' <form class="credit-card-form" method="POST"> <p class="gutter error hidden"></p> <input name="products" type="hidden" maxlength="50" size="30" id="products" value="');this.b(this.v(this.f("productNumber",c,b,0)));this.b('"> ');this.s(this.f("formAreas_billingOptions",
c,b,1),c,b,0,349,936,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <div class="window-module"> <div class="window-module-title"> <h3>Billing</h3> </div> <div class="gutter clearfix"> ');e.s(e.f("productOptions",b,d,1),b,d,0,485,715,"{{ }}")&&(e.rs(b,d,function(b,d,f){f.b(' <div class="radio-div clear clearfix" style="margin-bottom: 4px;"> <input type="radio" name="product" value="');f.b(f.v(f.f("id",b,d,0)));f.b('" id="product-');f.b(f.v(f.f("id",b,d,0)));f.b('"');f.s(f.f("checked",b,d,1),b,d,0,634,
642,"{{ }}")&&(f.rs(b,d,function(b,d,f){f.b(" checked")}),b.pop());f.b('> <label for="product-');f.b(f.v(f.f("id",b,d,0)));f.b('">');f.b(f.v(f.f("description",b,d,0)));f.b("</label> </div> ")}),b.pop());e.b(" ");e.s(e.f("showRecommend",b,d,1),b,d,0,753,903,"{{ }}")&&(e.rs(b,d,function(b,d,f){f.b(' <div class="recommend" style="margin-top: 16px;"> \u2026or get ');f.b(f.v(f.f("productName",b,d,0)));f.b(' for free by <a href="/recommend">inviting new members to Trello</a> </div> ')}),b.pop());e.b(" </div> </div> ")}),
c.pop());this.b(" ");this.s(this.f("formAreas_creditCard",c,b,1),c,b,0,991,13346,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <div class="window-module"> <div class="window-module-title"> <h3>Credit Card for account</h3> </div> <div class="gutter" style="margin-top: 12px;"> <label for="name"> Name: <span class="quiet">(as it appears on the credit card)</span></label> <input name="name" type="text" maxlength="50" size="30" id="name" class="text"> <label for="name" class="form-error hide">Please provide your full name, as shown on the card, for credit card verification.</label> <div class="left"> <label for="cardNumber">Card Number:</label> <input name="cardNumber" type="text" maxlength="19" size="16" id="cardNumber" autocomplete="off" style="width:190px;margin-right:16px;"> <label for="cardNumber" class="form-error hide" style="width:190px;margin-right:16px;">Please provide your full card number for credit card verification.</label> </div> <div class="left"> <label for="cvv">CVV:</label> <input name="cvv" type="text" maxlength="4" size="4" id="cvv" style="width:45px;"> </div> <br class="clear"> <label for="expMonth"> Expiration date: </label> <div class="clearfix"> <select name="expMonth" style="width:120px;margin-right:8px;display:inline;"> <option value="01">01 - January</option> <option value="02">02 - February</option> <option value="03">03 - March</option> <option value="04">04 - April</option> <option value="05">05 - May</option> <option value="06">06 - June</option> <option value="07">07 - July</option> <option value="08">08 - August</option> <option value="09">09 - September</option> <option value="10">10 - October</option> <option value="11">11 - November</option> <option value="12">12 - December</option> </select> <select name="expYear" style="width:100px;display:inline;"> <option value="14" selected="selected">2014</option> <option value="15">2015</option> <option value="16">2016</option> <option value="17">2017</option> <option value="18">2018</option> <option value="19">2019</option> <option value="20">2020</option> <option value="21">2021</option> <option value="22">2022</option> <option value="23">2023</option> <option value="24">2024</option> <option value="25">2025</option> <option value="26">2026</option> <option value="27">2027</option> <option value="28">2028</option> <option value="29">2029</option> <option value="30">2030</option> <option value="31">2031</option> <option value="32">2032</option> <option value="33">2033</option> <option value="34">2034</option> <option value="35">2035</option> <option value="36">2036</option> <option value="37">2037</option> <option value="38">2038</option> </select> </div> <br class="clear"> </div> <div class="window-module"> <div class="window-module-title"> <h3>Billing Address</h3> </div> <div class="gutter" style="margin-top: 12px;"> <label for="companyName" class="quiet">Company Name:</label> <input name="companyName" type="text" maxlength="50" size="30" id="companyName" class="text"> <label for="streetAddress1">Street Address 1:</label> <input name="streetAddress1" type="text" maxlength="255" size="30" id="streetAddress1" class="text"> <label for="streetAddress1" class="form-error hide">Please enter your address.</label> <label for="streetAddress2" class="quiet">Street Address 2:</label> <input name="streetAddress2" type="text" maxlength="255" size="30" id="streetAddress2" class="text"> <label for="city">City:</label> <input name="city" type="text" maxlength="30" size="30" id="city" class="text"> <label for="city" class="form-error hide">Please enter your city.</label> <label for="state">State/Province/Region:</label> <input name="state" type="text" maxlength="20" size="30" id="state" class="text"> <label for="state" class="form-error hide">U.S. and Canada addresses require a two-letter abbreviation.</label> <label for="zipCode">ZIP/Postal Code:</label> <input name="zipCode" type="text" maxlength="10" size="30" id="zipCode" class="text"> <label for="zipCode" class="form-error hide">U.S. addresses require a 5 or 9 digit zip code.</label> <label for="country">Country:</label> <select name="country" id="country"> <option selected="selected" value="US">United States</option> <option value="GB">United Kingdom</option> <option value="CA">Canada</option> <option value="AU">Australia</option> <option value="DE">Germany</option> <option value="NL">Netherlands</option> <option value="AF">Afghanistan</option> <option value="AL">Albania</option> <option value="DZ">Algeria</option> <option value="AS">American Samoa</option> <option value="AD">Andorra</option> <option value="AI">Anguilla</option> <option value="AG">Antiqua and Barbuda</option> <option value="AR">Argentina</option> <option value="AM">Armenia</option> <option value="AW">Aruba</option> <option value="AU">Australia</option> <option value="AT">Austria</option> <option value="AZ">Azerbaijan</option> <option value="BS">Bahamas</option> <option value="BH">Bahrain</option> <option value="BD">Bangladesh</option> <option value="BB">Barbados</option> <option value="BY">Belarus</option> <option value="BE">Belgium</option> <option value="BZ">Belize</option> <option value="BJ">Benin</option> <option value="BM">Bermuda</option> <option value="BT">Bhutan</option> <option value="BO">Bolivia</option> <option value="BV">Bouvet Islands</option> <option value="BR">Brazil</option> <option value="IO">British Indian Ocean Territory</option> <option value="VI">British Virgin Islands</option> <option value="BN">Brunei</option> <option value="BG">Bulgaria</option> <option value="BF">Burkina Faso</option> <option value="BI">Burundi</option> <option value="KH">Cambodia</option> <option value="CM">Cameroon</option> <option value="CA">Canada</option> <option value="CV">Cape Verde</option> <option value="KY">Cayman Islands</option> <option value="CF">Central African Republic</option> <option value="TD">Chad</option> <option value="CL">Chile</option> <option value="CN">China</option> <option value="CO">Colombia</option> <option value="KM">Comoros</option> <option value="CG">Congo</option> <option value="CR">Costa Rica</option> <option value="CI">Cote D\u2019Ivoire</option> <option value="HR">Croatia</option> <option value="CY">Cyprus</option> <option value="CZ">Czech Republic</option> <option value="DK">Denmark</option> <option value="DJ">Djibouti</option> <option value="DM">Dominica</option> <option value="DO">Dominican Republic</option> <option value="EG">Egypt</option> <option value="SV">El Salvador</option> <option value="EC">Equador</option> <option value="GQ">Equatorial Guinea</option> <option value="ER">Eritrea</option> <option value="EE">Estonia</option> <option value="ET">Ethiopia</option> <option value="FK">Falkland Islands</option> <option value="FO">Faroe Islands</option> <option value="FM">Federated States of Micronesia</option> <option value="FJ">Fiji</option> <option value="FI">Finland</option> <option value="FR">France</option> <option value="GF">French Guiana</option> <option value="PF">French Polynesia</option> <option value="GA">Gabon</option> <option value="GM">Gambia</option> <option value="GE">Georgia</option> <option value="DE">Germany</option> <option value="GH">Ghana</option> <option value="GI">Gibraltar</option> <option value="GR">Greece</option> <option value="GL">Greenland</option> <option value="GD">Grenada</option> <option value="GP">Guadeloupe</option> <option value="GU">Guam</option> <option value="GT">Guatemala</option> <option value="GN">Guinea</option> <option value="GW">Guinea-Bissau</option> <option value="GY">Guyana</option> <option value="HT">Haiti</option> <option value="HN">Honduras</option> <option value="HK">Hong Kong</option> <option value="HU">Hungary</option> <option value="IS">Iceland</option> <option value="IN">India</option> <option value="ID">Indonesia</option> <option value="IE">Ireland</option> <option value="IL">Israel</option> <option value="IT">Italy</option> <option value="JM">Jamaica</option> <option value="JP">Japan</option> <option value="JO">Jordan</option> <option value="KZ">Kazakhstan</option> <option value="KE">Kenya</option> <option value="KI">Kiribati</option> <option value="KW">Kuwait</option> <option value="KG">Kyrgyzstan</option> <option value="LA">Laos</option> <option value="LV">Latvia</option> <option value="LB">Lebanon</option> <option value="LS">Lesotho</option> <option value="LR">Liberia</option> <option value="LI">Liechtenstein</option> <option value="LT">Lithuania</option> <option value="LU">Luxembourg</option> <option value="MO">Macau</option> <option value="MG">Madagascar</option> <option value="MW">Malawi</option> <option value="MY">Malaysia</option> <option value="MV">Maldives</option> <option value="ML">Mali</option> <option value="MT">Malta</option> <option value="MH">Marshall Islands</option> <option value="MQ">Martinique</option> <option value="MR">Mauritania</option> <option value="MU">Mauritius</option> <option value="YT">Mayotte</option> <option value="FX">Metropolitan France</option> <option value="MX">Mexico</option> <option value="MD">Moldova</option> <option value="MN">Mongolia</option> <option value="MA">Morocco</option> <option value="MZ">Mozambique</option> <option value="NA">Namibia</option> <option value="NR">Nauru</option> <option value="NP">Nepal</option> <option value="AN">Netherlands Antilles</option> <option value="NL">Netherlands</option> <option value="NC">New Caledonia</option> <option value="NZ">New Zealand</option> <option value="NI">Nicaragua</option> <option value="NE">Niger</option> <option value="NG">Nigeria</option> <option value="MP">Northern Mariana Islands</option> <option value="NO">Norway</option> <option value="OM">Oman</option> <option value="PK">Pakistan</option> <option value="PW">Palau</option> <option value="PA">Panama</option> <option value="PG">Papua New Guinea</option> <option value="PY">Paraguay</option> <option value="PE">Peru</option> <option value="PE">Peru</option> <option value="PH">Philippines</option> <option value="PN">Pitcairn</option> <option value="PL">Poland</option> <option value="PT">Portugal</option> <option value="PR">Puerto Rico</option> <option value="QA">Qatar</option> <option value="KR">Republic of Korea</option> <option value="RE">Reunion</option> <option value="RO">Romania</option> <option value="RU">Russia</option> <option value="ST">Sao Tome and Principe</option> <option value="SA">Saudi Arabia</option> <option value="SN">Senegal</option> <option value="SC">Seychelles</option> <option value="SL">Sierra Leone</option> <option value="SG">Singapore</option> <option value="SK">Slovakia</option> <option value="SI">Slovenia</option> <option value="SB">Solomon Islands</option> <option value="SO">Somalia</option> <option value="ZA">South Africa</option> <option value="ES">Spain</option> <option value="LK">Sri Lanka</option> <option value="SH">St. Helena</option> <option value="KN">St. Kitts and Nevis</option> <option value="LC">St. Lucia</option> <option value="VC">St. Vincent and the Grenadines</option> <option value="SD">Sudan</option> <option value="SR">Suriname</option> <option value="SJ">Svalbard and Jan Mayen Islands</option> <option value="SZ">Swaziland</option> <option value="SE">Sweden</option> <option value="CH">Switzerland</option> <option value="SY">Syria</option> <option value="TW">Taiwan</option> <option value="TJ">Tajikistan</option> <option value="TZ">Tanzania</option> <option value="TH">Thailand</option> <option value="MK">The former Yugoslav Republic of Macedonia</option> <option value="TG">Togo</option> <option value="TO">Tonga</option> <option value="TT">Trinidad and Tobago</option> <option value="TR">Turkey</option> <option value="TM">Turkmenistan</option> <option value="TC">Turks and Caicos Islands</option> <option value="TV">Tuvalu</option> <option value="UG">Uganda</option> <option value="UA">Ukraine</option> <option value="AE">United Arab Emirates</option> <option value="GB">United Kingdom</option> <option value="US">United States</option> <option value="UY">Uruguay</option> <option value="UZ">Uzbekistan</option> <option value="VU">Vanuatu</option> <option value="VA">Vatican City</option> <option value="VE">Venezuela</option> <option value="VN">Vietnam</option> <option value="EH">Western Sahara</option> <option value="YE">Yemen</option> <option value="YU">Yugoslavia</option> <option value="ZR">Zaire</option> <option value="ZM">Zambia</option> <option value="ZW">Zimbabwe</option> </select> </div> </div> ')}),
c.pop());this.b(" ");this.s(this.f("formAreas_billingContactHidden",c,b,1),c,b,0,13407,13656,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <input name="billingContactFullName" type="hidden" id="billingContactFullName" class="text" value="');e.b(e.v(e.f("billingFullName",b,d,0)));e.b('" maxlength="50"> <input name="billingContactEmail" type="hidden" id="billingContactEmail" class="text" value="');e.b(e.v(e.f("billingEmail",b,d,0)));e.b('"> ')}),c.pop());this.b(' <hr class="gutter"> ');this.s(this.f("formAreas_creditCard",
c,b,1),c,b,0,13737,14301,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <div id="divAcceptTOS" class="gutter"> <p class="js-tos-error error hide">You must accept the Terms of Service and Privacy Policy</p> <div class="check-div clearfix"> <input id="acceptTOS" class="inline bottom" type="checkbox" name="acceptTOS" value="true"> <label for="acceptTOS" class="inline bottom">I accept the <a href="https://trello.com/legal/" target="_blank" rel="popup" title="Terms of Service">Terms of Service</a> and the <a href="https://trello.com/privacy" target="_blank" rel="popup" title="Privacy Policy">Privacy Policy</a></label> </div> </div> ')}),
c.pop());this.b(' <hr class="gutter"> <div class="gutter"> <input type="submit" name="');this.b(this.v(this.f("action",c,b,0)));this.b('" value="Continue" id="save" class="primary ');this.b(this.v(this.f("action",c,b,0)));this.b('"> </div> </form> ');return this.fl()},crop_photo:function(c,b,d){this.b(d||"");this.b('<img class="crop-image"> <button class="primary js-done">Looks good!</button> <button class="js-back">Try again\u2026</button> ');return this.fl()},date_picker:function(c,b,d){this.b(d=
d||"");this.b('<div class="datepicker-select clearfix"> <div class="datepicker-select-date"> <label class="datepicker-select-label"> Date </label> <input type="text" class="datepicker-select-input js-dpicker-date-input js-autofocus" placeholder="Enter date" tabindex=1> </div> <div class="datepicker-select-time"> <label class="datepicker-select-label"> Time </label> <input type="text" class="datepicker-select-input js-dpicker-time-input" placeholder="Enter time" value="12:00pm" tabindex=2> <select class="js-dpicker-time-select"></select> </div> </div> <div class="pickers clear js-dpicker-cal"></div> <div class="datepicker-confirm-btns"> <input type="submit" class="primary wide confirm js-save-edit" value="Save" tabindex=3> ');
this.s(this.f("hasDueDate",c,b,1),c,b,0,732,816,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <a href="#" class="button negate remove-date js-remove-date" tabindex=4>Remove</a> ')}),c.pop());this.b(' </div> <div class="js-enable-cal hide"> <hr> <p> <a href="#" class="quiet-button w-img js-enable-calendar-powerup"><span class="icon-sm icon-rocket"></span>Enable the Calendar Power-Up!</a> </p> <p class="bottom quiet"> You\u2019ll get a calendar view of your cards and an iCal feed. Woo! </p> </div> <div class="js-cal-enabled hide"> <hr> <p class="helper"> Click the \u201cCalendar\u201d button in the board header to open the calendar. ');
this.s(this.f("__own",c,b,1),c,b,0,1266,1339,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b("To change calendar settings, click \u201cPower-Ups\u201d in the board sidebar menu.")}),c.pop());this.b(" </p> </div> ");return this.fl()},dialog_close_button:function(c,b,d){this.b(d||"");this.b('<a class="icon-lg icon-close dialog-close-button js-close-window" href="#" title="Close this dialog window."></a> ');return this.fl()},early_version_feedback_form:function(c,b,d){this.b(d||"");this.b('<div class="early-feedback-section-background"></div> <div class="early-feedback-section markeddown"> <h1 class="early-feedback-section-header">Ahoy, Explorer!</h1> <p class="early-feedback-section-intro-text"> You\u2019re sailing the uncharted seas of a new, exploratory version of Trello. Not everyone has this version yet and your feedback could determine what stays, goes, or changes. </p> <p class="early-feedback-section-intro-text"> What\u2019s new in this version? There\u2019s a whole new card back! </p> <ul class="early-feedback-section-intro-text"> <li>You can see <strong>card covers and stickers</strong> on the back.</li> <li><strong>Attachments display in Trello</strong> and have bigger, nicer previews.</li> <li>The card is <strong>wider and more streamlined</strong>, making more room for your stuff.</li> </ul> <p class="early-feedback-section-intro-text"> In the form below, let us know if you loved something new, found something confusing, or noticed something strange. This will go to our inbox. Although we can\u2019t promise to respond, we\u2019ll definitely read it. <strong>Please keep it related to the changes to the card back!</strong> Thanks! </p> <p class="early-feedback-section-intro-text"> Safe travels,<br> The Trello Team </p> <hr> <p class="quiet hide js-submitted-feedback"> Thanks! Your feedback has been submitted. You\u2019ll be able to see this form for a while so please send us more feedback in the future if you have it. </p> <form class="js-feedback-form"> <p>Dear Trello Team,</p> <textarea name="bodytext" class="js-autofocus js-feedback-form-text"></textarea> <input class="wide primary js-feedback-form-submit" type="submit" value="Send"> </form> </div> ');
return this.fl()},edit_controls:function(c,b,d){this.b(d||"");this.b('<div class="edit-controls clearfix"> <input type="submit" class="primary confirm js-save-edit" value="Save"> <a href="#" class="icon-lg icon-close dark-hover cancel js-cancel-edit"></a> <a href="#" class="option delete js-delete-item">Delete</a> <a href="#" class="option convert js-convert-item-to-card">Convert to Card</a> <a class="option options-menu dark-hover js-open-editing-menu" href="#"> <span class="icon-lg icon-menu"> </a> </div> ');
return this.fl()},edit_in_progress:function(c,b,d){this.b(d=d||"");this.s(this.f("members",c,b,1),c,b,0,12,451,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <span class="edit-in-progress"> <span class="inline-member"> ');e.s(e.f("avatarHash",b,d,1),b,d,0,89,238,"{{ }}")&&(e.rs(b,d,function(b,d,f){f.b('<img class="inline-member-av" src="');f.b(f.v(f.f("__avatarDomain",b,d,0)));f.b("/");f.b(f.v(f.f("avatarHash",b,d,0)));f.b('/30.png" alt="');f.b(f.v(f.f("fullName",b,d,0)));f.b(" (");f.b(f.v(f.f("username",
b,d,0)));f.b(')" title="');f.b(f.v(f.f("fullName",b,d,0)));f.b(" (");f.b(f.v(f.f("username",b,d,0)));f.b(')" />')}),b.pop());e.b(" ");e.s(e.f("avatarHash",b,d,1),b,d,1,0,0,"")||(e.b('<span class="quiet initials" title="'),e.b(e.v(e.f("fullName",b,d,0))),e.b(" ("),e.b(e.v(e.f("username",b,d,0))),e.b(')">'),e.b(e.v(e.f("initials",b,d,0))),e.b("</span>"));e.b(" </span>");e.s(e.f("icon",b,d,1),b,d,0,385,433,"{{ }}")&&(e.rs(b,d,function(b,d,f){f.b('<span class="icon icon-sm icon-');f.b(f.v(f.f("icon",
b,d,0)));f.b('"></span>')}),b.pop());e.b(" </span> ")}),c.pop());return this.fl()},embedly:function(c,b,d){this.b(d=d||"");this.b('<div class="embed embed-');this.b(this.v(this.f("type",c,b,0)));this.b(" embed-provider-");this.b(this.v(this.f("provider_name",c,b,0)));this.b('"> ');this.s(this.f("type_photo",c,b,1),c,b,1,0,0,"")||(this.b(" "),this.s(this.f("requireHttps",c,b,1),c,b,0,101,116,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(e.t(e.f("htmlHttps",b,d,0)))}),c.pop()),this.s(this.f("requireHttps",
c,b,1),c,b,1,0,0,"")||this.b(this.t(this.f("html",c,b,0))),this.b(" "));this.b(" ");this.s(this.f("type_photo",c,b,1),c,b,0,209,278,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <a href="');e.b(e.v(e.f("originalUrl",b,d,0)));e.b('" target="_blank"><img src="');e.b(e.v(e.f("url",b,d,0)));e.b('" /></a> ')}),c.pop());this.b(" </div> ");return this.fl()},empty_list:function(c,b,d){this.b(d||"");this.b('<p class="empty-list ');this.b(this.v(this.f("classes",c,b,0)));this.b('" style="');this.b(this.v(this.f("style",
c,b,0)));this.b('">');this.b(this.v(this.f("message",c,b,0)));this.b("</p> ");return this.fl()},entity:function(c,b,d){this.b(d=d||"");this.s(this.f("textType",c,b,1),c,b,0,13,130,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(" ");e.s(e.f("isContext",b,d,1),b,d,0,28,76,"{{ }}")&&(e.rs(b,d,function(b,d,f){f.b(" ");f.s(f.f("hideIfContext",b,d,1),b,d,1,0,0,"")||(f.b(" "),f.b(f.v(f.f("text",b,d,0))),f.b(" "));f.b(" ")}),b.pop());e.b(" ");e.s(e.f("isContext",b,d,1),b,d,1,0,0,"")||(e.b(" "),e.b(e.v(e.f("text",
b,d,0))),e.b(" "));e.b(" ")}),c.pop());this.b(" ");this.s(this.f("cardType",c,b,1),c,b,0,157,331,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(" ");e.s(e.f("isContext",b,d,1),b,d,0,172,221,"{{ }}")&&(e.rs(b,d,function(b,d,f){f.b(" ");f.s(f.f("hideIfContext",b,d,1),b,d,1,0,0,"")||f.b(" this card ");f.b(" ")}),b.pop());e.b(" ");e.s(e.f("isContext",b,d,1),b,d,1,0,0,"")||(e.b(' <a href="'),e.b(e.v(e.f("url",b,d,0))),e.b('" class="inline-object action-card">'),e.b(e.v(e.f("name",b,d,0))),e.b("</a> "));e.b(" ")}),
c.pop());this.b(" ");this.s(this.f("boardType",c,b,1),c,b,0,359,484,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(" ");e.s(e.f("isContext",b,d,1),b,d,0,374,386,"{{ }}")&&(e.rs(b,d,function(b,d,f){f.b(" this board ")}),b.pop());e.b(" ");e.s(e.f("isContext",b,d,1),b,d,1,0,0,"")||(e.b(' <a href="'),e.b(e.v(e.f("url",b,d,0))),e.b('" class="inline-object">'),e.b(e.v(e.f("name",b,d,0))),e.b("</a> "));e.b(" ")}),c.pop());this.b(" ");this.s(this.f("organizationType",c,b,1),c,b,0,520,832,"{{ }}")&&(this.rs(c,
b,function(b,d,e){e.b(" ");e.s(e.f("isContext",b,d,1),b,d,0,535,554,"{{ }}")&&(e.rs(b,d,function(b,d,f){f.b(" this organization ")}),b.pop());e.b(" ");e.s(e.f("isContext",b,d,1),b,d,1,0,0,"")||(e.b(" "),e.s(e.f("url",b,d,1),b,d,0,592,774,"{{ }}")&&(e.rs(b,d,function(b,d,f){f.b(" ");f.s(f.f("displayName",b,d,1),b,d,0,609,670,"{{ }}")&&(f.rs(b,d,function(b,d,f){f.b(' <a href="');f.b(f.v(f.f("url",b,d,0)));f.b('" class="inline-object">');f.b(f.v(f.f("displayName",b,d,0)));f.b("</a> ")}),b.pop());f.b(" ");
f.s(f.f("displayName",b,d,1),b,d,1,0,0,"")||(f.b(' <a href="'),f.b(f.v(f.f("url",b,d,0))),f.b('" class="inline-object">'),f.b(f.v(f.f("name",b,d,0))),f.b("</a> "));f.b(" ")}),b.pop()),e.b(" "),e.s(e.f("url",b,d,1),b,d,1,0,0,"")||e.b(" an organization "),e.b(" "));e.b(" ")}),c.pop());this.b(" ");this.s(this.f("listType",c,b,1),c,b,0,867,877,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(" ");e.b(e.v(e.f("name",b,d,0)));e.b(" ")}),c.pop());this.b(" ");this.s(this.f("checklistType",c,b,1),c,b,0,909,919,
"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(" ");e.b(e.v(e.f("name",b,d,0)));e.b(" ")}),c.pop());this.b(" ");this.s(this.f("checkItemType",c,b,1),c,b,0,956,1033,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(" ");e.s(e.f("nameHtml",b,d,1),b,d,0,970,984,"{{ }}")&&(e.rs(b,d,function(b,d,f){f.b(f.t(f.f("nameHtml",b,d,0)))}),b.pop());e.b(" ");e.s(e.f("nameHtml",b,d,1),b,d,1,0,0,"")||e.b(e.v(e.f("name",b,d,0)));e.b(" ")}),c.pop());this.b(" ");this.s(this.f("commentType",c,b,1),c,b,0,1068,1277,"{{ }}")&&(this.rs(c,
b,function(b,d,e){e.b(' <div class="action-comment markeddown"> ');e.s(e.f("canEdit",b,d,1),b,d,1,0,0,"")||e.b(e.t(e.f("textHtml",b,d,0)));e.b(" ");e.s(e.f("canEdit",b,d,1),b,d,0,1160,1257,"{{ }}")&&(e.rs(b,d,function(b,d,f){f.b(' <div class="current-comment">');f.b(f.t(f.f("textHtml",b,d,0)));f.b('</div> <textarea class="js-text">');f.b(f.v(f.f("text",b,d,0)));f.b("</textarea> ")}),b.pop());e.b(" </div> ")}),c.pop());this.b(" ");this.s(this.f("labelType",c,b,1),c,b,0,1308,1489,"{{ }}")&&(this.rs(c,
b,function(b,d,e){e.b(' <span class="card-label ');e.b(e.v(e.f("color",b,d,0)));e.b('-label" title="');e.s(e.f("text",b,d,1),b,d,0,1366,1374,"{{ }}")&&(e.rs(b,d,function(b,d,f){f.b(f.v(f.f("text",b,d,0)))}),b.pop());e.s(e.f("text",b,d,1),b,d,1,0,0,"")||(e.b(e.v(e.f("color",b,d,0))),e.b(" label (default)"));e.b('"> ');e.s(e.f("text",b,d,1),b,d,0,1438,1446,"{{ }}")&&(e.rs(b,d,function(b,d,f){f.b(f.v(f.f("text",b,d,0)))}),b.pop());e.b(" ");e.s(e.f("text",b,d,1),b,d,1,0,0,"")||e.b("&nbsp;");e.b(" </span> ")}),
c.pop());this.b(" ");this.s(this.f("attachmentType",c,b,1),c,b,0,1523,1926,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(" ");e.s(e.f("known",b,d,1),b,d,0,1534,1696,"{{ }}")&&(e.rs(b,d,function(b,d,f){f.b(' <a href="');f.b(f.v(f.f("url",b,d,0)));f.b('" target="_blank" class="known-service-link"><img class="known-service-icon" src="');f.b(f.v(f.f("icon",b,d,0)));f.b('" alt="');f.b(f.v(f.f("name",b,d,0)));f.b('"><span id="');f.b(f.v(f.f("id",b,d,0)));f.b('">');f.b(f.v(f.f("text",b,d,0)));f.b("</span></a> ")}),
b.pop());e.b(" ");e.s(e.f("known",b,d,1),b,d,1,0,0,"")||(e.b(" "),e.s(e.f("link",b,d,1),b,d,0,1727,1836,"{{ }}")&&(e.rs(b,d,function(b,d,f){f.b(' <a href="');f.b(f.v(f.f("url",b,d,0)));f.b('" class="js-open-attachment-viewer" data-idattachment="');f.b(f.v(f.f("id",b,d,0)));f.b('" target="_blank">');f.b(f.v(f.f("name",b,d,0)));f.b("</a> ")}),b.pop()),e.b(" "),e.s(e.f("link",b,d,1),b,d,1,0,0,"")||(e.b(' <span class="attachment-deleted">'),e.b(e.v(e.f("name",b,d,0))),e.b("</span> ")),e.b(" "));e.b(" ")}),
c.pop());this.b(" ");this.s(this.f("attachmentPreviewType",c,b,1),c,b,0,1972,2339,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(" ");e.s(e.f("showAttachmentPreview",b,d,1),b,d,0,1999,2312,"{{ }}")&&(e.rs(b,d,function(b,d,f){f.b(" ");f.s(f.f("canPreview",b,d,1),b,d,0,2015,2296,"{{ }}")&&(f.rs(b,d,function(b,d,f){f.b(" ");f.s(f.f("isImage",b,d,1),b,d,0,2028,2189,"{{ }}")&&(f.rs(b,d,function(b,d,f){f.b('<a class="js-open-attachment-viewer" href="');f.b(f.v(f.f("originalUrl",b,d,0)));f.b('" target="_blank" data-idattachment="');
f.b(f.v(f.f("id",b,d,0)));f.b('"><img class="attachment-image-preview" src="');f.b(f.v(f.f("url",b,d,0)));f.b('" /></a>')}),b.pop());f.b(" ");f.s(f.f("isImage",b,d,1),b,d,1,0,0,"")||(f.b('<iframe class="attachment-non-image-preview" src="'),f.b(f.v(f.f("url",b,d,0))),f.b('" ></iframe>'));f.b(" ")}),b.pop());f.b(" ")}),b.pop());e.b(" ")}),c.pop());this.b(" ");this.s(this.f("memberType",c,b,1),c,b,0,2381,2675,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <span class="inline-member js-show-mem-menu" idMember="');
e.b(e.v(e.f("id",b,d,0)));e.b('"> ');e.s(e.f("avatarHash",b,d,1),b,d,0,2461,2612,"{{ }}")&&(e.rs(b,d,function(b,d,f){f.b(' <img class="inline-member-av" src="');f.b(f.v(f.f("__avatarDomain",b,d,0)));f.b("/");f.b(f.v(f.f("avatarHash",b,d,0)));f.b('/30.png" alt="');f.b(f.v(f.f("fullName",b,d,0)));f.b(" (");f.b(f.v(f.f("username",b,d,0)));f.b(')" title="');f.b(f.v(f.f("fullName",b,d,0)));f.b(" (");f.b(f.v(f.f("username",b,d,0)));f.b(')" /> ')}),b.pop());e.b(' <span class="bold">');e.b(e.v(e.f("fullName",
b,d,0)));e.b("</span> </span> ")}),c.pop());this.b(" ");this.s(this.f("relDateType",c,b,1),c,b,0,2707,2782,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <span class="rel-date" dt="');e.b(e.v(e.f("date",b,d,0)));e.b('" text="');e.b(e.v(e.f("text",b,d,0)));e.b('"> ');e.b(e.v(e.f("current",b,d,0)));e.b(" </span> ")}),c.pop());this.b(" ");return this.fl()},error:function(c,b,d){this.b(d=d||"");this.s(this.f("notFound",c,b,1),c,b,0,13,416,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <div class="big-message quiet"> <h1> Page not found. </h1> ');
e.s(e.f("__loggedIn",b,d,1),b,d,1,0,0,"")||(e.b(' <p> This page may be private. You may be able to view it by <a class="js-real-link" href="/login?returnUrl='),e.b(e.v(e.f("url",b,d,0))),e.b('">logging in</a>. </p> '));e.b(" ");e.s(e.f("__loggedIn",b,d,1),b,d,0,257,393,"{{ }}")&&(e.rs(b,d,function(b,d,f){f.b(" <p> This page may be private. If someone gave you this link, they may need to invite you to one of their boards or organizations. </p> ")}),b.pop());e.b(" </div> ")}),c.pop());this.b(" ");this.s(this.f("boardNotFound",
c,b,1),c,b,0,448,854,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <div class="big-message quiet"> <h1> Board not found. </h1> ');e.s(e.f("__loggedIn",b,d,1),b,d,1,0,0,"")||(e.b(' <p> This board may be private. You may be able to view it by <a class="js-real-link" href="/login?returnUrl='),e.b(e.v(e.f("url",b,d,0))),e.b('">logging in</a>. </p> '));e.b(" ");e.s(e.f("__loggedIn",b,d,1),b,d,0,694,831,"{{ }}")&&(e.rs(b,d,function(b,d,f){f.b(" <p> This board may be private. If someone gave you this link, they may need to invite you to one of their boards or organizations. </p> ")}),
b.pop());e.b(" </div> ")}),c.pop());this.b(" ");this.s(this.f("cardNotFound",c,b,1),c,b,0,890,1315,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <div class="big-message quiet"> <h1> Card not found. </h1> ');e.s(e.f("__loggedIn",b,d,1),b,d,1,0,0,"")||(e.b(' <p> This card may be on a private board. You may be able to view it by <a class="js-real-link" href="/login?returnUrl='),e.b(e.v(e.f("url",b,d,0))),e.b('">logging in</a>. </p> '));e.b(" ");e.s(e.f("__loggedIn",b,d,1),b,d,0,1145,1292,"{{ }}")&&(e.rs(b,
d,function(b,d,f){f.b(" <p> This card may be on a private board. If someone gave you this link, they may need to invite you to one of their boards or organizations. </p> ")}),b.pop());e.b(" </div> ")}),c.pop());this.b(" ");this.s(this.f("unconfirmedNotFound",c,b,1),c,b,0,1357,2045,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <div class="big-message with-picture quiet"> <img src="https://d2k1ftgv7pobq7.cloudfront.net/images/656dc3a1db8d11cde974d7402898fb75/TacoBouncer.png" width="459" height="238" alt="Bouncer Taco" title="Bouncer Taco" /> <h1> Roooooo are you? </h1> <p>Please confirm your email address to view this ');
e.b(e.v(e.f("modelType",b,d,0)));e.b('.</p> <div class="callout"> <ol> <li>Check your email at <strong>');e.b(e.v(e.f("email",b,d,0)));e.b('</strong>.</li> <li>Look for an email with the subject "Trello Account Confirmation."</li> <li>Click on the confirmation link. Done!</li> </ol> </div> <p>Don\'t see anything from us? <a class="quiet js-resend-confirmation-email" href="#" style="margin-left: 3px;">Resend confirmation link.</a></p> </div> ')}),c.pop());this.b(" ");return this.fl()},filter_cards:function(c,
b,d){this.b(d||"");this.b('<input type="text" class="js-input js-autofocus" attr="title" value="');this.b(this.v(this.f("title",c,b,0)));this.b('" style="margin-bottom: 0;"> <div class="js-filter-search-results"/> ');return this.fl()},filter_cards_search_results:function(c,b,d){this.b(d=d||"");this.s(this.f("showHelper",c,b,1),c,b,0,15,156,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <p class="quiet" style="padding: 10px 8px 2px; margin-bottom: 0;"> Type to filter by term or search for labels, members, or due times. </p> ')}),
c.pop());this.b(" ");this.s(this.f("showLabels",c,b,1),c,b,0,187,725,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <hr> <ul class="pop-over-label-list checkable');e.s(e.f("filtering",b,d,1),b,d,0,247,256,"{{ }}")&&(e.rs(b,d,function(b,d,f){f.b(" filtered")}),b.pop());e.b('"> ');e.s(e.f("labels",b,d,1),b,d,0,284,707,"{{ }}")&&(e.rs(b,d,function(b,d,f){f.b(' <li class="item');f.s(f.f("isActive",b,d,1),b,d,0,313,320,"{{ }}")&&(f.rs(b,d,function(b,d,f){f.b(" active")}),b.pop());f.s(f.f("matchesFilter",
b,d,1),b,d,0,351,366,"{{ }}")&&(f.rs(b,d,function(b,d,f){f.b(" matches-filter")}),b.pop());f.b('"> <a href="#" class="name js-toggle-label-filter" name="');f.b(f.v(f.f("color",b,d,0)));f.b('"> <span class="card-label card-label-');f.b(f.v(f.f("color",b,d,0)));f.b('"/> <span class="full-name"> ');f.s(f.f("labelName",b,d,1),b,d,0,540,555,"{{ }}")&&(f.rs(b,d,function(b,d,f){f.b(" ");f.b(f.v(f.f("labelName",b,d,0)));f.b(" ")}),b.pop());f.b(" ");f.s(f.f("labelName",b,d,1),b,d,1,0,0,"")||(f.b(' <span class="quiet">'),
f.b(f.v(f.f("color",b,d,0))),f.b(" label (default)</span> "));f.b(' </span> <span class="icon-sm icon-check"/> </a> </li> ')}),b.pop());e.b(" </ul> ")}),c.pop());this.b(" ");this.s(this.f("showMembers",c,b,1),c,b,0,757,1215,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <hr> <ul class="pop-over-member-list checkable js-mem-list');e.s(e.f("filtering",b,d,1),b,d,0,830,839,"{{ }}")&&(e.rs(b,d,function(b,d,f){f.b(" filtered")}),b.pop());e.s(e.f("limitMembers",b,d,1),b,d,0,870,878,"{{ }}")&&(e.rs(b,d,function(b,
d,f){f.b(" limited")}),b.pop());e.b('"> ');e.s(e.f("members",b,d,1),b,d,0,910,930,"{{ }}")&&(e.rs(b,d,function(b,d,f){f.b(" ");f.b(f.rp("select_member",b,d,""));f.b(" ")}),b.pop());e.b(" </ul> ");e.s(e.f("limitMembers",b,d,1),b,d,0,966,1197,"{{ }}")&&(e.rs(b,d,function(b,d,f){f.b(' <ul class="pop-over-list inset js-show-all-members-elem"> <li> <a href="#" class="name quiet js-show-all-members" style="padding-left: 50px; font-weight: normal;"> Show all members (');f.b(f.v(f.f("remainingMemsCount",
b,d,0)));f.b(" hidden) </a> </li> </ul> ")}),b.pop());e.b(" ")}),c.pop());this.b(" ");this.s(this.f("showDueTimes",c,b,1),c,b,0,1249,1559,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <hr> <ul class="pop-over-list checkable navigable inset normal-weight js-date-list"> ');e.s(e.f("dueOptions",b,d,1),b,d,0,1350,1537,"{{ }}")&&(e.rs(b,d,function(b,d,f){f.b(' <li class="item ');f.s(f.f("isActive",b,d,1),b,d,0,1380,1387,"{{ }}")&&(f.rs(b,d,function(b,d,f){f.b(" active")}),b.pop());f.b('"> <a href="#" class="js-due-filter" time="');
f.b(f.v(f.f("time",b,d,0)));f.b('" style="padding-left: 40px;"> ');f.b(f.v(f.f("desc",b,d,0)));f.b(' <span class="icon-sm icon-check"/> </a> </li> ')}),b.pop());e.b(" </ul> ")}),c.pop());this.b(' <hr> <ul class="pop-over-list inset normal-weight"> <li> <a href="#" class="js-clear-all');this.s(this.f("isFiltering",c,b,1),c,b,1,0,0,"")||this.b(" disabled");this.b('" style="padding-left: 40px;"> Clear Filter </a> </li> </ul> ');return this.fl()},formatting_help:function(c,b,d){this.b(d||"");this.b('<p> Trello uses Markdown for formatting. Here are the basics. See the <a href="http://daringfireball.net/projects/markdown/syntax" target="_blank">complete syntax</a>. </p> <hr> <p class="quiet">First Level Header</p> <code> Making Scrambled Eggs: A Primer<br> =============================== </code> <hr> <p class="quiet">Second Level Header</p> <code> 1.1: Preparation<br> ---------------- </code> <hr> <p class="quiet">Paragraphs</p> <code> Add two new lines to start a new paragraph. Crack two eggs into the bowl and whisk. </code> <hr> <p class="quiet">Bold</p> <code> **Carefully** crack the eggs. </code> <hr> <p class="quiet">Emphasis</p> <code> Whisk the eggs *vigorously*. </code> <hr> <p class="quiet">Lists</p> <code> Ingredients:<br><br> - Eggs<br> - Oil<br> - *Optional:* milk </code> <hr> <p class="quiet">Links</p> <code> To download a PDF version of the recipe, [click here](https://example.com/scrambled-eggs.pdf). </code> <hr> <p class="quiet">Images</p> <code> ![The Finished Dish](https://example.com/eggs.png) </code> ');
return this.fl()},gold_promo_button:function(c,b,d){this.b(d||"");this.b('<div class="gold-promo-button"> <a href="#" class="js-gold-promo"> <span class="icon-lg icon-crown icon-color"></span> <span class="text">Get Trello Gold</span> </a> </div> ');return this.fl()},header_account_menu:function(c,b,d){this.b(d=d||"");this.b('<ul class="pop-over-list"> <li> <a class="js-change-name-and-bio" href="#"> Change Name, Initials, or Bio </a> </li> <li> <a class="js-change-email" href="#"> Change Email Address </a> </li> <li> <a class="js-change-avatar" href="#"> Change Avatar </a> </li> <li> <a class="js-change-password" href="#"> ');
this.s(this.f("hasPassword",c,b,1),c,b,0,320,335,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b("Change Password")}),c.pop());this.s(this.f("hasPassword",c,b,1),c,b,1,0,0,"")||this.b("Set Password");this.b(' </a> </li> </ul> <hr> <ul class="pop-over-list"> <li> <a class="js-change-email-freq" href="#"> Change Notification Email Frequency </a> </li> ');this.s(this.f("canAllowDesktopNotifications",c,b,1),c,b,0,572,667,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <li> <a class="js-allow-desktop-notifications" href="#">Allow Desktop Notifications</a> </li> ')}),
c.pop());this.b(' </ul> <hr> <ul class="pop-over-list"> <li> <a class="js-toggle-cb-mode" href="#"> ');this.s(this.f("cbEnabled",c,b,1),c,b,0,797,805,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b("Disable ")}),c.pop());this.s(this.f("cbEnabled",c,b,1),c,b,1,0,0,"")||this.b("Enable ");this.b('Color Blind Friendly Mode </a> </li> </ul> <hr> <p class="bottom"> <a class="quiet-button" href="');this.b(this.v(this.f("memberAccountUrl",c,b,0)));this.b('">See all options</a> </p> ');return this.fl()},header_add_menu:function(c,
b,d){this.b(d||"");this.b('<ul class="pop-over-list"> <li> <a class="js-new-board" href="#"> New Board\u2026 <span class="sub-name"> A board is a collection of cards ordered in a list of lists. Use it to manage a project, track a collection, or organize anything. </span> </a> </li> <li> <a class="js-new-org" href="#"> New Organization\u2026 <span class="sub-name"> An organization is a group of boards and people. Use it to group boards in your company, team, or family. </span> </a> </li> </ul> ');
return this.fl()},header_announcements:function(c,b,d){this.b(d=d||"");this.s(this.f("announcements",c,b,1),c,b,0,18,37,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(" ");e.b(e.rp("announcement",b,d,""));e.b(" ")}),c.pop());this.b(' <div class="announcement-elsewhere"> <p class="quiet" style="margin: 0 4px 5px;"> For more updates, check out\u2026 </p> <a target="_blank" class="announcement-elsewhere-blog js-real-link js-blog" href="http://blog.trello.com" title="Trello Blog"> <span class="announcement-elsewhere-blog-icon icon-lg icon-board"/> <span class="underline">Trello Blog</span> </a> <a target="_blank" class="announcement-elsewhere-social js-real-link js-t" href="https://www.twitter.com/trello" title="@trello on Twitter"> <span class="icon-lg icon-twitter"/> </a> <a target="_blank" class="announcement-elsewhere-social js-real-link js-fb" href="https://www.facebook.com/TrelloApp" title="Trello on Facebook"> <span class="icon-lg icon-facebook"/> </a> <a target="_blank" class="announcement-elsewhere-social js-real-link js-g" href="https://plus.google.com/103127084407107005900/posts" title="Trello on Google+"> <span class="icon-lg icon-google"/> </a> </div> ');
return this.fl()},header_boards_menu_button:function(c,b,d){this.b(d||"");this.b('<a class="header-btn header-boards js-boards-menu" title="View list of boards" href="#"> <span class="header-btn-icon icon-lg icon-board light"/> <span class="header-btn-text">Boards</span> </a> ');return this.fl()},header_channel_picker:function(c,b,d){this.b(d=d||"");this.s(this.f("cookie",c,b,1),c,b,0,11,238,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <p>You have a version cookie set. This is a feature intended for client developers and testers and will prevent you from changing channels.</p> <input type="button" class="js-remove-cookie wide primary" value="Remove cookie"> ')}),
c.pop());this.b(" ");this.s(this.f("cookie",c,b,1),c,b,1,0,0,"")||(this.b(' <ul class="pop-over-list"> '),this.s(this.f("channels",c,b,1),c,b,0,302,447,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <li> <a class="js-select" href="#" name="');e.b(e.v(e.f("name",b,d,0)));e.b('"> ');e.b(e.v(e.f("displayName",b,d,0)));e.b(" ");e.s(e.f("active",b,d,1),b,d,0,382,424,"{{ }}")&&(e.rs(b,d,function(b,d,f){f.b(' <span class="icon-sm icon-check"></span> ')}),b.pop());e.b(" </a> </li> ")}),c.pop()),this.b(" <hr> "),
this.s(this.f("dev",c,b,1),c,b,0,474,560,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <li> <a class="js-select-dev" href="#" name="');e.b(e.v(e.f("name",b,d,0)));e.b('"> Pick a version... </a> </li> ')}),c.pop()),this.b(" </ul> "));this.b(" ");return this.fl()},header_invite:function(c,b,d){this.b(d=d||"");this.b('<div class="invited-message js-invited"> <a href="#" class="js-ignore-invite icon-lg icon-close dialog-close-button"></a> <h1> ');this.s(this.f("isInviter",c,b,1),c,b,0,141,287,"{{ }}")&&
(this.rs(c,b,function(b,d,e){e.b(" You invited ");e.b(e.v(e.d("ghost.fullName",b,d,0)));e.b(" to collaborate on <strong>");e.s(e.f("board",b,d,1),b,d,0,209,217,"{{ }}")&&(e.rs(b,d,function(b,d,f){f.b(f.v(f.f("name",b,d,0)))}),b.pop());e.s(e.f("organization",b,d,1),b,d,0,244,259,"{{ }}")&&(e.rs(b,d,function(b,d,f){f.b(f.v(f.f("displayName",b,d,0)))}),b.pop());e.b("</strong>. ")}),c.pop());this.b(" ");this.s(this.f("isInviter",c,b,1),c,b,1,0,0,"")||(this.b(" "),this.s(this.f("memberAdder",c,b,1),c,
b,0,333,364,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(e.v(e.f("fullName",b,d,0)));e.b(" has invited you to")}),c.pop()),this.s(this.f("memberAdder",c,b,1),c,b,1,0,0,"")||this.b("You've been invited to"),this.b(" collaborate on <strong>"),this.s(this.f("board",c,b,1),c,b,0,468,476,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(e.v(e.f("name",b,d,0)))}),c.pop()),this.s(this.f("organization",c,b,1),c,b,0,503,518,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(e.v(e.f("displayName",b,d,0)))}),c.pop()),this.b("</strong>. "));
this.b(" </h1> ");this.s(this.f("isLoggedIn",c,b,1),c,b,0,582,1301,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(" ");e.s(e.f("isInviter",b,d,1),b,d,1,0,0,"")||(e.b(' <p style="min-height: 20px;"> '),e.s(e.d("ghost.email",b,d,1),b,d,0,644,924,"{{ }}")&&(e.rs(b,d,function(b,d,f){f.b(" Your account ");f.s(f.f("avatarHash",b,d,1),b,d,0,673,824,"{{ }}")&&(f.rs(b,d,function(b,d,f){f.b(' <img class="inline-member-av" src="');f.b(f.v(f.f("__avatarDomain",b,d,0)));f.b("/");f.b(f.v(f.f("avatarHash",b,d,0)));
f.b('/30.png" alt="');f.b(f.v(f.f("fullName",b,d,0)));f.b(" (");f.b(f.v(f.f("username",b,d,0)));f.b(')" title="');f.b(f.v(f.f("fullName",b,d,0)));f.b(" (");f.b(f.v(f.f("username",b,d,0)));f.b(')" /> ')}),b.pop());f.b(" <strong>");f.b(f.v(f.f("fullName",b,d,0)));f.b(" (");f.b(f.v(f.f("username",b,d,0)));f.b(")</strong> hasn't logged in with ");f.b(f.v(f.d("ghost.email",b,d,0)));f.b(". ")}),b.pop()),e.b(" </p> "));e.b(" ");e.s(e.f("isInviter",b,d,1),b,d,0,975,1079,"{{ }}")&&(e.rs(b,d,function(b,d,f){f.b(' <a href="#" class="button js-create-new-account primary">Create New Account for ');
f.b(f.v(f.d("ghost.fullName",b,d,0)));f.b("</a> ")}),b.pop());e.b(" ");e.s(e.f("isInviter",b,d,1),b,d,1,0,0,"")||(e.b(' <a href="#" class="button js-join-model primary">Add This Email to My Account and Join '),e.b(e.v(e.f("modelType",b,d,0))),e.b('</a> <a href="#" class="button js-create-new-account">Create New Account</a> '));e.b(" ")}),c.pop());this.b(" ");this.s(this.f("isLoggedIn",c,b,1),c,b,1,0,0,"")||(this.b(' <a href="#" class="button primary js-join-model">Join '),this.b(this.v(this.f("modelType",
c,b,0))),this.b("</a> "));this.b(" </div> ");return this.fl()},header_logo:function(c,b,d){this.b(d||"");this.b('<a class="header-logo js-home-via-logo" href="/" title="Go back to your boards page."> <span class="header-logo-loading"></span> <span class="header-logo-default"></span> </a> ');return this.fl()},header_member_menu:function(c,b,d){this.b(d=d||"");this.b('<ul class="pop-over-list"> <li><a class="js-profile" href="');this.b(this.v(this.f("profileUrl",c,b,0)));this.b('">Profile</a></li> <li><a class="js-cards" href="');
this.b(this.v(this.f("cardsUrl",c,b,0)));this.b('">Cards</a></li> ');this.s(this.f("hasAccount",c,b,1),c,b,0,166,230,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b('<li><a class="js-billing" href="');e.b(e.v(e.f("billingUrl",b,d,0)));e.b('">Billing</a></li>')}),c.pop());this.b(' <li><a class="js-account" href="');this.b(this.v(this.f("accountUrl",c,b,0)));this.b('">Settings</a></li> </ul> <hr> <ul class="pop-over-list"> <li><a class="js-platforms" href="/platforms">Get the Phone and Tablet Apps!</a></li> <li><a class="js-help" href="/help">Help</a></li> <li><a class="js-reco" href="/recommend">Share Trello</a></li> </ul> <hr> <ul class="pop-over-list"> <li><a class="js-logout" href="#">Log Out');
this.s(this.f("canLogOut",c,b,1),c,b,1,0,0,"")||this.b("<br>(You\u2019ll need to set a password first!)");this.b("</a></li> </ul> ");return this.fl()},header_notification_list_menu:function(c,b,d){this.b(d=d||"");this.s(this.f("hasNotifications",c,b,1),c,b,1,0,0,"")||this.b(' <p class="empty" style="padding: 24px 6px;">No Notifications</p> ');this.b(" ");this.s(this.f("hasNotifications",c,b,1),c,b,0,130,530,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <ul class="pop-over-list"> <li> <a class="js-view-all-notifications" href="');
e.b(e.v(e.f("noteUrl",b,d,0)));e.b('">See All Notifications');e.b(e.v(e.f("unreadText",b,d,0)));e.b('</a> </li> <li> <a class="js-change-email-frequency" href="#">Change Notification Email Frequency</a> </li> ');e.s(e.f("canAllowDesktopNotifications",b,d,1),b,d,0,395,490,"{{ }}")&&(e.rs(b,d,function(b,d,f){f.b(' <li> <a class="js-allow-desktop-notifications" href="#">Allow Desktop Notifications</a> </li> ')}),b.pop());e.b(" </ul> ")}),c.pop());this.b(" ");return this.fl()},header_promo_nav:function(c,
b,d){this.b(d||"");this.b('<nav class="promo-nav"> <a href="/landing" id="navLanding">Home</a> <a href="/tour" id="navTour">Tour</a> <a href="/gold" id="navTrelloGold">Gold</a> <a href="/business-class" id="navBusinessClass">Business Class</a> <a href="http://blog.trello.com" target="_blank">Blog</a> </nav> ');return this.fl()},header_public_board:function(c,b,d){this.b(d=d||"");this.b('<p class="bottom"> ');this.s(this.f("interactions",c,b,1),c,b,0,36,109,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <span class="inline-block">Want to ');
e.b(e.v(e.f("interactions",b,d,0)));e.b(" these cards?</span> ")}),c.pop());this.b(' <span class="inline-block"> <a class="button primary js-real-link" href="');this.b(this.v(this.f("signupUrl",c,b,0)));this.b('" style="margin: 0 4px;">Sign up for free</a> or <a class="quiet js-real-link" href="');this.b(this.v(this.f("tourUrl",c,b,0)));this.b('">learn more about Trello</a> </span> </p> ');return this.fl()},header_search:function(c,b,d){this.b(d||"");this.b('<a href="#" class="header-btn show-search-btn js-show-search" title="Search for boards, cards, members, and organizations."> <span class="header-btn-icon icon-lg icon-search light"></span> </a> <div id="header-search"> <form> <label for="search-text">Global Search</label> <input id="search-text" type="text" autocomplete="off" autocorrect="off" spellcheck="false" value="');
this.b(this.v(this.f("query",c,b,0)));this.b('"> <input id="search-submit" type="submit" value="Search"> <a class="header-btn header-search js-search-submit" href="#" title="Search for boards, cards, members, and organizations."> <span class="header-btn-icon icon-lg icon-search light"/> </a> </form> </div> ');return this.fl()},header_signup_login:function(c,b,d){this.b(d||"");this.b('<a class="header-btn header-signup" href="/signup">Sign Up</a> <a class="header-btn header-login js-toggle-login-popover no-right-margin" href="/login">Log In</a> ');
return this.fl()},header_user:function(c,b,d){this.b(d=d||"");this.s(this.f("__loggedIn",c,b,1),c,b,0,15,1507,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(" ");e.s(e.f("is_promo",b,d,1),b,d,1,0,0,"")||(e.b(' <a class="header-btn header-btn-feedback js-open-feedback hide" title="You are seeing an early, experimental version of Trello. We would love your feedback!" href="#"> <span class="header-btn-icon icon-lg icon-comment light"></span> <span class="header-btn-text">Give us feedback.</span> </a> <a class="header-btn hide upgrade" href="#", onclick="window.location.reload();"><span class="icon-sm icon-reopen light"/><span class="header-btn-text">Update Available</span></a> <a class="header-btn js-open-add-menu" href="#" title="Add a new board or organization."> <span class="header-btn-icon icon-lg icon-add light"></span> </a> <a class="header-btn header-member js-open-header-member-menu" href="#" title="Get access to your profile, help, and log out."> <span class="member'),
e.s(e.f("hasTrelloGold",b,d,1),b,d,0,824,840,"{{ }}")&&(e.rs(b,d,function(b,d,f){f.b(" has-trello-gold")}),b.pop()),e.b('"></span> <span class="header-btn-text js-member-name"></span> </a> <a class="header-btn header-notifications js-open-header-notifications-menu" href="#"> <span class="header-btn-icon icon-lg icon-notification light"></span> </a> '),e.s(e.f("showChannelPicker",b,d,1),b,d,0,1110,1291,"{{ }}")&&(e.rs(b,d,function(b,d,f){f.b(' <a class="header-btn header-btn-channel-picker js-open-channel-picker" href="#" title="Select release channel."> <span class="header-btn-icon icon-lg icon-gear light"></span> </a> ')}),
b.pop()),e.b(" "));e.b(" ");e.s(e.f("is_promo",b,d,1),b,d,0,1341,1493,"{{ }}")&&(e.rs(b,d,function(b,d,f){f.b(' <a class="header-btn header-go-to-boards no-right-margin" href="/" title="Get back to the app."> <span class="member"></span> Go to Boards &rarr; </a> ')}),b.pop());e.b(" ")}),c.pop());this.b(" ");this.s(this.f("__loggedIn",c,b,1),c,b,1,0,0,"")||(this.b(" "),this.b(this.rp("header_signup_login",c,b,"")),this.b(" "));this.b(" ");return this.fl()},header_version_picker:function(c,b,d){this.b(d=
d||"");this.b('<div class="button-link setting" style="width: 255px; max-width: 255px; margin-bottom: 8px;"> <span class="label">Head</span> <span class="value">');this.b(this.v(this.d("active.name",c,b,0)));this.b('</span> <label>Head</label> <select class="js-select-head"> ');this.s(this.f("heads",c,b,1),c,b,0,231,366,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <option value="');e.b(e.v(e.f("name",b,d,0)));e.b('"');e.s(e.f("selected",b,d,1),b,d,0,269,289,"{{ }}")&&(e.rs(b,d,function(b,d,f){f.b(' selected="selected"')}),
b.pop());e.b("> ");e.b(e.v(e.f("displayName",b,d,0)));e.s(e.f("selected",b,d,1),b,d,0,332,342,"{{ }}")&&(e.rs(b,d,function(b,d,f){f.b(" (current)")}),b.pop());e.b(" </option> ")}),c.pop());this.b(" </select> </div> ");this.s(this.d("versions.1.name",c,b,1),c,b,0,414,853,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <div class="button-link setting" style="width: 255px; max-width: 255px; margin-bottom: 8px;"> <span class="label">Version</span> <span class="value">');e.b(e.v(e.d("active.version",b,d,
0)));e.b('</span> <label>Version</label> <select class="js-select-version"> ');e.s(e.f("versions",b,d,1),b,d,0,661,822,"{{ }}")&&(e.rs(b,d,function(b,d,f){f.b(' <option value="');f.b(f.v(f.f("name",b,d,0)));f.b('"');f.s(f.f("selected",b,d,1),b,d,0,699,719,"{{ }}")&&(f.rs(b,d,function(b,d,f){f.b(' selected="selected"')}),b.pop());f.b("> ");f.b(f.v(f.f("name",b,d,0)));f.s(f.f("active",b,d,1),b,d,1,0,0,"")||f.b(" (disabled)");f.s(f.f("selected",b,d,1),b,d,0,788,798,"{{ }}")&&(f.rs(b,d,function(b,d,f){f.b(" (current)")}),
b.pop());f.b(" </option> ")}),b.pop());e.b(" </select> </div> ")}),c.pop());this.b(" ");return this.fl()},header_warning_banner:function(c,b,d){this.b(d=d||"");this.b('<p class="bottom"> Please confirm your email address: ');this.b(this.v(this.f("email",c,b,0)));this.b(". ");this.s(this.f("knownEmailProvider",c,b,1),c,b,0,88,178,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b('<a href="');e.b(e.v(e.f("emailInboxUrl",b,d,0)));e.b('" class="quiet" style="margin-left: 6px;">Check your inbox.</a> ')}),c.pop());
this.b(' <a class="quiet js-resend-confirmation-email" href="#" style="margin-left: 3px;">Resend email.</a> </p> ');return this.fl()},header_warning_password:function(c,b,d){this.b(d||"");this.b('<p class="bottom"> We\u2019ve automatically created an account for ');this.b(this.v(this.f("email",c,b,0)));this.b(" with the username ");this.b(this.v(this.f("username",c,b,0)));this.b('. Please <a class="quiet js-change-password" href="/my/account">add a password</a>. </p> ');return this.fl()},hybrid_signup_login:function(c,
b,d){this.b(d=d||"");this.b('<div class="form-parts-container clearfix"> <div class="form-tabs js-tabs"> <a class="signup-form-tab js-tab active" data-content="signup-form">Sign Up</a> <a class="login-form-tab js-tab" data-content="login-form">Log In</a> </div> <div class="signup-form js-signup-form-pos js-form-part js-tab-content');this.s(this.f("hasAccount",c,b,1),c,b,1,0,0,"")||this.b(" js-default-active");this.b('" data-id="signup-form"> <h1>New to Trello?</h1> <p>Create an account to edit this board, create new boards, and more.</p> <div class="tooltip js-insert-tooltip"></div> <form action="/signup-invitation" method="post"> <div class="quiet js-bad-full-name hide"> Your name must be at least 4 characters. </div> <label for="display-name-create"> Full Name </label> <input type="text" name="fullName" id="display-name-create" value="');
this.b(this.v(this.f("fullName",c,b,0)));this.b('"> <div class="js-use-diff-email"> <div class="quiet js-bad-email hide"> You must enter a valid email address. </div> <div class="quiet js-used-email hide"> That email address is in use. </div> <label for="email-create"> Email </label> <input type="email" name="email" id="email-create" value="');this.b(this.v(this.f("email",c,b,0)));this.b('" autocomplete="off" autocorrect="off" spellcheck="false" autocapitalize="off"> </div> <div class="quiet js-bad-password hide"> Your password must be at least 4 characters. </div> <label for="password-create"> Password </label> <input type="password" name="password" id="password-create"> <input type="hidden" name="returnUrl" value="');
this.b(this.v(this.f("returnUrl",c,b,0)));this.b('"> <input type="hidden" name="idModel" value=""> <input type="hidden" name="type" value=""> <input type="hidden" name="token" value=""> <input type="submit" class="primary js-create-account" value="Okay, Let\'s Go!"> </form> </div> <div class="login-form js-login-form-pos js-form-part js-tab-content');this.s(this.f("hasAccount",c,b,1),c,b,0,1755,1773,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(" js-default-active")}),c.pop());this.b('" data-id="login-form"> <h1>Hello, old friend!</h1> <p>Log in with your: </p> <form action="/authenticate_openid" method="post"> <input type="hidden" name="openid_identifier" value="https://www.google.com/accounts/o8/id"> <input type="hidden" name="returnUrl" value="');
this.b(this.v(this.f("returnUrl",c,b,0)));this.b('"> <input type="hidden" name="mode" value=""> <input type="hidden" name="login" value=""> <input type="hidden" name="immediate" value=""> <input type="hidden" name="confirmNew" value="true"> <a class="button primary google js-google-login" href=""> <span class="icon-lg icon-google light"></span> Google Account </a> ');this.s(this.f("openidAccount",c,b,1),c,b,0,2403,2538,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(" <p>It looks like you haven't set a password yet. You can do this from the Account page after logging in with your Google Account.</p> ")}),
c.pop());this.b(' </form> <p>Or the old-fashioned way:</p> <form action="/authenticate" method="post" novalidate> ');this.s(this.f("badLogin",c,b,1),c,b,0,2666,2725,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <p class="error">The email or password was incorrect.</p> ')}),c.pop());this.b(" ");this.s(this.f("unconfirmed",c,b,1),c,b,0,2755,2862,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <p class="error">You can\'t sign in until you <a href="/resendValidate">verify your email address</a>.</p> ')}),
c.pop());this.b(' <label for="email-login"> Email </label> <input type="email" name="user" id="email-login" value="');this.b(this.v(this.f("email",c,b,0)));this.b('" autocomplete="off" autocorrect="off" spellcheck="false" autocapitalize="off"> <label for="password-login"> Password </label> <input type="password" name="password" id="password-login"> <input type="submit" class="primary wide js-password-login" value="Log In"> <p class="quiet"> <a href="/forgot"><strong>Forgot password?</strong></a> </p> <input type="hidden" name="returnUrl" value="');
this.b(this.v(this.f("returnUrl",c,b,0)));this.b('"> </form> </div> <div class="active-box js-active-box start"></div> </div> ');return this.fl()},"import/status":function(c,b,d){this.b(d=d||"");this.s(this.f("workspaces",c,b,1),c,b,0,15,150,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(" ");e.s(e.f("total",b,d,1),b,d,0,26,139,"{{ }}")&&(e.rs(b,d,function(b,d,f){f.b(' <div> <span class="import-type">Groups:</span> <span class="import-progress">');f.b(f.v(f.f("done",b,d,0)));f.b(" / ");f.b(f.v(f.f("total",
b,d,0)));f.b("</span> </div> ")}),b.pop());e.b(" ")}),c.pop());this.b(" ");this.s(this.f("projects",c,b,1),c,b,0,179,316,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(" ");e.s(e.f("total",b,d,1),b,d,0,190,305,"{{ }}")&&(e.rs(b,d,function(b,d,f){f.b(' <div> <span class="import-type">Projects:</span> <span class="import-progress">');f.b(f.v(f.f("done",b,d,0)));f.b(" / ");f.b(f.v(f.f("total",b,d,0)));f.b("</span> </div> ")}),b.pop());e.b(" ")}),c.pop());this.b(" ");this.s(this.f("tasks",c,b,1),c,b,0,340,
474,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(" ");e.s(e.f("total",b,d,1),b,d,0,351,463,"{{ }}")&&(e.rs(b,d,function(b,d,f){f.b(' <div> <span class="import-type">Tasks:</span> <span class="import-progress">');f.b(f.v(f.f("done",b,d,0)));f.b(" / ");f.b(f.v(f.f("total",b,d,0)));f.b("</span> </div> ")}),b.pop());e.b(" ")}),c.pop());this.b(" ");this.s(this.f("done",c,b,1),c,b,0,494,514,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(" <div> Done! </div> ")}),c.pop());this.b(" ");return this.fl()},invitation:function(c,
b,d){this.b(d=d||"");this.b('<div class="phenom invitation"> ');this.s(this.f("MemberInviter",c,b,1),c,b,0,50,107,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <div class="creator member no-menu"> ');e.b(e.rp("member",b,d,""));e.b(" </div> ")}),c.pop());this.b(' <div class="phenom-desc"> <p> ');this.s(this.f("MemberInviter",c,b,1),c,b,0,174,232,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(" <strong> ");e.b(e.v(e.f("fullName",b,d,0)));e.b(" </strong> created an invitation to ")}),c.pop());this.b(' <span class="invitee"> ');
this.s(this.f("MemberInvited",c,b,1),c,b,0,292,310,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(e.rp("member_inline",b,d,""))}),c.pop());this.b(" ");this.s(this.f("MemberInvited",c,b,1),c,b,1,0,0,"")||(this.b(this.v(this.f("email",c,b,0))),this.s(this.f("email",c,b,1),c,b,1,0,0,"")||this.b("someone new"));this.b(' </span> </p> </div> <p class="phenom-meta quiet"> ');this.s(this.f("dateExpires",c,b,1),c,b,0,472,566,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <span class="expiration-date">Expires <span class="date" dt="');
e.b(e.v(e.f("dateExpires",b,d,0)));e.b('"></span></span> ')}),c.pop());this.b(" ");this.s(this.f("canRemove",c,b,1),c,b,0,597,676,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' - <a href="#" class="inline-block js-remove-invitation">Delete Invitation</a> ')}),c.pop());this.b(" </p> </div> ");return this.fl()},invite_add_name:function(c,b,d){this.b(d=d||"");this.b('<p class="quiet"> <strong>');this.b(this.v(this.f("email",c,b,0)));this.b('</strong>? We don\u2019t know that person. Add a name and click \u201cSend\u201d and we\u2019ll add a virtual member and send them an invite email. They\'ll automatically receive access to the board once they sign up and confirm their email address. </p> <p class="error hide js-name-error">Full name must be more than 4 characters.</p> <form class="js-email-data"> <label> Full Name </label> <input type="text" class="js-autofocus js-full-name" value="');
this.b(this.v(this.f("fullName",c,b,0)));this.b('"> <input type="hidden" class="js-email" value="');this.b(this.v(this.f("email",c,b,0)));this.b('"> ');this.s(this.f("canAddAsObserver",c,b,1),c,b,0,560,834,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <span class="check-div quiet js-add-as-observer clearfix" style="margin: 4px 8px 8px; padding-top: 2px; font-size: 12px; line-height: 15px;"> <input type="checkbox" id="addAsObserver"> <label for="addAsObserver">Include this member as a view-only observer?</label> </span> ')}),
c.pop());this.b(' <input type="submit" class="wide primary js-send-email-invite" value="Send"> </form> ');return this.fl()},kiln_changeset_preview:function(c,b,d){this.b(d=d||"");this.b('<div class="attachment-extra-info-header"> Changeset <a href="');this.b(this.v(this.f("url",c,b,0)));this.b('" target="_blank">');this.b(this.v(this.f("shortHash",c,b,0)));this.b("</a> by ");this.b(this.v(this.f("author",c,b,0)));this.b(" - ");this.s(this.f("reviews",c,b,1),c,b,1,0,0,"")||this.b(' <span class="quiet">No Review</span> ');
this.b(" ");this.s(this.f("reviews",c,b,1),c,b,0,196,275,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <span class="quiet"> <a href="');e.b(e.v(e.f("url",b,d,0)));e.b('" target="_blank">');e.b(e.v(e.f("status",b,d,0)));e.b("</a> </span> ")}),c.pop());this.b(' </div> <div class="attachment-extra-info-details markeddown"> ');this.b(this.t(this.f("commitMessageHtml",c,b,0)));this.b(" </div> ");return this.fl()},kiln_changeset_thumbnail:function(c,b,d){this.b(d=d||"");this.b('<span title="');this.b(this.v(this.f("commitMessage",
c,b,0)));this.b('">');this.b(this.v(this.f("shortCommitMessage",c,b,0)));this.b('</span> <span class="block quiet"> ');this.s(this.f("date",c,b,1),c,b,0,98,157,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b('<span>Added <span class="date" dt="');e.b(e.v(e.f("date",b,d,0)));e.b('"></span></span>')}),c.pop());this.b(" - ");this.s(this.f("reviews",c,b,1),c,b,1,0,0,"")||this.b(" <span>No Review</span> ");this.b(" ");this.s(this.f("reviews",c,b,1),c,b,0,230,295,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <span> <a href="');
e.b(e.v(e.f("url",b,d,0)));e.b('" target="_blank">');e.b(e.v(e.f("status",b,d,0)));e.b("</a> </span> ")}),c.pop());this.b(" </span> ");return this.fl()},label:function(c,b,d){this.b(d=d||"");this.b('<span class="card-label card-label-');this.b(this.v(this.f("color",c,b,0)));this.b('" title="');this.s(this.f("name",c,b,1),c,b,0,62,70,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(e.v(e.f("name",b,d,0)))}),c.pop());this.s(this.f("name",c,b,1),c,b,1,0,0,"")||(this.b(this.v(this.f("color",c,b,0))),this.b(" label (default)"));
this.b('"> ');this.s(this.f("name",c,b,1),c,b,0,134,142,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(e.v(e.f("name",b,d,0)))}),c.pop());this.b(" ");this.s(this.f("name",c,b,1),c,b,1,0,0,"")||this.b("&nbsp;");this.b(" </span> ");return this.fl()},list:function(c,b,d){this.b(d=d||"");this.b('<div class="list-header js-list-header non-empty clearfix" attr="name"> <h2 class="list-header-name hide-on-edit js-list-name current">');this.b(this.v(this.f("name",c,b,0)));this.b('</h2> <p class="list-header-num-cards hide js-num-cards"></p> <span class="list-header-subscribe-icon icon-sm icon-follow js-list-subscribed');
this.s(this.f("subscribed",c,b,1),c,b,1,0,0,"")||this.b(" hide");this.b('"/> <div class="edit edit-heavy clearfix"> <textarea type="text" class="field single-line"></textarea> </div> ');this.s(this.f("__loggedIn",c,b,1),c,b,0,443,538,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <a href="#" class="list-header-menu-icon icon-sm icon-menu dark-hover js-open-list-menu"></a> ')}),c.pop());this.b(' </div> <div class="list-cards fancy-scrollbar clearfix js-list-cards ');this.s(this.f("__ed",c,b,1),c,b,0,
632,643,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b("js-sortable")}),c.pop());this.b('"></div> <a class="open-card-composer js-open-card-composer" href="#">Add a card\u2026</a> ');return this.fl()},list_add:function(c,b,d){this.b(d||"");this.b('<form> <span class="placeholder js-open-add-list">Add a list\u2026</span> <input type="text" class="list-name-input" name="name" placeholder="Add a list\u2026" autocomplete="off"/> <div class="edit-controls keep clearfix"> <input type="submit" class="primary confirm js-save-edit" value="Save"> <a href="#" class="icon-lg icon-close dark-hover cancel js-cancel-edit"></a> </div> </form> ');
return this.fl()},list_bulk_card_move:function(c,b,d){this.b(d=d||"");this.b('<form> <ul class="pop-over-list js-list-list"> ');this.s(this.f("lists",c,b,1),c,b,0,57,216,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <li> <a href="#" class="js-select-list highlight-icon ');e.s(e.f("current",b,d,1),b,d,0,124,133,"{{ }}")&&(e.rs(b,d,function(b,d,f){f.b(" disabled")}),b.pop());e.b('" name="');e.b(e.v(e.f("id",b,d,0)));e.b('"> ');e.b(e.v(e.f("name",b,d,0)));e.s(e.f("current",b,d,1),b,d,0,182,192,"{{ }}")&&
(e.rs(b,d,function(b,d,f){f.b(" (current)")}),b.pop());e.b(" </a> </li> ")}),c.pop());this.b(" </ul> </form> ");return this.fl()},list_copy:function(c,b,d){this.b(d||"");this.b('<label>Name</label> <textarea name="name" class="js-autofocus">');this.b(this.v(this.f("name",c,b,0)));this.b('</textarea> <input type="submit" class="primary wide js-submit" value="Create List"> ');return this.fl()},list_guide_link:function(c,b,d){this.b(d||"");this.b('<p class="list-link"> <strong>');this.b(this.v(this.f("name",
c,b,0)));this.b('</strong><br> <span class="list-link-sub">');this.b(this.v(this.f("countStr",c,b,0)));this.b("</span> </p> ");return this.fl()},list_inline:function(c,b,d){this.b(d||"");this.b(' list "');this.b(this.v(this.f("name",c,b,0)));this.b('" ');return this.fl()},list_menu:function(c,b,d){this.b(d=d||"");this.b('<ul class="pop-over-list"> ');this.s(this.f("__ed",c,b,1),c,b,0,36,206,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <li><a class="js-add-card" href="#">Add Card\u2026</a></li> <li><a class="js-copy-list" href="#">Copy List\u2026</a></li> <li><a class="js-move-list" href="#">Move List\u2026</a></li> ')}),
c.pop());this.b(' <li><a class="highlight-icon js-list-subscribe" href="#">Subscribe');this.s(this.f("subscribed",c,b,1),c,b,0,297,333,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b('d <span class="icon-sm icon-check"/>')}),c.pop());this.b("</a></li> </ul> ");this.s(this.f("__ed",c,b,1),c,b,0,373,570,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <hr> <ul class="pop-over-list"> <li><a class="js-move-cards" href="#">Move All Cards in This List\u2026</a></li> <li><a class="js-archive-cards" href="#">Archive All Cards in This List\u2026</a></li> </ul> ')}),
c.pop());this.b(" ");this.s(this.f("__ed",c,b,1),c,b,0,589,693,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <hr> <ul class="pop-over-list"> <li><a class="js-close-list" href="#">Archive This List</a></li> </ul> ')}),c.pop());this.b(" ");return this.fl()},login_popover:function(c,b,d){this.b(d=d||"");this.b('<form action="/authenticate" method="post" novalidate> ');this.s(this.f("badLogin",c,b,1),c,b,0,68,127,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <p class="error">The email or password was incorrect.</p> ')}),
c.pop());this.b(" ");this.s(this.f("unconfirmed",c,b,1),c,b,0,157,264,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <p class="error">You can\u2019t sign in until you <a href="/resendValidate">verify your email address</a>.</p> ')}),c.pop());this.b(' <label for="email-login"> Email </label> <input type="email" name="user" id="email-login" value="');this.b(this.v(this.f("email",c,b,0)));this.b('" class="js-autofocus" autocomplete="off" autocorrect="off" spellcheck="false" autocapitalize="off"> <label for="password-login"> Password </label> <input type="password" name="password" id="password-login"> <input type="submit" class="primary wide js-password-login" value="Log In"> <p class="quiet" style="margin-top: 16px;"> <a href="/forgot"><strong>Forgot password?</strong></a> </p> <p class="quiet"> New? <a href="/signup');
this.s(this.f("returnUrl",c,b,1),c,b,0,829,853,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b("?returnUrl=");e.b(e.v(e.f("returnUrl",b,d,0)))}),c.pop());this.b('"><strong>Create an Account.</strong></a> </p> <input type="hidden" name="returnUrl" value="');this.b(this.v(this.f("returnUrl",c,b,0)));this.b('"> </form> <form action="/authenticate_openid" method="post" style="margin-top: 16px;"> <label> Or log in with: </label> <input type="hidden" name="openid_identifier" value="https://www.google.com/accounts/o8/id"> <input type="hidden" name="returnUrl" value="');
this.b(this.v(this.f("returnUrl",c,b,0)));this.b('"> <input type="hidden" name="mode" value=""> <input type="hidden" name="login" value=""> <input type="hidden" name="immediate" value=""> <input type="hidden" name="confirmNew" value="true"> <a class="button with-icon primary google js-google-login" href=""> <span class="icon-sm icon-google light"/> Google Account </a> ');this.s(this.f("openidAccount",c,b,1),c,b,0,1583,1718,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(" <p>It looks like you haven\u2019t set a password yet. You can do this from the Account page after logging in with your Google Account.</p> ")}),
c.pop());this.b(" </form> ");return this.fl()},manage_members:function(c,b,d){this.b(d=d||"");this.s(this.f("canInviteMembers",c,b,1),c,b,0,21,424,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <div class="search-with-spinner js-search-section"> <input type="text" class="js-search-input js-autofocus" style="margin-bottom: 0;"> <div class="spinner small hide js-loading"></div> </div> <div class="manage-member-section js-helper"> <p class="bottom quiet" style="padding: 6px;"> Search for a person in Trello by name or email address, or enter an email address to invite someone new. </p> </div> ')}),
c.pop());this.b(" ");this.s(this.f("disableAddingExternalMembers",c,b,1),c,b,0,479,1014,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <div class="search-with-spinner js-search-section"> <input type="text" class="js-search-input js-autofocus" style="margin-bottom: 0;"> <div class="spinner small hide js-loading"></div> </div> <p class="warning"> Only organization members can be added to this board. ');e.s(e.f("isBCOrgAdmin",b,d,1),b,d,0,763,898,"{{ }}")&&(e.rs(b,d,function(b,d,f){f.b(' To change this, visit the <a href="');
f.b(f.v(f.f("orgSettingsURL",b,d,0)));f.b('">Organization Settings page</a> and click \u201cInviting Non-Org Members to Boards\u201d. ')}),b.pop());e.b(" ");e.s(e.f("isBCOrgAdmin",b,d,1),b,d,1,0,0,"")||e.b(" Check with an organization admin to change this setting. ");e.b(" </p> ")}),c.pop());this.b(' <div class="manage-member-section hide js-board-members"> <ul class="pop-over-member-list options js-list"></ul> </div> <div class="manage-member-section hide"> <h4>Error</h4> <p class="error">The user or email could not be invited due to an organization restriction.</p> </div> <div class="manage-member-section hide js-error"> <p class="error" style="margin: 16px 8px 6px;"/> </div> ');
this.s(this.f("canAddMembers",c,b,1),c,b,0,1451,2515,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <div class="manage-member-section hide js-uninvited-search-results"></div> <div class="manage-member-section hide js-search-results"> <h4>Select to add.</h4> <ul class="pop-over-member-list options js-list"></ul> </div> <div class="manage-member-section hide js-no-results"> <p class="quiet center" style="padding: 16px 4px;">No results</p> </div> <div class="manage-member-section hide js-org-members"> <h4>');
e.b(e.v(e.f("orgName",b,d,0)));e.b(' Members</h4> <ul class="pop-over-member-list options clearfix js-list');e.s(e.f("orgMemsView",b,d,1),b,d,0,1957,1967,"{{ }}")&&(e.rs(b,d,function(b,d,f){f.b(" collapsed")}),b.pop());e.b('" ');e.s(e.f("orgMemsView",b,d,1),b,d,0,2001,2028,"{{ }}")&&(e.rs(b,d,function(b,d,f){f.b('style="margin-bottom: 8px;"')}),b.pop());e.b('></ul> <a href="#" class="quiet-button js-add-all-org-members" style="margin-top: 8px;">Add All Organization Members (<span class="js-num-org-mem"></span>)</a> <a href="#" class="quiet-button js-more-org-members hide" style="margin-top: 8px;">View All Members</a> ');
e.s(e.f("permissionLevel_private",b,d,1),b,d,1,0,0,"")||(e.b(" "),e.s(e.f("selfJoin_false",b,d,1),b,d,0,2356,2459,"{{ }}")&&(e.rs(b,d,function(b,d,f){f.b('<a href="#" class="quiet-button js-enable-self-join" style="margin-top: 8px;">Allow Members to Join</a>')}),b.pop()),e.b(" "));e.b(" </div> ")}),c.pop());this.b(" ");this.s(this.f("canInviteMembers",c,b,1),c,b,0,2555,2582,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <div class="js-ad"></div> ')}),c.pop());this.b(" ");return this.fl()},manage_members_select_role:function(c,
b,d){this.b(d=d||"");this.b('<ul class="pop-over-list"> ');this.s(this.f("showAdmin",c,b,1),c,b,0,41,160,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <li> <a href="#" class="js-invite js-select-admin"> Admin <span class="sub-name">');e.b(e.v(e.f("roleText_admin",b,d,0)));e.b("</span> </a> </li> ")}),c.pop());this.b(' <li> <a href="#" class="js-invite js-select-member"> Normal <span class="sub-name">');this.b(this.v(this.f("roleText_normal",c,b,0)));this.b("</span> </a> </li> ");this.s(this.f("showObserver",
c,b,1),c,b,0,313,510,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <li> <a href="#" class="js-invite js-select-observer"> Observer <span class="icon-sm icon-briefcase icon-briefcase-bc-color"></span> <span class="sub-name">');e.b(e.v(e.f("roleText_observer",b,d,0)));e.b("</span> </a> </li> ")}),c.pop());this.b(" </ul> ");return this.fl()},manual_base:function(c,b,d){this.b(d||"");this.b('<div class="window-header clearfix"> <span class="window-header-icon icon-lg icon-info"/> <h2 class="window-title"> ');
this.b(this.v(this.f("title",c,b,0)));this.b(" </h2> </div> ");this.b(this.t(this.f("manual_content",c,b,0)));this.b(" ");return this.fl()},manual_help:function(c,b,d){this.b(d=d||"");this.b('<div class="manual-module-list"> <a class="manual-item helpdot js-help-main-helpdot" target="_blank" href="http://help.trello.com?source=');this.s(this.f("ab_gethelp",c,b,1),c,b,0,152,159,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b("gethelp")}),c.pop());this.s(this.f("ab_gethelp",c,b,1),c,b,1,0,0,"")||this.b("helpdot");
this.b('"> <span class="url"> <span class="help-email-frown"/> ');this.s(this.f("ab_gethelp",c,b,1),c,b,0,281,289,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b("Get Help")}),c.pop());this.s(this.f("ab_gethelp",c,b,1),c,b,1,0,0,"")||this.b("help.trello.com");this.b(' <span class="help-email-smile"/> </span> <span class="manual-item-sub-text"> What\u2019s Trello? How do I add a user? How do I file a bug report? All your questions answered at help.trello.com. </span> </a> <a class="manual-item js-help-main-shortcuts" href="/shortcuts"> <span class="manual-item-title"> Keyboard Shortcuts </span> <span class="manual-item-sub-text"> Trello is packed with keyboard shortcuts so you can work faster. Press \u201c?\u201d to bring them up at any time. </span> </a> <a class="manual-item js-help-main-dev" href="https://trello.com/b/nC8QJJoZ/trello-development"> <span class="manual-item-title"> Trello Development Board </span> <span class="manual-item-sub-text"> Trello is built in public using Trello. See what\u2019s next at trello.com/dev. </span> </a> <hr> <a class="manual-item manual-item-business-class js-help-main-bc" href="/business-class"> <span class="manual-item-title"> <span class="manual-item-product-mark business-class-mark"/> Business Class </span> <span class="manual-item-sub-text"> Get all the power of organizations \u2014 including unlimited boards and members \u2014 plus extra administrative features, for ');
this.b(this.v(this.f("bcMonthlyPrice",c,b,0)));this.b('/month. </span> </a> <a class="manual-item manual-item-trello-gold js-help-main-bc" href="/gold"> <span class="manual-item-title"> <span class="manual-item-product-mark trello-gold-mark"/> Trello Gold </span> <span class="manual-item-sub-text"> Support Trello and get extra bits of fun and functionality for your account, including\u2026 additional stickers and board backgrounds, custom emoji, larger file uploads, and more\u2026 for ');this.b(this.v(this.f("goldMonthlyPrice",
c,b,0)));this.b('/month or invite others to get it for free. </span> </a> </div> <div class="manual-module-list clearfix"> <h3 class="manual-module-list-header">Apps</h3> <hr> <a class="manual-item app ios js-real-link js-help-main-iphone" target="_blank" href="http://itunes.apple.com/us/app/trello/id461504587" title="Trello for iPhone and iPad"> <div class="img-wrapper"> <span class="img"/> </div> <span class="fade"/> <span class="manual-item-title">iPhone & iPad</span> </a> <a class="manual-item app android js-real-link js-help-main-android" target="_blank" href="https://play.google.com/store/apps/details?id=com.trello" title="Trello Android App"> <div class="img-wrapper"> <span class="img"/> </div> <span class="fade"/> <span class="manual-item-title">Android</span> </a> <a class="manual-item app win8 js-real-link js-help-main-win8" target="_blank" href="http://apps.microsoft.com/windows/en-us/app/trello/bd4fa6c1-0994-4caa-b0e1-04eec135667b" title="Windows 8 Trello App"> <div class="img-wrapper"> <span class="img"/> </div> <span class="fade"/> <span class="manual-item-title">Windows 8</span> </a> </div> <div class="manual-module-list clearfix"> <h3 class="manual-module-list-header">Updates</h3> <hr> <a class="manual-item social js-help-main-blog" href="http://blog.trello.com/"> <span class="icon-lg icon-board"/> <span class="manual-item-title">Blog</span> </a> <a class="manual-item social js-help-main-twitter" target="_blank" href="https://www.twitter.com/trello" title="Trello on Twitter"> <span class="icon-lg icon-twitter icon-twitter-brand-color"/> <span class="manual-item-title">Twitter</span> </a> <a class="manual-item social js-help-main-facebook" target="_blank" href="https://www.facebook.com/TrelloApp" title="Trello on Facebook"> <span class="icon-lg icon-facebook icon-facebook-brand-color"/> <span class="manual-item-title">Facebook</span> </a> <a class="manual-item social js-help-main-google" target="_blank" href="https://plus.google.com/103127084407107005900/posts" title="Trello on Google+"> <span class="icon-lg icon-google icon-google-brand-color"/> <span class="manual-item-title">Google+</span> </a> </div> <div class="manual-module-list quiet center"> <hr> <p style="margin-bottom: 16px;"> Made in New York City by Fog Creek Software. </p> <a href="http://www.fogcreek.com" target="_blank" class="js-help-main-fogcreek"> <img src="https://d2k1ftgv7pobq7.cloudfront.net/images/5328bfe21f2e6cfd016b4e3a3141aa7c/fog_creek_logo.png" width="179" height="40"> </a> </div> <div class="manual-module-list"> <hr> <ul class="manual-module-list-links quiet"> <li> <a class="js-help-main-api js-real-link" href="https://trello.com/docs/">Developer API</a> </li> <li> <a class="js-help-main-resources js-real-link" href="/resources">Resources</a> </li> <li> <a class="js-help-main-privacy js-real-link" href="/privacy">Privacy</a> </li> <li> <a class="js-help-main-legal js-real-link" href="/legal">Terms of Service</a> </li> </ul> </div> ');
return this.fl()},manual_shortcuts:function(c,b,d){this.b(d||"");this.b('<div class="manual-shortcut-list markeddown"> <hr> <div class="manual-shortcut-list-item"> <div class="manual-shortcut-list-item-keys"> <span class="manual-shortcut-list-item-keys-key">&larr;</span> <span class="manual-shortcut-list-item-keys-key">&darr; / J</span> <span class="manual-shortcut-list-item-keys-key">&uarr; / K</span> <span class="manual-shortcut-list-item-keys-key">&rarr;</span> </div> <h3 class="manual-shortcut-list-item-header">Navigate Cards</h3> <p> Pressing the arrow keys will select adjacent cards on a board. Pressing \u201cj\u201d will select the card below the current card. Pressing \u201ck\u201d will select the card above the current card. </p> </div> <div class="manual-shortcut-list-item"> <div class="manual-shortcut-list-item-keys"> <span class="manual-shortcut-list-item-keys-key">B</span> </div> <h3 class="manual-shortcut-list-item-header">Open Header Boards Menu</h3> <p> Pressing \u201cb\u201d opens the boards menu in the header. You can search for boards and navigate boards with the up and down arrows. Pressing enter with a board selected will open it. </p> </div> <div class="manual-shortcut-list-item"> <div class="manual-shortcut-list-item-keys"> <span class="manual-shortcut-list-item-keys-key">/</span> </div> <h3 class="manual-shortcut-list-item-header">Focus Search Box</h3> <p> Pressing \u201c/\u201d puts the cursor in the search box in the header. </p> </div> <div class="manual-shortcut-list-item"> <div class="manual-shortcut-list-item-keys"> <span class="manual-shortcut-list-item-keys-key">C</span> </div> <h3 class="manual-shortcut-list-item-header">Archive Card</h3> <p> Pressing \u201cc\u201d will archive a card. </p> </div> <div class="manual-shortcut-list-item"> <div class="manual-shortcut-list-item-keys"> <span class="manual-shortcut-list-item-keys-key">D</span> </div> <h3 class="manual-shortcut-list-item-header">Due Date</h3> <p> Pressing \u201cd\u201d will open the due date picker for a card. </p> </div> <div class="manual-shortcut-list-item"> <div class="manual-shortcut-list-item-keys"> <span class="manual-shortcut-list-item-keys-key">E</span> </div> <h3 class="manual-shortcut-list-item-header">Edit the Card Description</h3> <p> If viewing a card, pressing \u201ce\u201d will edit the description. If hovering over a card, pressing \u201ce\u201d will open the card and edit the description. </p> </div> <div class="manual-shortcut-list-item"> <div class="manual-shortcut-list-item-keys"> <span class="manual-shortcut-list-item-keys-key">ESC</span> </div> <h3 class="manual-shortcut-list-item-header">Close Menu / Cancel Editing</h3> <p> Pressing \u201cesc\u201d will close an open dialog window or pop-over or cancel edits and comments you are composing. </p> </div> <div class="manual-shortcut-list-item"> <div class="manual-shortcut-list-item-keys"> <span class="manual-shortcut-list-item-keys-key">ENTER</span> </div> <h3 class="manual-shortcut-list-item-header">Open Card</h3> <p> Pressing \u201center\u201d will open the currently selected card. Pressing \u201cshift + enter\u201d while submitting a card will open it immediately after creating it. </p> </div> <div class="manual-shortcut-list-item"> <div class="manual-shortcut-list-item-keys"> <span class="manual-shortcut-list-item-keys-key">F</span> </div> <h3 class="manual-shortcut-list-item-header">Open Card Filter Menu</h3> <p> Use \u201cf\u201d to open the card filter menu. The search by title input is automatically focused. </p> </div> <div class="manual-shortcut-list-item"> <div class="manual-shortcut-list-item-keys"> <span class="manual-shortcut-list-item-keys-key">L</span> </div> <h3 class="manual-shortcut-list-item-header">Label</h3> <p> Pressing \u201cl\u201d opens a pop-over of the available labels. Clicking a label will add or remove it from the card. </p> <p> Pressing one of the following number keys, will apply or remove that label. </p> <table> <thead> <tr> <th>Key</th> <th>Label Color</th> </tr> </thead> <tbody> <tr> <td>1</td> <td>Green</td> </tr> <tr> <td>2</td> <td>Yellow</td> </tr> <tr> <td>3</td> <td>Orange</td> </tr> <tr> <td>4</td> <td>Red</td> </tr> <tr> <td>5</td> <td>Purple</td> </tr> <tr> <td>6</td> <td>Blue</td> </tr> </tbody> </table> </div> <div class="manual-shortcut-list-item"> <div class="manual-shortcut-list-item-keys"> <span class="manual-shortcut-list-item-keys-key">M</span> </div> <h3 class="manual-shortcut-list-item-header">Add / Remove Members</h3> <p> Pressing \u201cm\u201d opens the add / remove members menu. Clicking a member\u2019s avatar will assign or unassign that person. </p> </div> <div class="manual-shortcut-list-item"> <div class="manual-shortcut-list-item-keys"> <span class="manual-shortcut-list-item-keys-key">N</span> </div> <h3 class="manual-shortcut-list-item-header">Insert New Card</h3> <p> Pressing \u201cn\u201d opens a pop-over that allows you to add a card after the currently selected card. </p> </div> <div class="manual-shortcut-list-item"> <div class="manual-shortcut-list-item-keys"> <span class="manual-shortcut-list-item-keys-key">&lt;</span> <span class="manual-shortcut-list-item-keys-key">&gt;</span> </div> <h3 class="manual-shortcut-list-item-header">Move Card to Adjacent List</h3> <p> Pressing the left or right angle brackets (&lt; and &gt;) will move a card to the adjacent left or right list. </p> </div> <div class="manual-shortcut-list-item"> <div class="manual-shortcut-list-item-keys"> <span class="manual-shortcut-list-item-keys-key">Q</span> </div> <h3 class="manual-shortcut-list-item-header">My Cards Filter</h3> <p> Pressing the \u201cq\u201d key toggles the \u201ccards assigned to me\u201d filter. </p> </div> <div class="manual-shortcut-list-item"> <div class="manual-shortcut-list-item-keys"> <span class="manual-shortcut-list-item-keys-key">S</span> </div> <h3 class="manual-shortcut-list-item-header">Subscribe</h3> <p> Pressing \u201cs\u201d will subscribe you to, or unsubscribe you from, a card. Subscribing to a card will give you notifications for most actions to that card. </p> </div> <div class="manual-shortcut-list-item"> <div class="manual-shortcut-list-item-keys"> <span class="manual-shortcut-list-item-keys-key">SPACE</span> </div> <h3 class="manual-shortcut-list-item-header">Assign Self</h3> <p> Pressing \u201cspace\u201d will assign (or unassign) yourself to a card. </p> </div> <div class="manual-shortcut-list-item"> <div class="manual-shortcut-list-item-keys"> <span class="manual-shortcut-list-item-keys-key">T</span> </div> <h3 class="manual-shortcut-list-item-header">Edit Title</h3> <p> If viewing a card, pressing \u201ct\u201d will edit the title. If hovering over a card, pressing \u201ct\u201d will open the card and edit the title. </p> </div> <div class="manual-shortcut-list-item"> <div class="manual-shortcut-list-item-keys"> <span class="manual-shortcut-list-item-keys-key">V</span> </div> <h3 class="manual-shortcut-list-item-header">Vote</h3> <p> Pressing \u201cv\u201d will add (or remove) your vote on a card. </p> </div> <div class="manual-shortcut-list-item"> <div class="manual-shortcut-list-item-keys"> <span class="manual-shortcut-list-item-keys-key">W</span> </div> <h3 class="manual-shortcut-list-item-header">Toggle Board Sidebar</h3> <p> Pressing \u201cw\u201d will collapse or expand the board sidebar. </p> </div> <div class="manual-shortcut-list-item"> <div class="manual-shortcut-list-item-keys"> <span class="manual-shortcut-list-item-keys-key">X</span> </div> <h3 class="manual-shortcut-list-item-header">Clear All Filters</h3> <p> Use \u201cx\u201d to clear all active card filters. </p> </div> <div class="manual-shortcut-list-item"> <div class="manual-shortcut-list-item-keys"> <span class="manual-shortcut-list-item-keys-key">?</span> </div> <h3 class="manual-shortcut-list-item-header">Open Shortcuts Page</h3> <p> Pressing \u201c?\u201d will open the shortcuts page. </p> </div> <div class="manual-shortcut-list-item"> <div class="manual-shortcut-list-item-keys"> <span class="manual-shortcut-list-item-keys-key">@</span> </div> <h3 class="manual-shortcut-list-item-header">Autocomplete Members</h3> <p> When writing a comment, you can type \u201c@\u201d plus a member\u2019s name, username, or intials and get a list of matching members. You can navigate that list with the up and down arrows. Pressing enter or tab with a member selected will mention that user in the comment. The mentioned user will get a notification once submitted. </p> <p> When adding a new card, you can use the same method to assign members to cards before submitting them. </p> </div> <div class="manual-shortcut-list-item"> <div class="manual-shortcut-list-item-keys"> <span class="manual-shortcut-list-item-keys-key">#</span> </div> <h3 class="manual-shortcut-list-item-header">Autocomplete Labels</h3> <p> When adding a new card, you can type \u201c#\u201d plus the label\u2019s color or title and get a list of matching labels. You can use the up and down arrows to navigate the resulting list. Pressing enter or tab will add the label to the composed card. The labels will be added to the card when you submit. </p> </div> <div class="manual-shortcut-list-item"> <div class="manual-shortcut-list-item-keys"> <span class="manual-shortcut-list-item-keys-key">^</span> </div> <h3 class="manual-shortcut-list-item-header">Autocomplete Position</h3> <p> When adding a new card, you can type \u201c^\u201d plus a list name or position in a list. You can also type \u201ctop\u201d or \u201cbottom\u201d to add to the top or bottom of the current list. You can use the up and down arrows to navigate the resulting list. Pressing enter or tab will automatically change the position of the composed card. </p> </div> </div> ');
return this.fl()},member:function(c,b,d){this.b(d=d||"");this.s(this.f("avatarHash",c,b,1),c,b,0,15,356,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <img class="member-avatar" height="30" width="30" src="');e.b(e.v(e.f("__avatarDomain",b,d,0)));e.b("/");e.b(e.v(e.f("avatarHash",b,d,0)));e.b('/30.png" alt="');e.s(e.f("deleted",b,d,1),b,d,0,130,167,"{{ }}")&&(e.rs(b,d,function(b,d,f){f.b("This member has deleted their account")}),b.pop());e.s(e.f("deleted",b,d,1),b,d,1,0,0,"")||(e.b(e.v(e.f("fullName",
b,d,0))),e.b(" ("),e.b(e.v(e.f("username",b,d,0))),e.b(")"));e.b('" title="');e.s(e.f("deleted",b,d,1),b,d,0,251,288,"{{ }}")&&(e.rs(b,d,function(b,d,f){f.b("This member has deleted their account")}),b.pop());e.s(e.f("deleted",b,d,1),b,d,1,0,0,"")||(e.b(e.v(e.f("fullName",b,d,0))),e.b(" ("),e.b(e.v(e.f("username",b,d,0))),e.b(")"));e.b('" /> ')}),c.pop());this.b(" ");this.s(this.f("avatarHash",c,b,1),c,b,1,0,0,"")||(this.b(' <span class="member-initials" title="'),this.s(this.f("deleted",c,b,1),c,
b,0,437,474,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b("This member has deleted their account")}),c.pop()),this.s(this.f("deleted",c,b,1),c,b,1,0,0,"")||(this.b(this.v(this.f("fullName",c,b,0))),this.b(" ("),this.b(this.v(this.f("username",c,b,0))),this.b(")")),this.b('"> '),this.s(this.f("deleted",c,b,1),c,b,1,0,0,"")||this.b(this.v(this.f("initials",c,b,0))),this.b(" "),this.s(this.f("deleted",c,b,1),c,b,0,589,590,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b("?")}),c.pop()),this.b(" </span> "));this.b(" ");
this.s(this.f("isDeactivated",c,b,1),c,b,1,0,0,"")||(this.b(" "),this.s(this.f("showStatus",c,b,1),c,b,0,661,959,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b('<span class="member-status ');e.b(e.v(e.f("status",b,d,0)));e.b('" title="');e.s(e.f("status_active",b,d,1),b,d,0,725,766,"{{ }}")&&(e.rs(b,d,function(b,d,f){f.b("This member is online and viewing Trello.")}),b.pop());e.s(e.f("status_idle",b,d,1),b,d,0,800,869,"{{ }}")&&(e.rs(b,d,function(b,d,f){f.b("This member is idle. They have Trello open but are not looking at it.")}),
b.pop());e.s(e.f("status_disconnected",b,d,1),b,d,0,909,932,"{{ }}")&&(e.rs(b,d,function(b,d,f){f.b("This member is offline.")}),b.pop());e.b('"/>')}),c.pop()),this.b(" "),this.s(this.f("isBoardAdmin",c,b,1),c,b,0,992,1072,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b('<span class="member-type admin" title="This member is an admin of this board."/>')}),c.pop()),this.b(" "),this.s(this.f("isOrganizationAdmin",c,b,1),c,b,0,1114,1201,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b('<span class="member-type admin" title="This member is an admin of this organization."/>')}),
c.pop()),this.b(" "));this.b(' <span class="member-gold-badge" title="This member has Trello Gold."></span> ');return this.fl()},member_account:function(c,b,d){this.b(d=d||"");this.b('<div class="window-module clearfix"> <div class="window-module-title"> <h3>Account Details</h3> </div> <a class="big-link js-change-name-and-bio" href="#"> <span class="text">Change Name, Initials, or Bio</span> </a> <a class="big-link js-change-email" href="#"> <span class="text">Change Email Address</span> </a> <a class="big-link js-change-avatar" href="#"> <span class="text">Change Avatar</span> </a> <a class="big-link js-change-password" href="#"> <span class="text">');
this.s(this.f("hasPassword",c,b,1),c,b,0,491,498,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b("Change ")}),c.pop());this.s(this.f("hasPassword",c,b,1),c,b,1,0,0,"")||this.b("Set ");this.b('Password</span> </a> </div> <div class="window-module clearfix"> <div class="window-module-title"> <h3>Notifications</h3> </div> <a class="big-link js-change-email-freq" href="#"> <span class="text">Change Notification Email Frequency</span> </a> ');this.s(this.f("canAllowDesktopNotifications",c,b,1),c,b,0,830,951,
"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <a class="big-link js-allow-desktop-notifications" href="#"> <span class="text">Allow Desktop Notifications</span> </a> ')}),c.pop());this.b(' </div> <div class="window-module clearfix"> <div class="window-module-title"> <h3>Accessibility</h3> </div> <a class="big-link js-toggle-cb-mode" href="#"> <span class="text">');this.s(this.f("cbEnabled",c,b,1),c,b,0,1174,1182,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b("Disable ")}),c.pop());this.s(this.f("cbEnabled",
c,b,1),c,b,1,0,0,"")||this.b("Enable ");this.b('Color Blind Friendly Mode</span> </a> </div> <div class="window-module"> <div class="window-module-title"> <h3>Applications</h3> </div> <div class="js-member-applications"> <div class="spinner loading"></div> </div> </div> <div class="window-module"> <div class="window-module-title"> <h3>Sessions</h3> </div> <div class="js-member-sessions gutter"> <div class="spinner loading"></div> </div> </div> <div class="window-module js-credentials-section"> <div class="window-module-title"> <h3>Credentials</h3> </div> <div class="js-credentials-list gutter"> <div class="spinner loading"></div> </div> </div> <div class="window-module"> <a class="quiet-button gutter js-confirm-delete-member" href="#" style="margin-top: 32px;">Permanently delete your entire account forever?</a> </div> ');
return this.fl()},member_application:function(c,b,d){this.b(d=d||"");this.b('<div class="details"> <h5> ');this.s(this.f("identifier",c,b,1),c,b,0,42,56,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(e.v(e.f("identifier",b,d,0)))}),c.pop());this.b(" ");this.s(this.f("identifier",c,b,1),c,b,1,0,0,"")||this.b("Unknown Application");this.b(' </h5> <p class="quiet"> ');this.b(this.v(this.f("permissions",c,b,0)));this.b(' </p> <p class="quiet"> Approved: ');this.b(this.v(this.f("dateApproved",c,b,0)));this.b("<br> ");
this.s(this.f("neverExpires",c,b,1),c,b,0,233,248,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(" Never Expires ")}),c.pop());this.b(" ");this.s(this.f("neverExpires",c,b,1),c,b,1,0,0,"")||(this.b(" Expires: "),this.b(this.v(this.f("dateExpires",c,b,0))),this.b(" "));this.b(' </p> </div> <input type="button" class="js-revoke" value="Revoke"> ');return this.fl()},member_application_list:function(c,b,d){this.b(d=d||"");this.s(this.f("hasTokens",c,b,1),c,b,1,0,0,"")||this.b(' <p class="big-link none"> No applications are using your Trello account. </p> ');
this.b(" ");this.s(this.f("hasTokens",c,b,1),c,b,0,122,170,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <div class="member-applications gutter"></div> ')}),c.pop());this.b(" ");return this.fl()},member_avatar:function(c,b,d){this.b(d=d||"");this.b('<div class="member"> ');this.s(this.f("avatarHash",c,b,1),c,b,0,36,131,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <img class="member-avatar" src="');e.b(e.v(e.f("__avatarDomain",b,d,0)));e.b("/");e.b(e.v(e.f("avatarHash",b,d,0)));e.b('/30.png" alt="');
e.b(e.v(e.f("fullName",b,d,0)));e.b('"> ')}),c.pop());this.b(" ");this.s(this.f("avatarHash",c,b,1),c,b,1,0,0,"")||(this.b(' <p class="member-initials">'),this.b(this.v(this.f("initials",c,b,0))),this.b("</p> "));this.b(" </div> ");return this.fl()},member_boards_list_ad:function(c,b,d){this.b(d=d||"");this.b('<a href="#" class="icon-lg icon-close dark-hover ad-close js-close-ad"></a> ');this.s(this.f("iconClass",c,b,1),c,b,0,90,135,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <span class="ad-icon ');
e.b(e.v(e.f("iconClass",b,d,0)));e.b('"></span> ')}),c.pop());this.b(' <div class="ad-copy">');this.b(this.t(this.f("copyHtml",c,b,0)));this.b("</div>");return this.fl()},member_cards_base:function(c,b,d){this.b(d||"");this.b('<div class="window-module gutter"> <a href="#" class="quiet-button w-img js-toggle-sort"><span class=\'icon-sm icon-menu\'/><span class="js-sort-text"/></a> </div> <div class="js-cards-content"></div> ');return this.fl()},member_cards_board:function(c,b,d){this.b(d=d||"");this.b('<div class="window-module-title"> <span class="window-module-title-icon icon-lg icon-board"/> <h3><a href="');
this.b(this.v(this.f("boardUrl",c,b,0)));this.b('">');this.b(this.v(this.f("name",c,b,0)));this.b("</a></h3> ");this.s(this.f("org",c,b,1),c,b,0,147,251,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <a style="margin: 0 2px;" class="inline-block quiet js-real-link" href="/');e.b(e.v(e.f("name",b,d,0)));e.b('">');e.b(e.v(e.f("displayName",b,d,0)));e.b("</a> ")}),c.pop());this.b(' <span class="icon-sm icon-');this.b(this.v(this.f("permissionLevel",c,b,0)));this.b('"/> <span class=\'quiet js-card-total\'/> </div> <div class="gutter float-cards clearfix js-list"></div> ');
return this.fl()},member_cards_card:function(c,b,d){this.b(d=d||"");this.b("<div class=\"js-card\"></div> <p class='list-card-position quiet'> in <strong>");this.b(this.v(this.f("listName",c,b,0)));this.b("</strong> ");this.s(this.f("showBoard",c,b,1),c,b,0,112,147,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(" on <strong>");e.b(e.v(e.f("boardName",b,d,0)));e.b("</strong> ")}),c.pop());this.b(" </p> ");return this.fl()},member_cards_date:function(c,b,d){this.b(d=d||"");this.b('<div class="window-module-title"> <span class="window-module-title-icon icon-lg icon-');
this.b(this.v(this.f("iconType",c,b,0)));this.s(this.f("isOverdue",c,b,1),c,b,0,111,125,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(" overdue light")}),c.pop());this.s(this.f("isDueSoon",c,b,1),c,b,0,153,164,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(" soon light")}),c.pop());this.b('"/> <h3>');this.b(this.v(this.f("header",c,b,0)));this.b("</h3> <span class='quiet js-card-total'/> </div> <div class=\"gutter float-cards clearfix js-list\"></div> ");return this.fl()},member_cards_filter:function(c,
b,d){this.b(d=d||"");this.b('<ul class="pop-over-list checkable"> <li class="');this.s(this.f("board",c,b,1),c,b,0,58,64,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b("active")}),c.pop());this.b('"> <a href="#" class="highlight-icon js-sort-by-board"> Sort by board ');this.s(this.f("board",c,b,1),c,b,0,154,190,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <span class="icon-sm icon-check"/> ')}),c.pop());this.b(' </a> </li> <li class="');this.s(this.f("date",c,b,1),c,b,0,232,238,"{{ }}")&&(this.rs(c,b,
function(b,d,e){e.b("active")}),c.pop());this.b('"> <a href="#" class="highlight-icon js-sort-by-due-date"> Sort by due date ');this.s(this.f("date",c,b,1),c,b,0,332,368,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <span class="icon-sm icon-check"/> ')}),c.pop());this.b(" </a> </li> </ul> ");return this.fl()},member_detail:function(c,b,d){this.b(d=d||"");this.b('<div class="tabbed-pane-header"> <div class="tabbed-pane-header-wrapper clearfix"> <a class="tabbed-pane-header-image profile-image ');this.s(this.f("__ed",
c,b,1),c,b,0,141,168,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b("ed js-change-avatar-profile")}),c.pop());this.s(this.f("hasGold",c,b,1),c,b,0,189,205,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(" has-trello-gold")}),c.pop());this.b('" href="#"> ');this.s(this.f("avatarHash",c,b,1),c,b,0,244,346,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <img class="profile-image-image" src="');e.b(e.v(e.f("__avatarDomain",b,d,0)));e.b("/");e.b(e.v(e.f("avatarHash",b,d,0)));e.b('/170.png" alt="');e.b(e.v(e.f("fullName",
b,d,0)));e.b('"> ')}),c.pop());this.b(" ");this.s(this.f("avatarHash",c,b,1),c,b,1,0,0,"")||(this.b(' <span class="profile-image-initials">'),this.b(this.v(this.f("initials",c,b,0))),this.b("</span> "));this.b(' <span class="change-text"> Change Avatar </span> </a> <div class="tabbed-pane-header-details"> <div class="js-current-details"></div> ');this.s(this.f("__ed",c,b,1),c,b,0,594,638,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <form class="js-profile-form hide"></form> ')}),c.pop());this.b(' </div> <div class="tabbed-pane-header-ad js-header-ad"></div> </div> </div> <div class="tabbed-pane-nav clearfix"> <ul> <li class="tabbed-pane-nav-item"> <a class="tabbed-pane-nav-item-button js-member-profile" href="/');
this.b(this.v(this.f("username",c,b,0)));this.b('">Profile</a> </li> <li class="tabbed-pane-nav-item"> <a class="tabbed-pane-nav-item-button js-member-cards" href="/');this.b(this.v(this.f("username",c,b,0)));this.b('/cards">Cards</a> </li> ');this.s(this.f("hasAccount",c,b,1),c,b,0,1045,1217,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(" ");e.s(e.f("accountProblem",b,d,1),b,d,1,0,0,"")||(e.b(' <li class="tabbed-pane-nav-item"> <a class="tabbed-pane-nav-item-button js-billing" href="/'),e.b(e.v(e.f("username",
b,d,0))),e.b('/billing">Billing</a> </li> '));e.b(" ")}),c.pop());this.b(" ");this.s(this.f("accountProblem",c,b,1),c,b,0,1252,1419,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <li class="tabbed-pane-nav-item"> <a class="tabbed-pane-nav-item-button js-billing" href="/');e.b(e.v(e.f("username",b,d,0)));e.b('/billing">Billing <span class="option">Issue!</span></a> </li> ')}),c.pop());this.b(" ");this.s(this.f("isMe",c,b,1),c,b,0,1448,1588,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <li class="tabbed-pane-nav-item"> <a class="tabbed-pane-nav-item-button js-member-account" href="/');
e.b(e.v(e.f("username",b,d,0)));e.b('/account">Settings</a> </li> ')}),c.pop());this.b(' </ul> </div> <div class="tabbed-pane-main-col clearfix"> <div class="tabbed-pane-main-col-loading hide js-loading-page"> <span class="tabbed-pane-main-col-loading-spinner spinner"></span> </div> <div class="tabbed-pane-main-col-wrapper js-content"></div> </div> ');return this.fl()},member_detail_profile_edit:function(c,b,d){this.b(d||"");this.b('<p class="error js-profile-form-error hide"></p> <label>Full Name</label> <input type="text" name="fullName" value="');
this.b(this.v(this.f("fullName",c,b,0)));this.b('"/> <label>Username</label> <input type="text" name="username" value="');this.b(this.v(this.f("username",c,b,0)));this.b('"/> <label>Initials</label> <input type="text" name="initials" value="');this.b(this.v(this.f("initials",c,b,0)));this.b('"/> <label>Bio <span class="quiet">(optional)</span></label> <textarea name="bio">');this.b(this.v(this.f("bio",c,b,0)));this.b('</textarea> <input type="submit" class="primary wide js-submit-profile" value="Save"/> <input type="button" class="js-cancel-edit-profile" value="Cancel"/> ');
return this.fl()},member_detail_profile_info:function(c,b,d){this.b(d=d||"");this.b('<div class="tabbed-pane-header-details-name"> <h1 class="inline"> ');this.b(this.v(this.f("fullName",c,b,0)));this.b(' </h1> <p class="window-title-extra quiet"> @');this.b(this.v(this.f("username",c,b,0)));this.b(" </p> ");this.s(this.f("hasGold",c,b,1),c,b,0,153,351,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <span class="member-profile-gold-badge"> <span class="icon-sm icon-crown member-profile-gold-badge-icon"></span> ');
e.s(e.f("__ed",b,d,1),b,d,0,276,299,"{{ }}")&&(e.rs(b,d,function(b,d,f){f.b("You\u2019ve got Trello Gold!")}),b.pop());e.b(" ");e.s(e.f("__ed",b,d,1),b,d,1,0,0,"")||e.b("Has Trello Gold");e.b(" </span> ")}),c.pop());this.b(' </div> <div class="tabbed-pane-header-details-content"> ');this.s(this.f("bioHtml",c,b,1),c,b,0,432,445,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(e.t(e.f("bioHtml",b,d,0)))}),c.pop());this.b(" </div> ");this.s(this.f("__ed",c,b,1),c,b,0,474,612,"{{ }}")&&(this.rs(c,b,function(b,
d,e){e.b(' <a class="button-link tabbed-pane-header-details-edit js-edit-profile" href="#"><span class="icon-sm icon-edit"></span> Edit profile</a> ')}),c.pop());this.b(" ");return this.fl()},member_email_freq:function(c,b,d){this.b(d=d||"");this.s(this.f("minutesBetweenSummaries_-1",c,b,1),c,b,0,31,51,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(" Don't send emails. ")}),c.pop());this.b(" ");this.s(this.f("minutesBetweenSummaries_60",c,b,1),c,b,0,114,141,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(" Send emails periodically. ")}),
c.pop());this.b(" ");this.s(this.f("minutesBetweenSummaries_1",c,b,1),c,b,0,203,227,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(" Send emails instantly. ")}),c.pop());this.b(" (change) ");return this.fl()},member_gold_earned:function(c,b,d){this.b(d=d||"");this.b('<div class="window-module gold-earned-modal js-earned-gold-modal gutter"> <img src="https://d2k1ftgv7pobq7.cloudfront.net/images/gold/3cbf48993d46484c5d82cc9c1844a54b/TrelloGoldIcon.png" class="gold-earned-modal-image"/> <h1>You\u2019ve ');
this.s(this.f("hasInvitations",c,b,1),c,b,0,251,257,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b("earned")}),c.pop());this.s(this.f("hasInvitations",c,b,1),c,b,1,0,0,"")||this.b("got");this.b(" Trello Gold!</h1> <p> Awww yeah! ");this.s(this.f("hasInvitations",c,b,1),c,b,0,370,492,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(" ");e.b(e.v(e.f("joinedNames",b,d,0)));e.b(" joined Trello on your recommendation or invite! That means you\u2019ve earned ");e.b(e.v(e.f("countMonths",b,d,0)));e.b(" of Trello Gold! ")}),
c.pop());this.b(" ");this.s(this.f("hasInvitations",c,b,1),c,b,1,0,0,"")||(this.b(" You received "),this.b(this.v(this.f("countMonths",c,b,0))),this.b(" of Trello Gold! "));this.b(' </p> <p class="gold-earned-modal-learn-more quiet"> <a href="/gold">Learn more about Trello Gold.</a> </p> ');this.s(this.f("__gold",c,b,1),c,b,1,0,0,"")||this.b(' <a class="gold-earned-modal-button button primary js-start-using-gold" href="#">Start using Trello Gold!</a> ');this.b(" ");this.s(this.f("showClose",c,b,1),
c,b,0,851,1052,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <p class="quiet" style="margin-top: 16px;"> You can visit your "Account Settings" page later to redeem your credits. <a class="js-close-modal" href="#">Okay, thanks! Close this header thing.</a> </p> ')}),c.pop());this.b(" <hr> </div> ");return this.fl()},member_gold_intro:function(c,b,d){this.b(d||"");this.b('<div class="product-intro-modal gold-intro"> <a href="#" class="icon-lg icon-close dark-hover product-intro-close js-close-intro-helper"></a> <div class="product-intro-header"> <img class="product-intro-logo" src="https://d2k1ftgv7pobq7.cloudfront.net/images/gold/6d243fedef388195ac2dd4bf3f6fcfa5/TrelloGoldLogo.png" alt="Trello Gold" /> </div> <hr> <h2>Yessssss... You\'ve got Trello Gold!</h2> <p> Here\u2019s what you need to know to get started\u2026 </p> <div class="product-intro-section"> <span class="product-intro-number">1</span> <h3>Stickers</h3> <p> Check out the \u201cStickers\u201d pane on the sidebar of any board. You can view and stick additional stickers and upload your own from there. </p> </div> <div class="product-intro-section"> <span class="product-intro-number">2</span> <h3>Board backgrounds</h3> <p> Check out the \u201cSettings\u201d pane in the sidebar of any board and select \u201cChange Board Background\u201d. From there, you can view and use additional backgrounds and upload your own. </p> </div> <div class="product-intro-section"> <span class="product-intro-number">3</span> <h3>Larger attachments</h3> <p> You can now upload files up to 250MB! Just select a file via \u201cAttach File\u2026\u201d on the back of the card, or drag and drop from your desktop. </p> </div> <div class="product-intro-section"> <span class="product-intro-number">4</span> <h3>Uploading custom emoji</h3> <p> While on a card, open the comment field, click the menu button in the bottom right hand corner, and select \u201cUpload Emoji\u201d. You can upload images and name the the emoji from there. </p> </div> <div class="product-intro-section"> <span class="product-intro-number">5</span> <h3>Billing page</h3> <p> Check out the \u201cBilling\u201d tab for future reference. You can see when your account will renew, update your credit card info, see billing history and so on. If you signed up via credits, you can check when your credits expire and you can enter a credit card and sign up for a subscription. </p> </div> <p> This will be in the <a href="http://help.trello.com/customer/portal/articles/1350088-trello-gold-user-guide"><strong>Trello Gold User Guide</strong></a> for future reference. Enjoy! And thanks for upgrading! </p> <p class="product-intro-close-bottom center quiet"> <a href="#" class="js-close-intro-helper dark-hover"> <span class="icon-sm icon-close dark-hover"/>Got it! Close this helper. </a> </p> </div> ');
return this.fl()},member_inline:function(c,b,d){this.b(d=d||"");this.s(this.f("avatarHash",c,b,1),c,b,0,15,166,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <img class="inline-member-av" src="');e.b(e.v(e.f("__avatarDomain",b,d,0)));e.b("/");e.b(e.v(e.f("avatarHash",b,d,0)));e.b('/30.png" alt="');e.b(e.v(e.f("fullName",b,d,0)));e.b(" (");e.b(e.v(e.f("username",b,d,0)));e.b(')" title="');e.b(e.v(e.f("fullName",b,d,0)));e.b(" (");e.b(e.v(e.f("username",b,d,0)));e.b(')" /> ')}),c.pop());this.b(' <span class="bold">');
this.b(this.v(this.f("fullName",c,b,0)));this.b("</span> ");return this.fl()},member_large_avatar:function(c,b,d){this.b(d=d||"");this.b('<div class="mem-info"> <h3 class="bottom"><a class="js-profile" href="/');this.b(this.v(this.f("username",c,b,0)));this.b('">');this.b(this.v(this.f("fullName",c,b,0)));this.b('</a></h3> <p class="quiet">@');this.b(this.v(this.f("username",c,b,0)));this.b('</p> </div> <img src="');this.b(this.v(this.f("__avatarDomain",c,b,0)));this.b("/");this.b(this.v(this.f("avatarHash",
c,b,0)));this.b('/original.png" alt="');this.s(this.f("deleted",c,b,1),c,b,0,224,261,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b("This member has deleted their account")}),c.pop());this.s(this.f("deleted",c,b,1),c,b,1,0,0,"")||(this.b(this.v(this.f("fullName",c,b,0))),this.b(" ("),this.b(this.v(this.f("username",c,b,0))),this.b(")"));this.b('" title="');this.s(this.f("deleted",c,b,1),c,b,0,345,382,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b("This member has deleted their account")}),c.pop());this.s(this.f("deleted",
c,b,1),c,b,1,0,0,"")||(this.b(this.v(this.f("fullName",c,b,0))),this.b(" ("),this.b(this.v(this.f("username",c,b,0))),this.b(")"));this.b('" /> ');return this.fl()},member_list_item_detail:function(c,b,d){this.b(d=d||"");this.b('<div class="member member-no-menu');this.s(this.f("isVirtual",c,b,1),c,b,0,47,62,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(" member-virtual")}),c.pop());this.s(this.f("isDeactivated",c,b,1),c,b,0,94,113,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(" member-deactivated")}),
c.pop());this.b('"> ');this.b(this.rp("member",c,b,""));this.b(' </div> <div class="details"> <p class="name-line"> <span class="full-name">');this.b(this.v(this.f("fullName",c,b,0)));this.b('</span> </p> <p class="bottom quiet"> ');this.s(this.f("username",c,b,1),c,b,0,284,337,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b('<span class="quiet inline-block">@');e.b(e.v(e.f("username",b,d,0)));e.b("</span>")}),c.pop());this.b(" ");this.s(this.f("showGoogleApps",c,b,1),c,b,0,370,466,"{{ }}")&&(this.rs(c,
b,function(b,d,e){e.b(" ");e.s(e.f("gMail",b,d,1),b,d,0,381,455,"{{ }}")&&(e.rs(b,d,function(b,d,f){f.b(" ");f.s(f.f("username",b,d,1),b,d,0,395,397,"{{ }}")&&(f.rs(b,d,function(b,d,f){f.b("- ")}),b.pop());f.b('<span class="icon-sm icon-google"/>');f.b(f.v(f.f("gMail",b,d,0)));f.b(" ")}),b.pop());e.b(" ")}),c.pop());this.b(' </p> </div> <div class="options"> ');this.s(this.f("isOrgMember",c,b,1),c,b,0,536,1432,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(" ");e.s(e.f("showActivity",b,d,1),b,d,0,554,
625,"{{ }}")&&(e.rs(b,d,function(b,d,f){f.b(' <a class="option quiet-button js-view-activity" href="#">Activity</a> ')}),b.pop());e.b(" ");e.s(e.f("allowTypeChange",b,d,1),b,d,0,663,788,"{{ }}")&&(e.rs(b,d,function(b,d,f){f.b(' <a class="option button-link role-button js-change-role" href="#"> ');f.b(f.v(f.f("orgMemberType",b,d,0)));f.b(' <span class="icon-sm icon-menu"/> </a> ')}),b.pop());e.b(" ");e.s(e.f("allowTypeChange",b,d,1),b,d,1,0,0,"")||(e.b(' <p class="option status quiet">'),e.b(e.v(e.f("orgMemberType",
b,d,0))),e.b("</p> "));e.b(" ");e.s(e.f("allowReactivate",b,d,1),b,d,0,924,996,"{{ }}")&&(e.rs(b,d,function(b,d,f){f.b(' <a class="option quiet-button js-reactivate" href="#"> Reactivate </a> ')}),b.pop());e.b(" ");e.s(e.f("isMe",b,d,1),b,d,0,1026,1213,"{{ }}")&&(e.rs(b,d,function(b,d,f){f.b(' <a class="option button-link remove-button js-remove-or-deactivate ');f.s(f.f("canRemove",b,d,1),b,d,1,0,0,"")||f.b("disabled");f.b('" href="#"> <span class="icon-sm icon-close"/> Leave');f.s(f.f("orgIsBC",
b,d,1),b,d,0,1194,1195,"{{ }}")&&(f.rs(b,d,function(b,d,f){f.b("\u2026")}),b.pop());f.b(" </a> ")}),b.pop());e.b(" ");e.s(e.f("isMe",b,d,1),b,d,1,0,0,"")||(e.b(" "),e.s(e.f("ownsOrg",b,d,1),b,d,0,1245,1409,"{{ }}")&&(e.rs(b,d,function(b,d,f){f.b(' <a class="option button-link remove-button js-remove-or-deactivate ');f.s(f.f("canRemove",b,d,1),b,d,1,0,0,"")||f.b("disabled");f.b('" href="#"> <span class="icon-sm icon-close"/> Remove\u2026 </a> ')}),b.pop()),e.b(" "));e.b(" ")}),c.pop());this.b(" ");
this.s(this.f("isOrgMember",c,b,1),c,b,1,0,0,"")||(this.b(" "),this.s(this.f("showGoogleApps",c,b,1),c,b,0,1485,1792,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(" ");e.s(e.f("hidden",b,d,1),b,d,1,0,0,"")||e.b(' <a class="option quiet-button js-hide-member" href="#"> Dismiss </a> ');e.b(" ");e.s(e.f("hidden",b,d,1),b,d,0,1590,1666,"{{ }}")&&(e.rs(b,d,function(b,d,f){f.b(' <a class="option quiet-button js-unhide-member" href="#"> Always Show </a> ')}),b.pop());e.b(' <a class="option button-link primary js-invite-to-org" href="#"> <span class="icon-sm icon-add"/> Add Member </a> ')}),
c.pop()),this.b(" "));this.b(" </div> ");return this.fl()},member_login:function(c,b,d){this.b(d=d||"");this.b('<p class="member-login-email bottom"> ');this.b(this.v(this.f("email",c,b,0)));this.b(" </p> ");this.s(this.f("primary",c,b,1),c,b,0,65,110,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <p class="bottom quiet"> Primary email </p> ')}),c.pop());this.b(" ");this.s(this.f("primary",c,b,1),c,b,1,0,0,"")||this.b(' <a class="js-primary bottom quiet" href="#"> Set as primary email </a> ');this.b(' <p class="member-login-date-added bottom quiet"> Added: <span class="date" dt="');
this.b(this.v(this.f("dateAdded",c,b,0)));this.b('"></span> </p> ');this.s(this.f("primary",c,b,1),c,b,1,0,0,"")||this.b(' <span class="member-login-remove icon-sm icon-close dark-hover js-remove"></span> ');this.b(" ");return this.fl()},member_notifications:function(c,b,d){this.b(d=d||"");this.b('<div class="window-module-title"> <span class="window-module-title-icon icon-lg icon-notification"/> <h3>Notifications</h3> </div> ');this.s(this.f("empty",c,b,1),c,b,0,141,187,"{{ }}")&&(this.rs(c,b,function(b,
d,e){e.b('<div class="empty-list">No Notifications</div>')}),c.pop());this.b(' <div class="js-list-notifications"></div> <a class="show-more js-more-notifications" href="#">Load More Notifications</a> ');return this.fl()},member_on_board_or_org_menu:function(c,b,d){this.b(d=d||"");this.b('<li> <a class="');this.s(this.f("canChangeRole",c,b,1),c,b,0,33,47,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b("js-change-role")}),c.pop());this.s(this.f("canChangeRole",c,b,1),c,b,1,0,0,"")||this.b("disabled");this.b('" href="#"> Change permissions\u2026 ');
this.s(this.f("type",c,b,1),c,b,0,150,216,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b('<span class="quiet" style="font-weight: normal;">(');e.b(e.v(e.f("type",b,d,0)));e.b(")</span>")}),c.pop());this.b(" </a> </li> ");this.s(this.f("isBoard",c,b,1),c,b,0,249,322,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <li><a href="');e.b(e.v(e.f("boardProfileUrl",b,d,0)));e.b('">View Member\u2019s Board Activity</a></li> ')}),c.pop());this.b(" ");this.s(this.f("canRemoveOrDeactivate",c,b,1),c,b,1,0,0,"")||(this.b(" "),
this.s(this.f("canRemove",c,b,1),c,b,0,376,504,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <li> <a class="js-remove-member"> ');e.s(e.f("isMe",b,d,1),b,d,0,420,439,"{{ }}")&&(e.rs(b,d,function(b,d,f){f.b(" Leave ");f.b(f.v(f.f("object",b,d,0)));f.b("\u2026 ")}),b.pop());e.b(" ");e.s(e.f("isMe",b,d,1),b,d,1,0,0,"")||(e.b(" Remove from "),e.b(e.v(e.f("object",b,d,0))),e.b("\u2026 "));e.b(" </a> </li> ")}),c.pop()),this.b(" "));this.b(" ");this.s(this.f("canRemoveOrDeactivate",c,b,1),c,b,0,572,830,
"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(" ");e.s(e.f("canRemove",b,d,1),b,d,0,587,815,"{{ }}")&&(e.rs(b,d,function(b,d,f){f.b(' <li> <a class="js-remove-or-deactivate-member"> ');f.s(f.f("isMe",b,d,1),b,d,0,645,664,"{{ }}")&&(f.rs(b,d,function(b,d,f){f.b(" Leave ");f.b(f.v(f.f("object",b,d,0)));f.b("\u2026 ")}),b.pop());f.b(" ");f.s(f.f("isMe",b,d,1),b,d,1,0,0,"")||(f.b(" Remove"),f.s(f.f("canDeactivate",b,d,1),b,d,0,708,722,"{{ }}")&&(f.rs(b,d,function(b,d,f){f.b(" or Deactivate")}),b.pop()),
f.s(f.f("canDeactivate",b,d,1),b,d,1,0,0,"")||(f.b(" from "),f.b(f.v(f.f("object",b,d,0)))),f.b("\u2026 "));f.b(" </a> </li> ")}),b.pop());e.b(" ")}),c.pop());this.b(" ");this.s(this.f("premium:deactivated",c,b,1),c,b,0,881,1190,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(" ");e.s(e.f("isDeactivated",b,d,1),b,d,0,900,1171,"{{ }}")&&(e.rs(b,d,function(b,d,f){f.b(" ");f.s(f.f("__own",b,d,1),b,d,0,911,1160,"{{ }}")&&(f.rs(b,d,function(b,d,f){f.b(' <li> <a class="js-reactivate-member">Reactivate Member in ');
f.b(f.v(f.f("object",b,d,0)));f.b(' <span class="sub-name"> Deactivated members will not be able to see org boards, but will remain on current org boards and cards and be visible in a faded form. </span> </a> </li> ')}),b.pop());f.b(" ")}),b.pop());e.b(" ")}),c.pop());this.b(" ");this.s(this.f("canRemove",c,b,1),c,b,1,0,0,"")||(this.b(" "),this.s(this.f("isMe",c,b,1),c,b,0,1239,1523,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(" ");e.s(e.f("isMoreThanOneMember",b,d,1),b,d,0,1264,1498,"{{ }}")&&(e.rs(b,
d,function(b,d,f){f.b(" ");f.s(f.f("memberIsAdmin",b,d,1),b,d,0,1283,1479,"{{ }}")&&(f.rs(b,d,function(b,d,f){f.b(' <li> <hr> <p class="quiet bottom"> You can\u2019t leave because you are the only admin. To make another user an admin, click their avatar, select \u201cChange permissions\u2026\u201d, and select \u201cAdmin\u201d. </p> </li> ')}),b.pop());f.b(" ")}),b.pop());e.b(" ")}),c.pop()),this.b(" "));this.b(" ");this.s(this.f("isGhost",c,b,1),c,b,0,1560,1714,"{{ }}")&&(this.rs(c,b,function(b,
d,e){e.b(' <li> <hr> <p class="quiet bottom"> This user will be able to access this board once they sign up with Trello and confirm their email address. </p> </li> ')}),c.pop());return this.fl()},member_on_card:function(c,b,d){this.b(d=d||"");this.b("<div class='member js-member-on-card-menu");this.s(this.f("isDeactivated",c,b,1),c,b,0,59,78,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(" member-deactivated")}),c.pop());this.s(this.f("isVirtual",c,b,1),c,b,0,110,125,"{{ }}")&&(this.rs(c,b,function(b,
d,e){e.b(" member-virtual")}),c.pop());this.b("' data-idmem='");this.b(this.v(this.f("id",c,b,0)));this.b("'>");this.b(this.rp("member",c,b,""));this.b("</div> ");return this.fl()},member_on_card_menu:function(c,b,d){this.b(d=d||"");this.s(this.f("__ed",c,b,1),c,b,0,9,68,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <li><a class="js-remove-member">Remove from Card</a></li> ')}),c.pop());this.b(" ");return this.fl()},member_profile:function(c,b,d){this.b(d=d||"");this.b('<div class="window-module"> <div class="window-module-title"> <span class="window-module-title-icon icon-lg icon-trophy"/> <h3>Trophies</h3> </div> <div class="gutter clearfix"> ');
this.s(this.f("trophyData",c,b,1),c,b,0,193,432,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <div class="trophy-item js-view-trophy ');e.b(e.v(e.f("shortName",b,d,0)));e.b('" name="');e.b(e.v(e.f("shortName",b,d,0)));e.b('"> <div class="trophy-item-icon ');e.b(e.v(e.f("shortName",b,d,0)));e.b('"></div> <p class="trophy-item-text"> <strong style="margin-right: 4px;">');e.b(e.v(e.f("name",b,d,0)));e.b("</strong><br> ");e.b(e.t(e.f("detail",b,d,0)));e.b(" </p> </div> ")}),c.pop());this.b(" ");this.s(this.f("availableTrophyData",
c,b,1),c,b,0,472,601,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <div class="trophy-item"> <div class="trophy-item-icon default">?</div> <p class="trophy-item-text"> ');e.b(e.t(e.f("howToGet",b,d,0)));e.b(" </p> </div> ")}),c.pop());this.b(' </div> </div> <div class="window-module"> <div class="window-module-title"> <span class="window-module-title-icon icon-lg icon-org"/> <h3>Organizations</h3> </div> <div class="gutter js-list-orgs"> </div> </div> <div class="window-module"> <div class="window-module-title"> <span class="window-module-title-icon icon-lg icon-activity"/> <h3>Activity</h3> </div> <div class="list-actions"></div> <p class="bottom"> <a class="show-more js-more-actions" href="#">Load More Activity</a> </p> </div> ');
return this.fl()},member_profile_info:function(c,b,d){this.b(d=d||"");this.b(' <div class="member-profile-info clearfix" name="');this.b(this.v(this.f("username",c,b,0)));this.b('"> <div class="member"> ');this.b(this.rp("member",c,b,""));this.b(' </div> <div class="info"> <h3 class="bottom"> <a class="js-profile" href="/');this.b(this.v(this.f("username",c,b,0)));this.b('">');this.b(this.v(this.f("fullName",c,b,0)));this.b('</a> </h3> <p class="quiet bottom">@');this.b(this.v(this.f("username",c,
b,0)));this.b("</p> ");this.s(this.f("bio",c,b,1),c,b,0,259,322,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b('<p class="quiet bottom ellip" title="');e.b(e.v(e.f("bio",b,d,0)));e.b('">');e.b(e.t(e.f("bioHtml",b,d,0)));e.b("</p>")}),c.pop());this.b(' <p class="quiet bottom"> ');this.s(this.f("showMemberOptions",c,b,1),c,b,0,378,569,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(" ");e.s(e.f("orgCardsUrl",b,d,1),b,d,0,395,467,"{{ }}")&&(e.rs(b,d,function(b,d,f){f.b(' <a class="js-org-cards-page" href="');
f.b(f.v(f.f("orgCardsUrl",b,d,0)));f.b('">View Org Cards</a> ')}),b.pop());e.b(" ");e.s(e.f("__ed",b,d,1),b,d,0,493,559,"{{ }}")&&(e.rs(b,d,function(b,d,f){f.b('<span><a class="js-remove-mem" href="#">Remove from Org</a></span>')}),b.pop());e.b(" ")}),c.pop());this.b(" </p> </div> </div> ");return this.fl()},member_session:function(c,b,d){this.b(d=d||"");this.s(this.f("type_support",c,b,1),c,b,0,17,241,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <p class="bottom"> Authorization for Trello Support (Ticket #');
e.b(e.v(e.d("data.ticket",b,d,0)));e.b(') <br> <span class="quiet"> Expires: <span class="date" dt="');e.b(e.v(e.f("dateExpires",b,d,0)));e.b('"></span> <a href="#" class="quiet js-revoke">Revoke</a> </span> </p> ')}),c.pop());this.b(" ");this.s(this.f("type_support",c,b,1),c,b,1,0,0,"")||(this.b(' <p class="bottom"> <strong>'),this.b(this.v(this.f("ipAddress",c,b,0))),this.b('</strong> <span class="quiet js-location"></span> <br> <span class="quiet"> Last used: '),this.s(this.f("isRecent",c,b,1),
c,b,0,417,440,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(" Less than an hour ago ")}),c.pop()),this.b(" "),this.s(this.f("isRecent",c,b,1),c,b,1,0,0,"")||(this.b(' <span class="date" dt="'),this.b(this.v(this.f("dateLastUsed",c,b,0))),this.b('"></span> ')),this.b(" "),this.s(this.f("isCurrent",c,b,1),c,b,0,545,575,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b("<span>(current session)</span>")}),c.pop()),this.b(" </span> </p> "));this.b(" ");return this.fl()},member_session_list:function(c,b,d){this.b(d||
"");this.b('<div class="js-sessions"></div> <input type="button" class="js-log-out-other" value="Log Out Other Sessions"> ');return this.fl()},members_voted:function(c,b,d){this.b(d=d||"");this.b(' <div class="list-voters clearfix ');this.s(this.f("fewMembers",c,b,1),c,b,0,49,56,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b("compact")}),c.pop());this.b('"> ');this.s(this.f("members",c,b,1),c,b,0,86,279,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <div class="voter"> <div class="member member-no-menu"> ');
e.b(e.rp("member",b,d,""));e.b(" </div> ");e.s(e.f("fewMembers",b,d,1),b,d,0,177,256,"{{ }}")&&(e.rs(b,d,function(b,d,f){f.b(' <p class="title"> ');f.b(f.v(f.f("fullName",b,d,0)));f.b(' <span class="quiet">(');f.b(f.v(f.f("username",b,d,0)));f.b(")</span> </p> ")}),b.pop());e.b(" </div> ")}),c.pop());this.b(" </div> ");this.s(this.f("moreMembers",c,b,1),c,b,0,315,420,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <a href="#" class="show-more compact js-more-members-voted"> Show all voters (');e.b(e.v(e.f("lengthDiff",
b,d,0)));e.b(" more) </a> ")}),c.pop());this.b(" ");this.s(this.f("canVote",c,b,1),c,b,0,449,573,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <hr> <a class="js-');e.s(e.f("voted",b,d,1),b,d,0,478,480,"{{ }}")&&(e.rs(b,d,function(b,d,f){f.b("un")}),b.pop());e.b("vote button vote-button ");e.s(e.f("voted",b,d,1),b,d,0,524,531,"{{ }}")&&(e.rs(b,d,function(b,d,f){f.b("primary")}),b.pop());e.b('">Vote');e.s(e.f("voted",b,d,1),b,d,0,557,558,"{{ }}")&&(e.rs(b,d,function(b,d,f){f.b("d")}),b.pop());e.b("</a> ")}),
c.pop());this.b(" ");return this.fl()},"menu-base":function(c,b,d){this.b(d||"");this.b('<ul class="pop-over-list"> <li><ul class="boards-pop-over-list" /></li> ');this.b(this.t(this.f("content",c,b,0)));this.b(" </ul> ");return this.fl()},menu:function(c,b,d){this.b(d=d||"");this.b('<ul class="pop-over-list"> <li><ul class="dynamic-pop-over-list" /></li> ');this.s(this.f("menu_cards",c,b,1),c,b,0,88,210,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(" <li><a ");e.s(e.f("js_class",b,d,1),b,d,0,109,130,
"{{ }}")&&(e.rs(b,d,function(b,d,f){f.b('class="');f.b(f.v(f.f("js_class",b,d,0)));f.b('" ')}),b.pop());e.b(' href="');e.s(e.f("url",b,d,1),b,d,0,158,165,"{{ }}")&&(e.rs(b,d,function(b,d,f){f.b(f.v(f.f("url",b,d,0)))}),b.pop());e.s(e.f("url",b,d,1),b,d,1,0,0,"")||e.b("#");e.b('">');e.b(e.v(e.f("name",b,d,0)));e.b("</a></li> ")}),c.pop());this.b(" </ul> ");return this.fl()},mini_profile:function(c,b,d){this.b(d=d||"");this.b('<div class="mini-profile-info"> <div class="member-large"> ');this.s(this.f("isMe",
c,b,1),c,b,0,68,125,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b('<a class="av-btn change js-change-av" href="#">Change</a>')}),c.pop());this.b(" ");!this.s(this.f("isMe",c,b,1),c,b,1,0,0,"")&&this.s(this.f("avatarHash",c,b,1),c,b,0,159,204,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b('<a class="av-btn js-view-large" href="#"></a>')}),c.pop());this.b(" ");this.s(this.f("avatarHash",c,b,1),c,b,0,244,585,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <img class="member-avatar" height="50" width="50" src="');
e.b(e.v(e.f("__avatarDomain",b,d,0)));e.b("/");e.b(e.v(e.f("avatarHash",b,d,0)));e.b('/50.png" alt="');e.s(e.f("deleted",b,d,1),b,d,0,359,396,"{{ }}")&&(e.rs(b,d,function(b,d,f){f.b("This member has deleted their account")}),b.pop());e.s(e.f("deleted",b,d,1),b,d,1,0,0,"")||(e.b(e.v(e.f("fullName",b,d,0))),e.b(" ("),e.b(e.v(e.f("username",b,d,0))),e.b(")"));e.b('" title="');e.s(e.f("deleted",b,d,1),b,d,0,480,517,"{{ }}")&&(e.rs(b,d,function(b,d,f){f.b("This member has deleted their account")}),b.pop());
e.s(e.f("deleted",b,d,1),b,d,1,0,0,"")||(e.b(e.v(e.f("fullName",b,d,0))),e.b(" ("),e.b(e.v(e.f("username",b,d,0))),e.b(")"));e.b('" /> ')}),c.pop());this.b(" ");this.s(this.f("avatarHash",c,b,1),c,b,1,0,0,"")||(this.b(' <span class="member-initials" title="'),this.s(this.f("deleted",c,b,1),c,b,0,666,703,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b("This member has deleted their account")}),c.pop()),this.s(this.f("deleted",c,b,1),c,b,1,0,0,"")||(this.b(this.v(this.f("fullName",c,b,0))),this.b(" ("),
this.b(this.v(this.f("username",c,b,0))),this.b(")")),this.b('"> '),this.s(this.f("deleted",c,b,1),c,b,1,0,0,"")||this.b(this.v(this.f("initials",c,b,0))),this.b(" "),this.s(this.f("deleted",c,b,1),c,b,0,818,819,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b("?")}),c.pop()),this.b(" </span> "));this.b(' </div> <div class="info"> <h3 class="bottom" style="margin-right: 40px;"><a class="js-profile" href="/');this.b(this.v(this.f("username",c,b,0)));this.b('">');this.b(this.v(this.f("fullName",c,b,0)));
this.b('</a></h3> <p class="quiet bottom">@');this.b(this.v(this.f("username",c,b,0)));this.b("</p> ");this.s(this.f("bio",c,b,1),c,b,0,1044,1085,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b('<p class="quiet bottom ellip">');e.b(e.v(e.f("bio",b,d,0)));e.b("</p>")}),c.pop());this.b(" ");this.s(this.f("showEmail",c,b,1),c,b,0,1108,1145,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b('<p class="bottom quiet">');e.b(e.v(e.f("email",b,d,0)));e.b("</p>")}),c.pop());this.b(" ");this.s(this.f("isMe",c,b,1),c,b,
0,1169,1254,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b('<p class="bottom"><a href="#" class="quiet js-edit-profile">Edit profile info</a></p>')}),c.pop());this.b(" </div> </div> ");return this.fl()},move_card_controls:function(c,b,d){this.b(d=d||"");this.b('<div class="button-link setting" style="width: 255px; max-width: 255px; margin-bottom: 8px;"> <span class="label">Board</span> <span class="value js-board-value"></span> <label>Board</label> <select class="js-select-board"> ');this.s(this.f("organizations",
c,b,1),c,b,0,242,437,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <optgroup label="');e.b(e.v(e.f("displayName",b,d,0)));e.b('"> ');e.s(e.f("boards",b,d,1),b,d,0,289,413,"{{ }}")&&(e.rs(b,d,function(b,d,f){f.b(' <option value="');f.b(f.v(f.f("id",b,d,0)));f.b('"');f.s(f.f("selected",b,d,1),b,d,0,325,345,"{{ }}")&&(f.rs(b,d,function(b,d,f){f.b(' selected="selected"')}),b.pop());f.b(">");f.b(f.v(f.f("name",b,d,0)));f.s(f.f("selected",b,d,1),b,d,0,380,390,"{{ }}")&&(f.rs(b,d,function(b,d,f){f.b(" (current)")}),
b.pop());f.b("</option> ")}),b.pop());e.b(" </optgroup> ")}),c.pop());this.b(' </select> </div> <div class="button-link setting" style="width: 163px; margin: 0 8px 8px 0;"> <span class="label">List</span> <span class="value js-list-value"></span> <label>List</label> <select class="js-select-list"></select> </div> <div class="button-link setting" style="width: 70px; margin-bottom: 8px;"> <span class="label">Position</span> <span class="value js-pos-value"></span> <label>Position</label> <select class="js-select-position"></select> </div> ');
return this.fl()},notification:function(c,b,d){this.b(d=d||"");this.b('<div class="creator');this.s(this.f("isDueDateNotification",c,b,1),c,b,1,0,0,"")||this.b(" member");this.s(this.f("member",c,b,1),c,b,0,89,106,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(" js-show-mem-menu")}),c.pop());this.b('"');this.s(this.f("member",c,b,1),c,b,0,129,147,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' idmember="');e.b(e.v(e.f("id",b,d,0)));e.b('"')}),c.pop());this.b("> ");this.s(this.f("member",c,b,1),c,b,0,171,
182,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(e.rp("member",b,d,""))}),c.pop());this.b(" ");this.s(this.f("memberDeleted",c,b,1),c,b,0,212,256,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b('<span class="member-initials quiet">?</span>')}),c.pop());this.b(" ");this.s(this.f("isDueDateNotification",c,b,1),c,b,0,301,335,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b('<span class="icon-lg icon-clock"/>')}),c.pop());this.b(" ");this.s(this.f("isDeclinedInvitationNotification",c,b,1),c,b,0,399,433,"{{ }}")&&
(this.rs(c,b,function(b,d,e){e.b('<span class="icon-lg icon-close"/>')}),c.pop());this.b(' </div> <div class="phenom-desc');this.s(this.f("isDesktopNotification",c,b,1),c,b,1,0,0,"")||(this.s(this.f("invitedToBoard",c,b,1),c,b,0,546,587,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.s(e.f("stillInvited",b,d,1),b,d,0,563,570,"{{ }}")&&(e.rs(b,d,function(b,d,f){f.b(" invite")}),b.pop())}),c.pop()),this.s(this.f("invitedToOrganization",c,b,1),c,b,0,632,673,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.s(e.f("stillInvited",
b,d,1),b,d,0,649,656,"{{ }}")&&(e.rs(b,d,function(b,d,f){f.b(" invite")}),b.pop())}),c.pop()));this.b('"> ');this.s(this.f("member",c,b,1),c,b,0,739,824,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b('<a class="inline-object js-show-mem-menu" href="#" idmember="');e.b(e.v(e.f("id",b,d,0)));e.b('">');e.b(e.v(e.f("fullName",b,d,0)));e.b("</a>")}),c.pop());this.b(" ");this.s(this.f("memberDeleted",c,b,1),c,b,0,854,898,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b('<span class="quiet">[deleted account]</span>')}),
c.pop());this.b(" ");this.s(this.f("entities",c,b,1),c,b,0,930,943,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(" ");e.b(e.rp("entity",b,d,""));e.b(" ")}),c.pop());this.b(" ");this.s(this.f("isDesktopNotification",c,b,1),c,b,1,0,0,"")||(this.b(" "),this.s(this.f("stillInvited",c,b,1),c,b,0,1001,1237,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <div class="phenom-opts"> <a class="button-link js-accept-invitation');e.s(e.f("confirmed",b,d,1),b,d,1,0,0,"")||e.b(" disabled");e.b('" href="#">Accept</a> <a class="button-link js-reject-invitation');
e.s(e.f("confirmed",b,d,1),b,d,1,0,0,"")||e.b(" disabled");e.b('" href="#">Reject</a> </div> ')}),c.pop()),this.b(" "));this.b(" </div> ");this.s(this.f("isDesktopNotification",c,b,1),c,b,1,0,0,"")||(this.b(' <p class="phenom-meta quiet"> '),this.s(this.f("date",c,b,1),c,b,0,1355,1395,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b('<span class="date" dt="');e.b(e.v(e.f("date",b,d,0)));e.b('"></span>')}),c.pop()),this.b(" </p> "));this.b(" ");return this.fl()},notification_title:function(c,b,d){this.b(d=
d||"");this.s(this.f("textType",c,b,1),c,b,0,13,25,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(" ");e.b(e.t(e.f("text",b,d,0)));e.b(" ")}),c.pop());this.b(" ");this.s(this.f("cardType",c,b,1),c,b,0,52,64,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(" ");e.b(e.t(e.f("name",b,d,0)));e.b(" ")}),c.pop());this.b(" ");this.s(this.f("boardType",c,b,1),c,b,0,92,104,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(" ");e.b(e.t(e.f("name",b,d,0)));e.b(" ")}),c.pop());this.b(" ");this.s(this.f("organizationType",c,b,
1),c,b,0,140,152,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(" ");e.b(e.t(e.f("name",b,d,0)));e.b(" ")}),c.pop());this.b(" ");this.s(this.f("listType",c,b,1),c,b,0,187,199,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(" ");e.b(e.t(e.f("name",b,d,0)));e.b(" ")}),c.pop());this.b(" ");this.s(this.f("checklistType",c,b,1),c,b,0,231,243,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(" ");e.b(e.t(e.f("name",b,d,0)));e.b(" ")}),c.pop());this.b(" ");this.s(this.f("checkItemType",c,b,1),c,b,0,280,292,"{{ }}")&&(this.rs(c,
b,function(b,d,e){e.b(" ");e.b(e.t(e.f("name",b,d,0)));e.b(" ")}),c.pop());this.b(" ");this.s(this.f("labelType",c,b,1),c,b,0,325,355,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(" ");e.s(e.f("text",b,d,1),b,d,0,335,345,"{{ }}")&&(e.rs(b,d,function(b,d,f){f.b(f.t(f.f("text",b,d,0)))}),b.pop());e.b(" ")}),c.pop());this.b(" ");this.s(this.f("attachmentType",c,b,1),c,b,0,389,401,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(" ");e.b(e.t(e.f("name",b,d,0)));e.b(" ")}),c.pop());this.b(" ");this.s(this.f("memberType",
c,b,1),c,b,0,436,452,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(" ");e.b(e.t(e.f("fullName",b,d,0)));e.b(" ")}),c.pop());this.b(" ");this.s(this.f("relDateType",c,b,1),c,b,0,484,497,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(" ");e.b(e.v(e.f("current",b,d,0)));e.b(" ")}),c.pop());this.b(" ");return this.fl()},observer_list:function(c,b,d){this.b(d=d||"");this.b('<ul class="pop-over-member-list js-list ');this.s(this.f("__ed",c,b,1),c,b,0,49,80,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b("js-list-draggable-board-members")}),
c.pop());this.b('"></ul> ');return this.fl()},org_account:function(c,b,d){this.b(d=d||"");this.b('<div class="window-module"> <a class="big-link js-change-org-vis" href="#"> <span class="text">Organization Visibility</span> </a> <div> ');this.s(this.f("premium:prefs",c,b,1),c,b,0,155,653,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <div class="window-module"> <div class="window-module-title"> <h3 class="inline">Business Class Settings</h3> </div> <a class="big-link js-restrict-inv-org" href="#"> <span class="text">Org Membership Restrictions</span> </a> <a class="big-link js-restrict-board-vis" href="#"> <span class="text">Board Creation Restrictions</span> </a> <a class="big-link options dark-hover js-toggle-non-org-member-board-invites" href="#"> <span class="text">Inviting Non-Org Members to Boards</span> </a> <div> ')}),
c.pop());this.b(" ");this.s(this.f("hasBusinessClass",c,b,1),c,b,1,0,0,"")||this.b(' <div class="window-module gutter"> <a class="quiet-button js-confirm-delete-org" href="#" style="padding: 6px 11px; margin-top: 32px;">Delete this organization?</a> </div> ');this.b(" ");return this.fl()},org_bc_intro:function(c,b,d){this.b(d||"");this.b('<div class="product-intro-modal bc-intro"> <a href="#" class="icon-lg icon-close dark-hover product-intro-close js-close-intro-helper"></a> <div class="product-intro-header"> <img class="product-intro-logo" src="https://d2k1ftgv7pobq7.cloudfront.net/images/landing/businessClass/9b9b5d825b48e46a607311eeef8c2e67/trello-business-class-with-text.png" alt="Trello Business Class" /> </div> <hr> <div class="product-intro-section"> <h2>Welcome to Business Class!</h2> <p>To get started...</p> </div> <div class="product-intro-section"> <span class="product-intro-number">1</span> <h3>Visit the Members page to manage members.</h3> <p> You can link your Google Apps Domain, change roles and deactivate members, and view member activity on the \u201cMembers\u201d tab above. </p> </div> <div class="product-intro-section"> <span class="product-intro-number">2</span> <h3>Check out the Organization Settings page.</h3> <p> To check out organization and board invite restrictions and board creation restrictions, click the \u201cOrganization Settings\u201d tab above. </p> </div> <div class="product-intro-section"> <span class="product-intro-number">3</span> <h3>For billing info\u2026</h3> <p> To see billing history, change a credit card, or change the billing contact, click the \u201cBilling\u201d tab above. </p> </div> <div class="product-intro-section"> <span class="product-intro-number">4</span> <h3>Check the User Guide.</h3> <p style="margin-bottom: 0;"> Everything else is outlined in the <a href="http://help.trello.com/customer/portal/articles/1349993-using-business-class">Business Class User Guide</a>. Business Class features are usually marked with this icon: <span class="icon-sm icon-briefcase icon-briefcase-bc-color"/>. </p> </div> <div class="product-intro-section"> <p> Here is a video walking you through the interface. It will be in the <a href="http://help.trello.com/customer/portal/articles/1349993-using-business-class">User Guide</a> if you want to watch it later. </p> </div> <div class"product-intro-section"> <p> <a href="https://fast.wistia.net/embed/iframe/4v5qyh3c69?popover=true&plugin%5Bchapters%5D%5Bch_1_title%5D=Get%20Organized&plugin%5Bchapters%5D%5Bch_1_time%5D=35&plugin%5Bchapters%5D%5Bch_2_title%5D=Super%20Admins&plugin%5Bchapters%5D%5Bch_2_time%5D=84&plugin%5Bchapters%5D%5Bch_3_title%5D=Member%20Restrictions&plugin%5Bchapters%5D%5Bch_3_time%5D=108&plugin%5Bchapters%5D%5Bch_4_title%5D=Members%20Page&plugin%5Bchapters%5D%5Bch_4_time%5D=158&plugin%5Bchapters%5D%5Bch_5_title%5D=Google%20Apps&plugin%5Bchapters%5D%5Bch_5_time%5D=219&plugin%5Bchapters%5D%5Bch_6_title%5D=Exporting%20Data&plugin%5Bchapters%5D%5Bch_6_time%5D=233&plugin%5Bchapters%5D%5Bch_7_title%5D=Billing&plugin%5Bchapters%5D%5Bch_7_time%5D=255&plugin%5Bchapters%5D%5Bch_8_title%5D=Get%20Help&plugin%5Bchapters%5D%5Bch_8_time%5D=267&plugin%5Bchapters%5D%5Bsrc%5D=https%3A%2F%2Ffast.wistia.com%2Flabs%2Fchapters%2Fplugin.js&plugin%5Bchapters%5D%5Bwidth%5D=200px&plugin%5Bchapters%5D%5Blocation%5D=right&plugin%5Bchapters%5D%5Bshow_timestamps%5D=no" class="wistia-popover[height=353,playerColor=006595,width=778]" id="wistia-bc-video"><img src="https://embed-ssl.wistia.com/deliveries/a8a9c5143cf82350ec8f8365d2b42599b16905b7.jpg?image_play_button=true&image_play_button_color=006595e0&image_crop_resized=406x228" /></a> <script charset="ISO-8859-1" src="https://fast.wistia.com/static/popover-v1.js">\x3c/script> <script> $(\'#wistia-bc-video\').click(function(){ TRMixpanel.trackVideoWatched(\'4v5qyh3c69\', \'Business Class Help Video\', \'org_bc_intro.html\'); }) \x3c/script> </p> </div> <p class="product-intro-close-bottom center quiet"> <a href="#" class="js-close-intro-helper dark-hover"> <span class="icon-sm icon-close dark-hover"/>Got it! Close this helper. </a> </p> </div> ');
return this.fl()},org_boards_for_member:function(c,b,d){this.b(d=d||"");this.b('<ul class="pop-over-list"> ');this.s(this.f("boards",c,b,1),c,b,0,38,127,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <li> <a href="');e.b(e.v(e.f("url",b,d,0)));e.b('"> ');e.b(e.v(e.f("name",b,d,0)));e.b(' <span class="quiet">(');e.b(e.v(e.f("memberType",b,d,0)));e.b(")</span> </a> </li> ")}),c.pop());this.b(" </ul> ");return this.fl()},org_create:function(c,b,d){this.b(d||"");this.b('<form> <p class="error" style="display:none"></p> <label for="org-display-name">Name</label> <input type="text" name="displayName" class="js-autofocus" id="org-display-name" value="');
this.b(this.v(this.f("displayName",c,b,0)));this.b('"> <label for="org-desc">Description <span class="quiet" style="font-weight: normal;">(optional)</span></label> <textarea id="org-desc" name="desc" type="text">');this.b(this.v(this.f("desc",c,b,0)));this.b('</textarea> <input type="submit" class="primary wide js-save" value="Create"> </form> <hr style="margin-top: 8px;"> <p class="quiet bottom"> An organization is a group of boards and members. </p> ');return this.fl()},org_detail:function(c,b,
d){this.b(d=d||"");this.b('<div class="tabbed-pane-header"> <div class="tabbed-pane-header-wrapper clearfix"> <a class="tabbed-pane-header-image profile-image ');this.s(this.f("__ed",c,b,1),c,b,0,141,162,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b("ed js-change-org-logo")}),c.pop());this.b('" href="#"> <img class="profile-image-image" ');this.s(this.f("logoHash",c,b,1),c,b,0,229,298,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' src="');e.b(e.v(e.f("__logoDomain",b,d,0)));e.b("/");e.b(e.v(e.f("logoHash",
b,d,0)));e.b('/170.png" alt="');e.b(e.v(e.f("fullName",b,d,0)));e.b(' logo" ')}),c.pop());this.b(" ");this.s(this.f("logoHash",c,b,1),c,b,1,0,0,"")||this.b(' src="https://d2k1ftgv7pobq7.cloudfront.net/images/b8e08be89ac9461c0a1d543016926792/org-logo-large.png" alt="Default organization logo" ');this.b(' > <span class="change-text"> Change Logo </span> </a> <div class="tabbed-pane-header-details"> <div class="js-current-details"></div> ');this.s(this.f("__ed",c,b,1),c,b,0,618,662,"{{ }}")&&(this.rs(c,
b,function(b,d,e){e.b(' <form class="js-profile-form hide"></form> ')}),c.pop());this.b(' </div> <div class="tabbed-pane-header-ad js-header-ad"></div> </div> </div> <div class="tabbed-pane-nav clearfix"> <ul> <li class="tabbed-pane-nav-item"> <a class="tabbed-pane-nav-item-button js-org-profile" href="/');this.b(this.v(this.f("name",c,b,0)));this.b('">Boards</a> </li> <li class="tabbed-pane-nav-item"> <a class="tabbed-pane-nav-item-button js-org-members" href="/');this.b(this.v(this.f("name",c,b,
0)));this.b('/members">Members</a> </li> ');this.s(this.f("isBusinessClassAdmin",c,b,1),c,b,0,1070,1648,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <li class="tabbed-pane-nav-item"> <a class="tabbed-pane-nav-item-button js-org-export" href="#">Export <span class="icon-sm icon-briefcase icon-briefcase-bc-color"/></a> </li> ');e.s(e.f("hasAccount",b,d,1),b,d,0,1262,1430,"{{ }}")&&(e.rs(b,d,function(b,d,f){f.b(" ");f.s(f.f("accountProblem",b,d,1),b,d,1,0,0,"")||(f.b(' <li class="tabbed-pane-nav-item"> <a class="tabbed-pane-nav-item-button js-billing" href="/'),
f.b(f.v(f.f("name",b,d,0))),f.b('/billing">Billing</a> </li> '));f.b(" ")}),b.pop());e.b(" ");e.s(e.f("accountProblem",b,d,1),b,d,0,1465,1628,"{{ }}")&&(e.rs(b,d,function(b,d,f){f.b(' <li class="tabbed-pane-nav-item"> <a class="tabbed-pane-nav-item-button js-billing" href="/');f.b(f.v(f.f("name",b,d,0)));f.b('/billing">Billing <span class="option">Issue!</span></a> </li> ')}),b.pop());e.b(" ")}),c.pop());this.b(" ");this.s(this.f("isOrgAdmin",c,b,1),c,b,0,1689,1822,"{{ }}")&&(this.rs(c,b,function(b,
d,e){e.b(' <li class="tabbed-pane-nav-item"> <a class="tabbed-pane-nav-item-button js-org-account" href="/');e.b(e.v(e.f("name",b,d,0)));e.b('/account">Settings</a> </li> ')}),c.pop());this.b(' </ul> </div> <div class="tabbed-pane-main-col clearfix"> <div class="tabbed-pane-main-col-loading hide js-loading-page"> <span class="tabbed-pane-main-col-loading-spinner spinner"></span> </div> <div class="tabbed-pane-main-col-wrapper js-content"></div> </div> ');return this.fl()},org_detail_profile_edit:function(c,
b,d){this.b(d||"");this.b('<p class="error js-profile-form-error hide"></p> <label>Name</label> <input type="text" name="displayName" value="');this.b(this.v(this.f("displayName",c,b,0)));this.b('"/> <label>Short Name</label> <input type="text" name="name" value="');this.b(this.v(this.f("name",c,b,0)));this.b('"/> <label>Website</label> <input type="text" name="website" value="');this.b(this.v(this.f("website",c,b,0)));this.b('"/> <label>Description <span class="quiet">(optional)</span></label> <textarea name="desc">');
this.b(this.v(this.f("desc",c,b,0)));this.b('</textarea> <input type="submit" class="primary wide js-submit-profile" value="Save"/> <input type="button" class="js-cancel-edit-profile" value="Cancel"/> ');return this.fl()},org_detail_profile_info:function(c,b,d){this.b(d=d||"");this.b('<div class="tabbed-pane-header-details-name"> <h1 class="inline"> ');this.b(this.v(this.f("displayName",c,b,0)));this.b(" </h1> ");this.s(this.f("hasBusinessClass",c,b,1),c,b,0,109,240,"{{ }}")&&(this.rs(c,b,function(b,
d,e){e.b(' <span class="window-title-extra bc"> <span class="business-class-mark" title="Business Class Mark"></span> Business Class </span> ')}),c.pop());this.b(' <span class="window-title-extra"> <span class="icon-sm icon-');this.b(this.v(this.f("permissionLevel",c,b,0)));this.b('" title="');this.b(this.v(this.f("pLevelAltText",c,b,0)));this.b('"></span> ');this.b(this.v(this.f("pLevelDisplayText",c,b,0)));this.b(' </span> </div> <div class="tabbed-pane-header-details-content"> ');this.s(this.f("desc",
c,b,1),c,b,0,472,495,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(" ");e.b(e.t(e.f("descriptionHtml",b,d,0)));e.b(" ")}),c.pop());this.b(" ");this.s(this.f("websiteHref",c,b,1),c,b,0,521,573,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <p> <a href="');e.b(e.v(e.f("websiteHref",b,d,0)));e.b('">');e.b(e.v(e.f("website",b,d,0)));e.b("</a> </p> ")}),c.pop());this.b(" ");this.s(this.f("accountProblem",c,b,1),c,b,0,609,832,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <div style="padding: 4px 8px; background-color: orange; margin-bottom: 8px;"> <p class="bottom"> Oops! There is a problem with your billing information. Visit <a href="/');
e.b(e.v(e.f("name",b,d,0)));e.b('/billing">Billing</a> to fix it. </p> </div> ')}),c.pop());this.b(" </div> ");this.s(this.f("__ed",c,b,1),c,b,0,868,1006,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <a class="button-link tabbed-pane-header-details-edit js-edit-profile" href="#"><span class="icon-sm icon-edit"></span> Edit profile</a> ')}),c.pop());this.b(" ");return this.fl()},org_inline:function(c,b,d){this.b(d||"");this.b('<span>the organization</span> <a href="');this.b(this.v(this.f("organizationUrl",
c,b,0)));this.b('" class="inline-object"> ');this.b(this.v(this.f("name",c,b,0)));this.b(" </a> ");return this.fl()},org_link_ga_helper:function(c,b,d){this.b(d||"");this.b('<div class="ga-link-helper-section"> <p> <span class="ga-link-helper-num">1</span> First, you\u2019ll need to add the Trello Business Class app from the Google Apps Marketplace to your domain. The button below will get you there. </p> <p> <span class="ga-link-helper-num">2</span> When there, be sure you are signed in to the Google account with the correct domain you want to use. Click the \u201cAdd it now\u201d button then follow the prompts. </p> <p> <span class="ga-link-helper-num">3</span> You\u2019ll see other users from your Google Apps Domain on this page when configured correctly. </p> </div> <a class="button js-link" style="width: 100%; padding: 7px 0;" target="_blank" href="http://www.google.com/enterprise/marketplace/viewListing?productListingId=22922+16518145558089118433"> Go To Google Apps Marketplace </a> ');
return this.fl()},org_member_activity:function(c,b,d){this.b(d=d||"");this.b('<ul class="pop-over-list"> <li> ');this.s(this.f("hasBoards",c,b,1),c,b,0,46,121,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <a href="#" class="js-view-org-boards-for-member"> On ');e.b(e.v(e.f("boardCount",b,d,0)));e.b(" </a> ")}),c.pop());this.b(" ");this.s(this.f("hasBoards",c,b,1),c,b,1,0,0,"")||(this.b(' <a href="#" class="disabled"> On '),this.b(this.v(this.f("boardCount",c,b,0))),this.b(" </a> "));this.b(" </li> ");
this.s(this.f("orgCardsUrl",c,b,1),c,b,0,241,342,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <li> <a href="');e.b(e.v(e.f("orgCardsUrl",b,d,0)));e.b('" class="js-view-member-org-cards"> View Member\'s Org Cards </a> </li> ')}),c.pop());this.b(" </ul> ");this.s(this.f("lastActive",c,b,1),c,b,0,380,519,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <hr> <p class="quiet bottom"> ');e.b(e.v(e.f("fullName",b,d,0)));e.b(' was last active in this organization <span class="date bold" dt="');e.b(e.v(e.f("lastActive",
b,d,0)));e.b('"></span>. </p> ')}),c.pop());this.b(" ");return this.fl()},org_member_cards:function(c,b,d){this.b(d=d||"");this.b('<div class="window-module"> ');this.s(this.f("memberData",c,b,1),c,b,0,43,64,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(" ");e.b(e.rp("member_profile",b,d,""));e.b(" ")}),c.pop());this.b(' </div> <div class="js-cards"></div> ');return this.fl()},org_members:function(c,b,d){this.b(d=d||"");this.b('<div class="window-module gutter bottom clearfix"> <input type="text" class="left js-search" placeholder="Find members by name\u2026" style="margin-bottom: 8px;"> <div class="org-members-options"> ');
this.s(this.f("__ed",c,b,1),c,b,0,201,313,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <a class="button-link gutter js-manage-members" href="#"> <span class="icon-sm icon-member"/> Add Members </a> ')}),c.pop());this.b(' <div class="js-google-apps-linker');this.s(this.f("canLinkGoogleApps",c,b,1),c,b,1,0,0,"")||this.b(" hide");this.b('"> <a class="button-link primary js-link-google-apps" href="#"> <span class="icon-sm icon-google"/> Link To Google Apps Domain </a> </div> ');this.s(this.f("canShowAll",
c,b,1),c,b,0,559,768,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(" ");e.s(e.f("showingAll",b,d,1),b,d,1,0,0,"")||e.b(' <a class="quiet-button js-show-all" href="#"> Show Dismissed Accounts </a> ');e.b(" ");e.s(e.f("showingAll",b,d,1),b,d,0,682,752,"{{ }}")&&(e.rs(b,d,function(b,d,f){f.b(' <a class="quiet-button js-hide-hidden" href="#"> Hide Dismissed </a> ')}),b.pop());e.b(" ")}),c.pop());this.b(' </div> </div> <hr> <div class="window-module js-member-list"/> ');return this.fl()},org_plans:function(c,
b,d){this.b(d=d||"");this.b('<div class="window-module bc-plans"> <img class="bc-hero-image" src="https://d2k1ftgv7pobq7.cloudfront.net/images/landing/businessClass/9b9b5d825b48e46a607311eeef8c2e67/trello-business-class-with-text.png" alt="Trello Business Class" /> <div class="pitch"> <p class="intro"> Trello Business Class gives you all the power of organizations&mdash;like unlimited boards and members&mdash;plus extra administrative control. </p> <ul class="bc-features"> <li><span class="icon-sm icon-check"></span> Easily manage boards and members</li> <li><span class="icon-sm icon-check"></span> Google Apps integration</li> <li><span class="icon-sm icon-check"></span> One-click bulk data export</li> <li><span class="icon-sm icon-check"></span> Observer role</li> </ul> ');
this.s(this.f("isOrgAdmin",c,b,1),c,b,1,0,0,"")||(this.b(" "),this.s(this.f("activeAccount",c,b,1),c,b,1,0,0,"")||this.b(' <p class="helper"> Hey there! You must be an admin of the organization to get Business Class. </p> '),this.b(" "));this.b(" ");this.s(this.f("willExpire",c,b,1),c,b,1,0,0,"")||(this.b(" "),this.s(this.f("activeAccount",c,b,1),c,b,1,0,0,"")||this.b(' <p> <a href="/business-class" target="_blank" class="js-real-link js-learn-more-plans">Learn more about Business Class &rarr;</a> </p> '),
this.b(" "),this.s(this.f("activeAccount",c,b,1),c,b,0,1129,1347,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <p style="font-size: 20px;"><strong>Business Class is active!</strong> <span class="quiet">(Woo!)</span></p> ');e.s(e.f("isBCAdmin",b,d,1),b,d,0,1253,1332,"{{ }}")&&(e.rs(b,d,function(b,d,f){f.b(' <p><a href="/');f.b(f.v(f.f("name",b,d,0)));f.b('/using-business-class">Check out the User Guide.</a></p> ')}),b.pop());e.b(" ")}),c.pop()),this.b(" "));this.b(' </div> <div class="bc-call-out');
this.s(this.f("activeAccount",c,b,1),c,b,0,1430,1467,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.s(e.f("willExpire",b,d,1),b,d,1,0,0,"")||e.b(" active")}),c.pop());this.b('"> <p class="bc-price bottom"> ');this.b(this.v(this.f("bcMonthlyPrice",c,b,0)));this.b(' per month </p> <p class="bc-sub-price"> or ');this.b(this.v(this.f("bcYearlyPrice",c,b,0)));this.b(' per year </p> <p>for each organization</p> <p class="quiet">(You can cancel at any time.)</p> ');this.s(this.f("activeAccount",c,b,1),c,b,1,0,
0,"")||(this.b(" "),this.s(this.f("cancelledAccount",c,b,1),c,b,1,0,0,"")||(this.b(' <a class="button '),this.s(this.f("isOrgAdmin",c,b,1),c,b,0,1763,1800,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(" primary js-upgrade-to-business-class")}),c.pop()),this.s(this.f("isOrgAdmin",c,b,1),c,b,1,0,0,"")||this.b(" disabled"),this.b('" href="'),this.b(this.v(this.f("cardUrl",c,b,0))),this.b('"> Upgrade This Organization! </a> ')),this.b(" "),this.s(this.f("cancelledAccount",c,b,1),c,b,0,1951,2103,"{{ }}")&&
(this.rs(c,b,function(b,d,e){e.b(' <a class="button ');e.s(e.f("isOrgAdmin",b,d,1),b,d,0,1984,2006,"{{ }}")&&(e.rs(b,d,function(b,d,f){f.b(" primary js-reactivate")}),b.pop());e.s(e.f("isOrgAdmin",b,d,1),b,d,1,0,0,"")||e.b(" disabled");e.b('" href="#"> Reactivate Business Class </a> ')}),c.pop()),this.b(" "));this.b(" </div> ");this.s(this.f("willExpire",c,b,1),c,b,0,2166,2606,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(" ");e.s(e.f("isBCAdmin",b,d,1),b,d,0,2181,2591,"{{ }}")&&(e.rs(b,d,function(b,
d,f){f.b(' <p class="quiet"> You\'ve cancelled Business Class, but you can use the premium features until <strong>');f.b(f.v(f.f("yearlyExpirationDate",b,d,0)));f.b('</strong>. </p> <p> <a href="#" class="button-link inline-block js-renew-expiring-yearly-business-class-sub" style="padding-left: 24px; padding-right: 24px;"> Renew Your Subscription? </a> </p> <p class="quiet"> When you renew, you won\'t be charged until the date listed above. </p> ')}),b.pop());e.b(" ")}),c.pop());this.b(" </div> ");
return this.fl()},org_pref_restriction:function(c,b,d){this.b(d||"");this.b("<li> ");this.b(this.v(this.f("restriction",c,b,0)));this.b(' <a href="#" class="dark-hover js-restricted-address" data-pattern="');this.b(this.v(this.f("restriction",c,b,0)));this.b('" title="Remove this domain or email address from the list."> <span class="option close icon-sm icon-close"/> </a> </li> ');return this.fl()},org_prefs_nonorg_invites:function(c,b,d){this.b(d=d||"");this.b('<ul class="pop-over-list"> <li> <a href="#"> Allow ');
this.s(this.f("externalMembersDisabled",c,b,1),c,b,1,0,0,"")||this.b('<span class="icon-sm icon-check"/>');this.b(' <span class="sub-name"> Anyone can be added to a board inside your organization. </span> </a> </li> <li> <a href="#"> Don\'t Allow ');this.s(this.f("externalMembersDisabled",c,b,1),c,b,0,300,334,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b('<span class="icon-sm icon-check"/>')}),c.pop());this.b(' <span class="sub-name"> Only members added to your organization will be able to join your organization\u2019s boards. </span> </a> </li> </ul> ');
return this.fl()},org_prefs_restrict_invites:function(c,b,d){this.b(d||"");this.b('<div style="position: relative;"> <input type="text" class="js-input-restricted js-autofocus" placeholder=\'Add a domain or address\u2026\' style="margin-bottom: 6px;"> <span class="spinner small hide js-loading" style="position: absolute; top: 6px; right: 6px; z-index: 2;"/> </div> <p class="bottom quiet" style="padding: 6px;"> Choose which email domains and addresses can be added to the org. For example, if you only wanted users with fogcreek.com email addresses to be able to be added to the org, enter fogcreek.com. </p> <p class="error bottom js-errors" style="display: none; margin-top: 8px;"></p> <div class="manage-member-section js-restriction-list" style="margin-top: 16px;');
this.s(this.f("hasRestrictions",c,b,1),c,b,1,0,0,"")||this.b(" display: none;");this.b('"> <h4>Allowed Domains and Addresses</h4> <ul class="closeable-list js-list"></ul> </div> ');return this.fl()},org_prefs_vis:function(c,b,d){this.b(d=d||"");this.b('<div style="margin: 12px 0 0;"> <p>Who can create <span class="icon-sm icon-public"/> <strong>public</strong> boards?</p> <ul class="pop-over-list checkable left-check normal-weight" data-vis="public"> <li');this.s(this.f("boardVisibilityRestrict_public_org",
c,b,1),c,b,0,244,259,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' class="active"')}),c.pop());this.b(' > <a href="#" data-restriction="org">Any Org Member <span class="icon-sm icon-check"/></a> </li> <li');this.s(this.f("boardVisibilityRestrict_public_admin",c,b,1),c,b,0,440,455,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' class="active"')}),c.pop());this.b('> <a href="#" data-restriction="admin">Only Org Admins <span class="icon-sm icon-check"/></a> </li> <li');this.s(this.f("boardVisibilityRestrict_public_none",
c,b,1),c,b,0,639,654,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' class="active"')}),c.pop());this.b('> <a href="#" data-restriction="none">Nobody <span class="icon-sm icon-check"/></a> </li> </ul> </div> <hr> <div style="margin: 12px 0 0;"> <p>Who can create <span class="icon-sm icon-org-private"/> <strong>org visible</strong> boards?</p> <ul class="pop-over-list checkable left-check normal-weight" data-vis="org"> <li');this.s(this.f("boardVisibilityRestrict_org_org",c,b,1),c,b,0,1050,1065,"{{ }}")&&
(this.rs(c,b,function(b,d,e){e.b(' class="active"')}),c.pop());this.b('> <a href="#" data-restriction="org">Any Org Member <span class="icon-sm icon-check"/></a> </li> <li');this.s(this.f("boardVisibilityRestrict_org_admin",c,b,1),c,b,0,1239,1254,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' class="active"')}),c.pop());this.b('> <a href="#" data-restriction="admin">Only Org Admins <span class="icon-sm icon-check"/></a> </li> <li');this.s(this.f("boardVisibilityRestrict_org_none",c,b,1),c,b,0,1432,
1447,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' class="active"')}),c.pop());this.b('> <a href="#" data-restriction="none">Nobody <span class="icon-sm icon-check"/></a> </li> </ul> </div> <hr> <div style="margin: 12px 0 0;"> <p>Who can create <span class="icon-sm icon-private"/> <strong>private</strong> boards?</p> <ul class="pop-over-list checkable left-check normal-weight" data-vis="private"> <li');this.s(this.f("boardVisibilityRestrict_private_org",c,b,1),c,b,0,1840,1855,"{{ }}")&&(this.rs(c,
b,function(b,d,e){e.b(' class="active"')}),c.pop());this.b('> <a href="#" data-restriction="org">Any Org Member <span class="icon-sm icon-check"/></a> </li> <li');this.s(this.f("boardVisibilityRestrict_private_admin",c,b,1),c,b,0,2037,2052,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' class="active"')}),c.pop());this.b('> <a href="#" data-restriction="admin">Only Org Admins <span class="icon-sm icon-check"/></a> </li> <li');this.s(this.f("boardVisibilityRestrict_private_none",c,b,1),c,b,0,2238,2253,
"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' class="active"')}),c.pop());this.b('> <a href="#" data-restriction="none">Nobody <span class="icon-sm icon-check"/></a> </li> </ul> </div> ');return this.fl()},org_profile:function(c,b,d){this.b(d=d||"");this.b('<div class="js-main-boards-section"></div> ');this.s(this.f("isBusinessClassAdmin",c,b,1),c,b,0,68,306,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <a href="#" class="show-more clear js-show-other-private-boards-section"> Show other member\u2019s private boards... <span class="icon-sm icon-briefcase icon-briefcase-bc-color"/> </a> <div class="js-other-private-boards-section hide"></div> ')}),
c.pop());this.b(" ");return this.fl()},org_remove_or_deactivate_member:function(c,b,d){this.b(d=d||"");this.b('<ul class="pop-over-list"> <li class="clearfix"> <a class="js-soft-remove" href="#"> <span class="clearfix">');this.s(this.f("isMe",c,b,1),c,b,0,117,135,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b("Leave organization")}),c.pop());this.s(this.f("isMe",c,b,1),c,b,1,0,0,"")||this.b("Remove from organization");this.b('</span> <span class="sub-name"> Remove all access to the organization');this.s(this.f("isDeactivated",
c,b,1),c,b,0,273,288,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(" and all boards")}),c.pop());this.b(". ");this.s(this.f("orgIsBC",c,b,1),c,b,1,0,0,"")||this.b(" The member will remain on all their boards in this organization. They will receive a notification. ");this.b(" </span> </a> ");this.s(this.f("orgIsBC",c,b,1),c,b,0,458,870,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(" ");e.s(e.f("isDeactivated",b,d,1),b,d,1,0,0,"")||(e.b(" "),e.s(e.f("isMe",b,d,1),b,d,1,0,0,"")||(e.b(' <span class="check-div quiet js-hard-remove clearfix" style="margin: 4px 8px 8px; padding-top: 2px; font-size: 12px; line-height: 15px;"> <input type="checkbox" id="hardRemove" name="hard" checked> <label for="hardRemove">'),
e.s(e.f("hasBoards",b,d,1),b,d,0,724,758,"{{ }}")&&(e.rs(b,d,function(b,d,f){f.b("This member is on ");f.b(f.v(f.f("boardCount",b,d,0)));f.b(". ")}),b.pop()),e.b("Check this box to remove the member from all boards.</label> </span> ")),e.b(" "));e.b(" ")}),c.pop());this.b(" </li> ");this.s(this.f("canDeactivate",c,b,1),c,b,0,907,1138,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <li class="clearfix"> <a class="js-deactivate" href="#"> Deactivate <span class="sub-name"> Disable member\'s access to org boards, but allow other org members to see what the cards and boards the member was on. </span> </a> </li> ')}),
c.pop());this.b(" </ul> ");return this.fl()},organization_list_item:function(c,b,d){this.b(d=d||"");this.b('<a href="');this.b(this.v(this.f("url",c,b,0)));this.b('"> <span class="item-name">');this.b(this.v(this.f("displayName",c,b,0)));this.b("</span> ");this.s(this.f("hasBusinessClass",c,b,1),c,b,0,87,149,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b('<span class="icon-sm icon-briefcase icon-briefcase-bc-color"/>')}),c.pop());this.b(' <span class="icon-sm icon-');this.b(this.v(this.f("visIconClass",
c,b,0)));this.b('"/> </a> ');return this.fl()},organization_search_list_item:function(c,b,d){this.b(d||"");this.b("<li><a class='link-item' href='/");this.b(this.v(this.f("orgname",c,b,0)));this.b("'><span class='item-name'>");this.b(this.v(this.f("displayName",c,b,0)));this.b("</span></a></li> ");return this.fl()},platforms:function(c,b,d){this.b(d||"");this.b('<div class="promo-platforms"> <div class="promo-platforms-apps clearfix"> <h1>Trello works on your device, wherever you are.</h1> <a href="/" class="promo-platforms-app-item js-platforms-web"> <span class="promo-platforms-app-item-image promo-platforms-app-item-image-web"></span> <span class="promo-platforms-app-item-header"> Web </span> <span class="promo-platforms-download-button">trello.com</span> </a> <a href="https://itunes.apple.com/app/trello-organize-anything/id461504587" class="promo-platforms-app-item js-platforms-ios"> <span class="promo-platforms-app-item-image promo-platforms-app-item-image-ios"></span> <span class="promo-platforms-app-item-header"> iPhone and iPad <span class="quiet">(iOS 7+)</span> </span> <span class="promo-platforms-download-button">Download</span> </a> <a href="https://play.google.com/store/apps/details?id=com.trello" class="promo-platforms-app-item js-platforms-android"> <span class="promo-platforms-app-item-image promo-platforms-app-item-image-android"></span> <span class="promo-platforms-app-item-header"> Android phones and tablets <span class="quiet">(4+)</span> </span> <span class="promo-platforms-download-button">Download</span> </a> <a href="http://www.amazon.com/gp/mas/dl/android?p=com.trello" class="promo-platforms-app-item js-platforms-kindle"> <span class="promo-platforms-app-item-image promo-platforms-app-item-image-kindle"></span> <span class="promo-platforms-app-item-header"> Kindle Fire </span> <span class="promo-platforms-download-button">Download</span> </a> <a href="http://apps.microsoft.com/windows/app/trello/bd4fa6c1-0994-4caa-b0e1-04eec135667b" class="promo-platforms-app-item js-platforms-win8"> <span class="promo-platforms-app-item-image promo-platforms-app-item-image-windows8"></span> <span class="promo-platforms-app-item-header"> Windows 8 </span> <span class="promo-platforms-download-button">Download</span> </a> </div> <div class="promo-platforms-browsers clearfix"> <h1>Trello is supported in these modern browsers.</h1> <a href="https://www.google.com/chrome" class="promo-platforms-browser-item js-platforms-chrome"> <span class="promo-platforms-browser-item-image promo-platforms-browser-item-image-chrome"></span> <span class="promo-platforms-browser-item-header"> Chrome <span class="quiet">(latest)</span> </span> <span class="promo-platforms-download-button">Download</span> </a> <a href="http://www.firefox.com" class="promo-platforms-browser-item js-platforms-firefox"> <span class="promo-platforms-browser-item-image promo-platforms-browser-item-image-firefox"></span> <span class="promo-platforms-browser-item-header"> Firefox <span class="quiet">(latest)</span> </span> <span class="promo-platforms-download-button">Download</span> </a> <a href="http://www.apple.com/safari/" class="promo-platforms-browser-item js-platforms-safari"> <span class="promo-platforms-browser-item-image promo-platforms-browser-item-image-safari"></span> <span class="promo-platforms-browser-item-header"> Safari <span class="quiet">(6+)</span> </span> <span class="promo-platforms-download-button">Download</span> </a> <a href="http://windows.microsoft.com/ie" class="promo-platforms-browser-item js-platforms-ie"> <span class="promo-platforms-browser-item-image promo-platforms-browser-item-image-ie"></span> <span class="promo-platforms-browser-item-header"> Internet Explorer <span class="quiet">(10+)</span> </span> <span class="promo-platforms-download-button">Download</span> </a> <p class="promo-platforms-mobile-browsers quiet"> We also support most mobile browsers including Safari on iOS 7, the Android 4.0+ browser, and Internet Explorer 10 on Windows Phone 8. </p> </div> </div> ');
this.b(this.rp("promo_footer",c,b,""));this.b(" ");return this.fl()},pop_over_ad:function(c,b,d){this.b(d=d||"");this.b('<a href="#" class="icon-sm icon-close dark-hover ad-close js-close-ad"></a> ');this.s(this.f("iconClass",c,b,1),c,b,0,90,135,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <span class="ad-icon ');e.b(e.v(e.f("iconClass",b,d,0)));e.b('"></span> ')}),c.pop());this.b(' <div class="ad-copy">');this.b(this.t(this.f("copyHtml",c,b,0)));this.b("</div>");return this.fl()},popover_add_list:function(c,
b,d){this.b(d||"");this.b('<form style="position: relative;"> <div style="float: left; width: 180px;"> <label for="list-name">Name</label> <input type="text" class="js-list-name js-autofocus" id="list-name" value="List"> </div> <div href="#" class="button-link setting" style="width: 60px; position: absolute; top: 4px; right: 4px;"> <span class="label">Position</span> <span class="value js-pos-value"></span> <label>Position</label> <select class="js-select-list-pos"></select> </div> <input type="submit" class="primary wide left clear js-add-list" value="Add"> </form> ');
return this.fl()},popover_auto_mentioner:function(c,b,d){this.b(d=d||"");this.s(this.f("button",c,b,1),c,b,0,11,106,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <input type="text" class="js-filter-mentionables js-autofocus" placeholder="Search members\u2026"> ')}),c.pop());this.b(' <ul class="pop-over-member-list js-available-members"></ul> ');this.s(this.f("button",c,b,1),c,b,0,189,786,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <div class="js-select-multiple-options hide"> <hr> <ul class="pop-over-list"> ');
e.s(e.f("showAllCardMembers",b,d,1),b,d,0,291,413,"{{ }}")&&(e.rs(b,d,function(b,d,f){f.b(' <li> <a href="#" class="js-select-all-card-members"> Mention All Card Members <span class="quiet mem-count"/> </a> </li> ')}),b.pop());e.b(" ");e.s(e.f("showAllBoardMembers",b,d,1),b,d,0,461,585,"{{ }}")&&(e.rs(b,d,function(b,d,f){f.b(' <li> <a href="#" class="js-select-all-board-members"> Mention All Board Members <span class="quiet mem-count"/> </a> </li> ')}),b.pop());e.b(" ");e.s(e.f("showAllCommenters",
b,d,1),b,d,0,632,750,"{{ }}")&&(e.rs(b,d,function(b,d,f){f.b(' <li> <a href="#" class="js-select-all-commenters"> Mention All Commenters <span class="quiet mem-count"/> </a> </li> ')}),b.pop());e.b(" </ul> </div> ")}),c.pop());this.b(" ");return this.fl()},popover_card_from_calendar:function(c,b,d){this.b(d||"");this.b('<div> <textarea class="js-card-title">');this.b(this.v(this.f("title",c,b,0)));this.b('</textarea> </div> <div class="button-link list-button-link setting"> <span class="label">List</span> <span class="value js-list-value"></span> <label>List</label> <select class="js-select-list"></select> </div> <div class="button-link pos-button-link setting"> <span class="label">Position</span> <span class="value js-pos-value"></span> <label>Position</label> <select class="js-select-position"></select> </div> <input type="submit" class="primary wide js-add-card" value="Add"/> ');
return this.fl()},popover_change_board_org:function(c,b,d){this.b(d=d||"");this.b('<form> <label>Organization</label> <select class="js-org"> <option value="" ');this.s(this.f("orgs",c,b,1),c,b,1,0,0,"")||this.b("selected");this.b(">(none)</option> ");this.s(this.f("orgs",c,b,1),c,b,0,128,207,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <option value="');e.b(e.v(e.f("id",b,d,0)));e.b('"');e.s(e.f("select",b,d,1),b,d,0,162,170,"{{ }}")&&(e.rs(b,d,function(b,d,f){f.b("selected")}),b.pop());e.b(">");
e.b(e.v(e.f("displayName",b,d,0)));e.b("</option> ")}),c.pop());this.b(' </select> <input type="submit" class="js-submit wide primary" value="Change"> </form> ');return this.fl()},popover_change_email:function(c,b,d){this.b(d||"");this.b("<p> Your email address is currently <b>");this.b(this.v(this.f("email",c,b,0)));this.b('</b>. </p> <form> <p id="account-error" class="error"></p> <div class="field"> <label for="email">New Email Address</label> <input id="email" type="email" name="email" value=""> </div> <input type="submit" class="primary js-save-changes" value="Send Confirmation Email"> </form> <hr> <p class="quiet bottom"> This change will take effect after you click on the link in the confirmation email sent to the new email address. </p> ');
return this.fl()},popover_change_labels:function(c,b,d){this.b(d=d||"");this.b('<ul class="edit-labels-pop-over');this.s(this.f("showShortcuts",c,b,1),c,b,0,49,64,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(" show-shortcuts")}),c.pop());this.b('"> ');this.s(this.f("labels",c,b,1),c,b,0,96,396,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <li> <a class="card-label card-label-selectable card-label-');e.b(e.v(e.f("color",b,d,0)));e.b(" ");e.s(e.f("isActive",b,d,1),b,d,0,179,185,"{{ }}")&&(e.rs(b,d,function(b,
d,f){f.b("active")}),b.pop());e.b('" label="');e.b(e.v(e.f("color",b,d,0)));e.b('"> ');e.s(e.f("name",b,d,1),b,d,0,228,236,"{{ }}")&&(e.rs(b,d,function(b,d,f){f.b(f.v(f.f("name",b,d,0)))}),b.pop());e.b(" ");e.s(e.f("shortcut",b,d,1),b,d,0,259,303,"{{ }}")&&(e.rs(b,d,function(b,d,f){f.b('<span class="shortcut">(');f.b(f.v(f.f("shortcut",b,d,0)));f.b(")</span>")}),b.pop());e.b(' <span class="card-label-selectable-icon icon-sm icon-check light"/> </a> </li> ')}),c.pop());this.b(" </ul> ");this.s(this.f("__ed",
c,b,1),c,b,0,423,845,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <div class="');e.s(e.f("hideEditTitles",b,d,1),b,d,0,455,459,"{{ }}")&&(e.rs(b,d,function(b,d,f){f.b("hide")}),b.pop());e.b('"> <hr> <p class="bottom"> <a class="quiet-button full js-edit-label-titles" style="padding: 6px 8px;" href="#"> <span class="text">Change label titles\u2026</span> </a> </p> <p class="bottom"> <a class="quiet-button full js-toggle-color-blind-mode" style="padding: 6px 8px;" href="#"> <span class="text">');e.b(e.v(e.f("cbToggleText",
b,d,0)));e.b(" Color Blind Friendly Mode</span> </a> </p> </div> ")}),c.pop());this.b(" ");return this.fl()},popover_change_position:function(c,b,d){this.b(d||"");this.b('<div class="button-link setting" style="width: 163px; margin-right: 8px;"> <span class="label">List</span> <span class="value js-list-value"></span> <label>List</label> <select class="js-select-list"></select> </div> <div class="button-link setting" style="width: 70px;"> <span class="label">Position</span> <span class="value js-pos-value"></span> <label>Position</label> <select class="js-select-position"></select> </div> ');
return this.fl()},popover_change_roles:function(c,b,d){this.b(d=d||"");this.b('<ul class="pop-over-list"> <li> <a class="');this.s(this.f("canMakeAdmin",c,b,1),c,b,0,59,87,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b("js-make-admin highlight-icon")}),c.pop());this.s(this.f("canMakeAdmin",c,b,1),c,b,1,0,0,"")||this.b(" disabled");this.b('"> Admin ');this.s(this.f("memberIsAdmin",c,b,1),c,b,0,174,208,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b('<span class="icon-sm icon-check"/>')}),c.pop());this.b(' <span class="sub-name">');
this.b(this.v(this.f("roleText_admin",c,b,0)));this.b('</span> </a> </li> <li> <a class="');this.s(this.f("canMakeMember",c,b,1),c,b,0,320,350,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b("highlight-icon js-make-member ")}),c.pop());this.s(this.f("canMakeMember",c,b,1),c,b,1,0,0,"")||this.b(" disabled");this.b('"> Normal ');this.s(this.f("memberIsNormal",c,b,1),c,b,0,442,476,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b('<span class="icon-sm icon-check"/>')}),c.pop());this.b(' <span class="sub-name">');
this.b(this.v(this.f("roleText_normal",c,b,0)));this.b("</span> </a> </li> ");this.s(this.f("showObserver",c,b,1),c,b,0,574,926,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <li> <a class="');e.s(e.f("canMakeObserver",b,d,1),b,d,0,610,642,"{{ }}")&&(e.rs(b,d,function(b,d,f){f.b("highlight-icon js-make-observer ")}),b.pop());e.s(e.f("canMakeObserver",b,d,1),b,d,1,0,0,"")||e.b(" disabled");e.b('"> Observer <span class="icon-sm icon-briefcase icon-briefcase-bc-color"/> ');e.s(e.f("memberIsObserver",b,
d,1),b,d,0,807,841,"{{ }}")&&(e.rs(b,d,function(b,d,f){f.b('<span class="icon-sm icon-check"/>')}),b.pop());e.b(' <span class="sub-name">');e.b(e.v(e.f("roleText_observer",b,d,0)));e.b("</span> </a> </li> ")}),c.pop());this.b(" </ul> ");this.s(this.f("isMoreThanOneAdmin",c,b,1),c,b,1,0,0,"")||(this.b(" "),this.s(this.f("memberIsAdmin",c,b,1),c,b,0,992,1093,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <hr> <p class="quiet bottom"> You can\u2019t change roles because there must be at least one admin. </p> ')}),
c.pop()),this.b(" "));this.b(" ");return this.fl()},popover_change_set_password:function(c,b,d){this.b(d=d||"");this.b("<form> ");this.s(this.f("hasPassword",c,b,1),c,b,0,23,139,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <label for="o_password"> Old Password </label> <input id="o_password" type="password" name="oldpassword" value=""> ')}),c.pop());this.b(' <label for="password1"> ');this.s(this.f("hasPassword",c,b,1),c,b,0,196,201,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(" New ")}),c.pop());this.b(' Password </label> <input id="password1" type="password" name="password" value=""> <label for="password2"> ');
this.s(this.f("hasPassword",c,b,1),c,b,0,340,345,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(" New ")}),c.pop());this.b(' Password (again) </label> <input id="password2" type="password" name="password2" value=""> <p id="password-error" class="error"></p> <input type="submit" class="primary js-save-changes" value="Save"> </form> ');this.s(this.f("hasPassword",c,b,1),c,b,1,0,0,"")||this.b(' <hr> <p class="quiet bottom"> You haven\'t set a password yet. You can set a password so you can log onto Trello with just your username or email address. </p> ');
this.b(" ");return this.fl()},popover_change_user_info:function(c,b,d){this.b(d||"");this.b('<form> <p id="account-error" class="error"></p> <div class="field"> <label for="fullName">Full Name</label> <input id="fullName" type="text" name="fullName" value="');this.b(this.v(this.f("fullName",c,b,0)));this.b('"> </div> <div class="field"> <label for="initials">Initials</label> <input id="initials" type="text" name="initials" value="');this.b(this.v(this.f("initials",c,b,0)));this.b('"> </div> <div class="field"> <label for="username">Username</label> <input id="username" type="text" name="username" value="');
this.b(this.v(this.f("username",c,b,0)));this.b('" required autocomplete="off" autocorrect="off" spellcheck="false" autocapitalize="off"> </div> <div class="field"> <label for="bio">Bio</label> <textarea id="bio" type="text" name="bio">');this.b(this.v(this.f("bio",c,b,0)));this.b('</textarea> </div> <input type="submit" class="primary js-save-changes" value="Save"> </form> <hr> <p class="quiet bottom"> Your initials are used in place of your avatar if your avatar is not set. Usernames require a minimum of 3 characters, alphanumeric only. </p> ');
return this.fl()},popover_checklist_menu:function(c,b,d){this.b(d||"");this.b(' <ul class="pop-over-list"> <li><a class="js-delete-checklist" href="#">Delete This Checklist\u2026</a></li> </ul> ');return this.fl()},popover_confirm_member_delete:function(c,b,d){this.b(d||"");this.b("<p> Deleting your member account (<b>");this.b(this.v(this.f("username",c,b,0)));this.b("</b>) will be permanent. </p> <p> <b>You will lose access to your boards and organizations.</b> </p> <p> Would you like us to send an email to <b>");
this.b(this.v(this.f("email",c,b,0)));this.b('</b> that contains a link that you can use to delete your account? </p> <input type="submit" class="js-delete-member" value="Send the Email"> <input type="submit" class="js-cancel-delete" value="Never Mind"> ');return this.fl()},popover_create_card:function(c,b,d){this.b(d=d||"");this.b('<textarea class="js-card-name js-autofocus" placeholder="Add a card title\u2026"></textarea> <div class="clearfix"> <div class="button-link setting left" style="width: 125px; margin: 0 8px 8px 0;"> <span class="label">Board</span> <span class="value js-board-value"></span> <label>Board</label> <select class="js-select-board"> ');
this.s(this.f("organizations",c,b,1),c,b,0,341,536,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <optgroup label="');e.b(e.v(e.f("displayName",b,d,0)));e.b('"> ');e.s(e.f("boards",b,d,1),b,d,0,388,512,"{{ }}")&&(e.rs(b,d,function(b,d,f){f.b(' <option value="');f.b(f.v(f.f("id",b,d,0)));f.b('"');f.s(f.f("selected",b,d,1),b,d,0,424,444,"{{ }}")&&(f.rs(b,d,function(b,d,f){f.b(' selected="selected"')}),b.pop());f.b(">");f.b(f.v(f.f("name",b,d,0)));f.s(f.f("selected",b,d,1),b,d,0,479,489,"{{ }}")&&(f.rs(b,
d,function(b,d,f){f.b(" (current)")}),b.pop());f.b("</option> ")}),b.pop());e.b(" </optgroup> ")}),c.pop());this.b(' </select> </div> <div class="button-link setting left" style="width: 109px; margin: 0;"> <span class="label">List</span> <span class="value js-list-value"></span> <label>List</label> <select class="js-select-list"></select> </div> </div> <input type="submit" value="Create" class="primary wide js-submit"> ');return this.fl()},popover_emoji_completer:function(c,b,d){this.b(d=d||"");this.s(this.f("button",
c,b,1),c,b,0,11,99,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <input type="text" class="js-filter-emoji js-autofocus" placeholder="Select Emoji..."> ')}),c.pop());this.b(' <ul class="pop-over-emoji-list js-available-emoji"></ul> ');return this.fl()},popover_emoji_uploader:function(c,b,d){this.b(d||"");this.b('<form action="/1/member/');this.b(this.v(this.f("id",c,b,0)));this.b('/customEmoji" method="post" enctype="multipart/form-data"> <input type="hidden" name="token" value="" /> <input type="hidden" name="format" value="http" /> <label for="emojiImage">Upload Image</label> <input id="emojiImage" type="file" name="file" class="js-upload-emoji-file upload-emoji" tabindex="-1" accept="image/*"/> <label for="emojiName">Emoji Name</label> <input id="emojiName" type="text" class="js-emoji-name" name="name"> <p class="quiet" style="font-size: 12px; line-height: 16px;">The name will default to the name of the uploaded file. You can change it here, though.</p> <p class="warning hide js-invalid-name"> The emoji name can only contain letters, numbers, and underscores. </p> <div class="js-emoji-preview" style="margin-bottom: 12px;"> <p style="margin-bottom: 4px;"> <strong>Preview</strong> </p> <span class="js-emoji-preview-name"></span> \u2192 <img class="js-emoji-preview emoji"> </div> <input type="submit" class="primary wide js-upload-emoji" value="Create Custom Emoji"> <div class="error hide"> Upload failed </div> </form> ');
return this.fl()},popover_filter_pos_results:function(c,b,d){this.b(d=d||"");this.b('<ul class="pop-over-list navigable normal-weight js-pos-results"> ');this.s(this.f("keywordList",c,b,1),c,b,0,82,225,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <li> <a class="js-select-pos-keyword" name="');e.b(e.v(e.f("value",b,d,0)));e.b('" href="#"><strong>');e.b(e.v(e.f("natural",b,d,0)));e.b("</strong> of list <strong>");e.b(e.v(e.d("list.name",b,d,0)));e.b("</strong></a> </li> ")}),c.pop());this.b(" ");this.s(this.f("indexList",
c,b,1),c,b,0,256,395,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <li> <a class="js-select-pos-pos" name="');e.b(e.v(e.f("value",b,d,0)));e.b('" href="#"><strong>');e.b(e.v(e.f("natural",b,d,0)));e.b("</strong> in list <strong>");e.b(e.v(e.d("list.name",b,d,0)));e.b("</strong></a> </li> ")}),c.pop());this.b(" ");this.s(this.f("listList",c,b,1),c,b,0,423,564,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <li> <a class="js-select-pos-list" name="');e.b(e.v(e.f("id",b,d,0)));e.b('" href="#"><strong>');
e.b(e.v(e.f("index",b,d,0)));e.b("</strong> ");e.b(e.v(e.f("indexPrep",b,d,0)));e.b(" list <strong>");e.b(e.v(e.f("name",b,d,0)));e.b("</strong></a> </li> ")}),c.pop());this.b(" </ul> ");return this.fl()},popover_helper_new_board_add_org:function(c,b,d){this.b(d||"");this.b("<p> An organizations is a collection of members and boards. They make sharing and working within a group even easier. </p> <a href=\"#\" class='button js-create-org'>Create an Organization</a> ");return this.fl()},popover_insert_card:function(c,
b,d){this.b(d||"");this.b('<form> <textarea type="text" class="js-card-name js-autofocus" id="card-name"></textarea> <input type="submit" class="primary js-insert-card" value="Add Card"> <input type="submit" class="js-cancel" value="Cancel"> </form> ');return this.fl()},popover_insertion_menu:function(c,b,d){this.b(d=d||"");this.b('<ul class="pop-over-list"> <li> <a href="#" class="js-open-emoji-selector">Select Emoji\u2026</a> </li> <li> <a href="#" class="js-open-mention-selector">Mention Member\u2026</a> </li> ');
this.s(this.f("customEmoji",c,b,1),c,b,0,191,281,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <li class="uploader"> <a href="#" class="js-upload-emoji">Upload Custom Emoji\u2026</a> </li> ')}),c.pop());this.b(" </ul> ");return this.fl()},popover_member_searcher:function(c,b,d){this.b(d=d||"");this.s(this.f("showSearch",c,b,1),c,b,0,15,105,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <input type="text" class="js-filter-members js-autofocus" placeholder="Search members\u2026"> ')}),c.pop());this.b(' <ul class="pop-over-member-list checkable js-members-list"></ul> ');
return this.fl()},popover_move_card:function(c,b,d){this.b(d||"");this.b(this.rp("move_card_controls",c,b,""));this.b(' <input type="submit" class="primary wide js-submit" value="Move"> ');return this.fl()},popover_move_list:function(c,b,d){this.b(d=d||"");this.b('<div class="button-link setting" style="width: 255px; max-width: 255px; margin-bottom: 8px;"> <span class="label">Board</span> <span class="value js-board-value"></span> <label>Board</label> <select class="js-select-board"> ');this.s(this.f("organizations",
c,b,1),c,b,0,242,437,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <optgroup label="');e.b(e.v(e.f("displayName",b,d,0)));e.b('"> ');e.s(e.f("boards",b,d,1),b,d,0,289,413,"{{ }}")&&(e.rs(b,d,function(b,d,f){f.b(' <option value="');f.b(f.v(f.f("id",b,d,0)));f.b('"');f.s(f.f("selected",b,d,1),b,d,0,325,345,"{{ }}")&&(f.rs(b,d,function(b,d,f){f.b(' selected="selected"')}),b.pop());f.b(">");f.b(f.v(f.f("name",b,d,0)));f.s(f.f("selected",b,d,1),b,d,0,380,390,"{{ }}")&&(f.rs(b,d,function(b,d,f){f.b(" (current)")}),
b.pop());f.b("</option> ")}),b.pop());e.b(" </optgroup> ")}),c.pop());this.b(' </select> </div> <div class="button-link setting" style="width: 255px; max-width: 255px; margin-bottom: 8px;"> <span class="label">Position</span> <span class="value js-pos-value"></span> <label>Position</label> <select class="js-select-list-pos"></select> </div> <input type="submit" class="primary wide js-commit-position" value="Move"/> ');return this.fl()},popover_org_data_export:function(c,b,d){this.b(d=d||"");this.s(this.f("token",
c,b,1),c,b,0,10,565,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(" ");e.s(e.f("error",b,d,1),b,d,0,21,53,"{{ }}")&&(e.rs(b,d,function(b,d,f){f.b(' <p class="error">');f.b(f.v(f.f("error",b,d,0)));f.b("</p> ")}),b.pop());e.b(" ");e.s(e.f("error",b,d,1),b,d,1,0,0,"")||(e.b(" "),e.s(e.f("complete",b,d,1),b,d,0,88,274,"{{ }}")&&(e.rs(b,d,function(b,d,f){f.b(' <p> Your export is ready! </p> <a class="button-link js-real-link" href="/1/organizations/');f.b(f.v(f.f("name",b,d,0)));f.b("/export/");f.b(f.v(f.f("token",
b,d,0)));f.b('/download"> <span class="icon-sm icon-archive"/> Download export </a> ')}),b.pop()),e.b(" "),e.s(e.f("complete",b,d,1),b,d,1,0,0,"")||(e.b(' <p class="center"> Your export is being generated.<br>Please wait\u2026 </p> <p class="center"> '),e.s(e.f("stage",b,d,1),b,d,0,403,491,"{{ }}")&&(e.rs(b,d,function(b,d,f){f.b(' <span class="quiet"> ');f.b(f.v(f.f("stage",b,d,0)));f.s(f.f("total",b,d,1),b,d,0,444,472,"{{ }}")&&(f.rs(b,d,function(b,d,f){f.b(" (");f.b(f.v(f.f("progress",b,d,0)));
f.b(" of ");f.b(f.v(f.f("total",b,d,0)));f.b(")")}),b.pop());f.b(" </span> ")}),b.pop()),e.b(' </p> <span class="spinner centered"/> ')),e.b(" "));e.b(" ")}),c.pop());this.b(" ");this.s(this.f("token",c,b,1),c,b,1,0,0,"")||this.b(' <p> Export your organization as a ZIP file containing information on members, boards, and everything inside. Board and member info will be in JSON format. Attachments (if included) will be in their native format. </p> <div class="check-div clearfix"> <input id="includeAttachments" type="checkbox"> <label for="includeAttachments">Include attachments\u2026</label> </div> <input class="button full primary js-export" type="submit" value="Export"> ');
this.b(" ");return this.fl()},popover_org_logo:function(c,b,d){this.b(d=d||"");this.b('<p class="error hide js-error" style="margin: 8px 4px 0;"></p> <div class="uploader" style="margin: 12px 4px 8px;"> <form class="realfile" action="/1/organization/');this.b(this.v(this.f("id",c,b,0)));this.b('/logo" method="post" enctype="multipart/form-data"> <input type="hidden" name="token" value="" /> <input type="hidden" name="format" value="http" /> <input type="file" name="file" class="js-upload-logo" style="margin-bottom: 0;" tabindex="-1" /> </form> <a class="button-link fakefile js-fakefile"> <span class="icon-sm icon-org"/> Upload a new logo </a> </div> ');
this.s(this.f("logoHash",c,b,1),c,b,0,544,672,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <hr style="margin-top: 14px;"> <a class="quiet-button clear js-remove-logo" style="padding: 6px 8px;" href="#">Remove Logo</a> ')}),c.pop());this.b(" ");return this.fl()},popover_rename_board:function(c,b,d){this.b(d||"");this.b('<form> <label>Name</label> <input type="text" class="js-board-name js-autofocus" value="');this.b(this.v(this.f("boardName",c,b,0)));this.b('"> <input type="submit" class="primary wide js-rename-board" value="Rename"> </form> ');
return this.fl()},popover_select_members:function(c,b,d){this.b(d||"");this.b('<input type="text" class="js-search-mem js-autofocus" placeholder="Search members"/> <ul class="pop-over-member-list checkable js-mem-list"> </ul> ');return this.fl()},popover_selector_menu:function(c,b,d){this.b(d||"");this.b('<ul class="pop-over-list"> <li> <a href="#" class="js-mem-selector">Members\u2026</a> </li> <li> <a href="#" class="js-label-selector">Labels\u2026</a> </li> <li> <a href="#" class="js-pos-selector">Position\u2026</a> </li> <li> <a href="#" class="js-copy-from">Copy From Existing Card\u2026</a> </li> </ul> ');
return this.fl()},popover_set_email_freq:function(c,b,d){this.b(d=d||"");this.b('<ul class="pop-over-list" name="minutesBetweenSummaries"> <li> <a class="highlight-icon" value="-1"> Never ');this.s(this.f("minutesBetweenSummaries_-1",c,b,1),c,b,0,138,172,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b('<span class="icon-sm icon-check"/>')}),c.pop());this.b(' <span class="sub-name"> Don\u2019t send emails. </span> </a> </li> <li> <a class="highlight-icon" value="60"> Periodically ');this.s(this.f("minutesBetweenSummaries_60",
c,b,1),c,b,0,353,387,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b('<span class="icon-sm icon-check"/>')}),c.pop());this.b(' <span class="sub-name"> Send emails about once an hour. </span> </a> </li> <li> <a class="highlight-icon" value="1"> Instantly ');this.s(this.f("minutesBetweenSummaries_1",c,b,1),c,b,0,576,610,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b('<span class="icon-sm icon-check"/>')}),c.pop());this.b(' <span class="sub-name"> Send emails as soon as possible. </span> </a> </li> </ul> ');
return this.fl()},popover_share:function(c,b,d){this.b(d||"");this.b('<form> <label> Link to this board <span class="icon-sm icon-');this.b(this.v(this.f("pLevelClass",c,b,0)));this.b('" title="');this.b(this.v(this.f("pLevelAltText",c,b,0)));this.b('"/> <span class="quiet" style="font-weight: normal;">');this.b(this.v(this.f("helperText",c,b,0)));this.b('</span> </label> <input class="js-url js-autofocus inline-input" type="text" readonly="readonly" value="');this.b(this.v(this.f("shortUrl",c,b,
0)));this.b('"> </form> <hr> <ul class="pop-over-list"> <li> <a class="js-print" href="#" title="Print using the browser\u2019s print function. You can use \u201cFile\u201d > \u201cPrint\u201d or \u201ccmd + P\u201d (Mac) or \u201ccontrol + P\u201d (Windows)">Print\u2026</a> </li> <li> <a class="js-export-json js-real-link" href="');this.b(this.v(this.f("jsonURL",c,b,0)));this.b('" title="Export the board data in JSON format">Export JSON</a> </li> </ul> ');return this.fl()},popover_signup:function(c,
b,d){this.b(d=d||"");this.b('<form action="/authenticate_openid" method="post" class="clearfix" style="margin-bottom: 8px; padding-bottom: 8px; border-bottom: 1px solid #bfbfbf;"> <label> Sign up with: </label> <input type="hidden" name="openid_identifier" value="https://www.google.com/accounts/o8/id"> <input type="submit" class="primary js-google-confirm-account" style="margin-top: 4px; width: 100%;" value="Google Account"> <input type="hidden" name="returnUrl" value="');this.b(this.v(this.f("returnUrl",
c,b,0)));this.b('"> </form> <form action="/signup" method="post" class="clearfix" style="margin-bottom: 8px; padding-bottom: 8px; border-bottom: 1px solid #bfbfbf;"> <h3>Or use email and password</h3> <label for="display-name-create"> Full Name </label> <input type="text" name="fullName" id="display-name-create" value="');this.b(this.v(this.f("fullName",c,b,0)));this.b('"> <div class="js-use-diff-email"> <label for="email-create"> Email </label> <input type="email" name="email" id="email-create" value="');
this.b(this.v(this.f("email",c,b,0)));this.b('" autocomplete="off" autocorrect="off" spellcheck="false" autocapitalize="off"> </div> <label for="password-create"> Password </label> <input type="password" name="password" id="password-create"> <input type="hidden" name="returnUrl" value="');this.b(this.v(this.f("returnUrl",c,b,0)));this.b('"> <input type="submit" class="primary js-confirm-email-account" style="width: 100%;" value="Create New Account"> </form> <form> <p class="clear" style="margin-bottom: 0;"> Already have an account? <a href="/login');
this.s(this.f("returnUrl",c,b,1),c,b,0,1399,1423,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b("?returnUrl=");e.b(e.v(e.f("returnUrl",b,d,0)))}),c.pop());this.b('"><strong>Log In</strong></a> to accept this invitation. </p> <input type="hidden" name="returnUrl" value="');this.b(this.v(this.f("returnUrl",c,b,0)));this.b('"> </form> ');return this.fl()},popover_switch_tool_kit:function(c,b,d){this.b(d||"");this.b('<p> You will be charged the prorated amount for the month and your billing contact will be notified. </p> <input type="submit" class="wide primary js-submit-switch-tool-kit" value="Switch"> ');
return this.fl()},power_up_detail:function(c,b,d){this.b(d||"");this.b('<div class="window-header clearfix"> <a class="window-header-icon icon-lg icon-leftarrow dark-hover js-back-view" href="#"> </a> <div class="window-title"> <h2 class="window-title-text">Back to Power-Ups</h2> </div> </div> <div class="js-power-up-icon"></div> <div class="power-up-content"> <div class="navbar js-power-up-detail-navbar"></div> <div class="content js-power-up-detail-content"></div> </div> ');return this.fl()},power_up_detail_screenshots:function(c,
b,d){this.b(d=d||"");this.b('<div class="power-up-screenshot-list clearfix"> ');this.s(this.f("screenshots",c,b,1),c,b,0,64,116,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <img class="power-up-screenshot-item" src="');e.b(e.v(e.d(".",b,d,0)));e.b('"> ')}),c.pop());this.b(" </div> ");return this.fl()},power_up_icon:function(c,b,d){this.b(d=d||"");this.b('<a href="#" data-power-up-name="');this.b(this.v(this.f("name",c,b,0)));this.b('" class="power-up-icon-image-wrapper js-power-up-name"> <span class="power-up-icon-image ');
this.b(this.v(this.f("imageClass",c,b,0)));this.b('"/> </a> <div class="power-up-icon-title-section clearfix"> <h3 class="power-up-icon-title"> ');this.b(this.v(this.f("displayName",c,b,0)));this.b(' </h3> <span class="power-up-icon-enabled-badge hide js-enabled-badge"> Enabled <span class="power-up-icon-enabled-badge-icon icon-sm icon-check"/> </span> </div> <p class="power-up-icon-description"> ');this.b(this.v(this.f("powerUpDesc",c,b,0)));this.b(" </p> ");this.s(this.f("isListView",c,b,1),c,b,
0,488,541,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <p class="quiet underline"> Click for details\u2026 </p> ')}),c.pop());this.b(" ");this.s(this.f("isListView",c,b,1),c,b,1,0,0,"")||(this.b(" "),this.s(this.f("__own",c,b,1),c,b,0,583,666,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <a class="button-link power-up-icon-button js-toggle-btn js-toggle-power-up"></a> ')}),c.pop()),this.b(" "),this.s(this.f("__own",c,b,1),c,b,1,0,0,"")||this.b(' <p class="quiet">You must be an admin to enable or disable power-ups.</p> '),
this.b(" "));this.b(" ");return this.fl()},power_up_org_picker:function(c,b,d){this.b(d=d||"");this.s(this.f("hasOrgs",c,b,1),c,b,0,12,514,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <ul class="pop-over-list"> ');e.s(e.f("orgs",b,d,1),b,d,0,49,498,"{{ }}")&&(e.rs(b,d,function(b,d,f){f.b(" <li> ");f.s(f.f("isAdmin",b,d,1),b,d,0,67,299,"{{ }}")&&(f.rs(b,d,function(b,d,f){f.b(" ");f.s(f.f("accountStanding",b,d,1),b,d,0,88,153,"{{ }}")&&(f.rs(b,d,function(b,d,f){f.b(' <a class="highlight-icon js-select-org" href="/');
f.b(f.v(f.f("name",b,d,0)));f.b('/plans"> ')}),b.pop());f.b(" ");f.s(f.f("accountStanding",b,d,1),b,d,1,0,0,"")||(f.b(' <a class="highlight-icon js-select-org" href="/'),f.b(f.v(f.f("name",b,d,0))),f.b("/billing/card/"),f.b(f.v(f.f("product",b,d,0))),f.b('"> '));f.b(" ")}),b.pop());f.b(" ");f.s(f.f("isAdmin",b,d,1),b,d,1,0,0,"")||(f.b(' <a class="highlight-icon js-select-org" href="/'),f.b(f.v(f.f("name",b,d,0))),f.b('/plans"> '));f.b(" ");f.b(f.v(f.f("displayName",b,d,0)));f.b(' <span class="icon-sm icon-');
f.b(f.v(f.f("permissionLevel",b,d,0)));f.b('" title="');f.b(f.v(f.f("altText",b,d,0)));f.b('"/> </a> </li> ')}),b.pop());e.b(" </ul> ")}),c.pop());this.b(" ");this.s(this.f("hasOrgs",c,b,1),c,b,1,0,0,"")||(this.b(" "),this.s(this.f("isLoggedIn",c,b,1),c,b,0,555,790,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(" ");e.s(e.f("hasBCOrgs",b,d,1),b,d,0,570,664,"{{ }}")&&(e.rs(b,d,function(b,d,f){f.b(' <p class="quiet" style="padding: 6px 8px;">All of your organizations are Business Class!</p> ')}),b.pop());
e.b(" ");e.s(e.f("hasBCOrgs",b,d,1),b,d,1,0,0,"")||e.b(' <p class="quiet" style="padding: 6px 8px;">You don\'t have any organizations!</p> ');e.b(" ")}),c.pop()),this.b(" "),this.s(this.f("isLoggedIn",c,b,1),c,b,1,0,0,"")||this.b(' <a href="/login/?returnUrl=%2Fbusiness-class" class="js-real-link" style="padding: 6px 8px;">Log in to see your organizations</a> '),this.b(" "));this.b(" ");return this.fl()},power_ups_about_calendar:function(c,b,d){this.b(d||"");this.b("Enable the calendar power-up to gain access to the Trello calendar view. Display cards with due dates in a weekly or monthly format for a time-based overview of cards. Most useful for time-sensitive projects and projects with multiple due dates. ");
return this.fl()},power_ups_about_card_aging:function(c,b,d){this.b(d||"");this.b("Cards will visibly \u201cage\u201d as time passes without any activity. Regular mode will cause old cards to become progressively more transparent. Pirate mode will cause old cards to crack and tear like an old treasure map. Once cards have new activity on them, their age counter is reset and they appear new again. Age thresholds are 1, 2, and 4 weeks. ");return this.fl()},power_ups_about_voting:function(c,b,d){this.b(d||
"");this.b("Enable this power-up to allow users to vote on your cards. Votes are stored and synchronized between all users sharing this board. Choose between multiple permission levels for which users can vote on cards. View the number of votes on each card from the main Trello list pane or in a card's detail pane. ");return this.fl()},power_ups_calendar_prefs:function(c,b,d){this.b(d=d||"");this.b('<h2>Enable iCalendar Feed?</h2> <ul class="pop-over-list power-up-option-list inset"> <li> <a href="#" class="js-select js-calendar-pref-feed ');
this.s(this.f("__own",c,b,1),c,b,1,0,0,"")||this.b("disabled");this.b('" name="enabled"> ');this.s(this.f("calendar_feed_enabled",c,b,1),c,b,0,214,256,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <span class="icon-sm icon-check"></span> ')}),c.pop());this.b(' Enabled </a> </li> <li> <a href="#" class="js-select js-calendar-pref-feed ');this.s(this.f("__own",c,b,1),c,b,1,0,0,"")||this.b("disabled");this.b('" name="disabled"> ');this.s(this.f("calendar_feed_enabled",c,b,1),c,b,1,0,0,"")||this.b(' <span class="icon-sm icon-check"></span> ');
this.b(' <div class="name" name="disabled">Disabled</div> </a> </li> </ul> ');this.s(this.f("calendar_feed_enabled",c,b,1),c,b,0,592,1073,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <br /> <h2>Your Personal iCalendar Feed</h2> <input type="text" class="full js-calendar-feed-url" value="');e.s(e.f("calendar_feed_generated",b,d,1),b,d,0,726,747,"{{ }}")&&(e.rs(b,d,function(b,d,f){f.b(f.v(f.f("calendar_feed_url",b,d,0)))}),b.pop());e.s(e.f("calendar_feed_generated",b,d,1),b,d,1,0,0,"")||e.b("Generating...");
e.b('" /> <div> <a href="#" class="button-link js-regen-calendar-url"> ');e.s(e.f("calendar_feed_generated",b,d,1),b,d,0,938,962,"{{ }}")&&(e.rs(b,d,function(b,d,f){f.b("Regenerate Your Feed URL")}),b.pop());e.b(" ");e.s(e.f("calendar_feed_generated",b,d,1),b,d,1,0,0,"")||e.b("Generating...");e.b(" </a> </div> ")}),c.pop());this.b(" ");return this.fl()},power_ups_card_aging_prefs:function(c,b,d){this.b(d=d||"");this.b('<h2>How do you want the aged cards to look?</h2> <ul class="pop-over-list power-up-option-list inset"> <li> <a href="#" class="js-select ');
this.s(this.f("__own",c,b,1),c,b,1,0,0,"")||this.b("disabled");this.b('" name="regular"> ');this.s(this.f("aging_regular",c,b,1),c,b,0,201,237,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <span class="icon-sm icon-check"/> ')}),c.pop());this.b(' <span class="name">Regular Mode</span> <span class="sub-name"> Older cards become more transparent. </span> </a> </li> <li> <a href="#" class="js-select ');this.s(this.f("__own",c,b,1),c,b,1,0,0,"")||this.b("disabled");this.b('" name="pirate"> ');this.s(this.f("aging_pirate",
c,b,1),c,b,0,471,507,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <span class="icon-sm icon-check"/> ')}),c.pop());this.b(' <span class="name">Pirate Mode</span> <span class="sub-name"> Older cards crackle and tear. </span> </a> </li> </ul> ');return this.fl()},power_ups_detail_navbar:function(c,b,d){this.b(d=d||"");this.b('<a class="nav-item js-toolbar-select ');this.s(this.f("screenshots",c,b,1),c,b,0,53,59,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b("active")}),c.pop());this.b('" href="#" name=\'screenshots\'>Screenshots</a> <a class="nav-item js-toolbar-select ');
this.s(this.f("settings",c,b,1),c,b,0,171,177,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b("active")}),c.pop());this.b('" href="#" name=\'settings\'>Settings</a> ');return this.fl()},power_ups_list:function(c,b,d){this.b(d||"");this.b('<div class="window-header clearfix"> <span class="window-header-icon icon-lg icon-rocket" href="#"/> <div class="window-title"> <h2 class="window-title-text">Power-Ups</h2> <span class="quiet js-power-up-count hide"/> </div> </div> <div class="power-up-list js-power-up-list"></div> ');
return this.fl()},power_ups_voting_prefs:function(c,b,d){this.b(d=d||"");this.b('<h2>Who is allowed to vote on cards?</h2> <ul class="pop-over-list power-up-option-list inset"> <li> <a href="#" class="');this.s(this.f("__own",c,b,1),c,b,0,130,146,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b("js-voting-select")}),c.pop());this.b(" ");this.s(this.f("__own",c,b,1),c,b,1,0,0,"")||this.b("disabled");this.b('" name="members"> <div class="icon-sm icon-check ');this.s(this.f("voting_members",c,b,1),c,b,0,253,
267,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b("checked-option")}),c.pop());this.b('"></div> <div class="name"> Members </div> </a> </li> <li> <a href="#" class="');this.s(this.f("__own",c,b,1),c,b,0,374,390,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b("js-voting-select")}),c.pop());this.b(" ");this.s(this.f("__own",c,b,1),c,b,1,0,0,"")||this.b("disabled");this.b(" ");this.s(this.f("voting_showObservers",c,b,1),c,b,1,0,0,"")||this.b("disabled");this.b('" name="observers"> <div class="icon-sm icon-check ');
this.s(this.f("voting_observers",c,b,1),c,b,0,560,574,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b("checked-option")}),c.pop());this.b('"></div> <div class="name"> Members and Observers </div> <div class="sub-name"> Available only on boards with observers. </div> </a> </li> <li> <a href="#" class="');this.s(this.f("__own",c,b,1),c,b,0,768,784,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b("js-voting-select")}),c.pop());this.b(" ");this.s(this.f("__own",c,b,1),c,b,1,0,0,"")||this.b("disabled");this.b(" ");
this.s(this.f("orgCanSee",c,b,1),c,b,1,0,0,"")||this.b("disabled");this.b('" name="org"> <div class="icon-sm icon-check ');this.s(this.f("voting_org",c,b,1),c,b,0,920,934,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b("checked-option")}),c.pop());this.b('"></div> <div class="name"> Organization members </div> <div class="sub-name"> Available only on boards within an organization. </div> </a> </li> <li> <a href="#" class="');this.s(this.f("__own",c,b,1),c,b,0,1129,1145,"{{ }}")&&(this.rs(c,b,function(b,
d,e){e.b("js-voting-select")}),c.pop());this.b(" ");this.s(this.f("__own",c,b,1),c,b,1,0,0,"")||this.b("disabled");this.b(" ");this.s(this.f("permissionLevel_public",c,b,1),c,b,1,0,0,"")||this.b("disabled");this.b('" name="public"> <div class="icon-sm icon-check ');this.s(this.f("voting_public",c,b,1),c,b,0,1313,1327,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b("checked-option")}),c.pop());this.b('"></div> <div class="name"> Public members </div> <div class="sub-name"> Available on public boards. </div> </a> </li> </ul> ');
return this.fl()},profiler:function(c,b,d){this.b(d||"");this.b('<div class="js-profiler profiler"> </div> ');return this.fl()},profiler_entry:function(c,b,d){this.b(d=d||"");this.b('<div class="profiler-entry"> <span class="profiler-name">');this.b(this.v(this.f("name",c,b,0)));this.s(this.f("count",c,b,1),c,b,0,75,86,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(" x");e.b(e.v(e.f("count",b,d,0)))}),c.pop());this.b('</span>: <span class="profiler-time">');this.b(this.v(this.f("time",c,b,0)));this.b("</span> </div> ");
return this.fl()},promo_business_class:function(c,b,d){this.b(d||"");this.b(' <script> $.getScript(\'https://use.typekit.com/wtv2ioe.js\', function(){ try{Typekit.load();}catch(e){}; }); \x3c/script> <div class="promo-wrapper"> <header id="businessClassHeader"> <h1> <div class="trellogo"> Trello </div> Business Class </h1> </header> <section id="businessClass" class="businessClass"> <header> <div class="width-wrapper clearfix"> <p class="intro"> Business Class gives organizations advanced features like Google Apps integration, bulk export, a read-only observer role, and extra administrative control. </p> <div class="pricing-box"> <div class="cost"> <span class="amount">');
this.b(this.v(this.f("bcMonthlyPrice",c,b,0)));this.b('</span> per month </div> <div class="yearly-cost"> or ');this.b(this.v(this.f("bcYearlyPrice",c,b,0)));this.b(' per year </div> <p>for each organization</p> <a href="#" class="add-businessClass-button button js-add-this-businessClass" name="businessClassMonthly">Upgrade My Organization</a> </div> </div> </header> <div class="businessClass-features width-wrapper clearfix"> <ul class="column1"> <li> <div class="feature-icon"> <img src="https://d2k1ftgv7pobq7.cloudfront.net/images/landing/businessClass/a490cf578dbd6eae2a047753b031520f/businessClass-feature-Admin-Pack-1.png" alt="an eye" /> </div> <h2>Extra control of boards</h2> <h3>Manage any board within the organization</h3> <p> Trello Business Class allows administrators to access and manage all organization boards, including private boards. </p> <h3>Restrict the visibility of boards created within the organization</h3> <p> Ensure that company data stays private by restricting who can create public, org visible, or private boards. </p> <h3>Restrict who can join boards</h3> <p> You can choose to only allow members of the organization to join boards within the organization. </p> </li> <li> <div class="feature-icon"> <img src="https://d2k1ftgv7pobq7.cloudfront.net/images/landing/businessClass/8b0f927251ca3e40d965f443011c3cc0/businessClass-feature-Admin-Pack-5.png" alt="members icon" /> </div> <h2>Extra control of members</h2> <h3>Your organization, your people</h3> <p> Ensure only the right people have access: restrict who can join your organization by email domain or individual address. </p> <h3>Deactivate users when they leave</h3> <p> Deactivated users will no longer have access to the organization\'s data, yet we\'ll preserve a record of their activity within the organization. </p> </li> </ul> <ul class="column2"> <li> <div class="feature-icon"> <img src="https://d2k1ftgv7pobq7.cloudfront.net/images/landing/businessClass/111cdea39ea117179231d6900f087e6c/businessClass-feature-Admin-Pack-4.png" alt="database export icon" /> </div> <h2>Bulk Export</h2> <h3>Download all company data in an instant</h3> <p> Easily export all of your organization\u2019s Trello data to JSON format with a single click&mdash;with or without attachments. </p> </li> <li> <div class="feature-icon"> <img src="https://d2k1ftgv7pobq7.cloudfront.net/images/landing/businessClass/ec55da05e73fb22755eb7d9e5ce8cdc2/businessClass-feature-Admin-Pack-2.png" alt="Google logo" /> </div> <h2>Google Apps Integration</h2> <h3>Sync the members in your Google Apps account with Trello</h3> <p> Does your company use Google Apps? Link the Google Apps account to Trello just once, and you can add anyone from your company to the Trello organization with a single click. </p> </li> <li> <div class="feature-icon"> <img src="https://d2k1ftgv7pobq7.cloudfront.net/images/landing/businessClass/e396ddedee58c9613f006bc04138f8c6/businessClass-feature-Admin-Pack-3.png" alt="pair of binoculars" /> </div> <h2>Observer role</h2> <h3>Share boards without sacrificing control</h3> <p> Invite people to private boards as Observers and they\u2019ll have \u201cread-only\u201d access. You can even invite people from outside your organization. </p> </li> </ul> </div> <div class="businessClass-video width-wrapper clearfix center"> <div class="video-area"> <div class="video-icon"> <img src="https://d2k1ftgv7pobq7.cloudfront.net/images/landing/businessClass/8dbd94b267241b411b14985758204887/businessClass-feature-Admin-Pack-video.png" alt="video icon" /> </div> <p class="video-text"> <strong>Want to learn more?</strong> Watch a video that walks you through the Business Class features in the Trello interface: <a href="http://help.trello.com/customer/portal/articles/1153254-get-the-most-out-of-business-class">Get the most out of Business Class</a>. </p> </div> </div> <div class="pricing-box-2"> <div class="cost"> <span class="amount">');
this.b(this.v(this.f("bcMonthlyPrice",c,b,0)));this.b('</span> per month </div> <div class="yearly-cost"> or ');this.b(this.v(this.f("bcYearlyPrice",c,b,0)));this.b(' per year </div> <p>for each organization</p> <a href="#" class="add-businessClass-button button js-add-this-businessClass" name="businessClassMonthly">Upgrade My Organization</a> </div> </section> <section> <div class="width-wrapper clearfix center"> <div style="margin: 80px 12% 40px;"> <p style="font-size: 20px; font-family: facitweb, Helvetica, sans-serif;"> Business Class provides extra administrative features for organizations that need it. You can still ');
this.s(this.f("__loggedIn",c,b,1),c,b,1,0,0,"")||this.b("sign up and ");this.b(" use Trello for free and enjoy unlimited boards, organizations, cards, and members, and no usage restrictions, with or without Business Class. </p> ");this.s(this.f("__loggedIn",c,b,1),c,b,1,0,0,"")||this.b(' <p style="font-size: 18px; margin-top: 1.65em;"> New to Trello? <a href="/signup" class="js-sign-up-via-business-class">Sign up now!</a> </p> ');this.b(" </div> </div> </section> ");this.b(this.rp("promo_footer",
c,b,""));this.b(" </div> ");return this.fl()},promo_enterprise:function(c,b,d){this.b(d||"");this.b(' <script> $.getScript(\'https://use.typekit.com/wtv2ioe.js\', function(){ try{Typekit.load();}catch(e){}; }); \x3c/script> <div class="promo-wrapper"> <header id="enterpriseHeader"> <img src="https://d2k1ftgv7pobq7.cloudfront.net/images/f1830fc27a36696bdc602a0e744f1283/enterprise-logo.svg"> <h1 class="logo-text"> Trello Enterprise </h1> </header> <section id="enterprise" class="enterprise"> <div class="enterprise-features"> <div class="width-wrapper"> <header> <h2 class="enterprise-features-header"> Full control and security without compromising productivity. </h2> </header> <div class="enterprise-feature-row clearfix"> <div> <h3>Phone Support</h3> <p> We\u2019ve designed Trello to be incredibly easy to use. But, in a pinch, you can call us during business hours and speak with a real person. If something critical comes up after hours, we provide 24 x 7 x 365 incidence response. </p> </div> <div> <h3>Dedicated Contact Person</h3> <p> You\u2019ll be provided with a dedicated account manager who you can work with for help with billing information, support questions, or setting up a training program for your team. </p> </div> <div> <h3>Privacy &amp; Security</h3> <p> We use best practice physical and environmental security measures. All traffic runs over SSL, the internet\u2019s most common and trusted communications protocol. Data is backed up hourly and is stored at an off-site location. </p> </div> <div> <h3>Monthly Reports</h3> <p> Administrators of your account receive detailed monthly reports including service availability and uptime, maintenance periods, and incidence response times. </p> </div> <div> <h3>Simplified Billing</h3> <p> Pay for all of your Business Class organizations and members on a single bill. </p> </div> <div class="contact-us"> <a class="contact-us-button" href="mailto:support@trello.com" title="Contact us"> Contact Us </a> <p> Contact <a href="mailto:support@trello.com" title="Contact us"> support@trello.com </a> for additional details. </p> </div> </div> <p class="feature-footnote"> Trello is as easy to use as sticky notes stuck to your white board. Still, sometimes you want a little help getting up to speed. Your account manager can help design customized training sessions for your company. </p> </div> </div> <div class="enterprise-features business-class-features"> <div class="width-wrapper"> <header> <h2> The tools that business teams need. </h2> <p class="enterprise-feature-sub-heading"> Turn any of your company\u2019s Trello organizations into a Business Class organization and give your teams the tools to better manage their people and boards. </p> </header> <div class="enterprise-feature-row clearfix"> <div> <h3>Granular Permissions</h3> <p> Business Class enables restrictions to be set on both the board and organization level. Specify who can create public, org-visible, and private boards - as well as who can be added to each - and ensure that your teams can collaborate easily while still keeping private work private. </p> </div> <div> <h3>Membership Controls</h3> <p> Restrict who can be added to your Trello organizations by email domain, or even individual email address. Add contractors, vendors, or others outside your organization as Observers to grant them secure, \u201cread-only\u201d access to specific boards. You\u2019ll get extra control without losing flexibility. </p> </div> <div> <h3>Simple Data Export</h3> <p> You spend a lot of time getting organized with Trello, and we don\u2019t believe in locking up all of that important data. Business Class allows you to export the entirety of your organization\u2019s data in one click, making it easy to examine, analyse, and store. </p> </div> </div> </div> <div class="more-info-row"> <a class="more-info-button" href="/business-class" title="Trello Business Class"> More about Trello Business Class </a> </div> </div> <div class="enterprise-features trello-features"> <div class="width-wrapper"> <header> <h2> The easiest way to organize anything with anyone. </h2> <p class="enterprise-feature-sub-heading"> No more endless email threads, spreadsheets on the shared drive, or clunky desktop software. Trello is fast, easy to use, and it works on the web, your phone, and your tablet. </p> </header> <div class="enterprise-feature-row clearfix"> <div> <h3>No Training Required</h3> <p> Trello\u2019s easy-to-use interface takes no time to learn, and is incredibly flexible. Whether you\u2019re managing a sales pipeline, onboarding new employees, or working with clients, there\u2019s nothing standing between you and your productive flow. </p> </div> <div> <h3>Share and Notify</h3> <p> Trello is great alone, but even better with others. Get the whole group onboard in seconds. Mention someone in a comment to send them a notification. You\u2019ll see everyone\u2019s updates in real time, so no one will ever have to ask \u201cWho\u2019s doing what?\u201d again. </p> </div> <div> <h3>On Desktop and Mobile</h3> <p> Trello works wherever you are. Stay in the loop by using Trello on Android phones and tablets, iPhone, iPad, Kindle Fire, Windows 8 Tablet, or your web browser. All of our apps are free to use for everyone in your organization. </p> </div> </div> <div class="more-info-row"> <a class="more-info-button" href="/tour" title="Take a tour of Trello"> Take a tour of Trello </a> </div> </div> </div> </section> ');
this.b(this.rp("promo_footer",c,b,""));this.b(" </div> ");return this.fl()},promo_fan_club:function(c,b,d){this.b(d||"");this.b(this.rp("promo_gold_content",c,b,""));this.b(this.rp("promo_footer",c,b," "));return this.fl()},promo_gold_content:function(c,b,d){this.b(d=d||"");this.b(' <script> $.getScript(\'https://use.typekit.com/wtv2ioe.js\', function(){ try{Typekit.load();}catch(e){}; }); \x3c/script> <div class="gold-promo"> <div class="fanclub-section fanclub-section-header"> <div class="fanclub-section-wrapper"> <h1>Trello Gold</h1> <img src="https://d2k1ftgv7pobq7.cloudfront.net/images/gold/6d243fedef388195ac2dd4bf3f6fcfa5/TrelloGoldLogo.png" class="fanclub-section-header-image" alt="Trello Gold Logo"> <p> Support Trello, your favorite productivity app, and get extra bits of fun and functionality. You\u2019ll get\u2026 </p> <ul> <li> Additional stickers and board backgrounds </li> <li> Upload your own stickers, backgrounds, and emoji </li> <li> Larger attachments </li> <li> A <em>very rare</em> crown for your avatar </li> </ul> ');
this.s(this.f("hasCredits",c,b,1),c,b,0,766,802,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <div class="js-earned-gold"></div> ')}),c.pop());this.b(" ");this.s(this.f("hasCredits",c,b,1),c,b,1,0,0,"")||(this.b(" "),this.s(this.f("hasGold",c,b,1),c,b,0,846,997,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <p> <span class="icon-lg icon-crown icon-color"></span> <span style="font-weight: bold; color: hsl(55, 60%, 50%)">You\u2019ve got Trello Gold!</span> </p> ')}),c.pop()),this.b(" "),this.s(this.f("hasGold",
c,b,1),c,b,1,0,0,"")||(this.b(' <div class="fanclub-free-or-paid clearfix"> <div class="fanclub-recommend"> <div class="fanclub-price"> <p class="fanclub-free">Get it for free</p> <p class="fanclub-for-free quiet"> \u2026by inviting new members </p> </div> <a href="/recommend" class="button-link primary js-reco">Share Trello</a> </div> <div class="fanclub-paid"> <div class="fanclub-price"> <p class="fanclub-monthly">$5 per month</p> <p class="fanclub-yearly quiet">or $45 per year</p> </div> <a href="/'),
this.b(this.v(this.f("username",c,b,0))),this.b('/billing/card/trelloGoldMonthly" class="button-link primary js-upgrade">Upgrade!</a> </div> </div> ')),this.b(' <p class="fanclub-learn quiet"> Scroll down to learn more. &darr; </p> '));this.b(' </div> </div> <div class="fanclub-section fanclub-section-backgrounds"> <div class="fanclub-section-wrapper"> <div class="trellogold-background-demo js-background"> <div class="trellogold-background-demo-header"> </div> <div class="trellogold-background-demo-lists"> <div class="trellogold-background-demo-list"></div> <div class="trellogold-background-demo-list"></div> <div class="trellogold-background-demo-list"></div> </div> </div> <p class="trellogold-demo-rotate"> <a href="#" class="dark-hover quiet js-rotate-background"> <span class="icon-sm icon-reopen"></span> <span class="text">New background.</span> </a> </p> <h2>Board Backgrounds</h2> <p> You can set your background to six basic colors so you can easily categorize and distinguish your boards. With Trello Gold, you get access to nine additional, hand-picked backgrounds, plus the ability to upload your own. </p> </div> </div> <div class="fanclub-section fanclub-section-stickers"> <div class="fanclub-section-wrapper"> <div class="fanclub-section-stickers-area js-stickers"> <div class="list-card trellogold-demo-list-card has-stickers"> ');
this.b(this.rp("card",c,b,""));this.b(' </div> </div> <p class="trellogold-demo-rotate"> <a href="#" class="dark-hover quiet js-rotate-stickers"> <span class="icon-sm icon-reopen"></span> <span class="text">New stickers.</span> </a> </p> <h2>Stickers</h2> <p> Trello gives you a dozen stickers to express common sentiment and status about cards on your board. With Trello Gold, you get access to extra, premium sticker packs. Like a pack with Taco our spokes-husky. And a pack featuring Pete the Computer, a tiny, friendly computer. If that\u2019s not enough, you can upload your own. </p> </div> </div> <div class="fanclub-section fanclub-section-attachments"> <div class="fanclub-section-wrapper"> <img src="https://d2k1ftgv7pobq7.cloudfront.net/images/gold/79e58b5405a1d1788cc17aab0042bafb/gold-promo-attachments.png"> <h2>Larger Attachments</h2> <p> Are 10 megabyte card attachments just not big enough? With Trello Gold, you can upload files up to 250 megabytes in size. </p> </div> </div> <div class="fanclub-section fanclub-section-emoji"> <div class="fanclub-section-wrapper"> <div class="trellogold-emoji-demo js-emoji"> <div class="phenom"> <div class="creator member member-no-menu js-member-emoji-demo"> <span class="icon-lg icon-member"></span> </div> <div class="phenom-desc"> <span class="bold hide js-member-name-emoji-demo js-show-on-submit"></span> <div class="action-comment markeddown"> Dang, I forgot the <span class="js-unrendered-emoji">:hotsauce:</span><img class="js-rendered-emoji hide emoji" src="https://d2k1ftgv7pobq7.cloudfront.net/images/gold/d5cf5eec54bd6151f0da2b87e961e066/hotsauce.png">! </div> <div class="phenom-meta quiet hide js-show-on-submit"> <span class="date">just now</span> </div> <input type="submit" class="primary js-submit-comment" value="Comment"> </div> </div> </div> <h2>Custom Emoji</h2> <p> Sometimes a <img src="https://d4jn9j2wyhjaw.cloudfront.net/images/emoji/13800b13aa272e06d742e0f0a0e4b116/camel.png" style="height: 24px; width: 24px;"> speaks louder than words. That\u2019s why Trello has over 800 emoji to use in comments, checklist items, descriptions, and elsewhere. But if you can\u2019t find the perfect emoji to express yourself, you can upload your own with Trello Gold. </p> </div> </div> <div class="fanclub-section fanclub-section-reco"> <div class="fanclub-section-wrapper"> <h2> Share Trello to earn free Trello Gold! </h2> <p> For every new member you get to join Trello, we\u2019ll give you a month of Trello Gold for free. Check out your recommend page for lots of ways to share. </p> <a href="/recommend" class="button-link primary js-reco">Share Trello</a> </div> </div> <div class="fanclub-section fanclub-section-free"> <div class="fanclub-section-wrapper"> <p> Trello Gold is a way to support the tool you love and use every day, while getting extra bits of fun and functionality. Of course, you can still use Trello for free and enjoy unlimited boards, organizations, cards, and no usage restrictions, with or without Trello Gold. </p> ');
this.s(this.f("loggedIn",c,b,1),c,b,1,0,0,"")||this.b(' <p> New to Trello? <a href="/signup" class="js-sign-up-via-fan-club">Sign up now!</a> </p> ');this.b(" </div> </div> </div> ");return this.fl()},reco:function(c,b,d){this.b(d=d||"");this.b(' <script> $.getScript(\'https://use.typekit.com/wtv2ioe.js\', function(){ try{Typekit.load();}catch(e){}; }); \x3c/script> <div class="reco-section reco-header"> <h1>Share Trello and Earn <img src="https://d2k1ftgv7pobq7.cloudfront.net/images/gold/3cbf48993d46484c5d82cc9c1844a54b/TrelloGoldIcon.png" style="height:30px; min-width: 43px; margin: 0 10px 0 0;">Trello Gold</h1> <p> For every person you get to join Trello, we\'ll give you a free month of Trello Gold, up to 12 months. Trello Gold lets you organize <em>in style</em> with additional stickers and board backgrounds; the ability to upload your own stickers, backgrounds, and emoji; larger attachments; and more. </p> <p> <a href="/gold">Learn more about Trello Gold.</a> </p> </div> <div class="reco-section reco-section-redeem js-redeem"></div> <div class="reco-section"> <h2>You\'ve earned ');
this.b(this.v(this.f("freeMonths",c,b,0)));this.b(' (out of 12)!</h2> <div class="reco-section-progress-bar-total"> <div class="reco-section-progress-bar-current js-reco-progress-bar-current"></div> </div> ');this.s(this.f("promoMonths",c,b,1),c,b,0,1032,1134,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <h4 class="reco-joined-header"> You\u2019ve also received ');e.b(e.v(e.f("promoMonths",b,d,0)));e.b(" from promotional credits! </h4> ")}),c.pop());this.b(" ");this.s(this.f("joined",c,b,1),c,b,0,
1162,1239,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <h4 class="reco-joined-header"> You\u2019ve got ');e.b(e.v(e.f("joined",b,d,0)));e.b(" to join Trello! </h4> ")}),c.pop());this.b(' <div class="reco-stat-section js-joined-members"></div> </div> <div class="reco-section"> <h2>There are lots of ways to share!</h2> <ul class="reco-section-list"> <li> <span class="reco-section-list-number">1</span> Invite people to boards and organizations. </li> <li> <span class="reco-section-list-number">2</span> Copy and share this link: <a target="_blank" class="reco-link js-user-reco-link" href="');
this.b(this.v(this.f("shareUrl",c,b,0)));this.b('">');this.b(this.v(this.f("shareUrl",c,b,0)));this.b('</a> </li> <li> <span class="reco-section-list-number">3</span> Post the link on <a href="');this.b(this.v(this.f("twitterShareUrl",c,b,0)));this.b('" target="_blank" class="js-twitter-share"> <span class="icon-lg icon-twitter icon-twitter-brand-color"/>Twitter</a> or <a href="');this.b(this.v(this.f("facebookShareUrl",c,b,0)));this.b('" target="_blank" class="js-facebook-share"> <span class="icon-lg icon-facebook icon-facebook-brand-color"/>Facebook</a>. </li> <li> <span class="reco-section-list-number">4</span> <a target="_blank" href="mailto:your-close-friends@example.com?subject=Check out Trello!&body=Trello is the easiest way to organize anything with anyone! I use it all the time and love it. You should totally sign up.%0a%0aCheck out this link to learn more: ');
this.b(this.v(this.f("shareUrl",c,b,0)));this.b('">Email that link</a> to others. </li> </ul> </div> <div class="reco-section"> <h2>Sharing Trello makes Taco happy.</h2> <img class="reco-section-happy-taco" src="https://d2k1ftgv7pobq7.cloudfront.net/images/reco/10e3fec8aee92d177b22290b7cff669d/Taco_idle.png"> </div> ');return this.fl()},reco_joined_member:function(c,b,d){this.b(d=d||"");this.b('<div class="reco-invite-item');this.s(this.f("member",c,b,1),c,b,0,39,49,"{{ }}")&&(this.rs(c,b,function(b,
d,e){e.b(" is-member")}),c.pop());this.b('"> <div class="member reco-invite-item-member"> ');this.b(this.rp("member",c,b,""));this.b(' </div> <div class="reco-invite-item-member-details"> <p> <a class="js-member-profile" href="');this.b(this.v(this.f("url",c,b,0)));this.b('">');this.b(this.v(this.f("fullName",c,b,0)));this.b("</a> </p> ");this.s(this.f("via",c,b,1),c,b,0,251,287,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <p class="quiet"> via ');e.b(e.v(e.f("via",b,d,0)));e.b(" </p> ")}),c.pop());
this.b(" </div> </div> ");return this.fl()},search_contact:function(c,b,d){this.b(d=d||"");this.b('<div class="contact-info');this.s(this.f("selectable",c,b,1),c,b,0,39,68,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(" js-select-contact selectable")}),c.pop());this.b('"> ');this.s(this.f("selectable",c,b,1),c,b,1,0,0,"")||this.b(' <span class="icon-sm icon-close dark-hover remove-contact-icon js-remove-contact"/> ');this.b(" ");this.s(this.f("avatarUrl",c,b,1),c,b,0,216,292,"{{ }}")&&(this.rs(c,b,function(b,
d,e){e.b(' <img src="');e.b(e.v(e.f("avatarUrl",b,d,0)));e.b('" class="js-avatarUrl avatar" name="');e.b(e.v(e.f("avatarUrl",b,d,0)));e.b('"> ')}),c.pop());this.b(" ");this.s(this.f("avatarUrl",c,b,1),c,b,1,0,0,"")||this.b(' <span class="member js-avatarUrl" name=""> <span class="icon-lg icon-member"/> </span> ');this.b(' <span class="name"> ');this.s(this.f("fullName",c,b,1),c,b,0,457,525,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b('<h3 class="js-fullName bottom" name="');e.b(e.v(e.f("fullName",b,
d,0)));e.b('">');e.b(e.v(e.f("fullName",b,d,0)));e.b("</h3>")}),c.pop());this.b(' <p class="js-email bottom" name="');this.b(this.v(this.f("email",c,b,0)));this.b('">');this.b(this.v(this.f("email",c,b,0)));this.b("</p> </span> </div> ");return this.fl()},search_instant_results:function(c,b,d){this.b(d||"");this.b('<div class="js-search-results clearfix hide"> <div class="window-module js-card-results clearfix hide" style="margin-bottom: 8px;"> <h4 style="padding: 4px 0; border-bottom: 1px solid #dcdcdc"> Cards </h4> <div class="js-list"></div> </div> <div class="window-module js-board-results clearfix hide" style="margin-bottom: 8px;"> <h4 style="padding: 4px 0; border-bottom: 1px solid #dcdcdc"> Boards </h4> <ul class="sidebar-boards-list js-list"/> </div> <div class="window-module js-member-results clearfix hide" style="margin-bottom: 8px;"> <h4 style="padding: 4px 0; border-bottom: 1px solid #dcdcdc"> Members </h4> <ul class="js-list pop-over-member-list"></ul> </div> </div> <div class="js-org-results clearfix hide" style="margin-bottom: 8px;"> <h4 style="padding: 4px 0; border-bottom: 1px solid #dcdcdc"> Organizations </h4> <ul class="org-list js-list"/> </div> <p class="empty-list hide js-no-results">No results</p> <p class="empty-list hide js-searching">Searching\u2026</p> <p class="empty-list hide js-err">Your search produced an error</p> ');
return this.fl()},search_results_card:function(c,b,d){this.b(d||"");this.b("<p class='quiet list-card-position'>in <strong>");this.b(this.v(this.f("listName",c,b,0)));this.b("</strong> on <strong>");this.b(this.v(this.f("boardName",c,b,0)));this.b('</strong><span class="icon-sm icon-');this.b(this.v(this.f("permLevel",c,b,0)));this.b('"/></p> ');return this.fl()},select_emoji:function(c,b,d){this.b(d||"");this.b('<li class = "item"> <a href="#" class="name js-select-emoji" title=');this.b(this.v(this.f("name",
c,b,0)));this.b('> <img src= "');this.b(this.v(this.f("image",c,b,0)));this.b('" class="emoji"> <span class="emoji-name" name=');this.b(this.v(this.f("name",c,b,0)));this.b("> ");this.b(this.v(this.f("name",c,b,0)));this.b(" </span> </a> </li> ");return this.fl()},select_member:function(c,b,d){this.b(d=d||"");this.b('<li class="item');this.s(this.f("isActive",c,b,1),c,b,0,28,35,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(" active")}),c.pop());this.s(this.f("matchesFilter",c,b,1),c,b,0,66,81,"{{ }}")&&
(this.rs(c,b,function(b,d,e){e.b(" matches-filter")}),c.pop());this.s(this.f("exceedsLimit",c,b,1),c,b,0,116,130,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(" exceeds-limit")}),c.pop());this.s(this.f("unconfirmed",c,b,1),c,b,0,163,175,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(" unconfirmed")}),c.pop());this.s(this.f("isKnownMember",c,b,1),c,b,0,209,223,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(" js-autoselect")}),c.pop());this.b(' js-member-item"> <a href="');this.s(this.f("url",c,b,1),c,b,0,276,
283,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(e.v(e.f("url",b,d,0)))}),c.pop());this.s(this.f("url",c,b,1),c,b,1,0,0,"")||this.b("#");this.b('" class="name js-select-member ');this.s(this.f("extraText",c,b,1),c,b,0,353,363,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b("multi-line")}),c.pop());this.b('" idMember="');this.b(this.v(this.f("id",c,b,0)));this.b('" title="');this.b(this.v(this.f("fullName",c,b,0)));this.s(this.f("username",c,b,1),c,b,0,429,444,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(" (");
e.b(e.v(e.f("username",b,d,0)));e.b(")")}),c.pop());this.b('"> <span class="member js-member');this.s(this.f("isVirtual",c,b,1),c,b,0,503,511,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(" virtual")}),c.pop());this.b('">');this.b(this.rp("member",c,b,""));this.b('</span> <span class="full-name" name="');this.b(this.v(this.f("fullName",c,b,0)));this.s(this.f("username",c,b,1),c,b,0,602,617,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(" (");e.b(e.v(e.f("username",b,d,0)));e.b(")")}),c.pop());this.b('"> ');
this.b(this.v(this.f("fullName",c,b,0)));this.b(" ");this.s(this.f("username",c,b,1),c,b,0,659,704,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' (<span class="username">');e.b(e.v(e.f("username",b,d,0)));e.b("</span>)")}),c.pop());this.b(" </span> ");this.s(this.f("extraText",c,b,1),c,b,0,740,791,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b('<div class="extra-text quiet">(');e.b(e.v(e.f("extraText",b,d,0)));e.b(")</div>")}),c.pop());this.b(' <span class="icon-sm icon-check checked-icon"/> <span class="icon-sm icon-rightarrow light option js-open-option"/> ');
this.s(this.f("unconfirmed",c,b,1),c,b,0,938,1045,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <div> <span class="quiet sub-name">Unconfirmed User</span> <span class="js-insert-tooltip"></span> </div> ')}),c.pop());this.b(" </a> </li> ");return this.fl()},sidebar_boards_list:function(c,b,d){this.b(d||"");this.b('<div class="boards-drawer-header js-drawer-header"> <h3>Boards</h3> </div> <div class="board-drawer-content fancy-scrollbar"> <input type="text" class="js-search-boards" placeholder="Find boards by name\u2026"> <div class="js-board-results-container hide"> <ul class="sidebar-boards-list js-board-results"></ul> </div> <div class="js-boards-list-container"> <div class="starred-sidebar-boards-list js-starred-boards"></div> <div class="js-recent-boards"></div> <div class="js-all-boards"></div> <a class="quiet-button hide js-pin" href="#"> Always keep this menu open. </a> <a class="quiet-button hide js-unpin" href="#"> Don\u2019t keep this menu open. </a> <a class="quiet-button js-open-closed-boards" href="#"> See closed boards\u2026 </a> </div> </div> ');
return this.fl()},spinner_css:function(c,b,d){this.b(d||"");this.b('<span class="spinner-css"> <span class="bar"/> <span class="bar"/> <span class="bar"/> </span> ');return this.fl()},sticker_editor:function(c,b,d){this.b(d||"");this.b('<div class="list-card" style="top: ');this.b(this.v(this.f("top",c,b,0)));this.b("px; left: ");this.b(this.v(this.f("left",c,b,0)));this.b("px; width: ");this.b(this.v(this.f("width",c,b,0)));this.b('px;"> ');this.b(this.rp("card",c,b,""));this.b(' </div> <a href="#" class="icon-lg icon-close light sticker-editor-close js-close"></a> ');
return this.fl()},sticker_on_card:function(c,b,d){this.b(d=d||"");this.b('<img class="sticker-image" src="');this.b(this.v(this.f("url",c,b,0)));this.b('" style="-webkit-transform: rotate(');this.b(this.v(this.f("rotate",c,b,0)));this.b("deg);transform: rotate(");this.b(this.v(this.f("rotate",c,b,0)));this.b('deg);" alt="');this.b(this.v(this.f("image",c,b,0)));this.b('"> ');this.s(this.f("showEditControls",c,b,1),c,b,0,162,516,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <div class="sticker-controls"> <span class="sticker-control-btn rotate-btn js-rotate-sticker"> \u21bb <span class="text">Rotate</span> </span> <span class="sticker-control-btn move-btn js-move-sticker"> \u2629 <span class="text">Move</span> </span> <span class="sticker-control-btn remove-btn js-remove-sticker"> \u2718 <span class="text">Remove</span> </span> </div> ')}),
c.pop());this.b(" ");return this.fl()},sticker_on_promo_page:function(c,b,d){this.b(d||"");this.b('<div class="sticker" style="top: ');this.b(this.v(this.f("top",c,b,0)));this.b("%; left: ");this.b(this.v(this.f("left",c,b,0)));this.b('%;"> <img src="');this.b(this.v(this.f("url",c,b,0)));this.b('" style=" -webkit-transform: scale(');this.b(this.v(this.f("scale",c,b,0)));this.b(") rotate(");this.b(this.v(this.f("rotate",c,b,0)));this.b("deg); transform: scale(");this.b(this.v(this.f("scale",c,b,0)));
this.b(") rotate(");this.b(this.v(this.f("rotate",c,b,0)));this.b('deg); "> </div> ');return this.fl()},sticker_pack_selection_list:function(c,b,d){this.b(d||"");this.b("<h2>");this.b(this.v(this.f("displayName",c,b,0)));this.b('</h2> <div class="sticker-list clearfix js-sticker-list relative"></div> ');return this.fl()},sticker_select:function(c,b,d){this.b(d||"");this.b('<div class="sticker-list clearfix js-standard-sticker-list"></div> <div class="js-premium-stickers"></div> <h2>Custom Stickers</h2> <div class="sticker-list clearfix js-custom-sticker-list"></div> ');
return this.fl()},sticker_select_item:function(c,b,d){this.b(d=d||"");this.s(this.f("pending",c,b,1),c,b,0,12,85,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <img class="sticker-select-image sticker-select-pending" src="');e.b(e.v(e.f("url",b,d,0)));e.b('"> ')}),c.pop());this.b(" ");this.s(this.f("pending",c,b,1),c,b,1,0,0,"")||(this.b(' <img class="sticker-select-image sticker-select-shadow" src="'),this.b(this.v(this.f("url",c,b,0))),this.b('"> <img class="sticker-select-image sticker-select-fixed" src="'),
this.b(this.v(this.f("url",c,b,0))),this.b('"> <img class="sticker-select-image sticker-select-peel" src="'),this.b(this.v(this.f("url",c,b,0))),this.b('"> '));this.b(" ");this.s(this.f("id",c,b,1),c,b,0,341,602,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <span class="sticker-select-option sticker-select-option-delete-button js-delete-sticker" title="Delete this sticker"> <span class="sticker-select-option-icon icon-sm icon-close"></span> <span class="sticker-select-option-text underline">Delete</span> </span> ')}),
c.pop());this.b(" ");this.s(this.f("error",c,b,1),c,b,0,620,724,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <span class="sticker-select-option"> <span class="sticker-select-option-text">');e.b(e.v(e.f("error",b,d,0)));e.b("</span> </span> ")}),c.pop());this.b(" ");this.s(this.f("pending",c,b,1),c,b,0,747,920,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <span class="sticker-select-option"> <span class="spinner small left" style="margin-right: 4px;"></span> <span class="sticker-select-option-text">Uploading\u2026</span> </span> ')}),
c.pop());this.b(" ");return this.fl()},sticker_select_item_upload:function(c,b,d){this.b(d||"");this.b('<form action="/1/member/');this.b(this.v(this.f("id",c,b,0)));this.b('/customStickers" method="post" enctype="multipart/form-data"> <input type="hidden" name="token" value="" /> <input type="hidden" name="format" value="http" /> <div class="sticker-select sticker-select-upload"> <span class="sticker-select-upload-icon icon-lg icon-add"></span> <input type="file" name="file" class="sticker-select-upload-input js-upload-image ');
this.s(this.f("enabled_customStickers",c,b,1),c,b,1,0,0,"")||this.b(" disabled");this.b('" multiple="multiple" accept="image/*"/> </div> </form> ');return this.fl()},surface_base:function(c,b,d){this.b(d||"");this.b('<div id="boards-drawer"></div> ');return this.fl()},sync_error:function(c,b,d){this.b(d||"");this.b('You have been disconnected from the Trello Server for too long.<br /> <a href="#" onclick="window.location.reload();">Reload now</a> ');return this.fl()},take_photo:function(c,b,d){this.b(d=
d||"");this.b('<video class="video');this.s(this.f("connected",c,b,1),c,b,1,0,0,"")||this.b(" hide");this.b('" autoplay style="width:100%"></video> ');this.s(this.f("error",c,b,1),c,b,0,101,133,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <p class="error">');e.b(e.v(e.f("error",b,d,0)));e.b("</p> ")}),c.pop());this.b(" ");this.s(this.f("connected",c,b,1),c,b,0,158,216,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <button class="primary wide js-snap">Snap Photo</button> ')}),c.pop());this.b(" ");this.s(this.f("connected",
c,b,1),c,b,1,0,0,"")||(this.b(" "),this.s(this.f("error",c,b,1),c,b,0,256,302,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(" <p>Couldn't find a camera to connect to\u2026</p> ")}),c.pop()),this.b(" "),this.s(this.f("error",c,b,1),c,b,1,0,0,"")||this.b(" <p>Trying to access your computer's camera\u2026 Check the banner at the top of the page.</p> "),this.b(' <p class="bottom"> <a href="#" class="quiet-button js-connect-camera">Try again</a> </p> '));this.b(" ");return this.fl()},text_notification:function(c,
b,d){this.b(d=d||"");this.s(this.f("member",c,b,1),c,b,0,11,27,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(" ");e.b(e.t(e.f("fullName",b,d,0)));e.b(" ")}),c.pop());this.b(" ");this.s(this.f("entities",c,b,1),c,b,0,52,70,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(" ");e.b(e.rp("text_entity",b,d,""));e.b(" ")}),c.pop());this.b(" ");return this.fl()},"tooltip-content":function(c,b,d){this.b(d||"");this.b('<div class="tooltip-content js-tooltip-content"> <span class="tooltip-close-button icon-sm icon-close js-tooltip-close-button"></span> <p>');
this.b(this.v(this.f("tooltipText",c,b,0)));this.b("</p> </div> ");return this.fl()},tooltip:function(c,b,d){this.b(d||"");this.b('<span class="tooltip-trigger quiet js-tooltip-trigger"><span class="icon-info icon-sm js-tooltip-anchor"></span> ');this.b(this.v(this.f("linkText",c,b,0)));this.b("</span> ");return this.fl()},treat:function(c,b,d){this.b(d=d||"");this.b('<div class="treat-container obscured fade"> ');this.s(this.f("initials",c,b,1),c,b,0,57,105,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b(' <div class="treat-initials">');
e.b(e.v(e.f("initials",b,d,0)));e.b("</div> ")}),c.pop());this.b(" ");this.s(this.f("initials",c,b,1),c,b,1,0,0,"")||(this.b(' <img class="treat-image" src="'),this.b(this.v(this.f("src",c,b,0))),this.b('"> '));this.b(' <p class="food"> Send an email to feed Taco a treat! <span class="arrow"/> </p> </div> ');return this.fl()},upgrade:function(c,b,d){this.b(d=d||"");this.b("Update available!<br /> ");this.s(this.f("stopped",c,b,1),c,b,1,0,0,"")||(this.b("Trello will automatically update itself by reloading in "),
this.b(this.v(this.f("timeInMinutes",c,b,0))),this.b(" minute"),this.s(this.f("plural",c,b,1),c,b,0,127,128,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b("s")}),c.pop()),this.b(".<br />"));this.b(" ");this.s(this.f("stopped",c,b,1),c,b,0,171,195,"{{ }}")&&(this.rs(c,b,function(b,d,e){e.b("When you\u2019re ready\u2026<br />")}),c.pop());this.b(' <a class="js-upgrade" href="#">');this.s(this.f("stopped",c,b,1),c,b,1,0,0,"")||this.b("Reload now");this.s(this.f("stopped",c,b,1),c,b,0,285,302,"{{ }}")&&(this.rs(c,
b,function(b,d,e){e.b("Okay, NOW reload.")}),c.pop());this.b("</a> ");this.s(this.f("stopped",c,b,1),c,b,1,0,0,"")||this.b('<a class="js-stop-upgrade" href="#">Wait!</a>');this.b(" ");return this.fl()},woof_header:function(c,b,d){this.b(d||"");this.b('<a class="header-btn header-woof" href="#"> <span class="taco-talk-small-icon"/> <span class="header-btn-text"><span class="left-arrow"></span><span class="js-phrase"></span></span> </a> ');return this.fl()},"promo/landing_base":function(c,b,d){this.b(d||
"");this.b('<div class="promo-wrapper"> <header id="landingHeader" class="landing-header"> <img id="landingLogo" title="Trello logo" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAd0AAACHCAYAAABTX4NLAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDoyMzM5QTlDNDdFRDQxMUUyQjVEN0RERENBMjI0OTM5QiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDoyMzM5QTlDNTdFRDQxMUUyQjVEN0RERENBMjI0OTM5QiI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjIzMzlBOUMyN0VENDExRTJCNUQ3REREQ0EyMjQ5MzlCIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjIzMzlBOUMzN0VENDExRTJCNUQ3REREQ0EyMjQ5MzlCIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+VLO/cwAAN3lJREFUeNrsXQd8VMXWn90EkGYXEQVFkQ7SA099Ir33YhcVsCAq0kIKJEAIoemzoqJiQaT3FoooorTQe7GB+kRFpZNk937/s3vxy8O03Xvm7tzNHH/HG5HMnKn/c2bOnOMyDENkRy6XS2jSpEmTJrnU6KXPKuDzMPhOcBlwMXAhcHFwBLhElr9+Arwf/AV45tcD7t1mo5x34dMDXBtcClwEXNT8El+W5a8fA+8BrwZ/CjmP6pE2sVWDriZNmjSFBGwJpCaAnzLBNRhaA34SoHZYopw34TMV3DTIIjzg98GDIOdfGnQ16GrSpEmTrdRw0por8FkBjmIo7nfCxg0vNjkkQc4aprV6HUNxO6m9kPN8QR57t57+mjRp0mQr4EbiM58JcImuAY+WIGdpfFKZAJeoJrh3QR9/DbqaNGnSZC8NBzdmLrMrQPImRsClo85p4NLMcj5vlq1BV5MmTZo0SbdyK+MzTELRdCf8CGN5j4KbSJCTnMYqa9DVpEmTJk3yyRBjwZHC8P3MzW1YFIOJa4qirNGSZCSuW5CnQKReBZo0adIkn6Imrq5qCKOjxCrq8egFxoP43ChRzlu1patJkyZNmmTT85LLL8KgGNB96wuS5SypQVeTJk2aNMm0cq8SvHeusoje4laTXEd6QZ4L+nhZkyZNmmSTIXqK/43YJIN+YZCzlw298YcGXU2aNGnSJBFzjUdtqGajlV9uMGFVScjZxQY5DxbkuaCPlzVp0qRJIgHMKuLT0IaqFln8/W7CH0tZNqVpS1eTJk2aNMkycx+2oZaT4BkW5bTjznndpsHNftSWriZNmjRp4rdyx6+ibEG9bKgqBWB2yoKcZI3fY4OccQV9TmhLV5MmTZqkGbnGA/jcJLmaI+CXLMo5CB/Z4Rlnbh7c/IuCPie0patJkyZNEqj++JV0P5poQ1V9AWbnLMhZFZ/HJctIHsvP61mhLV1NmgKiRi99FmEqqxfZdYmFQD97wRlfD7g3Q/dYgabB4Jsl1/E+AHeNxTJeFsHn880vDYSc/9VTQoOuJk0XwZTWQlnhD8hO91vlzP++AVwGfC346gDLPIPPV+Dl4HkA4W91TxcQK3fcyrLCENGSq6F3uQMtytkRcjaXLCcpBVP1rDC18kCS2N89eQuFGSsFLiYYQo5pYiOyqOh46bd1T9U7rbsjVyCkuVsdTMm5Kb/n7SbfYoMSug48GTxLW8HhDrqpn+LTU3I13TcPaTHbgoy0h+8VcmMh075UA3Ie0bMiANAF2NKgpIC7CvmX7Zqs0dfgIQDfLwtyJzSctCbC3EyqmeBa0wRasmRD7ctATyZGgd/d8GKTTD1lw4vqjUv9Nz6fS65m4ZYhLTpalJNSDI6RLOdgyDlBz4oAQPeuNze3x2c6uLjuLkfR8C+frj+qAIDrjSa4VjC/twl/vk7iooqLfxgcS5YvwNfQUzYMADcllZQ9Cv5wh8Rq6GlQlS1DW/xoQU5aNwck7+tbwVGQUyuWWSjX47Q739h0D0B5Dn4spLvKcTQS43dq/TMNXpYMevcKf1Luu4U/tiw90j8E3iT895k7wEcAKmcDLLeE8F9llBb+Jxf0LWPyxT8rL+THs5VJpChQQIMn0d4+6KNv9LR1PPWWDLhEQ6wArkkpkgHXQ32hATcAS/euNzYVxmefKOC5Dx1OdG9YeX2/KCmbedTE1TH4JOXzrxMY/25+Sa4zWRS/EubPlPLrSvAVQr43pWpE/dF/48Cm7+tp61QrdwVlEqK4wtdKrIb8Au7ZMrSlYUHORqZCLJNSIGO0nhUBWLoA40c04Dqe6IQixtS+uQG3QwCAS3S5yZqyJ7I63kO/0ob4NMDXo7vEWQQUTJAMuBfAfdMsAG7dlBVu/PIrkruCrk0S9IzInnJxKDF6+KaRZqezrKwhj+vlI4X6gOcBfAvrrnAO1R27ojKWWz/JyzkRgLvfombwCLieZDkfh5zn9awIEHQNQ9Smk2fNjuerGr36Nau3btSE1S4srDu1PiON24Pf0tuTo2iikHslQs5Z4y0qBnSaIttb+Y206Jbr9HTImXI7Xr5Wd09YKVdevmM0o4zkYzRNQvRqMGHVC5sGNftLd4XqVu7yllgVbSRWQc5IvdKiW1l0SjKGCn+wF1n0HXionhFBgq4w9AsGTTnSzboLbCG6A9egqzDVGbs80vBbuTIpaWt0q90W5Sxn+MNSyqS+kFMH57Fg6ere0ZSTqVtGd4ItpJ2p1F8LdAdfTWIN9OQuiUHOsULu87opW4e1WqknhBVLV2jQ1ZTj3Cih+8AWOqu7QGErN3k5PW8bKVnp6g0wy7AoZ0N87pco5zFhMQa0Bl2hT5c15aqO6ehk8uk34X/TrEndlRAv5Po2pGwd1nqLNcBd5oKcL0vuiKcgp56r1kE3ONQtfXkR0aFqKVGtdElxZdFCtgdqNvDPibMZYudPp8SivcfFb2fSgyrH7XKJFpWuFXeVv0qULllEFI6wP1zv2QyP+P6Pc2LNod/Fxh/+VGne6Ahl8mnC5sHNvbobVLVyl1E0sf4Sq9jHZEWThRslUc4PALhL9IxgAN1gjperXV9CjG9fRZQoEtqMgeWvFqLuTVeIjtWvF4MX7ROHfjsTGKK4XWJM20oiqtyVIR+gqujT1pWvE9O3/STe/Op7VUzd4wVgbdDRHnX4D8KfQu0i/wr+CUxa0BnzS4vlosMTeYfeA+4MppRpweidX4An6e1JYRsXSpFE5ZOUrce3DWt9wUohtZOXFYWcYyV2A62HF/VsCJGlS3ZgXPPbQw64WenqYoXE4Ma3ij6zdgb0ez1qlVECcP9HXa1dBhbvb2L/cRWcA41tYbQG/gBTeyjF2WGTKZTfd5uHtAjmLu1P00qZXH9cKuXkHQTuJ/Kf2WgtuFOQdWuygWqPWfZvoG5HiVVM2hbTegODZkCAWFainE9BzhN6RnBZugGC7pUAuBuvUC/2fGVYikUiXOJCZv5P6tpWKaXkYN15y1Vi/y+nQi4HAGFfvXGpc/FjFwfOebojSwVvB6dtGdLiG4n9RFbyc+irjfi+n4dlRE5TFPwgaYsGXJUBl04uZD4RIqVvBIOctInJfDM7A4A7X88IVks3sIKKRqobn76Q2y3OG/kHXVIeVHwydVURhRzcDPEYHSaAGztszu/bMrRFrK0oP6TFtHopqd/ix6ng2y/533QM8zGBMuT6TW9JqpNBd6T1pK0qOlaOacPgtW4kCH8CERlE87S/ngvclm6Ad7pGprqhNg1veBgOrsx0ocpTLgDESQBJM+G/0yHN3CkezeVC1F9fob8oxy8lNCAnHLob3ok/P6a3IYdYuUlLi2D5yQyj+Pq22DbrGOSsBDn7SpTzGcj5q54R7JZugKDrUfcdvxeyGYbb8YNlGB6lLHAABg36+HopK94R/kD9XcENhLDdaT0QejWE/UXHLetNLjDU6KXPKhIWgKuAbxH+fMhXZ1HUyCGNrDu6X//B5CPg7V8PuPc7Zdaf37qTFY2N2jmMSc5xQl4c6AXbY9vM0tCpAuji76saxcof+D8MHh4r2o4tQ1uS8xDdR46vm7KCcuHWBVc2Nyi6W6I8o4XMTTZd/H/Qh5Mm/2lafjQfacOQpSF9DZ6rl710kKUNvxWY0j+2FhaceVAW5WD+ErwQvAggHBILq1bS0mvwiZNYxeMAs9MMcv7b7HcZRE5TT+kZLgl0Az7FVBnTjMDkUxagDaF8oLC0oS3p6cwakwOiumNXUKSrZImg+2JadEsd9kUSNZy0hgJFPI3100fwec0S2HU02Ys66DnVa6Q8bXixiY1j6QuEcYWkwqdsj237mXXAXUKBMGQ6eQ2AnP/VM12WpRvona7SmGuERVBLI4hxcVgLHxTy3j5+khbdaoNe8lLAlsCI7vYHCrl3+6SMNTb5S9T7CID3W/lW7pLb8HlGUvFHBV8IRZlOXksBuB/aPbfMUxPCKVeWbdDz9YB7M526XhizDCkMBr7z5bAApbCNz1ln7HIXWjZAUvHnhE45Jgtw6R7/dfD1Nld9F3gT6m8C4N0ledmlSFQGn9we19ZyCMVao5fIdPKi06u+dgyqCbJtwfcJ/xXFVTn8PQocQu/rKcnCbIDwTqesGcY7XZUx1whIPpWPl8M2+5MhKB9pJUmlT9w6rJX2EmakqImrKe3gFMzH7iEUg46zV0KWOhsHNv1JRgV3jF4SZfgdBGXQBzvi2i5j2hqeFfKcvAZDzh8lK2+ERY9iPsXnsx1F6NdMjsfvp+FLytEcKGFKh0916+1DkyIkK0vJcXMxauIDXHKS2wTuroA4ZGG/KbH8FInzkiWEIhQDCp8XI0lOumueIhlwo0yrdYoFxYGcN2eCv0Z5tRwJuhe9kTWHB6tMdZKXYZEY9/6/pxgrj4CVqxNrcwHuhNVR6NYN4Epyhiso7gC5GvFbuYvboPB7JAn9HKxHphCKxmDw1RJkPA/uCzmlbCAAxwgwJXX4ClydqVh6skjXDs+puob47nSV9qQywic9cBgeLxvygqYfkK2lFyRqMGFVI6hwy/Hj5QqK97TwPwnjAdxRi90S70gX7YhvN4NJzhsg5wuS5EyAnIclnZZcBWOA3vs2lVA83b//B3XQddWzGwc2VWrTdOeGoYGwAzb2/LOqFqvpu2yE0fjUHrOsDAS8T5IFNHjbsNaO9XJUDHDJElmqKOASdYaMkYz7xQPgOyRMy1OGPwEGl5zDwcUkyLnNkBRjGmBIR8gbJAFuViKP83GqTVR37tZhgKy0pRsG7Qh2XNRu07NCjmfo59tiWi/ScMkAuONXlcMuvBx8pUJHypdyCXADjvbWHLW4sODJZZsdRe+Mb3eUSU6K491HgowUaa435GRXWKMmrK6AcVoPrmjTvBiEOu9SaT2xei+rG5FKey+raeUuLY4WyYpwE63h0jrVH7/yOqweysp0owPErSb894NWieZkeQnyUfjPyYzlJQk54R4nAXC3SjgtqYC5tDYEc2mI8Ec1Uxt0NWmyQYnoJXJ4h2eRFm2LbcMWCMN8O0jHq+QhSckKrgNT9CzKpEFhCunei54sbHHyo/1sALcYPouFvKdc3FTBsvU4chEsZkNGuEcKf9pn5/D2LM9ZIGc9Iee5FsW8TpAAuGXwWR0i5a0t6i+7aVCzoypMUv1O10GWru9ON0ws3VpJS91oyfOSih/BUQjAlkCHnFToDq5MPn7lOH7nFXxfAviedfL41B+3sjCm2zwheI5sbSKOVHaDTKWKm5IAuPsYyxsrqQ+fhJysc7fB+FVXYC6RP0C5EM0LukZ9QoYyEawwOW7x4eOuE2A7DEXZ0uWGctRO/DO3LAfN2B7bZpvVQhpOWlMTCs5ucBK4TD6d3UqBR4N34vedYh3mpOBNBre46L7nkH+KWWlzjZGLrsVKGSThanGP4Y8pzkKQsznKaypBzvcBuKuZT0sKYVxmg+8I8dzoC1kKKw26weGCql6/AbZDqMlW9AEFt/VnJPSSB5zIALjkXUmB9YO916NYvZ+gHJcTAbfeuFRKMfeYxCpOmVZHL+F32uGivyz+fqzgjx1NE7PvruHtOZN6j5IwJr+aVj43UfaxZgpM6xvAD6qwvhhjL6utt4swOV4Oh3GpNXrJbWhKCwlFf7w9rq3lIzyMPznSWM0oUwfcE/ypowA3JbWb5ETtdGTdb8vQFj+b9dGTjlJMZf8ctPWYuPAGYUhx6puya0SHr7gKg5wdIWeUBDkHQs4TnAXWH5f6AGR9XqHpHQ+Zpm0e0iJdSdANPMuQukp9wFmGFAa2cMgyhBY8KfgT3ZMlkchU1mVM5QyTBbpRE1eTYxcpLvWF/66Mjs7OmNbe9+BvwJvB2zYObJqvO7q6KSsaYH7JyiRDDkQD04a2fDlLfSVQH+f9qRWFK55x3LNaj2yJNgC4LiHnXnItKazMpyU1sM7fUWzrKW+uycRQCsGbTzdM8tAqC2tOiUSSC91B2VCEeFxC0e/uiGv7LVM/U7Qgjig/NaMmrP7XxkFNWSwdlEWe3n18/Wfk26M4Hb+31rQwP4Es2Wa0qTt2xc0okxLFF5UwNgT6XdOiWy6/pJ+7MitfQXmsA8xIaektod0vwnr8g7E88lbmjitMVt/TkJNtZ6mXklrUXEPFFNyChkO+nVuGtpgXBpauungQqKWr7vFyGFi6htFD+BOTc1u5bEeiAKYNDSas+gg/PsxQHN0jWQJdet+IzwCMfa8gNrLCpkVMPB5lTcV39KZBzX7JArj0/IkCichIz/cbuB0Ad+MlIB8peNMtfos6fglyXZH1yB2ghRIFTOMqrHriQrchx8odt3tEh/3Mi/wl/KuKojsQ+THNrZeygkJQ0inUHvAF8/+VMJmUW0oiQdHXSpp/dqX5d4pkUUxpM6aTJfJRoAQW1I8Htgxt+UOQlm4Bjr2srMUeFne6Mu7N3tvBFOUnCyUygW4rC2BLbxqHC/9zB44gCLR5UASwR1E2beAvZWZmkiJHQFxDEuA22Rrdalc2ivATzBvzZ0GCGSk0jzC3m95qP7ub0XoEPSQByL7jVFZ9ylTKis7m9ZHq1F1IypKFPqC9iLzA54OXpA1tmZk/0A0WFMKAwjRjbcip5qjFFMv2X8zFkvcrf3xVw+DKH3prg/Err940uHm+nVTw90m7jocM/QX/PaMwtXeKq9sck52CesjIF+sH3GH/BNw6yctLod5k5vpmBbnYEwR/VKeXdyd02Mtm5SYsjIScwyWM0fOQ8xwb2IxdURlyfsAsI2UIo4Qoa4T/+uBaB2x1ZYXfM5/4GPplEr6vpUW3zMgVdAM/YnWpe7wcNmEgHR8c42kJZX68M77dNxIUL86H/LXMTSNXqj9+Jd1vUqD9CfiWtmFdtLJiiedCf+YEuCYR4HJGIvvDtCwCBLMFVdELDzC3/SfBHrfZd61wG7OcS3cndFzIB7jLr4eciwVPgJKLRI6B96RFt9pq1kHg+6FwFt0EJtDtA/l7oC27eR2pVDZdw+F42cFmuBle70EJvZEiqZ+rMpZ2Q56AO24lWQnk7WlbcHavxyOjWHLUarV1WOtsAbdO8rI66FzuN8DTUV8w72BHCn4v+oEAs1N8Vu4CupPntnLJeYotHWCdsctLYCEuk6AYPLnVBFwiANZHqIue8r3qwC2QrgbWQ/4oRkcqde8bw8aRyjCc7EhFDlQlmMtczBxaL2tvc95xXpEz2KaSA89Q1EdPVmyLmOPxeGUsVzqqbLstpvXGXPTZFAlA93qgv1AtYUF1g/9Y/fM9CR1Zn4gZfk//ssxyToSch1gAN3m5y/RUrs0s4/tbh7Walk2HvCn8J0FFHLgHkmPWa6yWbrg8tTEUboZTMdfw329wU4pEeeszFpctyNQbl0p33HQHdoedY+H1emUolmRpdgXg5pjNpfaYZXTMzh2daA3qDOb+lDupgZfTejQVA1LCYpjlpOPvJMaVMhj/asMsI3kB98/ufwCIPXWSl1FShqrCmdQkkg96VD9fdr6lq34/Z081Ri6iY6e7mYv9atfw9usldjNnoP8z/wO2KankuDMYdSTaad3+fVri9cqYlA9vi2mzLI+/FiOhSZMCBrMR86uaT9c4acqexE7bmQfrQQlW7jDIeYajIChRVTGduENS0vOdnlCkzuRyWpIhnEu/5uJIFej8EEoHxwiPLEMOdRA3DBlW7gRZ4tZNWXELoInzzeqfWcoui7Kn48c7QzEUHjn3uIO2x7aZkdtfqJW0tBHmLvcTjY2od0kQvxcreI+46R47ntXKHTE/0pSTkyhC2UdMgEvvXd+VoDQOAODuzOPv/CWcSaQs9Ge1dFUOnhi4BqEkeDnO0q2RuJAW56PMxVLkqQUSp0tj5hJ9z4/qjl3RBWVPEXJyCOdJXn4Ll+hVAN+kPACXAnpMlVB3QhBgRu9yezLLMRrW43HmMuldLrdj0guQk2kD8T1na8gs39JtMW3edO4GnfPSE/43uyPQvt28lq6yhlaYWLoBPn1SRN1pIviPyF7ZPaKDV6LU3KDrqTt2+Wsot19o5w57l9GTkwH5qJ3eUVdkrvvL7bFtlwcxH+kul/NdLj1X+w9nw6qOmE/Rp6KZ++vTvYmdWMKRQokqj+mUxCwfvWPvnb+57BgnKtqtJ4NToJh+f/EPeS1dQ2kXJMeDbnDjEnLifh5CzzHek6ykNWEuMi3kqraHHXApfN6D2+Pa5npeXWv0ku6Ysv0kLILnAgaz4fNvxW8+xCxLzN6RndKZW0f3zZz5mOlYk/M+/Q3BnwKxH4Apv1miigr1aTe4P9q09tL/ESk0OR/WFKXqCQuuAIJ1YS72/d0JHU/KkrlO8vIqEizz0AIueSvzFkl31J12xLU9ndtfumP0ktsNOQrSFNS9LYjfG8Js5W4Bz2S1cofPp+sY7ne5r0ExYEkGUitpSTfskNwBVWZvj20bwFMro7hiS4yW10HwJpPJg38H2pTtsmOLSGUoHBc4bCJSCcdFpKK7M+4whpMl93ErEUZk8EcxI5O5J0DvcB6AS2+yKZML99tsSmowLHAwm1cOvcGd3Wrg3pGdmRekQW+HOWMsk9MRy1EwxrQ4ptJLEsbzqcDmtJTEHIESKTGrwKngNVgP+Q7zymrphouFqO6druO68n7m8j6DlbtPch+HFehKOFZO2hHfLjXXzXnUYhc6krxkq0lo0lOo//cgfo9CCHJmEloMwP1CQvuGMpeXDDl/ZyqLPLRvYh/PuLb5ls9U5kqGYCl9a1qxBLSrraQRZcwypLonVRhYug7KMlQtYUEZSHoPc7Gvy5S59phldFd0j3AepZp9QwHhbxb+N9EtvF5vM4P3OJXeReeZANzwH492ktDOaTvj280Pwsolb3HOfLm0CLkdnUhO8iWoy1jkf8Gv8Fi5iyuj2S8yN3nBjrhAx9O4kVkGslB3Z7EZT5mnA9R3lC2IfBe2Qs4TXBVGclmthlA9D214KBCOMXYNcZ/gfQtJi2CBXJl9XstOCi9H/ZG0LbbN5ix/Rk9XNtcctZiiNLVkrIuSCtwP0MvVcQr10rgnSGjrARFkWkgs52cEr+PPzH2jOu+RoFMPZi5yFOQ8x7SeJzKfFJA/QP8g5OB0MCPfhGo74tv9185FqxMeOMnSdRbq3sdc4Pt7EjtlSu7alg7pXHoqE7M9tk22zkQ1Ry4qgknMHRT+yZ3D2+easxj13ol6p0po71lwd9R/OtBfrBI/9zKM7HOMspDSEc/dQMhZg9mfgMZqCkdBUKQaG/yhHuN3BpED2+C9spix02bAzR109ZMh9VrhkOAY1UbMp0f99ZmLfc+GHm6teNfS06Oh22Pbrs5jtj+PTwXGeuftGt4+13y1NUYuqmD4AwDIOCl4CPXvCvJ3KUF9KUZZPt43qsshCW0cwlxeAuS0/JQJihTdz49nlo0yBwWnFBpGdWbl1XbST4acZuk6of+E4M5RunZvYqfDMmWuNXrJLRC8oqJdSto4HT1O2x7X1sgD/CjJN+ebTLrLeiaPOkuZG5iMBOOxANx5QVqP9PxmEKMs9N41kbuBkJNyN3OeDFFCAK68s93A9RhlI8++vjuHtw82Hml9Rjk+Uwp0g4KdMLnT9Xi9wu1yKdeOTI/XGafLBrvX8rs2zJF2CvYkbUzkCJOwI67tyXyuwREil1SCQdCAXSM65HgEVyNx4eWoU0YuVaJPhD/hfbBEzly3M8ozFdbjtxLa+TyzATQaclq+ioEyVdiw1v/Z0RtQotKClOd6g2880yBHSGI4s3ovq5vaLzDv5e/++7soX/oapZrgghLw59kLynsvVx0+ryaE5HxnSPd4c22YJB0V60oK2ff0jrh2O/P7CwBAOlJ+ilGGdSKXAPmoj95g05FyHQntp5y8TwDwDQvLntMxiRSgcdyNrBw390rI+SRjkRRu8GOmffMRZmWKTk2GW5DnLkZZVoVqYbv5wU1BDpBS0w78HVRAFS5WrLhYvu2wcABxHy3P2Tuy81mZAt8xavEVviQHRpZjkdDxOfAA8N2BAK5prceBI5lE8YKfywn0qicuJCtoJvheCd1wFNwJdZ+3AGb/ErwB+WfuH91FxgIkwOX0rB4LOa1buYkLySDjfhYVjzH9w8Lvc+ZiXhOqDZLtSMN5+W9yOdP6ar+oceuNolHlciG/3yULt0SJEmLG2i3iyO/nReQVJVXvvq7M5X0g3cb1e2aq4N9A1m2vnfHtAnbUqZ4AK5c3rvCU3QkdtudQVwTqeh8/tpfQB3SM3hZ1W/QqNZ7lnSJiNL+VOwdGj/E0Y5HUZ1OZGnw/s5VLT6zetigT1xUQ5ez90vGg+7elGwYUefWNYtBbc0XzulXEXTVuF9deWUJERrhtlyM9wyNOnDwj5n25Tez45mdR7LY6Svdblfh5NTAFOL1m6UnB59IFN0J+tExOHZQMfFTwDiYGZ/YcuuuKyx5wF6AO40MJJxpE5KjUdXdCx11WCgGYUZjAboxyLdw/uuteCe0lELmZsbwJkPM8z5pgdUAjioYiFbQFDkWvFmTiioa1HrKcD9Vi12Egs6GI4leKItffKlal7Rcr0/aFXB53RCFxWdkqwhUR+HBRsHu32y6FwejMXOCMfaO6eGVKbDqLhPKp0DHwfbuGt18f/Ia0gLxfH2SU6WUA36/Z1EPehZMlAS5RH9TLcddGR7acgRySJbWXM/sSKUpvcRSEcW6GtVyTUbYvMK6LLe4tnErUkpAaddrSzZ4KXVVaRF5+jfCePyOMzAwZuUjzJJfLLVyFioiIoiXwH+4ghsMQhheGk22gy2pdEH1qg8yNwZeHaJrRe9v7Abi/WlR2Ob1fKQ7uxEv/sBoA1/CndOstqS9G7EnoaPkqoXLsnEh0SF9Gub7an9R1I3djIWdFyNmCsch3IOdpprKeZW6upXjSprLH+SJiUdiAbri9bnXBwiSr16lkeDy26UFV4ufS/U8NxiIPw8qVn4c2dEfLKYLeoI7o4LFSSLUR8yl9Iqf364Q9iZ1OXVJHhBlp6iFJfUHRxkYy7UH0TIgzPu9LUqZdHm+fA6SLT8ssE5SrsgbvXf0iKFMbLPYVOcTdyiTPfshzSISQtKUbpmR4vcJro3WOoefOmyvdyq2euJCstw42Dw3dWz6xe0SHj5jK6yX4vF/Jyn3tH4DrD7Qg60iZ4kf3YZyJnEe29PxmPneDK8XOxngZjzEWOetAUrejTAv5CcH7qmUEk0xhYeVqSzdcARcI6PFk2l0tt9fyLBtkjhL8qcryArVOAFwWz8mqI+aT0sD5LvflvYmdTmcpn+67Zwg5GYOIKCJQD9Tp4SgMYEZxeRszyvcKwEzGQnpY8F5pTGKxcjGfmE8zFuxJ7LTNokx01Bg2R8va0g1T8voA176xqBw3pwzqi2Is8pv9o7vulC64YXS3cVjIEmm+O6HjAUYtlwCmMlNp5M05+W/AHT6/GMonK7SZpP6g3KQd9o7slM5YJqcCQm/Dp0hqO6ecG6AYbGbavhsJ3mdCyQwyUYCOYoxK71fhBbqalABcOlq2mbiPlufaJHc3m+ohF/gWANxjzFpDL8bCPtw7svNvfsCdB+vCWG6eBMggyl/aFvVxOf6ISjGzL4OS8DCjjNMPjOl2krvhkLMu5LyDsci3GMvqyVjWF1CoLDmgQfGjY27ODFELIZNHhJh4j5e1pRtSIrD1eEIyp7jvRefIFrhawoK6mK3lbOgbApgme7J5gmNtQ5pH97icR/ovm+WSExIBbnVJ/UHB+FtfBHhmBYoz5vSbktrPeH/ty3E8k3EH4Xzyl8IgT1dmy3u6Cvu0vtMNF8CFwpOZmWH7EX/l2DklMfD3MBb5i/AfPcruMDuOlv2Am9jpV37xffesXA5U+/aN6ryvSvy8WiiX7rxk3XP/CG6Guo6x9wfvU6atB8d0Y/ecrxgzuzhzBq4PISdLiFQoW7XxKcskF12hLGMohzPdIUXrClnoRzmgG2ScY008fe/JTA9J/6PG5vgUZixyyYGkrnacj8sGXWmAa/Y8p3NJ2Srxc99DmQQIRST1BwFu432junzHD2azKkF2TsVPkpXrU/Q447i+zbiFNOfsPyhWljYjKICtIBNnSsFPIVPIj5a1pRsmRBau4Q1V7xvc8XelexdWHT6/Lhb0rRKr+EH4jlDlAC4AsgQ+TRmLpPIek9gfFwH3sIS+aOP1ej9mvNqie1xZx5CcT18+PzimO2NoSoPLYY4s76kM8iQw9/0nquzX2nvZ4eTJyAiF45SPKsXOJkcHzhCKFIh8pQ2KQmeJhdNdZYu9I/mPULNQS/BlDpmipIA05QZcgO11wv+muAezL8kHALMzEqxx8jLnTE33JmNf0lvsO5mKm4mx/suiPBSTmtOJ7xBk2qzKgtCWrpMBFxZuCN7jZh1wOv65nrHEtQfGdDtjg+T3SSqXnr90BOAekNrthu0BPYIlcppqvH90F1YFpHLc3Hbog3fxYykjwFzZdoLZJWulF2NpdD85l3E+0ftmrmc5H1oc2wjIM5a59z9WaVFoS9exgJvp4xBTO+byVsgWuEr8PDpavk1S8X33jepswztAo6kDpijdabfcP7rrT3xgO4f2qyS0f4ikPeezg8nd2TOcVBw2iyxJzudMb0PODMb5xGVVMmQF8z2Dq8bYV3QM+H7Ygq5+MmSjhZuZEXI5DP58qitskFqWlTtx36gu0nP/AniuFbyxhWUQeZ+3AeD+ztjuMsIfGvTu/9lRefec1yStE1KSynAtf8HoQGUSF8jNwJh7LYwxeeOPZG7bUsh0VKXFoYNjOBFwM0IPuBVjZmHjN2oxFnmU1zEkOyt3LoW56ymh6HXCYiaVAHZw1QGXFKeu+5O6sl0TVI6d0xDtphjI1/9TyWcDXbLIF0oaNE4rd8Gh5B4/Ms+pSkwlLbQoRzyjcvL3qYBqC0Rbuk4CXIBtpgIWrkncOWilO1Bhev5L8L1FvEhkzT2wf3QXW54jYIWVVniKkqXf50BSV7ZJWil2zkOGPxxjkX/2Bet+8zbAjP2+5vZhM0luzjv41yXMqduZ1sFXFsa5MuR4kblp34gQ587Vlq6DKTPjggp3uFlXquNAV9LRcq/9o7ses7HjVc01OQYcdyCpGwsSVoqdTacSyWhvjicIjM/kMqVZRP6cuVzJDfYLf5IIbiE5Tk9SMfYWFE/jP/hXIeaGvQqZvKotFG3pqk7o04z0C8Lr8SgjkukYwu3M86VMmSvHzSGZuWMtTwHgLra5+0sqNkPJqu2Nze1DrgIBuEXxodSHXW3aa+YdGtvjZ3YrN3omeQQPYCzyTcgpY5PleH62zsJ4U+z2FsxtomdL76m4pWtLV2m8BeBeOB+yd7g5K+++N3SccW6PHErufkyy0I0F79EsOWcMDEHnRyg0FehNcrcDY7p9zlVgpZjZ16GNdDfYMK9JyEis3q0AW7p7jhH+XMdcVi4pN9OY5aTEC7FMffllkONN2axekjA3J8tIWKEU6BoqW7oONMC9ANqMC+cU7VOjJXOBa22YAtxHy7Duup4MwVRWZULsAHc6OKbbd1wFVoyZTfd6S/Fj+fwopExEb15TmUCMjsSfF34PXO4TicWwcn9nkpMikI0DPwl2M/TkOfCeIOczJbnnTjxCaSpfEoqSPl5WkCiOckZ6usoich8FfSFT2Eqxs0sy3+fOOpDULTU0XW9cUGD8KbPNYwfHdD/LVWDFmFn3om0U8CHPO2vmeBjTD4/tYfnupkL0zGsNf/hIWfmHWaxcyFnL8I/f385TLuu9eRBzwRvEmNfBSMo4LXoL8vxSIEBXk3WlJTP9ghJvcHPRkq/CGm3gJNAF9RP++MIcRFr9oBAOwfkQ1k0TcyA2tFc5C8Xm20v4HZny6UjD+lTI8jOhCtEzqkIe8pK9RVK/k6K1nEHOzpCTojNdEn3KZbXoA0GMOWEPeaVHSFgfKUJh0pauIuT1ekTG+fPoQ6/qopIm72Ys7/tDY3t8J83KjZldCvsz5xva5ANjuv0QOs1MnA5RzdTm7geTu7OlXaw4bBbt9klo07AA+4CLKB/tOisFAMjIv4HS2F0lse/XHB7b84xFOSmP7+Rs1671/jwaxDwmC7e2hL56FXP0Z6EwaUtXASLrNjMj3SniOuo+1/CFDRRcz2zo/m9CiPv/1xDUOQvcF5vZn4yASw5GZHUFHNWMUblffTilZ9BHyxWGzmiCCUbe60Ul978lKxdyPg0538ixPy0buiIg34bbh82qgBFMkNBPf6lu5WpLVxHr1uv1OkZmg/8+d50sWSvGzLobEnOmU0s+OKb7uRD3/3EbqyPrqv+h5O683r3DZlVEOyjCVJUQT+evLQAZ5e+1A3CJNlgCXJEz4DKZuifzP/bkbGa8I+RkyRp5KLnH70Jx0qAbkp3T//Y205d43jliV4ieQcnCuSM6SXmfC0uqBPp2qmC4sDKJjtAmKzB5fjF3SZfkiugE4nFsYt/yAu7MdhD/I8bTB9vBDEBGPg0LbQJcus/dHqScT+QNuByYK4oHoDU+g383ltBPlNHqNeEAYruby/Coa615FQI2cpI6f/a0/zjZaTqKIZr87cPCwyfBByVJS08iOBPVjz2Y3D3kdwAAwXPosz3M45CVz4Cfo7HmBNzbo2cWBk9CuYvAV1qSke3QQGwLAshqCH9owcttGvJdh1N6pgchJ8UYtyvu8HX5nAO3CHnHv88dGtvDEXd0bJbuH2cuCA+A1+12KdXA9IxMcTY9Q4iIwqEF/otHyQpFlgqCuKNQbcKGwq56wJpqbQjjacYiT4CnKjQO68HVJZRLYNIPm9f3rOMRPbMCPjPAdTiQkmnC/HQkpWdAVwW3DZ1Bd5HkNHWtjWN9JNBfgJztDH9Er3wbVRZ37Qr5mAMuUwkoLqGP5mDOLnXKJsoGuueBJcvTDojW9Sop1cDFm/cLqAIiVKoARZOio2QPLFsnH75Dc6YFfA9zsWkSAPcafN5lLnYyrL6zCg0HPbF6krG8n01LYTYz2NKy6w2eJNiebLHBbkBW/G1DP70J9VJ8cLuzPAUqZxPISe9wCwXWq5Z2yLoVMNaHcwlRafjnQXMJ/XMK/IKT9lI20HUXKiLGz17j+7lFnYoiIsQWb0amRyyFEvDKgnXistvq2g+2BkWUcpRXcl5UU4KGv4m/48VE/PsGzqkkJGR2sdZEg7xZ6ciE440jOQM9eHhsT9boWhWiZ5SHnG+xb7R8pm6+wey2IZ/Ss7O1Qt473NzouwDkjPId3wd410zZmlzWtmsKr0ohJbfnMBfKoZaJkvpnIObuMeEg4nOkwqi5ryknxkxfIcbPWiVKFr1MREa6Q9KozEyvOHn2nPB4DFHkxkpC2GjnXrRs/WAbPo5laEkTCcWygi4sK9rgH+U+LIEF+JNKY4FN5gQ2MrJ272UoLoYTcCEX3eMMFhTTV4KjEWM6vxP5BDK6r1xNP4ZouI/nU05680pR0ooFpchYJ3La6v+P+UAnZH6HRhmJOpYeTun5jtP2Ulbv5UJXXi9cEZEi/fj34sSpMyFtmLtwMXFZmVtERHF7nCTprtZ3jJyZHk5Ym3VlcoPuL0dS7mPTULHZuw1/ejBumqqoFjSPCXQJTHaxjMHQGfea70Ery9T+mCjPICMm4NI9d/UQjvSFfMhZwwTcy0Mo5xMY/wkAwUv9AYYzzdNLiZJt9HHiTsoeHCOy5DU+9gVIDRn6uITV85L8bQCGL6l8pmKp97gJizoSQ8l9n7uZeTN+RPC/+6TnOao6aHwq/HelVtfwU8L/ZtYK2NJx/njwgza0+yQTuJzPB+CuCTHgEp3NQ84oUzG4JsRy0qnG25gLrS46R+Jneh40QlJ9j6Ken4QDSV5EKh/ouUQ4EnkiZ6an+xLLF5CnyfUEX+zii8R2tGw6ecVJaPd0LOxMFQcEcv2KdtN9bCeLRbWkd6cob1MQ/U4bLeWLjRb25PndaM6b/jItXQDZLableLsCQ30yFznpNcFcDiXEF2PB+nZNgXM+uG3opwvw7WoI435JfTLxSMp9jvFWtg90w4zorpbuaSmgRThbtTlQUwllclq6jYScO7d5Ss9JYbzKALpE72KjjMJGli8PbfxdujfsjfoJbG+wqbmfCP+94YtM5RXPAchIwSTQKKPIMJfMQc6HhD9JeyHGCcVBD5ssi9aaSp5jSYNunkCb4Xvu4/FkFOSuqC+hzD1s48QfmpKI7ozWqzwoAMk12Hy3CuvvX+kIdQnK6nlk3H3Hc7Gs6Pj+MXT448K+40yPuclOhGzGrUOm/8VUbqlL/wBlPwBFgp6bXabQMF93iYzksZ4MOQdzV+RS/2SSkm70wDzIFA4mDbr/s3sbANdMgGyG767W8Hp0n/ipFnN5FJTgGOO41ZHQ5kVY3E6YAOSospihnMbg7wCsdFe8QvifqpAVdbN5kkD/v5rNbaM79fswDmuzaFg/MpV9599ANng6Wb0vo+zeCo7vXeDZppw3Q8aPzT+TcXLyjcvlulXReU7H7B0wF34VDqcCDbp0j+EFyNJxMYVnJNbho/+h/buwGG9mLvb7b8bdz9nTMgIWOOLOCJsQWahrBU8826I+S9bPoaZV4EfQvkvTtHGFDa0LEBst/IFBKM1ceUWHuC/k3Cv8x/h0f36FpHoIzOgaaRT4IcX6gI4Zu2Mu7AiHPTVH0CUAcrsjhMvtFmFBBLCwXH0AC/ZmZvqsWk15qr8REkr9hbm8IhJk/NxBo0QhL7dL6ge7iRYlvfGdgE02u4DuBLqUSYbjeDvWAf1BitBbkuugu/y234y//zso2c/i57vNEw5lFA8o6anhsqXmiKjnTp8UZ07+IU7/eUKcPfWnOH/mlLhw7qzIuHDeB8iUjk7FrEI+6xWASs940s+f8yUXOHvqL3H6rz98X/rvjAvnzDtao4CwnDmiEOhyR6TZ46RjLMi6n/KThsFMPQBuhPaMywFwBYCBQHmKQ4bmqANkpI2wG/rV59gIcPsLA9HBTEaiwqQYCJmmhpMdk4/jZcNnHebsseuCRez2WcQulwtfso7xdZn/TUwX9G7za/5ZfgH0opXq+8nw+sIr0p8bXsPn6OQDWd+XZPSKMI1MEUqS4V3BmpMWM4HSA3I6U6114EkOZW+hu9cOjjxPoTtVIWKw+Z/Px9+nDFJ9wVcp3KZXwLOExHzRDEQb5qPo82WXKDY7bx08vY3wJ3coGUL5kiDLpHDbUCNzXQb5XC8+QA72GU22AGxo7FRrQ+SmM8wS0uY2krHEz5w2SNicDGyUFCCEjuEaOEh0yqLzGORfF0BbT6CtFHhhuqJtorzLL5hjQnG7+ykqZx/IOD2HPl4P2SkgDgXeuCEEso2DDHEiDMmdi/Vgzz9/W69Z2RD6H75/GLRhGUdanICzH5+ZTMVR0OxVTlzM6Ad6TtMSvMUB4npMi7VGIICbpa3kZf2Ggu0iwH2GANf870HgDYpauO/l0ceUb7hhCOSnUxtHv8UNCnQ1acqyOXI/Uj4vQU56t8hxbL3IBC9HEmT/E59/gz9WWEx6W9wAsg4FWxmz54TFEJbM9MolgCvM43I68j+siIy0lh+BXB/mcz79YM6nCcKe88c41BmdtQ8LEuhm+t7PaHY+W1gs5uRfrjrompsDR3jA8U5f1ARk4IfNzf57hUSj3Kf07CUK8m1laCcphD1JUVKgbaRAPJ8dWODPyCmPgv7vV6D/20OeaQH2cwaYlFo6bj4oSTbaEx5CPUnhbsXkBrq/Ck3hQlaPiMcxyyMlITwWLEUTspJpaBrK2Bgug462EBhVFP4nRaH2pJ0BrgSZXjY9kLnamG4YRhfwa75rKfv5PPg+yDEuDzmP4e/dBf48RHJS/f+GHCss9PU6lHEHOAF8jlG2703ZphWEzThH0HW53V9qrHI+uVzuQ99OeMCwuLF9iUWRyLjITshqL8oeAP4oCJm+BT8XbuNPoASejBZWBPcHH7XZp2A/uBlkIGD6WUYbMb8zwXTKQUE97Mwp+g24IeqekU856X0xednbdVR7kchHoTbq387Q1+fBiaRACX88bKvtIEX5DpS5WRQQcuX01rb0U5MbZmakr0eX6ntfB1NEociY42/3S+Yoq/ygTyjm7kSw1STFUVhkm2S1GXJSQI/3Rf4Dr1Oc5caQaU+4zwf0DSWZfwA8VMjMeysE3YsngF9Hv2bY2D5KfEHOTM0kV0WA0w9t+zNIOem4+U0TvGQRnShQhKkkyOmR1N9V8aHIXpR4I5DnhSvBcTL3AceBLr2lva73q3O9Hk9nDV0OHVy3+4jbHVHp+Dv9PIyLjCIBUY5MysMaTIYTOuYsL2sTyCInbQDDTc5NcaRAHc0hz66CNDfM/iFP5+fNL9d7bNpQ3gHHo0+Ph7B9XU3AkZFj+Sm0bT6DjIXN/icFiDuBRBq4N4d1m8+2UBpESirfUfivNLKjA8IfJ/yDgrbe8g26pfq8XsLr9XxteL3VhSaHjazr98jIQnf/8vYz+yQtsnL4DAP3EoFlZXkMC26qjZsvBYwYK/wemJeCA+UifQ7y/FSQpwr66GZzHOmdr5WA93RfGG3XRp+PdpGy1QP8Ap2uWCyOjq3plGc82neaWU7KVU337vT2+BaLxR01lWICNm8I+z0yi7JLcmSGSh5HgS4RAS9Adxos3vZOyP2kyXePuz0iMrIbAPeIDQuMUo89bm7aeR1XjsbCiw/RRkBWBeWBpaNnsrLP2Hns6SAArokPnW7R8ScF2Siax6/Q0fxCsm7RnxsUbhdlonoQ3B1cNoBfJa94Cjv5lmzL3QQrOnWg43/yPA8kOT3diVKM5k8g5zk9kx0MuhepVN837jQ8noFew/sv4TWuNVxGhO4+ZcgLfeiky+3e5na73zv+zrMheaOJTYMytVDuXTrSu8m0gMlTmaztZdgMDuihchQAu03QJWWlsKmwCFNpSTetv3NWHfVsbhNtbJSikDLq3G0qimTplzD/Cr3aoKc9pEBQGMTPQ2GhmUoiKT2NhT8NIclZ2lxTJA+lONwt/DmfF0DG3XrGOoP+T4ABAButteu6IYEOAAAAAElFTkSuQmCC"> <h1>Trello</h1> <h2>Organize anything, together</h2> </header> ');
this.b(this.rp("landing_content",c,b,""));this.b(' <section id="landingWhatIsTrello" class="landing-section clearfix"> <div class="width-wrapper"> <h1>Trello is a productivity tool unlike any other.</h1> <ul> <li id="whatIsTrello1"> <div class="content clearfix"> <img src="https://d2k1ftgv7pobq7.cloudfront.net/images/landing/efc043d0d7d8b238848951324e866c8b/what-is-trello1.png" alt="A whiteboard with superpowers" style="height: 127px; width: 250px"/> <h2>Intuitive</h2> <p>Get organized as fast as you can think. The easy-to-use interface takes no time to learn, and every action is instantaneous, so there\u2019s nothing standing between you and your sweet productive flow.</p> </div> </li> <li id="whatIsTrello2"> <div class="content clearfix"> <img src="https://d2k1ftgv7pobq7.cloudfront.net/images/landing/c897d8c6b5e7eefb6d058a04b4d8d739/what-is-trello3.png" alt="Power tools included" style="height: 127px; width: 250px" /> <h2>Collaborative</h2> <p>Trello is great alone, but even better with others. Get the whole group onboard in seconds. See their updates in real time. Never ask \u201cWho\u2019s doing what?\u201d again.</p> </div> </li> <li id="whatIsTrello3"> <div class="content clearfix last"> <img src="https://d2k1ftgv7pobq7.cloudfront.net/images/landing/0c91be28312f6e79a7eecac6d182d399/what-is-trello2.png" alt="Everyone on the same page" style="height: 130px; width: 250px"/> <h2>Adapts to You</h2> <p>More than just a to-do list or a task manager, Trello is anything you want it to be\u2014a lesson planner, a community bulletin, a repository for inspiration. We support the way you think, not the other way around.</p> </div> </li> </ul> <div id="landingSecondSignup"> <a class="button landing-signup-button" href="/signup"> Get Trello </a> <a class="more-link js-landing-learn-more" href="/tour">Or Learn More &raquo;</a> </div> </div> </section> <div id="landingMoreInfo" class="landing-section clearfix"> <div class="width-wrapper"> <div id="landingMoreInfoDevices"> <div class="device laptop"> <a href="/signup" class="js-landing-app-web"><img src="https://d2k1ftgv7pobq7.cloudfront.net/images/landing/2c5e33d2194e6ad7d10707f4c45676b0/device-laptop.png" title="Trello on the web" /></a> </div> <div class="device iphone"> <a href="https://itunes.apple.com/us/app/trello/id461504587" class="js-landing-app-iphone" target="_blank"><img src="https://d2k1ftgv7pobq7.cloudfront.net/images/landing/13933c191551ff12d02b07404770065c/device-iphone.png" title="Trello for iPhone" /></a> </div> <div class="device android"> <a href="https://play.google.com/store/apps/details?id=com.trello" class="js-landing-app-android" target="_blank"><img src="https://d2k1ftgv7pobq7.cloudfront.net/images/landing/a20022e4478ad21ea8769cebc08489c8/device-android.png" title="Trello for Android" /></a> </div> <div class="device ipad"> <a href="https://itunes.apple.com/us/app/trello/id461504587" class="js-landing-app-ipad" target="_blank"><img src="https://d2k1ftgv7pobq7.cloudfront.net/images/landing/1e61ca6f5f2d9b5b08fecbcd37d9f3d1/device-ipad.png" title="Trello for iPad" /></a> </div> <div class="device windows8"> <a href="http://apps.microsoft.com/windows/en-us/app/trello/bd4fa6c1-0994-4caa-b0e1-04eec135667b" class="js-landing-app-win8" target="_blank"><img src="https://d2k1ftgv7pobq7.cloudfront.net/images/landing/a9e2a4a95a82b29d1068e4ac258359ce/device-windows8.png" title="Trello for Windows8" /></a> </div> <p><strong>Trello is Everywhere!</strong>&mdash;on <a href="https://play.google.com/store/apps/details?id=com.trello" class="js-landing-app-android js-text" target="_blank">Android</a>, <a href="https://itunes.apple.com/us/app/trello/id461504587" class="js-landing-app-iphone js-text" target="_blank">iPhone</a>, <a href="https://itunes.apple.com/us/app/trello/id461504587" class="js-landing-app-ipad js-text" target="_blank">iPad</a>, <a href="http://apps.microsoft.com/windows/en-us/app/trello/bd4fa6c1-0994-4caa-b0e1-04eec135667b" class="js-landing-app-win8 js-text" target="_blank">Windows 8 Tablet</a>, and your <a href="/signup" class="js-landing-app-web js-text">web browser</a>. </p> </div> </div> </div> <section id="landingLogos" class="landing-section"> <div class="width-wrapper"> <p>Trello is loved by people at <span class="linebreak">organizations both big and small!</span></p> <img src="https://d2k1ftgv7pobq7.cloudfront.net/images/landing/companies/eac418eb73d1edbb3af82264abe0c426/chartbeat.png" alt="ChartBeat" class="optional" style="height: 90px; width: 185px;"/> <img src="https://d2k1ftgv7pobq7.cloudfront.net/images/landing/companies/473772a303950b197520b60e5b074004/freshdirect.png" alt="Fresh Direct" style="height: 90px; width: 180px;"/> <img src="https://d2k1ftgv7pobq7.cloudfront.net/images/landing/companies/613a189b52b2c3cac9313a845eae9be6/lore.png" alt="Lore" style="height: 90px; width: 98px;" /> <img src="https://d2k1ftgv7pobq7.cloudfront.net/images/landing/companies/7459c132a0704d9444b87ae47d437c4e/tumblr.png" alt="Tumblr" style="height: 90px; width: 171px;" /> <img src="https://d2k1ftgv7pobq7.cloudfront.net/images/landing/companies/a726b4396ee2948addb5add3954a2cb6/scoutbooks.png" alt="Scout Books" style="height: 90px; width: 128px;" /> <img src="https://d2k1ftgv7pobq7.cloudfront.net/images/landing/companies/ff300ddb319fa568d50d73f4c2623635/anytimefitness.png" alt="Anytime Fitness" class="optional" style="height: 90px; width: 180px;" /> <img src="https://d2k1ftgv7pobq7.cloudfront.net/images/landing/companies/20897210ab004e9beda004d3f95b1d9d/turntable.png" alt="Turntable" style="height: 90px; width: 180px;" /> <img src="https://d2k1ftgv7pobq7.cloudfront.net/images/landing/companies/a7c0b6b75e458082bde7fbad79f556ab/tripadvisor.png" alt="Trip Advisor" class="optional" style="height: 81px; width: 146px;" /> <img src="https://d2k1ftgv7pobq7.cloudfront.net/images/landing/companies/36f37904d63cdcedc1c7fede508c463c/adobe.png" alt="Adobe" class="optional" style="height: 81px; width: 177px;" /> <img src="https://d2k1ftgv7pobq7.cloudfront.net/images/landing/companies/1dfafe8c448f281cba6b522c597e8c5f/theverge.png" alt="The Verge" style="height: 81px; width: 179px;" /> <img src="https://d2k1ftgv7pobq7.cloudfront.net/images/landing/companies/dd676994b9faf5c1da391eb369bf43a7/khanacademy.png" alt="Khan Academy" style="height: 81px; width: 231px;" /> <img src="https://d2k1ftgv7pobq7.cloudfront.net/images/landing/companies/3e0e6e2a8e4cfc94b9ebe873f99f6edc/newyorktimes.png" alt="New York Times" style="height: 81px; width: 209px;" /> <img src="https://d2k1ftgv7pobq7.cloudfront.net/images/landing/companies/d4ba0c01e92031accc3315b48252a215/53.png" alt="53" class="optional" style="height: 90px; width: 98px;" /> </div> </section> <div id="landingMisc" class="landing-section clearfix"> <div class="width-wrapper"> <section id="landingTwitterQuotes"> <blockquote>I love how @trello balances both free-form stuff as well as structured stuff. Seriously powerful</blockquote> <a href="" class="tweet-url" target="_blank"> <img src="https://d2k1ftgv7pobq7.cloudfront.net/images/landing/twitter-avatars/63d666ce159b3035aceaffa9e118137f/mitchellhislop.jpg" alt="twitter user avatar" /> <p class="quote-attribution">mitchellhislop</p> <p class="time">3 days ago</p> </a> </section> <section id="landingStayInTouch"> <h1>Stay Up-to-Date</h1> <p>Stay up-to-date with the latest Trello enhancements, bug-fixes, and new features.</p> <a href="https://trello.com/board/trello-development/4d5ea62fd76aa1136000000c" class="button trello-dev-board-button" target="_blank"><span class="icon"></span> Trello Dev Board</a> <a href="http://blog.trello.com" class="button trello-blog-button" target="_blank"><span class="icon"></span> Trello Blog</a> </section> </div> </div> ');
this.b(this.rp("promo_footer",c,b,""));this.b(" </div> ");return this.fl()},"promo/landing_boards":function(c,b,d){this.b(d||"");this.b(' <section id="landingFirstSignUpButton" class="landing-section"> <div class="width-wrapper"> <a class="button primary landing-signup-button js-first-sign-up-landing-boards" href="/signup"> Sign Up&mdash;It\u2019s Free! </a> </div> </section> <section id="landingIntro" class="landing-section"> <div class="width-wrapper"> <h1>Meet Trello</h1> <nav> <a href="" id="slideshowPrev" class="slideshow-arrow"><span class="icon">previous</span></a> <a href="" id="slideshowNext" class="slideshow-arrow"><span class="icon">next</span></a> <ul id="slideshowNav"> </ul> </nav> <div id="landingSlidesWrapper"> <div class="side-fade-left"></div> <div class="side-fade-right"></div> <ul id="landingFeaturedUsers"> <li class="landing-featured-user start"> <div class="landing-featured-user-quote-wrapper clearfix"> <div class="landing-featured-user-avatar"> <img src="https://d2k1ftgv7pobq7.cloudfront.net/images/landing/featured-users/8620bf0e20d639181f48b4d76fdb7fb4/jessica-s.png" alt="Jessica S." /> </div> <div class="landing-featured-user-quote"> <blockquote> &ldquo;Trello helps me remember ideas, collect needed supplies and keep an eye on the big picture. Now when I go to my studio, I have a clear idea of what needs to get done that day.&rdquo; </blockquote> <p class="quote-attribution"> Jessica S. <span class="quote-person-title">artist</span> </p> </div> </div> <div class="landing-featured-user-board"> <a class="show-board-button" href=""><div class="button"><span class="icon"></span>Show Board</div></a> <a class="hide-board-button" href=""><div class="button"><span class="icon"></span>Hide Board</div></a> <img src="https://d2k1ftgv7pobq7.cloudfront.net/images/landing/boards/3824ba394640e2078478f64499c37368/jessica-s2.png" alt="Jessica\u2019s Board" /> </div> <div class="landing-board-fade"></div> </li> <li class="landing-featured-user"> <div class="landing-featured-user-quote-wrapper clearfix"> <div class="landing-featured-user-avatar"> <img src="https://d2k1ftgv7pobq7.cloudfront.net/images/landing/featured-users/1152f9c162c218ba495c2e8ce676bf14/jason-g.png" alt="Jason G." /> </div> <div class="landing-featured-user-quote"> <blockquote> &ldquo;We have no time for overhead, but Trello lets us track an enormous amount of detail with ease. It adapts to your process, and then stays out of your way.&rdquo; </blockquote> <p class="quote-attribution"> Jason G. <span class="quote-person-title">independent filmmaker</span> </p> </div> </div> <div class="landing-featured-user-board"> <a class="show-board-button" href=""><div class="button"><span class="icon"></span>Show Board</div></a> <a class="hide-board-button" href=""><div class="button"><span class="icon"></span>Hide Board</div></a> <img src="https://d2k1ftgv7pobq7.cloudfront.net/images/landing/boards/a50a4dfcc9c4bf31fd783822347c49c4/jason-g.png" alt="Jason\u2019s Board" /> </div> <div class="landing-board-fade"></div> </li> <li class="landing-featured-user"> <div class="landing-featured-user-quote-wrapper clearfix"> <div class="landing-featured-user-avatar"> <img src="https://d2k1ftgv7pobq7.cloudfront.net/images/landing/featured-users/f9b04e4f890875b0fbac08997697d8bc/kristin-b.png" alt="Kristin B." /> </div> <div class="landing-featured-user-quote"> <blockquote> &ldquo;Trello was essential for tracking all the to-dos, as well as hopes and dreams, for my student projects. It kept me sane throughout the thesis process. I\u2019m addicted!&rdquo; </blockquote> <p class="quote-attribution"> Kristin B. <span class="quote-person-title">student, MFA in Interaction Design</span> </p> </div> </div> <div class="landing-featured-user-board"> <a class="show-board-button" href=""><div class="button"><span class="icon"></span>Show Board</div></a> <a class="hide-board-button" href=""><div class="button"><span class="icon"></span>Hide Board</div></a> <img src="https://d2k1ftgv7pobq7.cloudfront.net/images/landing/boards/ae2a22a2518b84ca6bb7f501481d0f00/kristin-b.png" alt="Kristin\u2019s Board" /> </div> <div class="landing-board-fade"></div> </li> <li class="landing-featured-user"> <div class="landing-featured-user-quote-wrapper clearfix"> <div class="landing-featured-user-avatar"> <img src="https://d2k1ftgv7pobq7.cloudfront.net/images/landing/featured-users/8c19e693317e99832960d9cb7c47b1e7/marnix-k.png" alt="Marnix K." /> </div> <div class="landing-featured-user-quote"> <blockquote> &ldquo;Our band got rid of all our confusing email traffic using Trello. Now everyone has access to the right information at all times, and the mobile version is handy in urgent situations.&rdquo; </blockquote> <p class="quote-attribution"> Marnix K. <span class="quote-person-title">bassist for <a href="http://www.andereska.nl" target="_blank">Andere Koek!</a></span> </p> </div> </div> <div class="landing-featured-user-board"> <a class="show-board-button" href=""><div class="button"><span class="icon"></span>Show Board</div></a> <a class="hide-board-button" href=""><div class="button"><span class="icon"></span>Hide Board</div></a> <img src="https://d2k1ftgv7pobq7.cloudfront.net/images/landing/boards/9f07db0afb707ff88e8162e04d060b29/marnix-k.png" alt="Marnixi\u2019s Board" /> </div> <div class="landing-board-fade"></div> </li> <li class="landing-featured-user"> <div class="landing-featured-user-quote-wrapper clearfix"> <div class="landing-featured-user-avatar"> <img src="https://d2k1ftgv7pobq7.cloudfront.net/images/landing/featured-users/7a5ad5028ca83879f955310cff7085e0/charlie-s.png" alt="Charlie S." /> </div> <div class="landing-featured-user-quote"> <blockquote> &ldquo;I juggle many different projects and deadlines constantly, and Trello is ideal for keeping track of it all. The interface is streamlined and simple&mdash;the very definition of intuitive.&rdquo; </blockquote> <p class="quote-attribution"> Charlie S. <span class="quote-person-title">writer and lyricist</span> </p> </div> </div> <div class="landing-featured-user-board"> <a class="show-board-button" href=""><div class="button"><span class="icon"></span>Show Board</div></a> <a class="hide-board-button" href=""><div class="button"><span class="icon"></span>Hide Board</div></a> <img src="https://d2k1ftgv7pobq7.cloudfront.net/images/landing/boards/c912f0b427dbf320b5fe61d5f6542132/charlie-s.png" alt="Charlie\u2019s Board" /> </div> <div class="landing-board-fade"></div> </li> </ul> </div> </div> </section> ');
return this.fl()},"promo/landing_video":function(c,b,d){this.b(d||"");this.b(' <section id="landingFirstSignUpButton" class="landing-section"> <div class="width-wrapper"> <a class="button primary landing-signup-button js-first-sign-up-landing-video" href="/signup"> Sign Up&mdash;It\u2019s Free! </a> </div> </section> <section id="landingIntroVideo" class="landing-section clearfix"> <div class="width-wrapper"> <p class="intro"> Trello is the fastest, easiest way to organize <em>anything</em>, from your day-to-day work, to a favorite side project, to your greatest life plans. </p> <div class="video-container"> <a href="https://fast.wistia.net/embed/iframe/zfss1tgtwl?autoPlay=true&controlsVisibleOnLoad=true&playerColor=006595&popover=true&version=v1&videoHeight=540&videoWidth=960" class="wistia-popover[height=540,playerColor=006595,width=960]"><img src="https://wistia.sslcs.cdngc.net/deliveries/1bf7c205b275b5a7c6f313b2fbbdee818cc0b900.jpg?image_play_button=true&image_play_button_color=006595e0&image_crop_resized=480x270" alt="" /></a> <script charset="ISO-8859-1" src="https://fast.wistia.com/static/popover-v1.js">\x3c/script> <p>Watch our new mini movie, featuring the Trello iPad app.</p> </div> <h1>Meet Trello</h1> </div> </section> ');
return this.fl()},"promo/tour":function(c,b,d){this.b(d||"");this.b(' <script> $.getScript(\'https://use.typekit.com/wtv2ioe.js\', function(){ try{Typekit.load();}catch(e){}; }); \x3c/script> <div class="promo-wrapper"> <section id="tourIntro" class="tour-section"> <div class="width-wrapper"> <div class="height-wrapper"> <h1>Instant <span class="linebreak">clarity on </span> <span class="linebreak">any project</span></h1> <p class="intro">Infinitely flexible. Incredibly easy to use. Trello keeps track of everything, from the big picture to the minute details.</p> </div> <img src="https://d2k1ftgv7pobq7.cloudfront.net/images/landing/tour/c7ed38133cc5d1b31e09f9da29b6a536/example-board.png" alt="Example Trello board: Kitchen Remodeling" id="tourExampleBoard" /> <img src="https://d2k1ftgv7pobq7.cloudfront.net/images/landing/tour/2b5d371c67ed757fe6f74ccca53a9f95/example-board-wide.png" alt="Example Trello board: Kitchen Remodeling" id="tourExampleBoardWide" /> </div> <div class="tour-details clearfix"> <ul class="width-wrapper"> <li class="first"> <div id="tourIntroExampleCards"> <img class="card1" src="https://d2k1ftgv7pobq7.cloudfront.net/images/landing/tour/4c143fb6aa7908d0761dd44b34d1cb50/example-card1.png" alt="Trello exanple card 1" /> <img class="card2" src="https://d2k1ftgv7pobq7.cloudfront.net/images/landing/tour/66407a83e01428b3700024d786437121/example-card2.png" alt="Trello exanple card 2" /> <img class="card3" src="https://d2k1ftgv7pobq7.cloudfront.net/images/landing/tour/cb1fa54f296500d3cd3cc673758e8001/example-card3.png" alt="Trello exanple card 3" /> <img class="card4" src="https://d2k1ftgv7pobq7.cloudfront.net/images/landing/tour/b4379730fe54a13d7ee1aed972c0f3e9/example-card4.png" alt="Trello exanple card 4" /> </div> <img class="pic" src="https://d2k1ftgv7pobq7.cloudfront.net/images/landing/tour/56a90ee6536eef163642b471b88808d4/example-cards.png" alt="Trello example cards" /> <h2>It\u2019s all in the cards</h2> <p>Use cards to jot down nuggets of information, from everyday to-dos to fleeting strokes of genius. And don\u2019t worry about running out\u2014we have an unlimited supply.</p> </li> <li class="second"> <img class="pic" src="https://d2k1ftgv7pobq7.cloudfront.net/images/landing/tour/ced9204d1b2147d08fd9387621657204/mini-board.png" alt="mini Trello board" /> <h2>Neatly organized</h2> <p>Put your cards in lists to track progress, categorize things, or just make sense out of the chaos of life. Lists are fully customizable.</p> </li> </ul> </div> </section> <section id="tourCards" class="tour-section"> <div class="width-wrapper card-pics"> <h1>Card Tricks</h1> <p class="intro">One little card, lots of cool features</p> <div id="tourCardFront"> <div class="card-pic"> <img src="https://d2k1ftgv7pobq7.cloudfront.net/images/landing/tour/0c074e98f71f65d5ed44e4c43ae6272e/card-front.png" alt="Trello card front" /> </div> <div class="label"> <span class="arrow"></span> <h2>The Front</h2> <p>Get a quick overview of all the information that\u2019s on the card.</p> </div> </div> <div id="tourCardBack"> <div class="card-pic"> <img src="https://d2k1ftgv7pobq7.cloudfront.net/images/landing/tour/1fa5e17a92c9c9c4d2d5c4d917f71779/card-back.png" alt="Trello card back" /> </div> <div class="label"> <span class="arrow"></span> <h2>The Back</h2> <p>Add all kinds of information: due dates, checklists, attachments, comments, and more.</p> </div> </div> </div> <div class="tour-features-wrapper"> <ul class="tour-features width-wrapper clearfix"> <li> <div class="pic"><img src="https://d2k1ftgv7pobq7.cloudfront.net/images/landing/tour/8560c6e6acd76ac48ade2028a53bf5f3/feature-screenshot_01.png" alt="checklist screenshot" /></div> <h2>Don\u2019t forget a thing</h2> <p>Add a checklist to keep on top of all those little to-dos. There\u2019s also a nice, big progress meter, because who doesn\u2019t love a nice, big progress meter?</p> </li> <li> <div class="pic"><img src="https://d2k1ftgv7pobq7.cloudfront.net/images/landing/tour/9e949117d4da1b7a65a37726e1f704db/feature-screenshot_02.png" alt="attachments screenshot" /></div> <h2>Your files, right where you need them</h2> <p>Got a relevant file, image, or document? Attach it right to the card, and you\u2019ll never have to go scrambling through your inbox looking for it later.</p> </li> <li> <div class="pic"><img src="https://d2k1ftgv7pobq7.cloudfront.net/images/landing/tour/dadae924639fddf9d2ef6cf0d105818f/feature-screenshot_03.png" alt="card covers screenshot" /></div> <h2>Bring your board to life</h2> <p>Attach photos, drawings, sketches, and mockups to quickly illustrate ideas at a glance.</p> </li> <li> <div class="pic"><img src="https://d2k1ftgv7pobq7.cloudfront.net/images/landing/tour/bc292d99b99ebb2cb299b373a494f6ec/feature-screenshot_04.png" alt="labels screenshot" /></div> <h2>Find cards easily</h2> <p>Customize labels for your cards, and use filters to only show what you want. You can also filter by keywords and by person (if you\u2019re on a team).</p> </li> <li> <div class="pic"><img src="https://d2k1ftgv7pobq7.cloudfront.net/images/landing/tour/314ee5c46b236c3fa5574e053b3713ab/feature-screenshot_05.png" alt="deadlines screenshot" /></div> <h2>Never miss a deadline</h2> <p>Attach a date and it will appear on the front of the card. When that date is approaching, it will turn yellow as a gentle reminder.</p> </li> <li> <div class="pic"><img src="https://d2k1ftgv7pobq7.cloudfront.net/images/landing/tour/e7690a3770d9c548d55e307ba5281c24/feature-screenshot_06.png" alt="activity screenshot" /></div> <h2>See into the past</h2> <p>Trello keeps a record of everything that\u2019s happened on the card: comments, changes, additions. You\u2019ll never wonder \u201cHow did that happen?\u201d again.</p> </li> </ul> </div> </section> <section id="tourWorkingTogether" class="tour-section"> <div class="width-wrapper"> <h1>Working together</h1> <p class="intro">Team projects are where Trello really shines. Improve communication, eliminate email traffic, and get everyone on the same page\u2014fast. And it\u2019s so easy to learn you don\u2019t even need a <a href="http://www.youtube.com/watch?v=DP3MFBzMH2o" target="_blank">training montage</a>.</p> <img src="https://d2k1ftgv7pobq7.cloudfront.net/images/landing/tour/a2779d2398b2fa6c37de63748176f33c/example-board-team.png" id="tourExampleBoardTeam" alt="Trello board example - collaborative board" /> </div> <div class="tour-features-wrapper"> <ul class="tour-features width-wrapper clearfix"> <li> <div class="pic"><img src="https://d2k1ftgv7pobq7.cloudfront.net/images/landing/tour/74a852efbde6d3aab147c996114302fc/feature-screenshot_07.png" alt="board members screenshot" /></div> <h2>Get everyone onboard</h2> <p>Invite as many people as you want to a board. Board members can all add cards, make changes, upload attachments, and more.</p> </li> <li> <div class="pic"><img src="https://d2k1ftgv7pobq7.cloudfront.net/images/landing/tour/4bc53d5ac6760400574e4b9004353b8c/feature-screenshot_08.png" alt="real-time collaboration screenshot" /></div> <h2>Collaborate in real-time</h2> <p>Changes made by others appear instantaneously on your screen. You never have to wait for a page to reload to see the latest.</p> </li> <li> <div class="pic"><img src="https://d2k1ftgv7pobq7.cloudfront.net/images/landing/tour/d52b9502e2e881220f58f4b1b14a47e9/feature-screenshot_09.png" alt="notifications screenshot" /></div> <h2>Stay in the loop</h2> <p>Email notifications and an activity log keep you informed of the latest changes. You can also subscribe to specific cards to get timely information on what you care about the most.</p> </li> <li> <div class="pic"><img src="https://d2k1ftgv7pobq7.cloudfront.net/images/landing/tour/913c81092ffa98b0ffd4d7f130aa42b3/feature-screenshot_10.png" alt="assining cards screenshot" /></div> <h2>Assign tasks</h2> <p>Assign cards to board members, and everyone will be able to see what everyone else is working on. The assigned folks also get handy notifications sent to them.</p> </li> <li> <div class="pic"><img src="https://d2k1ftgv7pobq7.cloudfront.net/images/landing/tour/222d36956c8be4501cf359af8f50bd1b/feature-screenshot_11.png" alt="voting screenshot" /></div> <h2>Gather opinions</h2> <p>Board members can vote on cards, so you know what everyone\u2019s priorities are. Gain insight into what the team thinks and make informed decisions.</p> </li> <li> <div class="pic"><img src="https://d2k1ftgv7pobq7.cloudfront.net/images/landing/tour/d3b99d125949f20cf87c9442114728f9/feature-screenshot_12.png" alt="organizations screenshot" /></div> <h2>Everything in one place</h2> <p>Create a Trello organization to collect all your people and boards together in one place.</p> </li> </ul> </div> </section> <section id="tourMoreInfo" class="tour-section"> <h1>Power, security &amp; speed</h1> <ul class="width-wrapper tour-features"> <li> <div class="pic"><img src="https://d2k1ftgv7pobq7.cloudfront.net/images/landing/tour/131ac1b874c53e6723633b4393a14a8e/feature-icon_01.png" alt="dino monster attack! rawr!" /></div> <h2>Disaster-proof</h2> <p>If you get rid of a board, card, or list by accident, you can always get it back. Plus we back up all your information, so it\u2019s safe even in a Godzilla attack.</p> </li> <li> <div class="pic"><img src="https://d2k1ftgv7pobq7.cloudfront.net/images/landing/tour/ae8021a3262238ac30c6eeaf860cedca/feature-icon_02.png" alt="a padlock" /></div> <h2>Your data is private and secure</h2> <p>You have full control over who sees your boards. Plus all data is sent over a SSL/HTTPS connection, the same technology used by banks.</p> </li> <li> <div class="pic"><img src="https://d2k1ftgv7pobq7.cloudfront.net/images/landing/tour/7b643f884843ef314a8e5aa73dc29eb9/feature-icon_03.png" alt="multiple screen sizes" /></div> <h2>Works at any screen size</h2> <p>Trello is designed to automatically scale to fit any screen size, from the tiniest smartphone to giant multi-panel wall displays.</p> </li> <li> <div class="pic"><img src="https://d2k1ftgv7pobq7.cloudfront.net/images/landing/tour/c11c1ca64d5b67395da45c029304bb09/feature-icon_04.png" alt="magnifying glass" /></div> <h2>Fast search</h2> <p>Whether it\u2019s a board, card, or Trello member, Trello\u2019s powerful search helps you find what\u2019s needed, fast.</p> </li> <li> <div class="pic"><img src="https://d2k1ftgv7pobq7.cloudfront.net/images/landing/tour/a880a960e3591df4ec0df3b15aba4fec/feature-icon_05.png" alt="Apple and Android logos" /></div> <h2>Take it to-go</h2> <p>Get Trello for <a href="http://itunes.apple.com/us/app/trello/id461504587?mt=8" target="_blank">iPhone</a> and <a href="https://play.google.com/store/apps/details?id=com.trello" target="_blank">Android</a>, and access your Boards on the go.</p> </li> <li> <div class="pic"><img src="https://d2k1ftgv7pobq7.cloudfront.net/images/landing/tour/11b2d65ca6e3a3bb38ee170bf06765f2/feature-icon_06.png" alt="a wrench" /></div> <h2>Developer API</h2> <p>If you love to play with code as much as we do, there\u2019s an API for you. Create your own apps, plugins and extensions.</p> </li> </ul> </section> <section id="tourPricing" class="tour-section"> <div class="width-wrapper"> <h1>And it\u2019s all free</h1> <p class="intro"><strong>Yup, Trello is free, now and forever.</strong> That means we\u2019ll never take away everything you love and put it behind a pay wall. So feel free to fall in love\u2014it\u2019s here to stay. If only more of life were like that!</p> </div> </section> ');
this.s(this.f("__loggedIn",c,b,1),c,b,1,0,0,"")||this.b(' <section id="tourSignup" class="tour-section"> <div class="width-wrapper clearfix"> <div id="tourSignUpButton"> <a class="button primary landing-signup-button" href="/signup"> Sign Up </a> <p>It\u2019s free and takes just a few seconds.</p> </div> </div> </section> ');this.b(" ");this.b(this.rp("promo_footer",c,b,""));this.b(" </div> ");return this.fl()},promo_footer:function(c,b,d){this.b(d||"");this.b('<footer id="promoFooter" class="landing-section"> <div class="width-wrapper promo-wrapper"> <nav> <a href="/tour">Tour</a> <a href="http://blog.trello.com/">Blog</a> <a href="/gold">Gold</a> <a href="/business-class">Business Class</a> <a href="/help">Help</a> <a class="js-real-link" href="/legal">Terms of Service</a> <a class="js-real-link" href="/privacy">Privacy</a> <a href="https://twitter.com/trello" target="_blank"><span class="icon-sm icon-twitter"/></a> <a href="https://www.facebook.com/TrelloApp" target="_blank"><span class="icon-sm icon-facebook"/></a> </nav> <div class="landing-badges"> <p> Lovingly crafted in New York City by <br /> <a href="http://www.fogcreek.com/?fccmp=trello_landing" target="_blank"><img src="https://d2k1ftgv7pobq7.cloudfront.net/images/landing/f7aa393018a5bd99b1cbddfa20238dc1/fog-creek-logo.png" alt="Fog Creek logo" /></a> </p> </div> <p class="copyright"> &copy; Copyright 2000-2014 Fog Creek Software, Inc. All rights reserved. </p> </div> </footer> ');
return this.fl()}};(function(c,b){"object"===typeof module&&"object"===typeof module.exports?module.exports=c.document?b(c,!0):function(d){if(!d.document)throw Error("jQuery requires a window with a document");return b(d)}:b(c)})("undefined"!==typeof window?window:this,function(c,b){function d(b){var d=b.length,f=t.type(b);return"function"===f||t.isWindow(b)?!1:1===b.nodeType&&d?!0:"array"===f||0===d||"number"===typeof d&&0<d&&d-1 in b}function f(b,d,f){if(t.isFunction(d))return t.grep(b,function(b,
e){return!!d.call(b,e,b)!==f});if(d.nodeType)return t.grep(b,function(b){return b===d!==f});if("string"===typeof d){if(ma.test(d))return t.filter(d,b,f);d=t.filter(d,b)}return t.grep(b,function(b){return 0<=Sb.call(d,b)!==f})}function g(b,d){for(;(b=b[d])&&1!==b.nodeType;);return b}function e(b){var d=ta[b]={};t.each(b.match(ea)||[],function(b,f){d[f]=!0});return d}function h(){O.removeEventListener("DOMContentLoaded",h,!1);c.removeEventListener("load",h,!1);t.ready()}function l(){Object.defineProperty(this.cache=
{},0,{get:function(){return{}}});this.expando=t.expando+Math.random()}function q(b,d,f){if(void 0===f&&1===b.nodeType)if(f="data-"+d.replace(za,"-$1").toLowerCase(),f=b.getAttribute(f),"string"===typeof f){try{f="true"===f?!0:"false"===f?!1:"null"===f?null:+f+""===f?+f:va.test(f)?t.parseJSON(f):f}catch(e){}ha.set(b,d,f)}else f=void 0;return f}function v(){return!0}function x(){return!1}function k(){try{return O.activeElement}catch(b){}}function m(b,d){return t.nodeName(b,"table")&&t.nodeName(11!==
d.nodeType?d:d.firstChild,"tr")?b.getElementsByTagName("tbody")[0]||b.appendChild(b.ownerDocument.createElement("tbody")):b}function D(b){b.type=(null!==b.getAttribute("type"))+"/"+b.type;return b}function L(b){var d=Sa.exec(b.type);d?b.type=d[1]:b.removeAttribute("type");return b}function C(b,d){for(var f=0,e=b.length;f<e;f++)Y.set(b[f],"globalEval",!d||Y.get(d[f],"globalEval"))}function K(b,d){var f,e,c,g;if(1===d.nodeType){if(Y.hasData(b)&&(g=Y.access(b),f=Y.set(d,g),g=g.events))for(c in delete f.handle,
f.events={},g){f=0;for(e=g[c].length;f<e;f++)t.event.add(d,c,g[c][f])}ha.hasData(b)&&(c=ha.access(b),c=t.extend({},c),ha.set(d,c))}}function N(b,d){var f=b.getElementsByTagName?b.getElementsByTagName(d||"*"):b.querySelectorAll?b.querySelectorAll(d||"*"):[];return void 0===d||d&&t.nodeName(b,d)?t.merge([b],f):f}function Q(b,d){var f=t(d.createElement(b)).appendTo(d.body),e=c.getDefaultComputedStyle?c.getDefaultComputedStyle(f[0]).display:t.css(f[0],"display");f.detach();return e}function S(b){var d=
O,f=Ua[b];if(!f){f=Q(b,d);if("none"===f||!f)Ja=(Ja||t("<iframe frameborder='0' width='0' height='0'/>")).appendTo(d.documentElement),d=Ja[0].contentDocument,d.write(),d.close(),f=Q(b,d),Ja.detach();Ua[b]=f}return f}function R(b,d,f){var e,c,g=b.style;(f=f||Na(b))&&(c=f.getPropertyValue(d)||f[d]);f&&(""===c&&!t.contains(b.ownerDocument,b)&&(c=t.style(b,d)),Qa.test(c)&&Xa.test(d)&&(b=g.width,d=g.minWidth,e=g.maxWidth,g.minWidth=g.maxWidth=g.width=c,c=f.width,g.width=b,g.minWidth=d,g.maxWidth=e));return void 0!==
c?c+"":c}function y(b,d){return{get:function(){if(b())delete this.get;else return(this.get=d).apply(this,arguments)}}}function n(b,d){if(d in b)return d;for(var f=d[0].toUpperCase()+d.slice(1),e=d,c=db.length;c--;)if(d=db[c]+f,d in b)return d;return e}function s(b,d,f){return(b=fb.exec(d))?Math.max(0,b[1]-(f||0))+(b[2]||"px"):d}function u(b,d,f,e,c){d=f===(e?"border":"content")?4:"width"===d?1:0;for(var g=0;4>d;d+=2)"margin"===f&&(g+=t.css(b,f+ua[d],!0,c)),e?("content"===f&&(g-=t.css(b,"padding"+
ua[d],!0,c)),"margin"!==f&&(g-=t.css(b,"border"+ua[d]+"Width",!0,c))):(g+=t.css(b,"padding"+ua[d],!0,c),"padding"!==f&&(g+=t.css(b,"border"+ua[d]+"Width",!0,c)));return g}function w(b,d,f){var e=!0,c="width"===d?b.offsetWidth:b.offsetHeight,g=Na(b),h="border-box"===t.css(b,"boxSizing",!1,g);if(0>=c||null==c){c=R(b,d,g);if(0>c||null==c)c=b.style[d];if(Qa.test(c))return c;e=h&&(P.boxSizingReliable()||c===b.style[d]);c=parseFloat(c)||0}return c+u(b,d,f||(h?"border":"content"),e,g)+"px"}function z(b,
d){for(var f,e,c,g=[],h=0,l=b.length;h<l;h++)if(e=b[h],e.style)if(g[h]=Y.get(e,"olddisplay"),f=e.style.display,d)!g[h]&&"none"===f&&(e.style.display=""),""===e.style.display&&xa(e)&&(g[h]=Y.access(e,"olddisplay",S(e.nodeName)));else if(!g[h]&&(c=xa(e),f&&"none"!==f||!c))Y.set(e,"olddisplay",c?f:t.css(e,"display"));for(h=0;h<l;h++)if(e=b[h],e.style&&(!d||"none"===e.style.display||""===e.style.display))e.style.display=d?g[h]||"":"none";return b}function A(b,d,f,e,c){return new A.prototype.init(b,d,
f,e,c)}function Z(){setTimeout(function(){Ka=void 0});return Ka=t.now()}function ka(b,d){var f,e=0,c={height:b};for(d=d?1:0;4>e;e+=2-d)f=ua[e],c["margin"+f]=c["padding"+f]=b;d&&(c.opacity=c.width=b);return c}function Ia(b,d,f){for(var e,c=(Ra[d]||[]).concat(Ra["*"]),g=0,h=c.length;g<h;g++)if(e=c[g].call(f,d,b))return e}function ya(b,d){var f,e,c,g,h;for(f in b)if(e=t.camelCase(f),c=d[e],g=b[f],t.isArray(g)&&(c=g[1],g=b[f]=g[0]),f!==e&&(b[e]=g,delete b[f]),(h=t.cssHooks[e])&&"expand"in h)for(f in g=
h.expand(g),delete b[e],g)f in b||(b[f]=g[f],d[f]=c);else d[e]=c}function B(b,d,f){var e,c=0,g=Ya.length,h=t.Deferred().always(function(){delete l.elem}),l=function(){if(e)return!1;for(var d=Ka||Z(),d=Math.max(0,q.startTime+q.duration-d),f=1-(d/q.duration||0),c=0,g=q.tweens.length;c<g;c++)q.tweens[c].run(f);h.notifyWith(b,[q,f,d]);if(1>f&&g)return d;h.resolveWith(b,[q]);return!1},q=h.promise({elem:b,props:t.extend({},d),opts:t.extend(!0,{specialEasing:{}},f),originalProperties:d,originalOptions:f,
startTime:Ka||Z(),duration:f.duration,tweens:[],createTween:function(d,f){var e=t.Tween(b,q.opts,d,f,q.opts.specialEasing[d]||q.opts.easing);q.tweens.push(e);return e},stop:function(d){var f=0,c=d?q.tweens.length:0;if(e)return this;for(e=!0;f<c;f++)q.tweens[f].run(1);d?h.resolveWith(b,[q,d]):h.rejectWith(b,[q,d]);return this}});f=q.props;for(ya(f,q.opts.specialEasing);c<g;c++)if(d=Ya[c].call(q,b,f,q.opts))return d;t.map(f,Ia,q);t.isFunction(q.opts.start)&&q.opts.start.call(b,q);t.fx.timer(t.extend(l,
{elem:b,anim:q,queue:q.opts.queue}));return q.progress(q.opts.progress).done(q.opts.done,q.opts.complete).fail(q.opts.fail).always(q.opts.always)}function F(b){return function(d,f){"string"!==typeof d&&(f=d,d="*");var e,c=0,g=d.toLowerCase().match(ea)||[];if(t.isFunction(f))for(;e=g[c++];)"+"===e[0]?(e=e.slice(1)||"*",(b[e]=b[e]||[]).unshift(f)):(b[e]=b[e]||[]).push(f)}}function G(b,d,f,e){function c(l){var q;g[l]=!0;t.each(b[l]||[],function(b,l){var v=l(d,f,e);if("string"===typeof v&&!h&&!g[v])return d.dataTypes.unshift(v),
c(v),!1;if(h)return!(q=v)});return q}var g={},h=b===nb;return c(d.dataTypes[0])||!g["*"]&&c("*")}function V(b,d){var f,e,c=t.ajaxSettings.flatOptions||{};for(f in d)void 0!==d[f]&&((c[f]?b:e||(e={}))[f]=d[f]);e&&t.extend(!0,b,e);return b}function ca(b,d,f,e){var c;if(t.isArray(d))t.each(d,function(d,c){f||Jb.test(b)?e(b,c):ca(b+"["+("object"===typeof c?d:"")+"]",c,f,e)});else if(!f&&"object"===t.type(d))for(c in d)ca(b+"["+c+"]",d[c],f,e);else e(b,d)}var ia=[],la=ia.slice,E=ia.concat,Za=ia.push,Sb=
ia.indexOf,H={},J=H.toString,M=H.hasOwnProperty,T="".trim,P={},O=c.document,t=function(b,d){return new t.fn.init(b,d)},aa=/^-ms-/,ba=/-([\da-z])/gi,X=function(b,d){return d.toUpperCase()};t.fn=t.prototype={jquery:"2.1.0",constructor:t,selector:"",length:0,toArray:function(){return la.call(this)},get:function(b){return null!=b?0>b?this[b+this.length]:this[b]:la.call(this)},pushStack:function(b){b=t.merge(this.constructor(),b);b.prevObject=this;b.context=this.context;return b},each:function(b,d){return t.each(this,
b,d)},map:function(b){return this.pushStack(t.map(this,function(d,f){return b.call(d,f,d)}))},slice:function(){return this.pushStack(la.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(b){var d=this.length;b=+b+(0>b?d:0);return this.pushStack(0<=b&&b<d?[this[b]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:Za,sort:ia.sort,splice:ia.splice};t.extend=t.fn.extend=function(){var b,d,f,e,c,g=arguments[0]||{},h=1,l=arguments.length,
q=!1;"boolean"===typeof g&&(q=g,g=arguments[h]||{},h++);"object"!==typeof g&&!t.isFunction(g)&&(g={});h===l&&(g=this,h--);for(;h<l;h++)if(null!=(b=arguments[h]))for(d in b)f=g[d],e=b[d],g!==e&&(q&&e&&(t.isPlainObject(e)||(c=t.isArray(e)))?(c?(c=!1,f=f&&t.isArray(f)?f:[]):f=f&&t.isPlainObject(f)?f:{},g[d]=t.extend(q,f,e)):void 0!==e&&(g[d]=e));return g};t.extend({expando:"jQuery"+("2.1.0"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(b){throw Error(b);},noop:function(){},isFunction:function(b){return"function"===
t.type(b)},isArray:Array.isArray,isWindow:function(b){return null!=b&&b===b.window},isNumeric:function(b){return 0<=b-parseFloat(b)},isPlainObject:function(b){if("object"!==t.type(b)||b.nodeType||t.isWindow(b))return!1;try{if(b.constructor&&!M.call(b.constructor.prototype,"isPrototypeOf"))return!1}catch(d){return!1}return!0},isEmptyObject:function(b){for(var d in b)return!1;return!0},type:function(b){return null==b?b+"":"object"===typeof b||"function"===typeof b?H[J.call(b)]||"object":typeof b},globalEval:function(b){var d;
d=eval;if(b=t.trim(b))1===b.indexOf("use strict")?(d=O.createElement("script"),d.text=b,O.head.appendChild(d).parentNode.removeChild(d)):d(b)},camelCase:function(b){return b.replace(aa,"ms-").replace(ba,X)},nodeName:function(b,d){return b.nodeName&&b.nodeName.toLowerCase()===d.toLowerCase()},each:function(b,f,e){var c,g=0,h=b.length;c=d(b);if(e)if(c)for(;g<h&&!(c=f.apply(b[g],e),!1===c);g++);else for(g in b){if(c=f.apply(b[g],e),!1===c)break}else if(c)for(;g<h&&!(c=f.call(b[g],g,b[g]),!1===c);g++);
else for(g in b)if(c=f.call(b[g],g,b[g]),!1===c)break;return b},trim:function(b){return null==b?"":T.call(b)},makeArray:function(b,f){var e=f||[];null!=b&&(d(Object(b))?t.merge(e,"string"===typeof b?[b]:b):Za.call(e,b));return e},inArray:function(b,d,f){return null==d?-1:Sb.call(d,b,f)},merge:function(b,d){for(var f=+d.length,e=0,c=b.length;e<f;e++)b[c++]=d[e];b.length=c;return b},grep:function(b,d,f){for(var e=[],c=0,g=b.length,h=!f;c<g;c++)f=!d(b[c],c),f!==h&&e.push(b[c]);return e},map:function(b,
f,e){var c,g=0,h=b.length,l=[];if(d(b))for(;g<h;g++)c=f(b[g],g,e),null!=c&&l.push(c);else for(g in b)c=f(b[g],g,e),null!=c&&l.push(c);return E.apply([],l)},guid:1,proxy:function(b,d){var f,e;"string"===typeof d&&(f=b[d],d=b,b=f);if(t.isFunction(b))return e=la.call(arguments,2),f=function(){return b.apply(d||this,e.concat(la.call(arguments)))},f.guid=b.guid=b.guid||t.guid++,f},now:Date.now,support:P});t.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(b,d){H["[object "+
d+"]"]=d.toLowerCase()});var W=function(b){function d(b,f,e,c){var g,h,l,q,v;(f?f.ownerDocument||f:A)!==u&&ka(f);f=f||u;e=e||[];if(!b||"string"!==typeof b)return e;if(1!==(q=f.nodeType)&&9!==q)return[];if(w&&!c){if(g=ha.exec(b))if(l=g[1])if(9===q)if((h=f.getElementById(l))&&h.parentNode){if(h.id===l)return e.push(h),e}else return e;else{if(f.ownerDocument&&(h=f.ownerDocument.getElementById(l))&&Ia(f,h)&&h.id===l)return e.push(h),e}else{if(g[2])return yb.apply(e,f.getElementsByTagName(b)),e;if((l=
g[3])&&Q.getElementsByClassName&&f.getElementsByClassName)return yb.apply(e,f.getElementsByClassName(l)),e}if(Q.qsa&&(!Ga||!Ga.test(b))){h=g=la;l=f;v=9===q&&b;if(1===q&&"object"!==f.nodeName.toLowerCase()){q=k(b);(g=f.getAttribute("id"))?h=g.replace(ja,"\\$&"):f.setAttribute("id",h);h="[id='"+h+"'] ";for(l=q.length;l--;)q[l]=h+I(q[l]);l=fa.test(b)&&C(f.parentNode)||f;v=q.join(",")}if(v)try{return yb.apply(e,l.querySelectorAll(v)),e}catch(x){}finally{g||f.removeAttribute("id")}}}var sa;a:{b=b.replace(kc,
"$1");h=k(b);if(!c&&1===h.length){g=h[0]=h[0].slice(0);if(2<g.length&&"ID"===(sa=g[0]).type&&Q.getById&&9===f.nodeType&&w&&y.relative[g[1].type]){f=(y.find.ID(sa.matches[0].replace(da,ea),f)||[])[0];if(!f){sa=e;break a}b=b.slice(g.shift().value.length)}for(q=W.needsContext.test(b)?0:g.length;q--;){sa=g[q];if(y.relative[l=sa.type])break;if(l=y.find[l])if(c=l(sa.matches[0].replace(da,ea),fa.test(g[0].type)&&C(f.parentNode)||f)){g.splice(q,1);b=c.length&&I(g);if(!b){yb.apply(e,c);sa=e;break a}break}}}V(b,
h)(c,f,!w,e,fa.test(b)&&C(f.parentNode)||f);sa=e}return sa}function f(){function b(f,e){d.push(f+" ")>y.cacheLength&&delete b[d.shift()];return b[f+" "]=e}var d=[];return b}function e(b){b[la]=!0;return b}function c(b){var d=u.createElement("div");try{return!!b(d)}catch(f){return!1}finally{d.parentNode&&d.parentNode.removeChild(d)}}function g(b,d){for(var f=b.split("|"),e=b.length;e--;)y.attrHandle[f[e]]=d}function h(b,d){var f=d&&b,e=f&&1===b.nodeType&&1===d.nodeType&&(~d.sourceIndex||Fe)-(~b.sourceIndex||
Fe);if(e)return e;if(f)for(;f=f.nextSibling;)if(f===d)return-1;return b?1:-1}function l(b){return function(d){return"input"===d.nodeName.toLowerCase()&&d.type===b}}function q(b){return function(d){var f=d.nodeName.toLowerCase();return("input"===f||"button"===f)&&d.type===b}}function v(b){return e(function(d){d=+d;return e(function(f,e){for(var c,g=b([],f.length,d),h=g.length;h--;)if(f[c=g[h]])f[c]=!(e[c]=f[c])})})}function C(b){return b&&typeof b.getElementsByTagName!==E&&b}function x(){}function k(b,
f){var e,c,g,h,l,q,v;if(l=Ee[b+" "])return f?0:l.slice(0);l=b;q=[];for(v=y.preFilter;l;){if(!e||(c=T.exec(l)))c&&(l=l.slice(c[0].length)||l),q.push(g=[]);e=!1;if(c=Di.exec(l))e=c.shift(),g.push({value:e,type:c[0].replace(kc," ")}),l=l.slice(e.length);for(h in y.filter)if((c=W[h].exec(l))&&(!v[h]||(c=v[h](c))))e=c.shift(),g.push({value:e,type:h,matches:c}),l=l.slice(e.length);if(!e)break}return f?l.length:l?d.error(b):Ee(b,q).slice(0)}function I(b){for(var d=0,f=b.length,e="";d<f;d++)e+=b[d].value;
return e}function D(b,d,f){var e=d.dir,c=f&&"parentNode"===e,g=B++;return d.first?function(d,f,g){for(;d=d[e];)if(1===d.nodeType||c)return b(d,f,g)}:function(d,f,h){var l,q,v=[ya,g];if(h)for(;d=d[e];){if((1===d.nodeType||c)&&b(d,f,h))return!0}else for(;d=d[e];)if(1===d.nodeType||c){q=d[la]||(d[la]={});if((l=q[e])&&l[0]===ya&&l[1]===g)return v[2]=l[2];q[e]=v;if(v[2]=b(d,f,h))return!0}}}function m(b){return 1<b.length?function(d,f,e){for(var c=b.length;c--;)if(!b[c](d,f,e))return!1;return!0}:b[0]}function L(b,
d,f,e,c){for(var g,h=[],l=0,q=b.length,v=null!=d;l<q;l++)if(g=b[l])if(!f||f(g,e,c))h.push(g),v&&d.push(l);return h}function U(b,f,c,g,h,l){g&&!g[la]&&(g=U(g));h&&!h[la]&&(h=U(h,l));return e(function(e,l,q,v){var C,x,k=[],sa=[],I=l.length,D;if(!(D=e)){D=f||"*";for(var m=q.nodeType?[q]:q,U=[],K=0,N=m.length;K<N;K++)d(D,m[K],U);D=U}D=b&&(e||!f)?L(D,k,b,q,v):D;m=c?h||(e?b:I||g)?[]:l:D;c&&c(D,m,q,v);if(g){C=L(m,sa);g(C,[],q,v);for(q=C.length;q--;)if(x=C[q])m[sa[q]]=!(D[sa[q]]=x)}if(e){if(h||b){if(h){C=
[];for(q=m.length;q--;)if(x=m[q])C.push(D[q]=x);h(null,m=[],C,v)}for(q=m.length;q--;)if((x=m[q])&&-1<(C=h?J.call(e,x):k[q]))e[C]=!(l[C]=x)}}else m=L(m===l?m.splice(I,m.length):m),h?h(null,l,m,v):yb.apply(l,m)})}function K(b){var d,f,e,c=b.length,g=y.relative[b[0].type];f=g||y.relative[" "];for(var h=g?1:0,l=D(function(b){return b===d},f,!0),q=D(function(b){return-1<J.call(d,b)},f,!0),v=[function(b,f,e){return!g&&(e||f!==Z)||((d=f).nodeType?l(b,f,e):q(b,f,e))}];h<c;h++)if(f=y.relative[b[h].type])v=
[D(m(v),f)];else{f=y.filter[b[h].type].apply(null,b[h].matches);if(f[la]){for(e=++h;e<c&&!y.relative[b[e].type];e++);return U(1<h&&m(v),1<h&&I(b.slice(0,h-1).concat({value:" "===b[h-2].type?"*":""})).replace(kc,"$1"),f,h<e&&K(b.slice(h,e)),e<c&&K(b=b.slice(e)),e<c&&I(b))}v.push(f)}return m(v)}function N(b,f){var c=0<f.length,g=0<b.length,h=function(e,h,l,q,v){var C,x,k,sa=0,I="0",D=e&&[],m=[],U=Z,K=e||g&&y.find.TAG("*",v),N=ya+=null==U?1:Math.random()||0.1,t=K.length;for(v&&(Z=h!==u&&h);I!==t&&null!=
(C=K[I]);I++){if(g&&C){for(x=0;k=b[x++];)if(k(C,h,l)){q.push(C);break}v&&(ya=N)}c&&((C=!k&&C)&&sa--,e&&D.push(C))}sa+=I;if(c&&I!==sa){for(x=0;k=f[x++];)k(D,m,h,l);if(e){if(0<sa)for(;I--;)!D[I]&&!m[I]&&(m[I]=Sb.call(q));m=L(m)}yb.apply(q,m);v&&(!e&&0<m.length&&1<sa+f.length)&&d.uniqueSort(q)}v&&(ya=N,Z=U);return D};return c?e(h):h}var t,Q,y,S,R,V,Z,n,s,ka,u,ca,w,Ga,ia,z,Ia,la="sizzle"+-new Date,A=b.document,ya=0,B=0,jc=f(),Ee=f(),F=f(),G=function(b,d){b===d&&(s=!0);return 0},E="undefined",Fe=-2147483648,
Za={}.hasOwnProperty,zb=[],Sb=zb.pop,H=zb.push,yb=zb.push,M=zb.slice,J=zb.indexOf||function(b){for(var d=0,f=this.length;d<f;d++)if(this[d]===b)return d;return-1},O="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w","w#"),P="\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)[\\x20\\t\\r\\n\\f]*(?:([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+O+")|)|)[\\x20\\t\\r\\n\\f]*\\]",bd=":((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+
P.replace(3,8)+")*)|.*)\\)|)",kc=/^[\x20\t\r\n\f]+|((?:^|[^\\])(?:\\.)*)[\x20\t\r\n\f]+$/g,T=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,Di=/^[\x20\t\r\n\f]*([>+~]|[\x20\t\r\n\f])[\x20\t\r\n\f]*/,Ei=/=[\x20\t\r\n\f]*([^\]'"]*?)[\x20\t\r\n\f]*\]/g,Fi=RegExp(bd),Y=RegExp("^"+O+"$"),W={ID:/^#((?:\\.|[\w-]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[\w-]|[^\x00-\xa0])+)/,TAG:RegExp("^("+"(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w","w*")+")"),ATTR:RegExp("^"+P),PSEUDO:RegExp("^"+bd),CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\([\\x20\\t\\r\\n\\f]*(even|odd|(([+-]|)(\\d*)n|)[\\x20\\t\\r\\n\\f]*(?:([+-]|)[\\x20\\t\\r\\n\\f]*(\\d+)|))[\\x20\\t\\r\\n\\f]*\\)|)",
"i"),bool:RegExp("^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$","i"),needsContext:RegExp("^[\\x20\\t\\r\\n\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\([\\x20\\t\\r\\n\\f]*((?:-\\d)?\\d*)[\\x20\\t\\r\\n\\f]*\\)|)(?=[^-]|$)","i")},aa=/^(?:input|select|textarea|button)$/i,ba=/^h\d$/i,X=/^[^{]+\{\s*\[native \w/,ha=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,fa=/[+~]/,ja=/'|\\/g,da=/\\([\da-f]{1,6}[\x20\t\r\n\f]?|([\x20\t\r\n\f])|.)/ig,
ea=function(b,d,f){b="0x"+d-65536;return b!==b||f?d:0>b?String.fromCharCode(b+65536):String.fromCharCode(b>>10|55296,b&1023|56320)};try{yb.apply(zb=M.call(A.childNodes),A.childNodes),zb[A.childNodes.length].nodeType}catch(ma){yb={apply:zb.length?function(b,d){H.apply(b,M.call(d))}:function(b,d){for(var f=b.length,e=0;b[f++]=d[e++];);b.length=f-1}}}Q=d.support={};R=d.isXML=function(b){return(b=b&&(b.ownerDocument||b).documentElement)?"HTML"!==b.nodeName:!1};ka=d.setDocument=function(b){var d=b?b.ownerDocument||
b:A;b=d.defaultView;if(d===u||9!==d.nodeType||!d.documentElement)return u;u=d;ca=d.documentElement;w=!R(d);b&&b!==b.top&&(b.addEventListener?b.addEventListener("unload",function(){ka()},!1):b.attachEvent&&b.attachEvent("onunload",function(){ka()}));Q.attributes=c(function(b){b.className="i";return!b.getAttribute("className")});Q.getElementsByTagName=c(function(b){b.appendChild(d.createComment(""));return!b.getElementsByTagName("*").length});Q.getElementsByClassName=X.test(d.getElementsByClassName)&&
c(function(b){b.innerHTML="<div class='a'></div><div class='a i'></div>";b.firstChild.className="i";return 2===b.getElementsByClassName("i").length});Q.getById=c(function(b){ca.appendChild(b).id=la;return!d.getElementsByName||!d.getElementsByName(la).length});Q.getById?(y.find.ID=function(b,d){if(typeof d.getElementById!==E&&w){var f=d.getElementById(b);return f&&f.parentNode?[f]:[]}},y.filter.ID=function(b){var d=b.replace(da,ea);return function(b){return b.getAttribute("id")===d}}):(delete y.find.ID,
y.filter.ID=function(b){var d=b.replace(da,ea);return function(b){return(b=typeof b.getAttributeNode!==E&&b.getAttributeNode("id"))&&b.value===d}});y.find.TAG=Q.getElementsByTagName?function(b,d){if(typeof d.getElementsByTagName!==E)return d.getElementsByTagName(b)}:function(b,d){var f,e=[],c=0,g=d.getElementsByTagName(b);if("*"===b){for(;f=g[c++];)1===f.nodeType&&e.push(f);return e}return g};y.find.CLASS=Q.getElementsByClassName&&function(b,d){if(typeof d.getElementsByClassName!==E&&w)return d.getElementsByClassName(b)};
ia=[];Ga=[];if(Q.qsa=X.test(d.querySelectorAll))c(function(b){b.innerHTML="<select t=''><option selected=''></option></select>";b.querySelectorAll("[t^='']").length&&Ga.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")");b.querySelectorAll("[selected]").length||Ga.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)");b.querySelectorAll(":checked").length||Ga.push(":checked")}),c(function(b){var f=
d.createElement("input");f.setAttribute("type","hidden");b.appendChild(f).setAttribute("name","D");b.querySelectorAll("[name=d]").length&&Ga.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?=");b.querySelectorAll(":enabled").length||Ga.push(":enabled",":disabled");b.querySelectorAll("*,:x");Ga.push(",.*:")});(Q.matchesSelector=X.test(z=ca.webkitMatchesSelector||ca.mozMatchesSelector||ca.oMatchesSelector||ca.msMatchesSelector))&&c(function(b){Q.disconnectedMatch=z.call(b,"div");z.call(b,"[s!='']:x");ia.push("!=",
bd)});Ga=Ga.length&&RegExp(Ga.join("|"));ia=ia.length&&RegExp(ia.join("|"));Ia=(b=X.test(ca.compareDocumentPosition))||X.test(ca.contains)?function(b,d){var f=9===b.nodeType?b.documentElement:b,e=d&&d.parentNode;return b===e||!(!e||!(1===e.nodeType&&(f.contains?f.contains(e):b.compareDocumentPosition&&b.compareDocumentPosition(e)&16)))}:function(b,d){if(d)for(;d=d.parentNode;)if(d===b)return!0;return!1};G=b?function(b,f){if(b===f)return s=!0,0;var e=!b.compareDocumentPosition-!f.compareDocumentPosition;
if(e)return e;e=(b.ownerDocument||b)===(f.ownerDocument||f)?b.compareDocumentPosition(f):1;return e&1||!Q.sortDetached&&f.compareDocumentPosition(b)===e?b===d||b.ownerDocument===A&&Ia(A,b)?-1:f===d||f.ownerDocument===A&&Ia(A,f)?1:n?J.call(n,b)-J.call(n,f):0:e&4?-1:1}:function(b,f){if(b===f)return s=!0,0;var e,c=0;e=b.parentNode;var g=f.parentNode,l=[b],q=[f];if(!e||!g)return b===d?-1:f===d?1:e?-1:g?1:n?J.call(n,b)-J.call(n,f):0;if(e===g)return h(b,f);for(e=b;e=e.parentNode;)l.unshift(e);for(e=f;e=
e.parentNode;)q.unshift(e);for(;l[c]===q[c];)c++;return c?h(l[c],q[c]):l[c]===A?-1:q[c]===A?1:0};return d};d.matches=function(b,f){return d(b,null,null,f)};d.matchesSelector=function(b,f){(b.ownerDocument||b)!==u&&ka(b);f=f.replace(Ei,"='$1']");if(Q.matchesSelector&&w&&(!ia||!ia.test(f))&&(!Ga||!Ga.test(f)))try{var e=z.call(b,f);if(e||Q.disconnectedMatch||b.document&&11!==b.document.nodeType)return e}catch(c){}return 0<d(f,u,null,[b]).length};d.contains=function(b,d){(b.ownerDocument||b)!==u&&ka(b);
return Ia(b,d)};d.attr=function(b,d){(b.ownerDocument||b)!==u&&ka(b);var f=y.attrHandle[d.toLowerCase()],f=f&&Za.call(y.attrHandle,d.toLowerCase())?f(b,d,!w):void 0;return void 0!==f?f:Q.attributes||!w?b.getAttribute(d):(f=b.getAttributeNode(d))&&f.specified?f.value:null};d.error=function(b){throw Error("Syntax error, unrecognized expression: "+b);};d.uniqueSort=function(b){var d,f=[],e=0,c=0;s=!Q.detectDuplicates;n=!Q.sortStable&&b.slice(0);b.sort(G);if(s){for(;d=b[c++];)d===b[c]&&(e=f.push(c));
for(;e--;)b.splice(f[e],1)}n=null;return b};S=d.getText=function(b){var d,f="",e=0;if(d=b.nodeType)if(1===d||9===d||11===d){if("string"===typeof b.textContent)return b.textContent;for(b=b.firstChild;b;b=b.nextSibling)f+=S(b)}else{if(3===d||4===d)return b.nodeValue}else for(;d=b[e++];)f+=S(d);return f};y=d.selectors={cacheLength:50,createPseudo:e,match:W,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},
preFilter:{ATTR:function(b){b[1]=b[1].replace(da,ea);b[3]=(b[4]||b[5]||"").replace(da,ea);"~="===b[2]&&(b[3]=" "+b[3]+" ");return b.slice(0,4)},CHILD:function(b){b[1]=b[1].toLowerCase();"nth"===b[1].slice(0,3)?(b[3]||d.error(b[0]),b[4]=+(b[4]?b[5]+(b[6]||1):2*("even"===b[3]||"odd"===b[3])),b[5]=+(b[7]+b[8]||"odd"===b[3])):b[3]&&d.error(b[0]);return b},PSEUDO:function(b){var d,f=!b[5]&&b[2];if(W.CHILD.test(b[0]))return null;if(b[3]&&void 0!==b[4])b[2]=b[4];else if(f&&Fi.test(f)&&(d=k(f,!0))&&(d=f.indexOf(")",
f.length-d)-f.length))b[0]=b[0].slice(0,d),b[2]=f.slice(0,d);return b.slice(0,3)}},filter:{TAG:function(b){var d=b.replace(da,ea).toLowerCase();return"*"===b?function(){return!0}:function(b){return b.nodeName&&b.nodeName.toLowerCase()===d}},CLASS:function(b){var d=jc[b+" "];return d||(d=RegExp("(^|[\\x20\\t\\r\\n\\f])"+b+"([\\x20\\t\\r\\n\\f]|$)"))&&jc(b,function(b){return d.test("string"===typeof b.className&&b.className||typeof b.getAttribute!==E&&b.getAttribute("class")||"")})},ATTR:function(b,
f,e){return function(c){c=d.attr(c,b);if(null==c)return"!="===f;if(!f)return!0;c+="";return"="===f?c===e:"!="===f?c!==e:"^="===f?e&&0===c.indexOf(e):"*="===f?e&&-1<c.indexOf(e):"$="===f?e&&c.slice(-e.length)===e:"~="===f?-1<(" "+c+" ").indexOf(e):"|="===f?c===e||c.slice(0,e.length+1)===e+"-":!1}},CHILD:function(b,d,f,e,c){var g="nth"!==b.slice(0,3),h="last"!==b.slice(-4),l="of-type"===d;return 1===e&&0===c?function(b){return!!b.parentNode}:function(d,f,q){var v,C,x,k,sa;f=g!==h?"nextSibling":"previousSibling";
var I=d.parentNode,D=l&&d.nodeName.toLowerCase();q=!q&&!l;if(I){if(g){for(;f;){for(C=d;C=C[f];)if(l?C.nodeName.toLowerCase()===D:1===C.nodeType)return!1;sa=f="only"===b&&!sa&&"nextSibling"}return!0}sa=[h?I.firstChild:I.lastChild];if(h&&q){q=I[la]||(I[la]={});v=q[b]||[];k=v[0]===ya&&v[1];x=v[0]===ya&&v[2];for(C=k&&I.childNodes[k];C=++k&&C&&C[f]||(x=k=0)||sa.pop();)if(1===C.nodeType&&++x&&C===d){q[b]=[ya,k,x];break}}else if(q&&(v=(d[la]||(d[la]={}))[b])&&v[0]===ya)x=v[1];else for(;C=++k&&C&&C[f]||(x=
k=0)||sa.pop();)if((l?C.nodeName.toLowerCase()===D:1===C.nodeType)&&++x)if(q&&((C[la]||(C[la]={}))[b]=[ya,x]),C===d)break;x-=c;return x===e||0===x%e&&0<=x/e}}},PSEUDO:function(b,f){var c,g=y.pseudos[b]||y.setFilters[b.toLowerCase()]||d.error("unsupported pseudo: "+b);return g[la]?g(f):1<g.length?(c=[b,b,"",f],y.setFilters.hasOwnProperty(b.toLowerCase())?e(function(b,d){for(var e,c=g(b,f),h=c.length;h--;)e=J.call(b,c[h]),b[e]=!(d[e]=c[h])}):function(b){return g(b,0,c)}):g}},pseudos:{not:e(function(b){var d=
[],f=[],c=V(b.replace(kc,"$1"));return c[la]?e(function(b,d,f,e){e=c(b,null,e,[]);for(var g=b.length;g--;)if(f=e[g])b[g]=!(d[g]=f)}):function(b,e,g){d[0]=b;c(d,null,g,f);return!f.pop()}}),has:e(function(b){return function(f){return 0<d(b,f).length}}),contains:e(function(b){return function(d){return-1<(d.textContent||d.innerText||S(d)).indexOf(b)}}),lang:e(function(b){Y.test(b||"")||d.error("unsupported lang: "+b);b=b.replace(da,ea).toLowerCase();return function(d){var f;do if(f=w?d.lang:d.getAttribute("xml:lang")||
d.getAttribute("lang"))return f=f.toLowerCase(),f===b||0===f.indexOf(b+"-");while((d=d.parentNode)&&1===d.nodeType);return!1}}),target:function(d){var f=b.location&&b.location.hash;return f&&f.slice(1)===d.id},root:function(b){return b===ca},focus:function(b){return b===u.activeElement&&(!u.hasFocus||u.hasFocus())&&!(!b.type&&!b.href&&!~b.tabIndex)},enabled:function(b){return!1===b.disabled},disabled:function(b){return!0===b.disabled},checked:function(b){var d=b.nodeName.toLowerCase();return"input"===
d&&!!b.checked||"option"===d&&!!b.selected},selected:function(b){b.parentNode&&b.parentNode.selectedIndex;return!0===b.selected},empty:function(b){for(b=b.firstChild;b;b=b.nextSibling)if(6>b.nodeType)return!1;return!0},parent:function(b){return!y.pseudos.empty(b)},header:function(b){return ba.test(b.nodeName)},input:function(b){return aa.test(b.nodeName)},button:function(b){var d=b.nodeName.toLowerCase();return"input"===d&&"button"===b.type||"button"===d},text:function(b){var d;return"input"===b.nodeName.toLowerCase()&&
"text"===b.type&&(null==(d=b.getAttribute("type"))||"text"===d.toLowerCase())},first:v(function(){return[0]}),last:v(function(b,d){return[d-1]}),eq:v(function(b,d,f){return[0>f?f+d:f]}),even:v(function(b,d){for(var f=0;f<d;f+=2)b.push(f);return b}),odd:v(function(b,d){for(var f=1;f<d;f+=2)b.push(f);return b}),lt:v(function(b,d,f){for(d=0>f?f+d:f;0<=--d;)b.push(d);return b}),gt:v(function(b,d,f){for(f=0>f?f+d:f;++f<d;)b.push(f);return b})}};y.pseudos.nth=y.pseudos.eq;for(t in{radio:!0,checkbox:!0,
file:!0,password:!0,image:!0})y.pseudos[t]=l(t);for(t in{submit:!0,reset:!0})y.pseudos[t]=q(t);x.prototype=y.filters=y.pseudos;y.setFilters=new x;V=d.compile=function(b,d){var f,e=[],c=[],g=F[b+" "];if(!g){d||(d=k(b));for(f=d.length;f--;)g=K(d[f]),g[la]?e.push(g):c.push(g);g=F(b,N(c,e))}return g};Q.sortStable=la.split("").sort(G).join("")===la;Q.detectDuplicates=!!s;ka();Q.sortDetached=c(function(b){return b.compareDocumentPosition(u.createElement("div"))&1});c(function(b){b.innerHTML="<a href='#'></a>";
return"#"===b.firstChild.getAttribute("href")})||g("type|href|height|width",function(b,d,f){if(!f)return b.getAttribute(d,"type"===d.toLowerCase()?1:2)});(!Q.attributes||!c(function(b){b.innerHTML="<input/>";b.firstChild.setAttribute("value","");return""===b.firstChild.getAttribute("value")}))&&g("value",function(b,d,f){if(!f&&"input"===b.nodeName.toLowerCase())return b.defaultValue});c(function(b){return null==b.getAttribute("disabled")})||g("checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",
function(b,d,f){var e;if(!f)return!0===b[d]?d.toLowerCase():(e=b.getAttributeNode(d))&&e.specified?e.value:null});return d}(c);t.find=W;t.expr=W.selectors;t.expr[":"]=t.expr.pseudos;t.unique=W.uniqueSort;t.text=W.getText;t.isXMLDoc=W.isXML;t.contains=W.contains;var fa=t.expr.match.needsContext,ja=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ma=/^.[^:#\[\.,]*$/;t.filter=function(b,d,f){var e=d[0];f&&(b=":not("+b+")");return 1===d.length&&1===e.nodeType?t.find.matchesSelector(e,b)?[e]:[]:t.find.matches(b,t.grep(d,
function(b){return 1===b.nodeType}))};t.fn.extend({find:function(b){var d,f=this.length,e=[],c=this;if("string"!==typeof b)return this.pushStack(t(b).filter(function(){for(d=0;d<f;d++)if(t.contains(c[d],this))return!0}));for(d=0;d<f;d++)t.find(b,c[d],e);e=this.pushStack(1<f?t.unique(e):e);e.selector=this.selector?this.selector+" "+b:b;return e},filter:function(b){return this.pushStack(f(this,b||[],!1))},not:function(b){return this.pushStack(f(this,b||[],!0))},is:function(b){return!!f(this,"string"===
typeof b&&fa.test(b)?t(b):b||[],!1).length}});var da,oa=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(t.fn.init=function(b,d){var f;if(!b)return this;if("string"===typeof b){if((f="<"===b[0]&&">"===b[b.length-1]&&3<=b.length?[null,b,null]:oa.exec(b))&&(f[1]||!d)){if(f[1]){if(d=d instanceof t?d[0]:d,t.merge(this,t.parseHTML(f[1],d&&d.nodeType?d.ownerDocument||d:O,!0)),ja.test(f[1])&&t.isPlainObject(d))for(f in d)if(t.isFunction(this[f]))this[f](d[f]);else this.attr(f,d[f])}else{if((f=O.getElementById(f[2]))&&
f.parentNode)this.length=1,this[0]=f;this.context=O;this.selector=b}return this}return!d||d.jquery?(d||da).find(b):this.constructor(d).find(b)}if(b.nodeType)return this.context=this[0]=b,this.length=1,this;if(t.isFunction(b))return"undefined"!==typeof da.ready?da.ready(b):b(t);void 0!==b.selector&&(this.selector=b.selector,this.context=b.context);return t.makeArray(b,this)}).prototype=t.fn;da=t(O);var pa=/^(?:parents|prev(?:Until|All))/,ra={children:!0,contents:!0,next:!0,prev:!0};t.extend({dir:function(b,
d,f){for(var e=[],c=void 0!==f;(b=b[d])&&9!==b.nodeType;)if(1===b.nodeType){if(c&&t(b).is(f))break;e.push(b)}return e},sibling:function(b,d){for(var f=[];b;b=b.nextSibling)1===b.nodeType&&b!==d&&f.push(b);return f}});t.fn.extend({has:function(b){var d=t(b,this),f=d.length;return this.filter(function(){for(var b=0;b<f;b++)if(t.contains(this,d[b]))return!0})},closest:function(b,d){for(var f,e=0,c=this.length,g=[],h=fa.test(b)||"string"!==typeof b?t(b,d||this.context):0;e<c;e++)for(f=this[e];f&&f!==
d;f=f.parentNode)if(11>f.nodeType&&(h?-1<h.index(f):1===f.nodeType&&t.find.matchesSelector(f,b))){g.push(f);break}return this.pushStack(1<g.length?t.unique(g):g)},index:function(b){return!b?this[0]&&this[0].parentNode?this.first().prevAll().length:-1:"string"===typeof b?Sb.call(t(b),this[0]):Sb.call(this,b.jquery?b[0]:b)},add:function(b,d){return this.pushStack(t.unique(t.merge(this.get(),t(b,d))))},addBack:function(b){return this.add(null==b?this.prevObject:this.prevObject.filter(b))}});t.each({parent:function(b){return(b=
b.parentNode)&&11!==b.nodeType?b:null},parents:function(b){return t.dir(b,"parentNode")},parentsUntil:function(b,d,f){return t.dir(b,"parentNode",f)},next:function(b){return g(b,"nextSibling")},prev:function(b){return g(b,"previousSibling")},nextAll:function(b){return t.dir(b,"nextSibling")},prevAll:function(b){return t.dir(b,"previousSibling")},nextUntil:function(b,d,f){return t.dir(b,"nextSibling",f)},prevUntil:function(b,d,f){return t.dir(b,"previousSibling",f)},siblings:function(b){return t.sibling((b.parentNode||
{}).firstChild,b)},children:function(b){return t.sibling(b.firstChild)},contents:function(b){return b.contentDocument||t.merge([],b.childNodes)}},function(b,d){t.fn[b]=function(f,e){var c=t.map(this,d,f);"Until"!==b.slice(-5)&&(e=f);e&&"string"===typeof e&&(c=t.filter(e,c));1<this.length&&(ra[b]||t.unique(c),pa.test(b)&&c.reverse());return this.pushStack(c)}});var ea=/\S+/g,ta={};t.Callbacks=function(b){b="string"===typeof b?ta[b]||e(b):t.extend({},b);var d,f,c,g,h,l,q=[],v=!b.once&&[],C=function(e){d=
b.memory&&e;f=!0;l=g||0;g=0;h=q.length;for(c=!0;q&&l<h;l++)if(!1===q[l].apply(e[0],e[1])&&b.stopOnFalse){d=!1;break}c=!1;q&&(v?v.length&&C(v.shift()):d?q=[]:x.disable())},x={add:function(){if(q){var f=q.length;(function Gi(d){t.each(d,function(d,f){var e=t.type(f);"function"===e?(!b.unique||!x.has(f))&&q.push(f):f&&(f.length&&"string"!==e)&&Gi(f)})})(arguments);c?h=q.length:d&&(g=f,C(d))}return this},remove:function(){q&&t.each(arguments,function(b,d){for(var f;-1<(f=t.inArray(d,q,f));)q.splice(f,
1),c&&(f<=h&&h--,f<=l&&l--)});return this},has:function(b){return b?-1<t.inArray(b,q):!(!q||!q.length)},empty:function(){q=[];h=0;return this},disable:function(){q=v=d=void 0;return this},disabled:function(){return!q},lock:function(){v=void 0;d||x.disable();return this},locked:function(){return!v},fireWith:function(b,d){if(q&&(!f||v))d=d||[],d=[b,d.slice?d.slice():d],c?v.push(d):C(d);return this},fire:function(){x.fireWith(this,arguments);return this},fired:function(){return!!f}};return x};t.extend({Deferred:function(b){var d=
[["resolve","done",t.Callbacks("once memory"),"resolved"],["reject","fail",t.Callbacks("once memory"),"rejected"],["notify","progress",t.Callbacks("memory")]],f="pending",e={state:function(){return f},always:function(){c.done(arguments).fail(arguments);return this},then:function(){var b=arguments;return t.Deferred(function(f){t.each(d,function(d,g){var h=t.isFunction(b[d])&&b[d];c[g[1]](function(){var b=h&&h.apply(this,arguments);if(b&&t.isFunction(b.promise))b.promise().done(f.resolve).fail(f.reject).progress(f.notify);
else f[g[0]+"With"](this===e?f.promise():this,h?[b]:arguments)})});b=null}).promise()},promise:function(b){return null!=b?t.extend(b,e):e}},c={};e.pipe=e.then;t.each(d,function(b,g){var h=g[2],l=g[3];e[g[1]]=h.add;l&&h.add(function(){f=l},d[b^1][2].disable,d[2][2].lock);c[g[0]]=function(){c[g[0]+"With"](this===c?e:this,arguments);return this};c[g[0]+"With"]=h.fireWith});e.promise(c);b&&b.call(c,c);return c},when:function(b){var d=0,f=la.call(arguments),e=f.length,c=1!==e||b&&t.isFunction(b.promise)?
e:0,g=1===c?b:t.Deferred(),h=function(b,d,f){return function(e){d[b]=this;f[b]=1<arguments.length?la.call(arguments):e;f===l?g.notifyWith(d,f):--c||g.resolveWith(d,f)}},l,q,v;if(1<e){l=Array(e);q=Array(e);for(v=Array(e);d<e;d++)f[d]&&t.isFunction(f[d].promise)?f[d].promise().done(h(d,v,f)).fail(g.reject).progress(h(d,q,l)):--c}c||g.resolveWith(v,f);return g.promise()}});var qa;t.fn.ready=function(b){t.ready.promise().done(b);return this};t.extend({isReady:!1,readyWait:1,holdReady:function(b){b?t.readyWait++:
t.ready(!0)},ready:function(b){if(!(!0===b?--t.readyWait:t.isReady))t.isReady=!0,!0!==b&&0<--t.readyWait||(qa.resolveWith(O,[t]),t.fn.trigger&&t(O).trigger("ready").off("ready"))}});t.ready.promise=function(b){qa||(qa=t.Deferred(),"complete"===O.readyState?setTimeout(t.ready):(O.addEventListener("DOMContentLoaded",h,!1),c.addEventListener("load",h,!1)));return qa.promise(b)};t.ready.promise();var na=t.access=function(b,d,f,e,c,g,h){var l=0,q=b.length,v=null==f;if("object"===t.type(f))for(l in c=!0,
f)t.access(b,d,l,f[l],!0,g,h);else if(void 0!==e&&(c=!0,t.isFunction(e)||(h=!0),v&&(h?(d.call(b,e),d=null):(v=d,d=function(b,d,f){return v.call(t(b),f)})),d))for(;l<q;l++)d(b[l],f,h?e:e.call(b[l],l,d(b[l],f)));return c?b:v?d.call(b):q?d(b[0],f):g};t.acceptData=function(b){return 1===b.nodeType||9===b.nodeType||!+b.nodeType};l.uid=1;l.accepts=t.acceptData;l.prototype={key:function(b){if(!l.accepts(b))return 0;var d={},f=b[this.expando];if(!f){f=l.uid++;try{d[this.expando]={value:f},Object.defineProperties(b,
d)}catch(e){d[this.expando]=f,t.extend(b,d)}}this.cache[f]||(this.cache[f]={});return f},set:function(b,d,f){var e;b=this.key(b);var c=this.cache[b];if("string"===typeof d)c[d]=f;else if(t.isEmptyObject(c))t.extend(this.cache[b],d);else for(e in d)c[e]=d[e];return c},get:function(b,d){var f=this.cache[this.key(b)];return void 0===d?f:f[d]},access:function(b,d,f){if(void 0===d||d&&"string"===typeof d&&void 0===f)return f=this.get(b,d),void 0!==f?f:this.get(b,t.camelCase(d));this.set(b,d,f);return void 0!==
f?f:d},remove:function(b,d){var f,e;f=this.key(b);var c=this.cache[f];if(void 0===d)this.cache[f]={};else{t.isArray(d)?e=d.concat(d.map(t.camelCase)):(f=t.camelCase(d),d in c?e=[d,f]:(e=f,e=e in c?[e]:e.match(ea)||[]));for(f=e.length;f--;)delete c[e[f]]}},hasData:function(b){return!t.isEmptyObject(this.cache[b[this.expando]]||{})},discard:function(b){b[this.expando]&&delete this.cache[b[this.expando]]}};var Y=new l,ha=new l,va=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,za=/([A-Z])/g;t.extend({hasData:function(b){return ha.hasData(b)||
Y.hasData(b)},data:function(b,d,f){return ha.access(b,d,f)},removeData:function(b,d){ha.remove(b,d)},_data:function(b,d,f){return Y.access(b,d,f)},_removeData:function(b,d){Y.remove(b,d)}});t.fn.extend({data:function(b,d){var f,e,c,g=this[0],h=g&&g.attributes;if(void 0===b){if(this.length&&(c=ha.get(g),1===g.nodeType&&!Y.get(g,"hasDataAttrs"))){for(f=h.length;f--;)e=h[f].name,0===e.indexOf("data-")&&(e=t.camelCase(e.slice(5)),q(g,e,c[e]));Y.set(g,"hasDataAttrs",!0)}return c}return"object"===typeof b?
this.each(function(){ha.set(this,b)}):na(this,function(d){var f,e=t.camelCase(b);if(g&&void 0===d){f=ha.get(g,b);if(void 0!==f)return f;f=ha.get(g,e);if(void 0!==f)return f;f=q(g,e,void 0);if(void 0!==f)return f}else this.each(function(){var f=ha.get(this,e);ha.set(this,e,d);-1!==b.indexOf("-")&&void 0!==f&&ha.set(this,b,d)})},null,d,1<arguments.length,null,!0)},removeData:function(b){return this.each(function(){ha.remove(this,b)})}});t.extend({queue:function(b,d,f){var e;if(b)return d=(d||"fx")+
"queue",e=Y.get(b,d),f&&(!e||t.isArray(f)?e=Y.access(b,d,t.makeArray(f)):e.push(f)),e||[]},dequeue:function(b,d){d=d||"fx";var f=t.queue(b,d),e=f.length,c=f.shift(),g=t._queueHooks(b,d),h=function(){t.dequeue(b,d)};"inprogress"===c&&(c=f.shift(),e--);c&&("fx"===d&&f.unshift("inprogress"),delete g.stop,c.call(b,h,g));!e&&g&&g.empty.fire()},_queueHooks:function(b,d){var f=d+"queueHooks";return Y.get(b,f)||Y.access(b,f,{empty:t.Callbacks("once memory").add(function(){Y.remove(b,[d+"queue",f])})})}});
t.fn.extend({queue:function(b,d){var f=2;"string"!==typeof b&&(d=b,b="fx",f--);return arguments.length<f?t.queue(this[0],b):void 0===d?this:this.each(function(){var f=t.queue(this,b,d);t._queueHooks(this,b);"fx"===b&&"inprogress"!==f[0]&&t.dequeue(this,b)})},dequeue:function(b){return this.each(function(){t.dequeue(this,b)})},clearQueue:function(b){return this.queue(b||"fx",[])},promise:function(b,d){var f,e=1,c=t.Deferred(),g=this,h=this.length,l=function(){--e||c.resolveWith(g,[g])};"string"!==
typeof b&&(d=b,b=void 0);for(b=b||"fx";h--;)if((f=Y.get(g[h],b+"queueHooks"))&&f.empty)e++,f.empty.add(l);l();return c.promise(d)}});var wa=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ua=["Top","Right","Bottom","Left"],xa=function(b,d){b=d||b;return"none"===t.css(b,"display")||!t.contains(b.ownerDocument,b)},Aa=/^(?:checkbox|radio)$/i;(function(){var b=O.createDocumentFragment().appendChild(O.createElement("div"));b.innerHTML="<input type='radio' checked='checked' name='t'/>";P.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked;
b.innerHTML="<textarea>x</textarea>";P.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue})();P.focusinBubbles="onfocusin"in c;var Ba=/^key/,Ea=/^(?:mouse|contextmenu)|click/,Ca=/^(?:focusinfocus|focusoutblur)$/,Da=/^([^.]*)(?:\.(.+)|)$/;t.event={global:{},add:function(b,d,f,e,c){var g,h,l,q,v,C,x,k,I;if(v=Y.get(b)){f.handler&&(g=f,f=g.handler,c=g.selector);f.guid||(f.guid=t.guid++);if(!(q=v.events))q=v.events={};if(!(h=v.handle))h=v.handle=function(d){return"undefined"!==typeof t&&t.event.triggered!==
d.type?t.event.dispatch.apply(b,arguments):void 0};d=(d||"").match(ea)||[""];for(v=d.length;v--;)if(l=Da.exec(d[v])||[],k=C=l[1],I=(l[2]||"").split(".").sort(),k){l=t.event.special[k]||{};k=(c?l.delegateType:l.bindType)||k;l=t.event.special[k]||{};C=t.extend({type:k,origType:C,data:e,handler:f,guid:f.guid,selector:c,needsContext:c&&t.expr.match.needsContext.test(c),namespace:I.join(".")},g);if(!(x=q[k]))x=q[k]=[],x.delegateCount=0,(!l.setup||!1===l.setup.call(b,e,I,h))&&b.addEventListener&&b.addEventListener(k,
h,!1);l.add&&(l.add.call(b,C),C.handler.guid||(C.handler.guid=f.guid));c?x.splice(x.delegateCount++,0,C):x.push(C);t.event.global[k]=!0}}},remove:function(b,d,f,e,c){var g,h,l,q,v,C,x,k,I,D,m,L=Y.hasData(b)&&Y.get(b);if(L&&(q=L.events)){d=(d||"").match(ea)||[""];for(v=d.length;v--;)if(l=Da.exec(d[v])||[],I=m=l[1],D=(l[2]||"").split(".").sort(),I){x=t.event.special[I]||{};I=(e?x.delegateType:x.bindType)||I;k=q[I]||[];l=l[2]&&RegExp("(^|\\.)"+D.join("\\.(?:.*\\.|)")+"(\\.|$)");for(h=g=k.length;g--;)if(C=
k[g],(c||m===C.origType)&&(!f||f.guid===C.guid)&&(!l||l.test(C.namespace))&&(!e||e===C.selector||"**"===e&&C.selector))k.splice(g,1),C.selector&&k.delegateCount--,x.remove&&x.remove.call(b,C);h&&!k.length&&((!x.teardown||!1===x.teardown.call(b,D,L.handle))&&t.removeEvent(b,I,L.handle),delete q[I])}else for(I in q)t.event.remove(b,I+d[v],f,e,!0);t.isEmptyObject(q)&&(delete L.handle,Y.remove(b,"events"))}},trigger:function(b,d,f,e){var g,h,l,q,v,C,x=[f||O],k=M.call(b,"type")?b.type:b;C=M.call(b,"namespace")?
b.namespace.split("."):[];h=g=f=f||O;if(!(3===f.nodeType||8===f.nodeType)&&!Ca.test(k+t.event.triggered))if(0<=k.indexOf(".")&&(C=k.split("."),k=C.shift(),C.sort()),q=0>k.indexOf(":")&&"on"+k,b=b[t.expando]?b:new t.Event(k,"object"===typeof b&&b),b.isTrigger=e?2:3,b.namespace=C.join("."),b.namespace_re=b.namespace?RegExp("(^|\\.)"+C.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=f),d=null==d?[b]:t.makeArray(d,[b]),C=t.event.special[k]||{},e||!(C.trigger&&!1===C.trigger.apply(f,
d))){if(!e&&!C.noBubble&&!t.isWindow(f)){l=C.delegateType||k;Ca.test(l+k)||(h=h.parentNode);for(;h;h=h.parentNode)x.push(h),g=h;if(g===(f.ownerDocument||O))x.push(g.defaultView||g.parentWindow||c)}for(g=0;(h=x[g++])&&!b.isPropagationStopped();)if(b.type=1<g?l:C.bindType||k,(v=(Y.get(h,"events")||{})[b.type]&&Y.get(h,"handle"))&&v.apply(h,d),(v=q&&h[q])&&v.apply&&t.acceptData(h))b.result=v.apply(h,d),!1===b.result&&b.preventDefault();b.type=k;if(!e&&!b.isDefaultPrevented()&&(!C._default||!1===C._default.apply(x.pop(),
d))&&t.acceptData(f)&&q&&t.isFunction(f[k])&&!t.isWindow(f))(g=f[q])&&(f[q]=null),t.event.triggered=k,f[k](),t.event.triggered=void 0,g&&(f[q]=g);return b.result}},dispatch:function(b){b=t.event.fix(b);var d,f,e,c,g=[],h=la.call(arguments);d=(Y.get(this,"events")||{})[b.type]||[];var l=t.event.special[b.type]||{};h[0]=b;b.delegateTarget=this;if(!(l.preDispatch&&!1===l.preDispatch.call(this,b))){g=t.event.handlers.call(this,b,d);for(d=0;(c=g[d++])&&!b.isPropagationStopped();){b.currentTarget=c.elem;
for(f=0;(e=c.handlers[f++])&&!b.isImmediatePropagationStopped();)if(!b.namespace_re||b.namespace_re.test(e.namespace))if(b.handleObj=e,b.data=e.data,e=((t.event.special[e.origType]||{}).handle||e.handler).apply(c.elem,h),void 0!==e&&!1===(b.result=e))b.preventDefault(),b.stopPropagation()}l.postDispatch&&l.postDispatch.call(this,b);return b.result}},handlers:function(b,d){var f,e,c,g,h=[],l=d.delegateCount,q=b.target;if(l&&q.nodeType&&(!b.button||"click"!==b.type))for(;q!==this;q=q.parentNode||this)if(!0!==
q.disabled||"click"!==b.type){e=[];for(f=0;f<l;f++)g=d[f],c=g.selector+" ",void 0===e[c]&&(e[c]=g.needsContext?0<=t(c,this).index(q):t.find(c,this,null,[q]).length),e[c]&&e.push(g);e.length&&h.push({elem:q,handlers:e})}l<d.length&&h.push({elem:this,handlers:d.slice(l)});return h},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:["char","charCode","key","keyCode"],filter:function(b,d){null==
b.which&&(b.which=null!=d.charCode?d.charCode:d.keyCode);return b}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(b,d){var f,e,c=d.button;null==b.pageX&&null!=d.clientX&&(f=b.target.ownerDocument||O,e=f.documentElement,f=f.body,b.pageX=d.clientX+(e&&e.scrollLeft||f&&f.scrollLeft||0)-(e&&e.clientLeft||f&&f.clientLeft||0),b.pageY=d.clientY+(e&&e.scrollTop||f&&f.scrollTop||0)-(e&&e.clientTop||f&&f.clientTop||0));!b.which&&
void 0!==c&&(b.which=c&1?1:c&2?3:c&4?2:0);return b}},fix:function(b){if(b[t.expando])return b;var d,f,e;d=b.type;var c=b,g=this.fixHooks[d];g||(this.fixHooks[d]=g=Ea.test(d)?this.mouseHooks:Ba.test(d)?this.keyHooks:{});e=g.props?this.props.concat(g.props):this.props;b=new t.Event(c);for(d=e.length;d--;)f=e[d],b[f]=c[f];b.target||(b.target=O);3===b.target.nodeType&&(b.target=b.target.parentNode);return g.filter?g.filter(b,c):b},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==k()&&this.focus)return this.focus(),
!1},delegateType:"focusin"},blur:{trigger:function(){if(this===k()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&t.nodeName(this,"input"))return this.click(),!1},_default:function(b){return t.nodeName(b.target,"a")}},beforeunload:{postDispatch:function(b){void 0!==b.result&&(b.originalEvent.returnValue=b.result)}}},simulate:function(b,d,f,e){b=t.extend(new t.Event,f,{type:b,isSimulated:!0,originalEvent:{}});e?t.event.trigger(b,
null,d):t.event.dispatch.call(d,b);b.isDefaultPrevented()&&f.preventDefault()}};t.removeEvent=function(b,d,f){b.removeEventListener&&b.removeEventListener(d,f,!1)};t.Event=function(b,d){if(!(this instanceof t.Event))return new t.Event(b,d);b&&b.type?(this.originalEvent=b,this.type=b.type,this.isDefaultPrevented=b.defaultPrevented||void 0===b.defaultPrevented&&b.getPreventDefault&&b.getPreventDefault()?v:x):this.type=b;d&&t.extend(this,d);this.timeStamp=b&&b.timeStamp||t.now();this[t.expando]=!0};
t.Event.prototype={isDefaultPrevented:x,isPropagationStopped:x,isImmediatePropagationStopped:x,preventDefault:function(){var b=this.originalEvent;this.isDefaultPrevented=v;b&&b.preventDefault&&b.preventDefault()},stopPropagation:function(){var b=this.originalEvent;this.isPropagationStopped=v;b&&b.stopPropagation&&b.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=v;this.stopPropagation()}};t.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(b,d){t.event.special[b]=
{delegateType:d,bindType:d,handle:function(b){var f,e=b.relatedTarget,c=b.handleObj;if(!e||e!==this&&!t.contains(this,e))b.type=c.origType,f=c.handler.apply(this,arguments),b.type=d;return f}}});P.focusinBubbles||t.each({focus:"focusin",blur:"focusout"},function(b,d){var f=function(b){t.event.simulate(d,b.target,t.event.fix(b),!0)};t.event.special[d]={setup:function(){var e=this.ownerDocument||this,c=Y.access(e,d);c||e.addEventListener(b,f,!0);Y.access(e,d,(c||0)+1)},teardown:function(){var e=this.ownerDocument||
this,c=Y.access(e,d)-1;c?Y.access(e,d,c):(e.removeEventListener(b,f,!0),Y.remove(e,d))}}});t.fn.extend({on:function(b,d,f,e,c){var g,h;if("object"===typeof b){"string"!==typeof d&&(f=f||d,d=void 0);for(h in b)this.on(h,d,f,b[h],c);return this}null==f&&null==e?(e=d,f=d=void 0):null==e&&("string"===typeof d?(e=f,f=void 0):(e=f,f=d,d=void 0));if(!1===e)e=x;else if(!e)return this;1===c&&(g=e,e=function(b){t().off(b);return g.apply(this,arguments)},e.guid=g.guid||(g.guid=t.guid++));return this.each(function(){t.event.add(this,
b,e,f,d)})},one:function(b,d,f,e){return this.on(b,d,f,e,1)},off:function(b,d,f){var e;if(b&&b.preventDefault&&b.handleObj)return e=b.handleObj,t(b.delegateTarget).off(e.namespace?e.origType+"."+e.namespace:e.origType,e.selector,e.handler),this;if("object"===typeof b){for(e in b)this.off(e,d,b[e]);return this}if(!1===d||"function"===typeof d)f=d,d=void 0;!1===f&&(f=x);return this.each(function(){t.event.remove(this,b,f,d)})},trigger:function(b,d){return this.each(function(){t.event.trigger(b,d,this)})},
triggerHandler:function(b,d){var f=this[0];if(f)return t.event.trigger(b,d,f,!0)}});var Fa=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Ha=/<([\w:]+)/,La=/<|&#?\w+;/,Oa=/<(?:script|style|link)/i,Pa=/checked\s*(?:[^=]|=\s*.checked.)/i,Ma=/^$|\/(?:java|ecma)script/i,Sa=/^true\/(.*)/,Va=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,$a={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,
"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};$a.optgroup=$a.option;$a.tbody=$a.tfoot=$a.colgroup=$a.caption=$a.thead;$a.th=$a.td;t.extend({clone:function(b,d,f){var e,c,g,h,l=b.cloneNode(!0),q=t.contains(b.ownerDocument,b);if(!P.noCloneChecked&&(1===b.nodeType||11===b.nodeType)&&!t.isXMLDoc(b)){h=N(l);g=N(b);e=0;for(c=g.length;e<c;e++){var v=g[e],x=h[e],k=x.nodeName.toLowerCase();if("input"===k&&Aa.test(v.type))x.checked=v.checked;else if("input"===
k||"textarea"===k)x.defaultValue=v.defaultValue}}if(d)if(f){g=g||N(b);h=h||N(l);e=0;for(c=g.length;e<c;e++)K(g[e],h[e])}else K(b,l);h=N(l,"script");0<h.length&&C(h,!q&&N(b,"script"));return l},buildFragment:function(b,d,f,e){for(var c,g,h,l=d.createDocumentFragment(),q=[],v=0,x=b.length;v<x;v++)if((c=b[v])||0===c)if("object"===t.type(c))t.merge(q,c.nodeType?[c]:c);else if(La.test(c)){g=g||l.appendChild(d.createElement("div"));h=(Ha.exec(c)||["",""])[1].toLowerCase();h=$a[h]||$a._default;g.innerHTML=
h[1]+c.replace(Fa,"<$1></$2>")+h[2];for(h=h[0];h--;)g=g.lastChild;t.merge(q,g.childNodes);g=l.firstChild;g.textContent=""}else q.push(d.createTextNode(c));l.textContent="";for(v=0;c=q[v++];)if(!(e&&-1!==t.inArray(c,e))&&(b=t.contains(c.ownerDocument,c),g=N(l.appendChild(c),"script"),b&&C(g),f))for(h=0;c=g[h++];)Ma.test(c.type||"")&&f.push(c);return l},cleanData:function(b){for(var d,f,e,c,g,h,l=t.event.special,q=0;void 0!==(f=b[q]);q++){if(t.acceptData(f)&&(g=f[Y.expando])&&(d=Y.cache[g])){e=Object.keys(d.events||
{});if(e.length)for(h=0;void 0!==(c=e[h]);h++)l[c]?t.event.remove(f,c):t.removeEvent(f,c,d.handle);Y.cache[g]&&delete Y.cache[g]}delete ha.cache[f[ha.expando]]}}});t.fn.extend({text:function(b){return na(this,function(b){return void 0===b?t.text(this):this.empty().each(function(){if(1===this.nodeType||11===this.nodeType||9===this.nodeType)this.textContent=b})},null,b,arguments.length)},append:function(){return this.domManip(arguments,function(b){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&
m(this,b).appendChild(b)})},prepend:function(){return this.domManip(arguments,function(b){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var d=m(this,b);d.insertBefore(b,d.firstChild)}})},before:function(){return this.domManip(arguments,function(b){this.parentNode&&this.parentNode.insertBefore(b,this)})},after:function(){return this.domManip(arguments,function(b){this.parentNode&&this.parentNode.insertBefore(b,this.nextSibling)})},remove:function(b,d){for(var f,e=b?t.filter(b,this):
this,c=0;null!=(f=e[c]);c++)!d&&1===f.nodeType&&t.cleanData(N(f)),f.parentNode&&(d&&t.contains(f.ownerDocument,f)&&C(N(f,"script")),f.parentNode.removeChild(f));return this},empty:function(){for(var b,d=0;null!=(b=this[d]);d++)1===b.nodeType&&(t.cleanData(N(b,!1)),b.textContent="");return this},clone:function(b,d){b=null==b?!1:b;d=null==d?b:d;return this.map(function(){return t.clone(this,b,d)})},html:function(b){return na(this,function(b){var d=this[0]||{},f=0,e=this.length;if(void 0===b&&1===d.nodeType)return d.innerHTML;
if("string"===typeof b&&!Oa.test(b)&&!$a[(Ha.exec(b)||["",""])[1].toLowerCase()]){b=b.replace(Fa,"<$1></$2>");try{for(;f<e;f++)d=this[f]||{},1===d.nodeType&&(t.cleanData(N(d,!1)),d.innerHTML=b);d=0}catch(c){}}d&&this.empty().append(b)},null,b,arguments.length)},replaceWith:function(){var b=arguments[0];this.domManip(arguments,function(d){b=this.parentNode;t.cleanData(N(this));b&&b.replaceChild(d,this)});return b&&(b.length||b.nodeType)?this:this.remove()},detach:function(b){return this.remove(b,!0)},
domManip:function(b,d){b=E.apply([],b);var f,e,c,g,h=0,l=this.length,q=this,v=l-1,C=b[0],x=t.isFunction(C);if(x||1<l&&"string"===typeof C&&!P.checkClone&&Pa.test(C))return this.each(function(f){var e=q.eq(f);x&&(b[0]=C.call(this,f,e.html()));e.domManip(b,d)});if(l&&(f=t.buildFragment(b,this[0].ownerDocument,!1,this),e=f.firstChild,1===f.childNodes.length&&(f=e),e)){e=t.map(N(f,"script"),D);for(c=e.length;h<l;h++)g=f,h!==v&&(g=t.clone(g,!0,!0),c&&t.merge(e,N(g,"script"))),d.call(this[h],g,h);if(c){f=
e[e.length-1].ownerDocument;t.map(e,L);for(h=0;h<c;h++)if(g=e[h],Ma.test(g.type||"")&&!Y.access(g,"globalEval")&&t.contains(f,g))g.src?t._evalUrl&&t._evalUrl(g.src):t.globalEval(g.textContent.replace(Va,""))}}return this}});t.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(b,d){t.fn[b]=function(b){for(var f=[],e=t(b),c=e.length-1,g=0;g<=c;g++)b=g===c?this:this.clone(!0),t(e[g])[d](b),Za.apply(f,b.get());return this.pushStack(f)}});
var Ja,Ua={},Xa=/^margin/,Qa=RegExp("^("+wa+")(?!px)[a-z%]+$","i"),Na=function(b){return b.ownerDocument.defaultView.getComputedStyle(b,null)};(function(){function b(){h.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%";e.appendChild(g);var l=c.getComputedStyle(h,null);d="1%"!==l.top;f="4px"===l.width;e.removeChild(g)}var d,f,e=O.documentElement,g=O.createElement("div"),
h=O.createElement("div");h.style.backgroundClip="content-box";h.cloneNode(!0).style.backgroundClip="";P.clearCloneStyle="content-box"===h.style.backgroundClip;g.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px";g.appendChild(h);c.getComputedStyle&&t.extend(P,{pixelPosition:function(){b();return d},boxSizingReliable:function(){null==f&&b();return f},reliableMarginRight:function(){var b;b=h.appendChild(O.createElement("div"));b.style.cssText=h.style.cssText=
"padding:0;margin:0;border:0;display:block;-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box";b.style.marginRight=b.style.width="0";h.style.width="1px";e.appendChild(g);b=!parseFloat(c.getComputedStyle(b,null).marginRight);e.removeChild(g);h.innerHTML="";return b}})})();t.swap=function(b,d,f,e){var c,g={};for(c in d)g[c]=b.style[c],b.style[c]=d[c];f=f.apply(b,e||[]);for(c in d)b.style[c]=g[c];return f};var eb=/^(none|table(?!-c[ea]).+)/,fb=RegExp("^("+wa+")(.*)$","i"),
ib=RegExp("^([+-])=("+wa+")","i"),mb={position:"absolute",visibility:"hidden",display:"block"},cb={letterSpacing:0,fontWeight:400},db=["Webkit","O","Moz","ms"];t.extend({cssHooks:{opacity:{get:function(b,d){if(d){var f=R(b,"opacity");return""===f?"1":f}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(b,d,f,e){if(b&&!(3===b.nodeType||8===b.nodeType||!b.style)){var c,g,h,
l=t.camelCase(d),q=b.style;d=t.cssProps[l]||(t.cssProps[l]=n(q,l));h=t.cssHooks[d]||t.cssHooks[l];if(void 0!==f){g=typeof f;if("string"===g&&(c=ib.exec(f)))f=(c[1]+1)*c[2]+parseFloat(t.css(b,d)),g="number";if(!(null==f||f!==f))if("number"===g&&!t.cssNumber[l]&&(f+="px"),!P.clearCloneStyle&&(""===f&&0===d.indexOf("background"))&&(q[d]="inherit"),!h||!("set"in h)||void 0!==(f=h.set(b,f,e)))q[d]="",q[d]=f}else return h&&"get"in h&&void 0!==(c=h.get(b,!1,e))?c:q[d]}},css:function(b,d,f,e){var c,g;g=t.camelCase(d);
d=t.cssProps[g]||(t.cssProps[g]=n(b.style,g));(g=t.cssHooks[d]||t.cssHooks[g])&&"get"in g&&(c=g.get(b,!0,f));void 0===c&&(c=R(b,d,e));"normal"===c&&d in cb&&(c=cb[d]);return""===f||f?(b=parseFloat(c),!0===f||t.isNumeric(b)?b||0:c):c}});t.each(["height","width"],function(b,d){t.cssHooks[d]={get:function(b,f,e){if(f)return 0===b.offsetWidth&&eb.test(t.css(b,"display"))?t.swap(b,mb,function(){return w(b,d,e)}):w(b,d,e)},set:function(b,f,e){var c=e&&Na(b);return s(b,f,e?u(b,d,e,"border-box"===t.css(b,
"boxSizing",!1,c),c):0)}}});t.cssHooks.marginRight=y(P.reliableMarginRight,function(b,d){if(d)return t.swap(b,{display:"inline-block"},R,[b,"marginRight"])});t.each({margin:"",padding:"",border:"Width"},function(b,d){t.cssHooks[b+d]={expand:function(f){var e=0,c={};for(f="string"===typeof f?f.split(" "):[f];4>e;e++)c[b+ua[e]+d]=f[e]||f[e-2]||f[0];return c}};Xa.test(b)||(t.cssHooks[b+d].set=s)});t.fn.extend({css:function(b,d){return na(this,function(b,d,f){var e,c={},g=0;if(t.isArray(d)){f=Na(b);for(e=
d.length;g<e;g++)c[d[g]]=t.css(b,d[g],!1,f);return c}return void 0!==f?t.style(b,d,f):t.css(b,d)},b,d,1<arguments.length)},show:function(){return z(this,!0)},hide:function(){return z(this)},toggle:function(b){return"boolean"===typeof b?b?this.show():this.hide():this.each(function(){xa(this)?t(this).show():t(this).hide()})}});t.Tween=A;A.prototype={constructor:A,init:function(b,d,f,e,c,g){this.elem=b;this.prop=f;this.easing=c||"swing";this.options=d;this.start=this.now=this.cur();this.end=e;this.unit=
g||(t.cssNumber[f]?"":"px")},cur:function(){var b=A.propHooks[this.prop];return b&&b.get?b.get(this):A.propHooks._default.get(this)},run:function(b){var d,f=A.propHooks[this.prop];this.pos=this.options.duration?d=t.easing[this.easing](b,this.options.duration*b,0,1,this.options.duration):d=b;this.now=(this.end-this.start)*d+this.start;this.options.step&&this.options.step.call(this.elem,this.now,this);f&&f.set?f.set(this):A.propHooks._default.set(this);return this}};A.prototype.init.prototype=A.prototype;
A.propHooks={_default:{get:function(b){if(null!=b.elem[b.prop]&&(!b.elem.style||null==b.elem.style[b.prop]))return b.elem[b.prop];b=t.css(b.elem,b.prop,"");return!b||"auto"===b?0:b},set:function(b){if(t.fx.step[b.prop])t.fx.step[b.prop](b);else b.elem.style&&(null!=b.elem.style[t.cssProps[b.prop]]||t.cssHooks[b.prop])?t.style(b.elem,b.prop,b.now+b.unit):b.elem[b.prop]=b.now}}};A.propHooks.scrollTop=A.propHooks.scrollLeft={set:function(b){b.elem.nodeType&&b.elem.parentNode&&(b.elem[b.prop]=b.now)}};
t.easing={linear:function(b){return b},swing:function(b){return 0.5-Math.cos(b*Math.PI)/2}};t.fx=A.prototype.init;t.fx.step={};var Ka,Wa,ob=/^(?:toggle|show|hide)$/,hb=RegExp("^(?:([+-])=|)("+wa+")([a-z%]*)$","i"),pb=/queueHooks$/,Ya=[function(b,d,f){var e,c,g,h,l,q=this,v={},C=b.style,x=b.nodeType&&xa(b),k=Y.get(b,"fxshow");f.queue||(h=t._queueHooks(b,"fx"),null==h.unqueued&&(h.unqueued=0,l=h.empty.fire,h.empty.fire=function(){h.unqueued||l()}),h.unqueued++,q.always(function(){q.always(function(){h.unqueued--;
t.queue(b,"fx").length||h.empty.fire()})}));if(1===b.nodeType&&("height"in d||"width"in d))f.overflow=[C.overflow,C.overflowX,C.overflowY],c=t.css(b,"display"),"none"===c&&(c=S(b.nodeName)),"inline"===c&&"none"===t.css(b,"float")&&(C.display="inline-block");f.overflow&&(C.overflow="hidden",q.always(function(){C.overflow=f.overflow[0];C.overflowX=f.overflow[1];C.overflowY=f.overflow[2]}));for(e in d)if(c=d[e],ob.exec(c)){delete d[e];g=g||"toggle"===c;if(c===(x?"hide":"show"))if("show"===c&&k&&void 0!==
k[e])x=!0;else continue;v[e]=k&&k[e]||t.style(b,e)}if(!t.isEmptyObject(v))for(e in k?"hidden"in k&&(x=k.hidden):k=Y.access(b,"fxshow",{}),g&&(k.hidden=!x),x?t(b).show():q.done(function(){t(b).hide()}),q.done(function(){var d;Y.remove(b,"fxshow");for(d in v)t.style(b,d,v[d])}),v)d=Ia(x?k[e]:0,e,q),e in k||(k[e]=d.start,x&&(d.end=d.start,d.start="width"===e||"height"===e?1:0))}],Ra={"*":[function(b,d){var f=this.createTween(b,d),e=f.cur(),c=hb.exec(d),g=c&&c[3]||(t.cssNumber[b]?"":"px"),h=(t.cssNumber[b]||
"px"!==g&&+e)&&hb.exec(t.css(f.elem,b)),l=1,q=20;if(h&&h[3]!==g){g=g||h[3];c=c||[];h=+e||1;do l=l||".5",h/=l,t.style(f.elem,b,h+g);while(l!==(l=f.cur()/e)&&1!==l&&--q)}c&&(h=f.start=+h||+e||0,f.unit=g,f.end=c[1]?h+(c[1]+1)*c[2]:+c[2]);return f}]};t.Animation=t.extend(B,{tweener:function(b,d){t.isFunction(b)?(d=b,b=["*"]):b=b.split(" ");for(var f,e=0,c=b.length;e<c;e++)f=b[e],Ra[f]=Ra[f]||[],Ra[f].unshift(d)},prefilter:function(b,d){d?Ya.unshift(b):Ya.push(b)}});t.speed=function(b,d,f){var e=b&&"object"===
typeof b?t.extend({},b):{complete:f||!f&&d||t.isFunction(b)&&b,duration:b,easing:f&&d||d&&!t.isFunction(d)&&d};e.duration=t.fx.off?0:"number"===typeof e.duration?e.duration:e.duration in t.fx.speeds?t.fx.speeds[e.duration]:t.fx.speeds._default;if(null==e.queue||!0===e.queue)e.queue="fx";e.old=e.complete;e.complete=function(){t.isFunction(e.old)&&e.old.call(this);e.queue&&t.dequeue(this,e.queue)};return e};t.fn.extend({fadeTo:function(b,d,f,e){return this.filter(xa).css("opacity",0).show().end().animate({opacity:d},
b,f,e)},animate:function(b,d,f,e){var c=t.isEmptyObject(b),g=t.speed(d,f,e);d=function(){var d=B(this,t.extend({},b),g);(c||Y.get(this,"finish"))&&d.stop(!0)};d.finish=d;return c||!1===g.queue?this.each(d):this.queue(g.queue,d)},stop:function(b,d,f){var e=function(b){var d=b.stop;delete b.stop;d(f)};"string"!==typeof b&&(f=d,d=b,b=void 0);d&&!1!==b&&this.queue(b||"fx",[]);return this.each(function(){var d=!0,c=null!=b&&b+"queueHooks",g=t.timers,h=Y.get(this);if(c)h[c]&&h[c].stop&&e(h[c]);else for(c in h)h[c]&&
(h[c].stop&&pb.test(c))&&e(h[c]);for(c=g.length;c--;)if(g[c].elem===this&&(null==b||g[c].queue===b))g[c].anim.stop(f),d=!1,g.splice(c,1);(d||!f)&&t.dequeue(this,b)})},finish:function(b){!1!==b&&(b=b||"fx");return this.each(function(){var d,f=Y.get(this),e=f[b+"queue"];d=f[b+"queueHooks"];var c=t.timers,g=e?e.length:0;f.finish=!0;t.queue(this,b,[]);d&&d.stop&&d.stop.call(this,!0);for(d=c.length;d--;)c[d].elem===this&&c[d].queue===b&&(c[d].anim.stop(!0),c.splice(d,1));for(d=0;d<g;d++)e[d]&&e[d].finish&&
e[d].finish.call(this);delete f.finish})}});t.each(["toggle","show","hide"],function(b,d){var f=t.fn[d];t.fn[d]=function(b,e,c){return null==b||"boolean"===typeof b?f.apply(this,arguments):this.animate(ka(d,!0),b,e,c)}});t.each({slideDown:ka("show"),slideUp:ka("hide"),slideToggle:ka("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(b,d){t.fn[b]=function(b,f,e){return this.animate(d,b,f,e)}});t.timers=[];t.fx.tick=function(){var b,d=0,f=t.timers;for(Ka=
t.now();d<f.length;d++)b=f[d],!b()&&f[d]===b&&f.splice(d--,1);f.length||t.fx.stop();Ka=void 0};t.fx.timer=function(b){t.timers.push(b);b()?t.fx.start():t.timers.pop()};t.fx.interval=13;t.fx.start=function(){Wa||(Wa=setInterval(t.fx.tick,t.fx.interval))};t.fx.stop=function(){clearInterval(Wa);Wa=null};t.fx.speeds={slow:600,fast:200,_default:400};t.fn.delay=function(b,d){b=t.fx?t.fx.speeds[b]||b:b;return this.queue(d||"fx",function(d,f){var e=setTimeout(d,b);f.stop=function(){clearTimeout(e)}})};(function(){var b=
O.createElement("input"),d=O.createElement("select"),f=d.appendChild(O.createElement("option"));b.type="checkbox";P.checkOn=""!==b.value;P.optSelected=f.selected;d.disabled=!0;P.optDisabled=!f.disabled;b=O.createElement("input");b.value="t";b.type="radio";P.radioValue="t"===b.value})();var lb,Ta=t.expr.attrHandle;t.fn.extend({attr:function(b,d){return na(this,t.attr,b,d,1<arguments.length)},removeAttr:function(b){return this.each(function(){t.removeAttr(this,b)})}});t.extend({attr:function(b,d,f){var e,
c,g=b.nodeType;if(b&&!(3===g||8===g||2===g)){if("undefined"===typeof b.getAttribute)return t.prop(b,d,f);if(1!==g||!t.isXMLDoc(b))d=d.toLowerCase(),e=t.attrHooks[d]||(t.expr.match.bool.test(d)?lb:void 0);if(void 0!==f)if(null===f)t.removeAttr(b,d);else{if(e&&"set"in e&&void 0!==(c=e.set(b,f,d)))return c;b.setAttribute(d,f+"");return f}else{if(e&&"get"in e&&null!==(c=e.get(b,d)))return c;c=t.find.attr(b,d);return null==c?void 0:c}}},removeAttr:function(b,d){var f,e,c=0,g=d&&d.match(ea);if(g&&1===b.nodeType)for(;f=
g[c++];)e=t.propFix[f]||f,t.expr.match.bool.test(f)&&(b[e]=!1),b.removeAttribute(f)},attrHooks:{type:{set:function(b,d){if(!P.radioValue&&"radio"===d&&t.nodeName(b,"input")){var f=b.value;b.setAttribute("type",d);f&&(b.value=f);return d}}}}});lb={set:function(b,d,f){!1===d?t.removeAttr(b,f):b.setAttribute(f,f);return f}};t.each(t.expr.match.bool.source.match(/\w+/g),function(b,d){var f=Ta[d]||t.find.attr;Ta[d]=function(b,d,e){var c,g;e||(g=Ta[d],Ta[d]=c,c=null!=f(b,d,e)?d.toLowerCase():null,Ta[d]=
g);return c}});var sb=/^(?:input|select|textarea|button)$/i;t.fn.extend({prop:function(b,d){return na(this,t.prop,b,d,1<arguments.length)},removeProp:function(b){return this.each(function(){delete this[t.propFix[b]||b]})}});t.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(b,d,f){var e,c,g;g=b.nodeType;if(b&&!(3===g||8===g||2===g)){if(g=1!==g||!t.isXMLDoc(b))d=t.propFix[d]||d,c=t.propHooks[d];return void 0!==f?c&&"set"in c&&void 0!==(e=c.set(b,f,d))?e:b[d]=f:c&&"get"in c&&null!==
(e=c.get(b,d))?e:b[d]}},propHooks:{tabIndex:{get:function(b){return b.hasAttribute("tabindex")||sb.test(b.nodeName)||b.href?b.tabIndex:-1}}}});P.optSelected||(t.propHooks.selected={get:function(b){(b=b.parentNode)&&b.parentNode&&b.parentNode.selectedIndex;return null}});t.each("tabIndex readOnly maxLength cellSpacing cellPadding rowSpan colSpan useMap frameBorder contentEditable".split(" "),function(){t.propFix[this.toLowerCase()]=this});var bb=/[\t\r\n\f]/g;t.fn.extend({addClass:function(b){var d,
f,e,c,g;d="string"===typeof b&&b;var h=0,l=this.length;if(t.isFunction(b))return this.each(function(d){t(this).addClass(b.call(this,d,this.className))});if(d)for(d=(b||"").match(ea)||[];h<l;h++)if(f=this[h],e=1===f.nodeType&&(f.className?(" "+f.className+" ").replace(bb," "):" ")){for(g=0;c=d[g++];)0>e.indexOf(" "+c+" ")&&(e+=c+" ");e=t.trim(e);f.className!==e&&(f.className=e)}return this},removeClass:function(b){var d,f,e,c,g;d=0===arguments.length||"string"===typeof b&&b;var h=0,l=this.length;if(t.isFunction(b))return this.each(function(d){t(this).removeClass(b.call(this,
d,this.className))});if(d)for(d=(b||"").match(ea)||[];h<l;h++)if(f=this[h],e=1===f.nodeType&&(f.className?(" "+f.className+" ").replace(bb," "):"")){for(g=0;c=d[g++];)for(;0<=e.indexOf(" "+c+" ");)e=e.replace(" "+c+" "," ");e=b?t.trim(e):"";f.className!==e&&(f.className=e)}return this},toggleClass:function(b,d){var f=typeof b;return"boolean"===typeof d&&"string"===f?d?this.addClass(b):this.removeClass(b):t.isFunction(b)?this.each(function(f){t(this).toggleClass(b.call(this,f,this.className,d),d)}):
this.each(function(){if("string"===f)for(var d,e=0,c=t(this),g=b.match(ea)||[];d=g[e++];)c.hasClass(d)?c.removeClass(d):c.addClass(d);else if("undefined"===f||"boolean"===f)this.className&&Y.set(this,"__className__",this.className),this.className=this.className||!1===b?"":Y.get(this,"__className__")||""})},hasClass:function(b){b=" "+b+" ";for(var d=0,f=this.length;d<f;d++)if(1===this[d].nodeType&&0<=(" "+this[d].className+" ").replace(bb," ").indexOf(b))return!0;return!1}});var ub=/\r/g;t.fn.extend({val:function(b){var d,
f,e,c=this[0];if(arguments.length)return e=t.isFunction(b),this.each(function(f){if(1===this.nodeType&&(f=e?b.call(this,f,t(this).val()):b,null==f?f="":"number"===typeof f?f+="":t.isArray(f)&&(f=t.map(f,function(b){return null==b?"":b+""})),d=t.valHooks[this.type]||t.valHooks[this.nodeName.toLowerCase()],!d||!("set"in d)||void 0===d.set(this,f,"value")))this.value=f});if(c){if((d=t.valHooks[c.type]||t.valHooks[c.nodeName.toLowerCase()])&&"get"in d&&void 0!==(f=d.get(c,"value")))return f;f=c.value;
return"string"===typeof f?f.replace(ub,""):null==f?"":f}}});t.extend({valHooks:{select:{get:function(b){for(var d,f=b.options,e=b.selectedIndex,c=(b="select-one"===b.type||0>e)?null:[],g=b?e+1:f.length,h=0>e?g:b?e:0;h<g;h++)if(d=f[h],(d.selected||h===e)&&(P.optDisabled?!d.disabled:null===d.getAttribute("disabled"))&&(!d.parentNode.disabled||!t.nodeName(d.parentNode,"optgroup"))){d=t(d).val();if(b)return d;c.push(d)}return c},set:function(b,d){for(var f,e,c=b.options,g=t.makeArray(d),h=c.length;h--;)if(e=
c[h],e.selected=0<=t.inArray(t(e).val(),g))f=!0;f||(b.selectedIndex=-1);return g}}}});t.each(["radio","checkbox"],function(){t.valHooks[this]={set:function(b,d){if(t.isArray(d))return b.checked=0<=t.inArray(t(b).val(),d)}};P.checkOn||(t.valHooks[this].get=function(b){return null===b.getAttribute("value")?"on":b.value})});t.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),
function(b,d){t.fn[d]=function(b,f){return 0<arguments.length?this.on(d,null,b,f):this.trigger(d)}});t.fn.extend({hover:function(b,d){return this.mouseenter(b).mouseleave(d||b)},bind:function(b,d,f){return this.on(b,null,d,f)},unbind:function(b,d){return this.off(b,null,d)},delegate:function(b,d,f,e){return this.on(d,b,f,e)},undelegate:function(b,d,f){return 1===arguments.length?this.off(b,"**"):this.off(d,b||"**",f)}});var gb=t.now(),jb=/\?/;t.parseJSON=function(b){return JSON.parse(b+"")};t.parseXML=
function(b){var d,f;if(!b||"string"!==typeof b)return null;try{f=new DOMParser,d=f.parseFromString(b,"text/xml")}catch(e){d=void 0}(!d||d.getElementsByTagName("parsererror").length)&&t.error("Invalid XML: "+b);return d};var Nb,Ab,Bb=/#.*$/,qb=/([?&])_=[^&]*/,Cb=/^(.*?):[ \t]*([^\r\n]*)$/mg,Db=/^(?:GET|HEAD)$/,Fb=/^\/\//,tb=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,vb={},nb={},wb="*/".concat("*");try{Ab=location.href}catch(Rb){Ab=O.createElement("a"),Ab.href="",Ab=Ab.href}Nb=tb.exec(Ab.toLowerCase())||
[];t.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ab,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Nb[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":wb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,
"text html":!0,"text json":t.parseJSON,"text xml":t.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(b,d){return d?V(V(b,t.ajaxSettings),d):V(t.ajaxSettings,b)},ajaxPrefilter:F(vb),ajaxTransport:F(nb),ajax:function(b,d){function f(b,d,h,q){var C,U,K,Q;Q=d;if(2!==N){N=2;l&&clearTimeout(l);e=void 0;g=q||"";y.readyState=0<b?4:0;q=200<=b&&300>b||304===b;if(h){K=x;for(var S=y,R,V,Z,n,s=K.contents,ka=K.dataTypes;"*"===ka[0];)ka.shift(),void 0===R&&(R=K.mimeType||S.getResponseHeader("Content-Type"));
if(R)for(V in s)if(s[V]&&s[V].test(R)){ka.unshift(V);break}if(ka[0]in h)Z=ka[0];else{for(V in h){if(!ka[0]||K.converters[V+" "+ka[0]]){Z=V;break}n||(n=V)}Z=Z||n}Z?(Z!==ka[0]&&ka.unshift(Z),K=h[Z]):K=void 0}a:{h=x;R=K;V=y;Z=q;var u,ca,w,S={},s=h.dataTypes.slice();if(s[1])for(ca in h.converters)S[ca.toLowerCase()]=h.converters[ca];for(n=s.shift();n;)if(h.responseFields[n]&&(V[h.responseFields[n]]=R),!w&&(Z&&h.dataFilter)&&(R=h.dataFilter(R,h.dataType)),w=n,n=s.shift())if("*"===n)n=w;else if("*"!==w&&
w!==n){ca=S[w+" "+n]||S["* "+n];if(!ca)for(u in S)if(K=u.split(" "),K[1]===n&&(ca=S[w+" "+K[0]]||S["* "+K[0]])){!0===ca?ca=S[u]:!0!==S[u]&&(n=K[0],s.unshift(K[1]));break}if(!0!==ca)if(ca&&h["throws"])R=ca(R);else try{R=ca(R)}catch(Ga){K={state:"parsererror",error:ca?Ga:"No conversion from "+w+" to "+n};break a}}K={state:"success",data:R}}if(q)x.ifModified&&((Q=y.getResponseHeader("Last-Modified"))&&(t.lastModified[c]=Q),(Q=y.getResponseHeader("etag"))&&(t.etag[c]=Q)),204===b||"HEAD"===x.type?Q="nocontent":
304===b?Q="notmodified":(Q=K.state,C=K.data,U=K.error,q=!U);else if(U=Q,b||!Q)Q="error",0>b&&(b=0);y.status=b;y.statusText=(d||Q)+"";q?D.resolveWith(k,[C,Q,y]):D.rejectWith(k,[y,Q,U]);y.statusCode(L);L=void 0;v&&I.trigger(q?"ajaxSuccess":"ajaxError",[y,x,q?C:U]);m.fireWith(k,[y,Q]);v&&(I.trigger("ajaxComplete",[y,x]),--t.active||t.event.trigger("ajaxStop"))}}"object"===typeof b&&(d=b,b=void 0);d=d||{};var e,c,g,h,l,q,v,C,x=t.ajaxSetup({},d),k=x.context||x,I=x.context&&(k.nodeType||k.jquery)?t(k):
t.event,D=t.Deferred(),m=t.Callbacks("once memory"),L=x.statusCode||{},U={},K={},N=0,Q="canceled",y={readyState:0,getResponseHeader:function(b){var d;if(2===N){if(!h)for(h={};d=Cb.exec(g);)h[d[1].toLowerCase()]=d[2];d=h[b.toLowerCase()]}return null==d?null:d},getAllResponseHeaders:function(){return 2===N?g:null},setRequestHeader:function(b,d){var f=b.toLowerCase();N||(b=K[f]=K[f]||b,U[b]=d);return this},overrideMimeType:function(b){N||(x.mimeType=b);return this},statusCode:function(b){var d;if(b)if(2>
N)for(d in b)L[d]=[L[d],b[d]];else y.always(b[y.status]);return this},abort:function(b){b=b||Q;e&&e.abort(b);f(0,b);return this}};D.promise(y).complete=m.add;y.success=y.done;y.error=y.fail;x.url=((b||x.url||Ab)+"").replace(Bb,"").replace(Fb,Nb[1]+"//");x.type=d.method||d.type||x.method||x.type;x.dataTypes=t.trim(x.dataType||"*").toLowerCase().match(ea)||[""];null==x.crossDomain&&(q=tb.exec(x.url.toLowerCase()),x.crossDomain=!(!q||!(q[1]!==Nb[1]||q[2]!==Nb[2]||(q[3]||("http:"===q[1]?"80":"443"))!==
(Nb[3]||("http:"===Nb[1]?"80":"443")))));x.data&&(x.processData&&"string"!==typeof x.data)&&(x.data=t.param(x.data,x.traditional));G(vb,x,d,y);if(2===N)return y;(v=x.global)&&0===t.active++&&t.event.trigger("ajaxStart");x.type=x.type.toUpperCase();x.hasContent=!Db.test(x.type);c=x.url;x.hasContent||(x.data&&(c=x.url+=(jb.test(c)?"&":"?")+x.data,delete x.data),!1===x.cache&&(x.url=qb.test(c)?c.replace(qb,"$1_="+gb++):c+(jb.test(c)?"&":"?")+"_="+gb++));x.ifModified&&(t.lastModified[c]&&y.setRequestHeader("If-Modified-Since",
t.lastModified[c]),t.etag[c]&&y.setRequestHeader("If-None-Match",t.etag[c]));(x.data&&x.hasContent&&!1!==x.contentType||d.contentType)&&y.setRequestHeader("Content-Type",x.contentType);y.setRequestHeader("Accept",x.dataTypes[0]&&x.accepts[x.dataTypes[0]]?x.accepts[x.dataTypes[0]]+("*"!==x.dataTypes[0]?", "+wb+"; q=0.01":""):x.accepts["*"]);for(C in x.headers)y.setRequestHeader(C,x.headers[C]);if(x.beforeSend&&(!1===x.beforeSend.call(k,y,x)||2===N))return y.abort();Q="abort";for(C in{success:1,error:1,
complete:1})y[C](x[C]);if(e=G(nb,x,d,y)){y.readyState=1;v&&I.trigger("ajaxSend",[y,x]);x.async&&0<x.timeout&&(l=setTimeout(function(){y.abort("timeout")},x.timeout));try{N=1,e.send(U,f)}catch(S){if(2>N)f(-1,S);else throw S;}}else f(-1,"No Transport");return y},getJSON:function(b,d,f){return t.get(b,d,f,"json")},getScript:function(b,d){return t.get(b,void 0,d,"script")}});t.each(["get","post"],function(b,d){t[d]=function(b,f,e,c){t.isFunction(f)&&(c=c||e,e=f,f=void 0);return t.ajax({url:b,type:d,dataType:c,
data:f,success:e})}});t.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(b,d){t.fn[d]=function(b){return this.on(d,b)}});t._evalUrl=function(b){return t.ajax({url:b,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})};t.fn.extend({wrapAll:function(b){var d;if(t.isFunction(b))return this.each(function(d){t(this).wrapAll(b.call(this,d))});this[0]&&(d=t(b,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&d.insertBefore(this[0]),d.map(function(){for(var b=
this;b.firstElementChild;)b=b.firstElementChild;return b}).append(this));return this},wrapInner:function(b){return t.isFunction(b)?this.each(function(d){t(this).wrapInner(b.call(this,d))}):this.each(function(){var d=t(this),f=d.contents();f.length?f.wrapAll(b):d.append(b)})},wrap:function(b){var d=t.isFunction(b);return this.each(function(f){t(this).wrapAll(d?b.call(this,f):b)})},unwrap:function(){return this.parent().each(function(){t.nodeName(this,"body")||t(this).replaceWith(this.childNodes)}).end()}});
t.expr.filters.hidden=function(b){return 0>=b.offsetWidth&&0>=b.offsetHeight};t.expr.filters.visible=function(b){return!t.expr.filters.hidden(b)};var Ib=/%20/g,Jb=/\[\]$/,xb=/\r?\n/g,Kb=/^(?:submit|button|image|reset|file)$/i,Lb=/^(?:input|select|textarea|keygen)/i;t.param=function(b,d){var f,e=[],c=function(b,d){d=t.isFunction(d)?d():null==d?"":d;e[e.length]=encodeURIComponent(b)+"="+encodeURIComponent(d)};void 0===d&&(d=t.ajaxSettings&&t.ajaxSettings.traditional);if(t.isArray(b)||b.jquery&&!t.isPlainObject(b))t.each(b,
function(){c(this.name,this.value)});else for(f in b)ca(f,b[f],d,c);return e.join("&").replace(Ib,"+")};t.fn.extend({serialize:function(){return t.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var b=t.prop(this,"elements");return b?t.makeArray(b):this}).filter(function(){var b=this.type;return this.name&&!t(this).is(":disabled")&&Lb.test(this.nodeName)&&!Kb.test(b)&&(this.checked||!Aa.test(b))}).map(function(b,d){var f=t(this).val();return null==f?null:t.isArray(f)?
t.map(f,function(b){return{name:d.name,value:b.replace(xb,"\r\n")}}):{name:d.name,value:f.replace(xb,"\r\n")}}).get()}});t.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(b){}};var Mb=0,kb={},Ob={0:200,1223:204},ab=t.ajaxSettings.xhr();if(c.ActiveXObject)t(c).on("unload",function(){for(var b in kb)kb[b]()});P.cors=!!ab&&"withCredentials"in ab;P.ajax=ab=!!ab;t.ajaxTransport(function(b){var d;if(P.cors||ab&&!b.crossDomain)return{send:function(f,e){var c,g=b.xhr(),h=++Mb;g.open(b.type,
b.url,b.async,b.username,b.password);if(b.xhrFields)for(c in b.xhrFields)g[c]=b.xhrFields[c];b.mimeType&&g.overrideMimeType&&g.overrideMimeType(b.mimeType);!b.crossDomain&&!f["X-Requested-With"]&&(f["X-Requested-With"]="XMLHttpRequest");for(c in f)g.setRequestHeader(c,f[c]);d=function(b){return function(){d&&(delete kb[h],d=g.onload=g.onerror=null,"abort"===b?g.abort():"error"===b?e(g.status,g.statusText):e(Ob[g.status]||g.status,g.statusText,"string"===typeof g.responseText?{text:g.responseText}:
void 0,g.getAllResponseHeaders()))}};g.onload=d();g.onerror=d("error");d=kb[h]=d("abort");g.send(b.hasContent&&b.data||null)},abort:function(){d&&d()}}});t.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(b){t.globalEval(b);return b}}});t.ajaxPrefilter("script",function(b){void 0===b.cache&&(b.cache=!1);b.crossDomain&&(b.type="GET")});t.ajaxTransport("script",
function(b){if(b.crossDomain){var d,f;return{send:function(e,c){d=t("<script>").prop({async:!0,charset:b.scriptCharset,src:b.url}).on("load error",f=function(b){d.remove();f=null;b&&c("error"===b.type?404:200,b.type)});O.head.appendChild(d[0])},abort:function(){f&&f()}}}});var Eb=[],rb=/(=)\?(?=&|$)|\?\?/;t.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var b=Eb.pop()||t.expando+"_"+gb++;this[b]=!0;return b}});t.ajaxPrefilter("json jsonp",function(b,d,f){var e,g,h,l=!1!==b.jsonp&&(rb.test(b.url)?
"url":"string"===typeof b.data&&!(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&rb.test(b.data)&&"data");if(l||"jsonp"===b.dataTypes[0])return e=b.jsonpCallback=t.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,l?b[l]=b[l].replace(rb,"$1"+e):!1!==b.jsonp&&(b.url+=(jb.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){h||t.error(e+" was not called");return h[0]},b.dataTypes[0]="json",g=c[e],c[e]=function(){h=arguments},f.always(function(){c[e]=
g;b[e]&&(b.jsonpCallback=d.jsonpCallback,Eb.push(e));h&&t.isFunction(g)&&g(h[0]);h=g=void 0}),"script"});t.parseHTML=function(b,d,f){if(!b||"string"!==typeof b)return null;"boolean"===typeof d&&(f=d,d=!1);d=d||O;var e=ja.exec(b);f=!f&&[];if(e)return[d.createElement(e[1])];e=t.buildFragment([b],d,f);f&&f.length&&t(f).remove();return t.merge([],e.childNodes)};var Gb=t.fn.load;t.fn.load=function(b,d,f){if("string"!==typeof b&&Gb)return Gb.apply(this,arguments);var e,c,g,h=this,l=b.indexOf(" ");0<=l&&
(e=b.slice(l),b=b.slice(0,l));t.isFunction(d)?(f=d,d=void 0):d&&"object"===typeof d&&(c="POST");0<h.length&&t.ajax({url:b,type:c,dataType:"html",data:d}).done(function(b){g=arguments;h.html(e?t("<div>").append(t.parseHTML(b)).find(e):b)}).complete(f&&function(b,d){h.each(f,g||[b.responseText,d,b])});return this};t.expr.filters.animated=function(b){return t.grep(t.timers,function(d){return b===d.elem}).length};var Hb=c.document.documentElement;t.offset={setOffset:function(b,d,f){var e,c,g,h=t.css(b,
"position"),l=t(b),q={};"static"===h&&(b.style.position="relative");g=l.offset();c=t.css(b,"top");e=t.css(b,"left");("absolute"===h||"fixed"===h)&&-1<(c+e).indexOf("auto")?(e=l.position(),c=e.top,e=e.left):(c=parseFloat(c)||0,e=parseFloat(e)||0);t.isFunction(d)&&(d=d.call(b,f,g));null!=d.top&&(q.top=d.top-g.top+c);null!=d.left&&(q.left=d.left-g.left+e);"using"in d?d.using.call(b,q):l.css(q)}};t.fn.extend({offset:function(b){if(arguments.length)return void 0===b?this:this.each(function(d){t.offset.setOffset(this,
b,d)});var d,f;f=this[0];var e={top:0,left:0},c=f&&f.ownerDocument;if(c){d=c.documentElement;if(!t.contains(d,f))return e;"undefined"!==typeof f.getBoundingClientRect&&(e=f.getBoundingClientRect());f=t.isWindow(c)?c:9===c.nodeType&&c.defaultView;return{top:e.top+f.pageYOffset-d.clientTop,left:e.left+f.pageXOffset-d.clientLeft}}},position:function(){if(this[0]){var b,d,f=this[0],e={top:0,left:0};"fixed"===t.css(f,"position")?d=f.getBoundingClientRect():(b=this.offsetParent(),d=this.offset(),t.nodeName(b[0],
"html")||(e=b.offset()),e.top+=t.css(b[0],"borderTopWidth",!0),e.left+=t.css(b[0],"borderLeftWidth",!0));return{top:d.top-e.top-t.css(f,"marginTop",!0),left:d.left-e.left-t.css(f,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var b=this.offsetParent||Hb;b&&!t.nodeName(b,"html")&&"static"===t.css(b,"position");)b=b.offsetParent;return b||Hb})}});t.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(b,d){var f="pageYOffset"===d;t.fn[b]=function(e){return na(this,
function(b,e,g){var h=t.isWindow(b)?b:9===b.nodeType&&b.defaultView;if(void 0===g)return h?h[d]:b[e];h?h.scrollTo(!f?g:c.pageXOffset,f?g:c.pageYOffset):b[e]=g},b,e,arguments.length,null)}});t.each(["top","left"],function(b,d){t.cssHooks[d]=y(P.pixelPosition,function(b,f){if(f)return f=R(b,d),Qa.test(f)?t(b).position()[d]+"px":f})});t.each({Height:"height",Width:"width"},function(b,d){t.each({padding:"inner"+b,content:d,"":"outer"+b},function(f,e){t.fn[e]=function(e,c){var g=arguments.length&&(f||
"boolean"!==typeof e),h=f||(!0===e||!0===c?"margin":"border");return na(this,function(d,f,e){return t.isWindow(d)?d.document.documentElement["client"+b]:9===d.nodeType?(f=d.documentElement,Math.max(d.body["scroll"+b],f["scroll"+b],d.body["offset"+b],f["offset"+b],f["client"+b])):void 0===e?t.css(d,f,h):t.style(d,f,e,h)},d,g?e:void 0,g,null)}})});t.fn.size=function(){return this.length};t.fn.andSelf=t.fn.addBack;"function"===typeof define&&define.amd&&define("jquery",[],function(){return t});var Pb=
c.jQuery,Qb=c.$;t.noConflict=function(b){c.$===t&&(c.$=Qb);b&&c.jQuery===t&&(c.jQuery=Pb);return t};"undefined"===typeof b&&(c.jQuery=c.$=t);return t});(function(c,b){function d(b,d){var e,g;e=b.nodeName.toLowerCase();if("area"===e){e=b.parentNode;g=e.name;if(!b.href||!g||"map"!==e.nodeName.toLowerCase())return!1;e=c("img[usemap=#"+g+"]")[0];return!!e&&f(e)}return(/input|select|textarea|button|object/.test(e)?!b.disabled:"a"===e?b.href||d:d)&&f(b)}function f(b){return c.expr.filters.visible(b)&&!c(b).parents().addBack().filter(function(){return"hidden"===
c.css(this,"visibility")}).length}var g=0,e=/^ui-id-\d+$/;c.ui=c.ui||{};c.extend(c.ui,{version:"1.10.3",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}});c.fn.extend({focus:function(b){return function(d,f){return"number"===typeof d?this.each(function(){var b=this;setTimeout(function(){c(b).focus();
f&&f.call(b)},d)}):b.apply(this,arguments)}}(c.fn.focus),scrollParent:function(){var b;b=c.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(c.css(this,"position"))&&/(auto|scroll)/.test(c.css(this,"overflow")+c.css(this,"overflow-y")+c.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(c.css(this,"overflow")+c.css(this,"overflow-y")+c.css(this,
"overflow-x"))}).eq(0);return/fixed/.test(this.css("position"))||!b.length?c(document):b},zIndex:function(d){if(d!==b)return this.css("zIndex",d);if(this.length){d=c(this[0]);for(var f;d.length&&d[0]!==document;){f=d.css("position");if("absolute"===f||"relative"===f||"fixed"===f)if(f=parseInt(d.css("zIndex"),10),!isNaN(f)&&0!==f)return f;d=d.parent()}}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++g)})},removeUniqueId:function(){return this.each(function(){e.test(this.id)&&
c(this).removeAttr("id")})}});c.extend(c.expr[":"],{data:c.expr.createPseudo?c.expr.createPseudo(function(b){return function(d){return!!c.data(d,b)}}):function(b,d,f){return!!c.data(b,f[3])},focusable:function(b){return d(b,!isNaN(c.attr(b,"tabindex")))},tabbable:function(b){var f=c.attr(b,"tabindex"),e=isNaN(f);return(e||0<=f)&&d(b,!e)}});c("<a>").outerWidth(1).jquery||c.each(["Width","Height"],function(d,f){function e(b,d,f,h){c.each(g,function(){d-=parseFloat(c.css(b,"padding"+this))||0;f&&(d-=
parseFloat(c.css(b,"border"+this+"Width"))||0);h&&(d-=parseFloat(c.css(b,"margin"+this))||0)});return d}var g="Width"===f?["Left","Right"]:["Top","Bottom"],x=f.toLowerCase(),k={innerWidth:c.fn.innerWidth,innerHeight:c.fn.innerHeight,outerWidth:c.fn.outerWidth,outerHeight:c.fn.outerHeight};c.fn["inner"+f]=function(d){return d===b?k["inner"+f].call(this):this.each(function(){c(this).css(x,e(this,d)+"px")})};c.fn["outer"+f]=function(b,d){return"number"!==typeof b?k["outer"+f].call(this,b):this.each(function(){c(this).css(x,
e(this,b,!0,d)+"px")})}});c.fn.addBack||(c.fn.addBack=function(b){return this.add(null==b?this.prevObject:this.prevObject.filter(b))});c("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(c.fn.removeData=function(b){return function(d){return arguments.length?b.call(this,c.camelCase(d)):b.call(this)}}(c.fn.removeData));c.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());c.support.selectstart="onselectstart"in document.createElement("div");c.fn.extend({disableSelection:function(){return this.bind((c.support.selectstart?
"selectstart":"mousedown")+".ui-disableSelection",function(b){b.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}});c.extend(c.ui,{plugin:{add:function(b,d,f){var e;b=c.ui[b].prototype;for(e in f)b.plugins[e]=b.plugins[e]||[],b.plugins[e].push([d,f[e]])},call:function(b,d,f){var e=b.plugins[d];if(e&&b.element[0].parentNode&&11!==b.element[0].parentNode.nodeType)for(d=0;d<e.length;d++)b.options[e[d][0]]&&e[d][1].apply(b.element,f)}},hasScroll:function(b,d){if("hidden"===
c(b).css("overflow"))return!1;var f=d&&"left"===d?"scrollLeft":"scrollTop",e=!1;if(0<b[f])return!0;b[f]=1;e=0<b[f];b[f]=0;return e}})})(jQuery);(function(c,b){var d=0,f=Array.prototype.slice,g=c.cleanData;c.cleanData=function(b){for(var d=0,f;null!=(f=b[d]);d++)try{c(f).triggerHandler("remove")}catch(q){}g(b)};c.widget=function(b,d,f){var g,v,x,k,m={},D=b.split(".")[0];b=b.split(".")[1];g=D+"-"+b;f||(f=d,d=c.Widget);c.expr[":"][g.toLowerCase()]=function(b){return!!c.data(b,g)};c[D]=c[D]||{};v=c[D][b];
x=c[D][b]=function(b,d){if(!this._createWidget)return new x(b,d);arguments.length&&this._createWidget(b,d)};c.extend(x,v,{version:f.version,_proto:c.extend({},f),_childConstructors:[]});k=new d;k.options=c.widget.extend({},k.options);c.each(f,function(b,f){c.isFunction(f)?m[b]=function(){var e=function(){return d.prototype[b].apply(this,arguments)},c=function(f){return d.prototype[b].apply(this,f)};return function(){var b=this._super,d=this._superApply,g;this._super=e;this._superApply=c;g=f.apply(this,
arguments);this._super=b;this._superApply=d;return g}}():m[b]=f});x.prototype=c.widget.extend(k,{widgetEventPrefix:v?k.widgetEventPrefix:b},m,{constructor:x,namespace:D,widgetName:b,widgetFullName:g});v?(c.each(v._childConstructors,function(b,d){var f=d.prototype;c.widget(f.namespace+"."+f.widgetName,x,d._proto)}),delete v._childConstructors):d._childConstructors.push(x);c.widget.bridge(b,x)};c.widget.extend=function(d){for(var g=f.call(arguments,1),l=0,q=g.length,v,x;l<q;l++)for(v in g[l])x=g[l][v],
g[l].hasOwnProperty(v)&&x!==b&&(c.isPlainObject(x)?d[v]=c.isPlainObject(d[v])?c.widget.extend({},d[v],x):c.widget.extend({},x):d[v]=x);return d};c.widget.bridge=function(d,g){var l=g.prototype.widgetFullName||d;c.fn[d]=function(q){var v="string"===typeof q,x=f.call(arguments,1),k=this;q=!v&&x.length?c.widget.extend.apply(null,[q].concat(x)):q;v?this.each(function(){var f,g=c.data(this,l);if(!g)return c.error("cannot call methods on "+d+" prior to initialization; attempted to call method '"+q+"'");
if(!c.isFunction(g[q])||"_"===q.charAt(0))return c.error("no such method '"+q+"' for "+d+" widget instance");f=g[q].apply(g,x);if(f!==g&&f!==b)return k=f&&f.jquery?k.pushStack(f.get()):f,!1}):this.each(function(){var b=c.data(this,l);b?b.option(q||{})._init():c.data(this,l,new g(q,this))});return k}};c.Widget=function(){};c.Widget._childConstructors=[];c.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(b,f){f=
c(f||this.defaultElement||this)[0];this.element=c(f);this.uuid=d++;this.eventNamespace="."+this.widgetName+this.uuid;this.options=c.widget.extend({},this.options,this._getCreateOptions(),b);this.bindings=c();this.hoverable=c();this.focusable=c();f!==this&&(c.data(f,this.widgetFullName,this),this._on(!0,this.element,{remove:function(b){b.target===f&&this.destroy()}}),this.document=c(f.style?f.ownerDocument:f.document||f),this.window=c(this.document[0].defaultView||this.document[0].parentWindow));this._create();
this._trigger("create",null,this._getCreateEventData());this._init()},_getCreateOptions:c.noop,_getCreateEventData:c.noop,_create:c.noop,_init:c.noop,destroy:function(){this._destroy();this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(c.camelCase(this.widgetFullName));this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled");this.bindings.unbind(this.eventNamespace);
this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")},_destroy:c.noop,widget:function(){return this.element},option:function(d,f){var g=d,q,v,x;if(0===arguments.length)return c.widget.extend({},this.options);if("string"===typeof d)if(g={},q=d.split("."),d=q.shift(),q.length){v=g[d]=c.widget.extend({},this.options[d]);for(x=0;x<q.length-1;x++)v[q[x]]=v[q[x]]||{},v=v[q[x]];d=q.pop();if(f===b)return v[d]===b?null:v[d];v[d]=f}else{if(f===b)return this.options[d]===
b?null:this.options[d];g[d]=f}this._setOptions(g);return this},_setOptions:function(b){for(var d in b)this._setOption(d,b[d]);return this},_setOption:function(b,d){this.options[b]=d;"disabled"===b&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!d).attr("aria-disabled",d),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"));return this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",
!0)},_on:function(b,d,f){var g,v=this;"boolean"!==typeof b&&(f=d,d=b,b=!1);f?(d=g=c(d),this.bindings=this.bindings.add(d)):(f=d,d=this.element,g=this.widget());c.each(f,function(f,l){function k(){if(b||!(!0===v.options.disabled||c(this).hasClass("ui-state-disabled")))return("string"===typeof l?v[l]:l).apply(v,arguments)}"string"!==typeof l&&(k.guid=l.guid=l.guid||k.guid||c.guid++);var m=f.match(/^(\w+)\s*(.*)$/),L=m[1]+v.eventNamespace;(m=m[2])?g.delegate(m,L,k):d.bind(L,k)})},_off:function(b,d){d=
(d||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;b.unbind(d).undelegate(d)},_delay:function(b,d){var f=this;return setTimeout(function(){return("string"===typeof b?f[b]:b).apply(f,arguments)},d||0)},_hoverable:function(b){this.hoverable=this.hoverable.add(b);this._on(b,{mouseenter:function(b){c(b.currentTarget).addClass("ui-state-hover")},mouseleave:function(b){c(b.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(b){this.focusable=this.focusable.add(b);this._on(b,
{focusin:function(b){c(b.currentTarget).addClass("ui-state-focus")},focusout:function(b){c(b.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(b,d,f){var g,v=this.options[b];f=f||{};d=c.Event(d);d.type=(b===this.widgetEventPrefix?b:this.widgetEventPrefix+b).toLowerCase();d.target=this.element[0];if(b=d.originalEvent)for(g in b)g in d||(d[g]=b[g]);this.element.trigger(d,f);return!(c.isFunction(v)&&!1===v.apply(this.element[0],[d].concat(f))||d.isDefaultPrevented())}};c.each({show:"fadeIn",
hide:"fadeOut"},function(b,d){c.Widget.prototype["_"+b]=function(f,g,v){"string"===typeof g&&(g={effect:g});var x,k=!g?b:!0===g||"number"===typeof g?d:g.effect||d;g=g||{};"number"===typeof g&&(g={duration:g});x=!c.isEmptyObject(g);g.complete=v;g.delay&&f.delay(g.delay);if(x&&c.effects&&c.effects.effect[k])f[b](g);else if(k!==b&&f[k])f[k](g.duration,g.easing,v);else f.queue(function(d){c(this)[b]();v&&v.call(f[0]);d()})}})})(jQuery);(function(c,b){var d=!1;c(document).mouseup(function(){d=!1});c.widget("ui.mouse",
{version:"1.10.3",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var b=this;this.element.bind("mousedown."+this.widgetName,function(d){return b._mouseDown(d)}).bind("click."+this.widgetName,function(d){if(!0===c.data(d.target,b.widgetName+".preventClickEvent"))return c.removeData(d.target,b.widgetName+".preventClickEvent"),d.stopImmediatePropagation(),!1});this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName);this._mouseMoveDelegate&&
c(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(b){if(!d){this._mouseStarted&&this._mouseUp(b);this._mouseDownEvent=b;var g=this,e=1===b.which,h="string"===typeof this.options.cancel&&b.target.nodeName?c(b.target).closest(this.options.cancel).length:!1;if(!e||h||!this._mouseCapture(b))return!0;this.mouseDelayMet=!this.options.delay;this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){g.mouseDelayMet=
!0},this.options.delay));if(this._mouseDistanceMet(b)&&this._mouseDelayMet(b)&&(this._mouseStarted=!1!==this._mouseStart(b),!this._mouseStarted))return b.preventDefault(),!0;!0===c.data(b.target,this.widgetName+".preventClickEvent")&&c.removeData(b.target,this.widgetName+".preventClickEvent");this._mouseMoveDelegate=function(b){return g._mouseMove(b)};this._mouseUpDelegate=function(b){return g._mouseUp(b)};c(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,
this._mouseUpDelegate);b.preventDefault();return d=!0}},_mouseMove:function(b){if(c.ui.ie&&(!document.documentMode||9>document.documentMode)&&!b.button)return this._mouseUp(b);if(this._mouseStarted)return this._mouseDrag(b),b.preventDefault();this._mouseDistanceMet(b)&&this._mouseDelayMet(b)&&((this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,b))?this._mouseDrag(b):this._mouseUp(b));return!this._mouseStarted},_mouseUp:function(b){c(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+
this.widgetName,this._mouseUpDelegate);this._mouseStarted&&(this._mouseStarted=!1,b.target===this._mouseDownEvent.target&&c.data(b.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(b));return!1},_mouseDistanceMet:function(b){return Math.max(Math.abs(this._mouseDownEvent.pageX-b.pageX),Math.abs(this._mouseDownEvent.pageY-b.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})})(jQuery);
(function(c,b){function d(b,d,f){return[parseFloat(b[0])*(m.test(b[0])?d/100:1),parseFloat(b[1])*(m.test(b[1])?f/100:1)]}function f(b){var d=b[0];return 9===d.nodeType?{width:b.width(),height:b.height(),offset:{top:0,left:0}}:c.isWindow(d)?{width:b.width(),height:b.height(),offset:{top:b.scrollTop(),left:b.scrollLeft()}}:d.preventDefault?{width:0,height:0,offset:{top:d.pageY,left:d.pageX}}:{width:b.outerWidth(),height:b.outerHeight(),offset:b.offset()}}c.ui=c.ui||{};var g,e=Math.max,h=Math.abs,l=
Math.round,q=/left|center|right/,v=/top|center|bottom/,x=/[\+\-]\d+(\.[\d]+)?%?/,k=/^\w+/,m=/%$/,D=c.fn.position;c.position={scrollbarWidth:function(){if(g!==b)return g;var d,f,e=c("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>");f=e.children()[0];c("body").append(e);d=f.offsetWidth;e.css("overflow","scroll");f=f.offsetWidth;d===f&&(f=e[0].clientWidth);e.remove();return g=d-f},getScrollInfo:function(b){var d=b.isWindow?"":b.element.css("overflow-x"),
f=b.isWindow?"":b.element.css("overflow-y"),d="scroll"===d||"auto"===d&&b.width<b.element[0].scrollWidth;return{width:"scroll"===f||"auto"===f&&b.height<b.element[0].scrollHeight?c.position.scrollbarWidth():0,height:d?c.position.scrollbarWidth():0}},getWithinInfo:function(b){b=c(b||window);var d=c.isWindow(b[0]);return{element:b,isWindow:d,offset:b.offset()||{left:0,top:0},scrollLeft:b.scrollLeft(),scrollTop:b.scrollTop(),width:d?b.width():b.outerWidth(),height:d?b.height():b.outerHeight()}}};c.fn.position=
function(b){if(!b||!b.of)return D.apply(this,arguments);b=c.extend({},b);var g,m,U,Q,S,R,y=c(b.of),n=c.position.getWithinInfo(b.within),s=c.position.getScrollInfo(n),u=(b.collision||"flip").split(" "),w={};R=f(y);y[0].preventDefault&&(b.at="left top");m=R.width;U=R.height;Q=R.offset;S=c.extend({},Q);c.each(["my","at"],function(){var d=(b[this]||"").split(" "),f,e;1===d.length&&(d=q.test(d[0])?d.concat(["center"]):v.test(d[0])?["center"].concat(d):["center","center"]);d[0]=q.test(d[0])?d[0]:"center";
d[1]=v.test(d[1])?d[1]:"center";f=x.exec(d[0]);e=x.exec(d[1]);w[this]=[f?f[0]:0,e?e[0]:0];b[this]=[k.exec(d[0])[0],k.exec(d[1])[0]]});1===u.length&&(u[1]=u[0]);"right"===b.at[0]?S.left+=m:"center"===b.at[0]&&(S.left+=m/2);"bottom"===b.at[1]?S.top+=U:"center"===b.at[1]&&(S.top+=U/2);g=d(w.at,m,U);S.left+=g[0];S.top+=g[1];return this.each(function(){var f,q,v=c(this),x=v.outerWidth(),k=v.outerHeight(),I=parseInt(c.css(this,"marginLeft"),10)||0,D=parseInt(c.css(this,"marginTop"),10)||0,R=x+I+(parseInt(c.css(this,
"marginRight"),10)||0)+s.width,z=k+D+(parseInt(c.css(this,"marginBottom"),10)||0)+s.height,V=c.extend({},S),ca=d(w.my,v.outerWidth(),v.outerHeight());"right"===b.my[0]?V.left-=x:"center"===b.my[0]&&(V.left-=x/2);"bottom"===b.my[1]?V.top-=k:"center"===b.my[1]&&(V.top-=k/2);V.left+=ca[0];V.top+=ca[1];c.support.offsetFractions||(V.left=l(V.left),V.top=l(V.top));f={marginLeft:I,marginTop:D};c.each(["left","top"],function(d,e){if(c.ui.position[u[d]])c.ui.position[u[d]][e](V,{targetWidth:m,targetHeight:U,
elemWidth:x,elemHeight:k,collisionPosition:f,collisionWidth:R,collisionHeight:z,offset:[g[0]+ca[0],g[1]+ca[1]],my:b.my,at:b.at,within:n,elem:v})});b.using&&(q=function(d){var f=Q.left-V.left,c=f+m-x,g=Q.top-V.top,l=g+U-k,q={target:{element:y,left:Q.left,top:Q.top,width:m,height:U},element:{element:v,left:V.left,top:V.top,width:x,height:k},horizontal:0>c?"left":0<f?"right":"center",vertical:0>l?"top":0<g?"bottom":"middle"};m<x&&h(f+c)<m&&(q.horizontal="center");U<k&&h(g+l)<U&&(q.vertical="middle");
e(h(f),h(c))>e(h(g),h(l))?q.important="horizontal":q.important="vertical";b.using.call(this,d,q)});v.offset(c.extend(V,{using:q}))})};c.ui.position={fit:{left:function(b,d){var f=d.within,c=f.isWindow?f.scrollLeft:f.offset.left,g=f.width,h=b.left-d.collisionPosition.marginLeft,f=c-h,l=h+d.collisionWidth-g-c;d.collisionWidth>g?0<f&&0>=l?(c=b.left+f+d.collisionWidth-g-c,b.left+=f-c):b.left=0<l&&0>=f?c:f>l?c+g-d.collisionWidth:c:b.left=0<f?b.left+f:0<l?b.left-l:e(b.left-h,b.left)},top:function(b,d){var f=
d.within,c=f.isWindow?f.scrollTop:f.offset.top,g=d.within.height,h=b.top-d.collisionPosition.marginTop,f=c-h,l=h+d.collisionHeight-g-c;d.collisionHeight>g?0<f&&0>=l?(c=b.top+f+d.collisionHeight-g-c,b.top+=f-c):b.top=0<l&&0>=f?c:f>l?c+g-d.collisionHeight:c:b.top=0<f?b.top+f:0<l?b.top-l:e(b.top-h,b.top)}},flip:{left:function(b,d){var f=d.within,e=f.offset.left+f.scrollLeft,c=f.width,g=f.isWindow?f.scrollLeft:f.offset.left,l=b.left-d.collisionPosition.marginLeft,f=l-g,q=l+d.collisionWidth-c-g,l="left"===
d.my[0]?-d.elemWidth:"right"===d.my[0]?d.elemWidth:0,v="left"===d.at[0]?d.targetWidth:"right"===d.at[0]?-d.targetWidth:0,x=-2*d.offset[0];if(0>f){if(e=b.left+l+v+x+d.collisionWidth-c-e,0>e||e<h(f))b.left+=l+v+x}else if(0<q&&(e=b.left-d.collisionPosition.marginLeft+l+v+x-g,0<e||h(e)<q))b.left+=l+v+x},top:function(b,d){var f=d.within,e=f.offset.top+f.scrollTop,c=f.height,g=f.isWindow?f.scrollTop:f.offset.top,l=b.top-d.collisionPosition.marginTop,f=l-g,q=l+d.collisionHeight-c-g,l="top"===d.my[1]?-d.elemHeight:
"bottom"===d.my[1]?d.elemHeight:0,v="top"===d.at[1]?d.targetHeight:"bottom"===d.at[1]?-d.targetHeight:0,x=-2*d.offset[1];if(0>f){if(e=b.top+l+v+x+d.collisionHeight-c-e,b.top+l+v+x>f&&(0>e||e<h(f)))b.top+=l+v+x}else if(0<q&&(e=b.top-d.collisionPosition.marginTop+l+v+x-g,b.top+l+v+x>q&&(0<e||h(e)<q)))b.top+=l+v+x}},flipfit:{left:function(){c.ui.position.flip.left.apply(this,arguments);c.ui.position.fit.left.apply(this,arguments)},top:function(){c.ui.position.flip.top.apply(this,arguments);c.ui.position.fit.top.apply(this,
arguments)}}};(function(){var b,d,f,e,g=document.getElementsByTagName("body")[0];f=document.createElement("div");b=document.createElement(g?"div":"body");d={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"};g&&c.extend(d,{position:"absolute",left:"-1000px",top:"-1000px"});for(e in d)b.style[e]=d[e];b.appendChild(f);d=g||document.documentElement;d.insertBefore(b,d.firstChild);f.style.cssText="position: absolute; left: 10.7432222px;";f=c(f).offset().left;c.support.offsetFractions=
10<f&&11>f;b.innerHTML="";d.removeChild(b)})()})(jQuery);(function(c,b){c.widget("ui.draggable",c.ui.mouse,{version:"1.10.3",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,
start:null,stop:null},_create:function(){"original"===this.options.helper&&!/^(?:r|a|f)/.test(this.element.css("position"))&&(this.element[0].style.position="relative");this.options.addClasses&&this.element.addClass("ui-draggable");this.options.disabled&&this.element.addClass("ui-draggable-disabled");this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled");this._mouseDestroy()},_mouseCapture:function(b){var f=this.options;if(this.helper||
f.disabled||0<c(b.target).closest(".ui-resizable-handle").length)return!1;this.handle=this._getHandle(b);if(!this.handle)return!1;c(!0===f.iframeFix?"iframe":f.iframeFix).each(function(){c("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1E3}).css(c(this).offset()).appendTo("body")});return!0},_mouseStart:function(b){var f=this.options;this.helper=this._createHelper(b);
this.helper.addClass("ui-draggable-dragging");this._cacheHelperProportions();c.ui.ddmanager&&(c.ui.ddmanager.current=this);this._cacheMargins();this.cssPosition=this.helper.css("position");this.scrollParent=this.helper.scrollParent();this.offsetParent=this.helper.offsetParent();this.offsetParentCssPosition=this.offsetParent.css("position");this.offset=this.positionAbs=this.element.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};this.offset.scroll=
!1;c.extend(this.offset,{click:{left:b.pageX-this.offset.left,top:b.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.originalPosition=this.position=this._generatePosition(b);this.originalPageX=b.pageX;this.originalPageY=b.pageY;f.cursorAt&&this._adjustOffsetFromHelper(f.cursorAt);this._setContainment();if(!1===this._trigger("start",b))return this._clear(),!1;this._cacheHelperProportions();c.ui.ddmanager&&!f.dropBehaviour&&c.ui.ddmanager.prepareOffsets(this,
b);this._mouseDrag(b,!0);c.ui.ddmanager&&c.ui.ddmanager.dragStart(this,b);return!0},_mouseDrag:function(b,f){"fixed"===this.offsetParentCssPosition&&(this.offset.parent=this._getParentOffset());this.position=this._generatePosition(b);this.positionAbs=this._convertPositionTo("absolute");if(!f){var g=this._uiHash();if(!1===this._trigger("drag",b,g))return this._mouseUp({}),!1;this.position=g.position}if(!this.options.axis||"y"!==this.options.axis)this.helper[0].style.left=this.position.left+"px";if(!this.options.axis||
"x"!==this.options.axis)this.helper[0].style.top=this.position.top+"px";c.ui.ddmanager&&c.ui.ddmanager.drag(this,b);return!1},_mouseStop:function(b){var f=this,g=!1;c.ui.ddmanager&&!this.options.dropBehaviour&&(g=c.ui.ddmanager.drop(this,b));this.dropped&&(g=this.dropped,this.dropped=!1);if("original"===this.options.helper&&!c.contains(this.element[0].ownerDocument,this.element[0]))return!1;"invalid"===this.options.revert&&!g||"valid"===this.options.revert&&g||!0===this.options.revert||c.isFunction(this.options.revert)&&
this.options.revert.call(this.element,g)?c(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==f._trigger("stop",b)&&f._clear()}):!1!==this._trigger("stop",b)&&this._clear();return!1},_mouseUp:function(b){c("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)});c.ui.ddmanager&&c.ui.ddmanager.dragStop(this,b);return c.ui.mouse.prototype._mouseUp.call(this,b)},cancel:function(){this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):
this._clear();return this},_getHandle:function(b){return this.options.handle?!!c(b.target).closest(this.element.find(this.options.handle)).length:!0},_createHelper:function(b){var f=this.options;b=c.isFunction(f.helper)?c(f.helper.apply(this.element[0],[b])):"clone"===f.helper?this.element.clone().removeAttr("id"):this.element;b.parents("body").length||b.appendTo("parent"===f.appendTo?this.element[0].parentNode:f.appendTo);b[0]!==this.element[0]&&!/(fixed|absolute)/.test(b.css("position"))&&b.css("position",
"absolute");return b},_adjustOffsetFromHelper:function(b){"string"===typeof b&&(b=b.split(" "));c.isArray(b)&&(b={left:+b[0],top:+b[1]||0});"left"in b&&(this.offset.click.left=b.left+this.margins.left);"right"in b&&(this.offset.click.left=this.helperProportions.width-b.right+this.margins.left);"top"in b&&(this.offset.click.top=b.top+this.margins.top);"bottom"in b&&(this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top)},_getParentOffset:function(){var b=this.offsetParent.offset();
"absolute"===this.cssPosition&&(this.scrollParent[0]!==document&&c.contains(this.scrollParent[0],this.offsetParent[0]))&&(b.left+=this.scrollParent.scrollLeft(),b.top+=this.scrollParent.scrollTop());if(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&c.ui.ie)b={top:0,left:0};return{top:b.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:b.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===
this.cssPosition){var b=this.element.position();return{top:b.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:b.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions=
{width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var b,f,g;b=this.options;if(b.containment)if("window"===b.containment)this.containment=[c(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,c(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,c(window).scrollLeft()+c(window).width()-this.helperProportions.width-this.margins.left,c(window).scrollTop()+(c(window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-
this.margins.top];else if("document"===b.containment)this.containment=[0,0,c(document).width()-this.helperProportions.width-this.margins.left,(c(document).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];else if(b.containment.constructor===Array)this.containment=b.containment;else{if("parent"===b.containment&&(b.containment=this.helper[0].parentNode),f=c(b.containment),g=f[0])b="hidden"!==f.css("overflow"),this.containment=[(parseInt(f.css("borderLeftWidth"),
10)||0)+(parseInt(f.css("paddingLeft"),10)||0),(parseInt(f.css("borderTopWidth"),10)||0)+(parseInt(f.css("paddingTop"),10)||0),(b?Math.max(g.scrollWidth,g.offsetWidth):g.offsetWidth)-(parseInt(f.css("borderRightWidth"),10)||0)-(parseInt(f.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(b?Math.max(g.scrollHeight,g.offsetHeight):g.offsetHeight)-(parseInt(f.css("borderBottomWidth"),10)||0)-(parseInt(f.css("paddingBottom"),10)||0)-this.helperProportions.height-
this.margins.top-this.margins.bottom],this.relative_container=f}else this.containment=null},_convertPositionTo:function(b,f){f||(f=this.position);var g="absolute"===b?1:-1,e="absolute"===this.cssPosition&&!(this.scrollParent[0]!==document&&c.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent;this.offset.scroll||(this.offset.scroll={top:e.scrollTop(),left:e.scrollLeft()});return{top:f.top+this.offset.relative.top*g+this.offset.parent.top*g-("fixed"===this.cssPosition?
-this.scrollParent.scrollTop():this.offset.scroll.top)*g,left:f.left+this.offset.relative.left*g+this.offset.parent.left*g-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)*g}},_generatePosition:function(b){var f,g,e,h=this.options,l="absolute"===this.cssPosition&&!(this.scrollParent[0]!==document&&c.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent;e=b.pageX;g=b.pageY;this.offset.scroll||(this.offset.scroll={top:l.scrollTop(),
left:l.scrollLeft()});this.originalPosition&&(this.containment&&(this.relative_container?(f=this.relative_container.offset(),f=[this.containment[0]+f.left,this.containment[1]+f.top,this.containment[2]+f.left,this.containment[3]+f.top]):f=this.containment,b.pageX-this.offset.click.left<f[0]&&(e=f[0]+this.offset.click.left),b.pageY-this.offset.click.top<f[1]&&(g=f[1]+this.offset.click.top),b.pageX-this.offset.click.left>f[2]&&(e=f[2]+this.offset.click.left),b.pageY-this.offset.click.top>f[3]&&(g=f[3]+
this.offset.click.top)),h.grid&&(g=h.grid[1]?this.originalPageY+Math.round((g-this.originalPageY)/h.grid[1])*h.grid[1]:this.originalPageY,g=f?g-this.offset.click.top>=f[1]||g-this.offset.click.top>f[3]?g:g-this.offset.click.top>=f[1]?g-h.grid[1]:g+h.grid[1]:g,e=h.grid[0]?this.originalPageX+Math.round((e-this.originalPageX)/h.grid[0])*h.grid[0]:this.originalPageX,e=f?e-this.offset.click.left>=f[0]||e-this.offset.click.left>f[2]?e:e-this.offset.click.left>=f[0]?e-h.grid[0]:e+h.grid[0]:e));return{top:g-
this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top),left:e-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging");this.helper[0]!==this.element[0]&&!this.cancelHelperRemoval&&this.helper.remove();this.helper=null;this.cancelHelperRemoval=
!1},_trigger:function(b,f,g){g=g||this._uiHash();c.ui.plugin.call(this,b,[f,g]);"drag"===b&&(this.positionAbs=this._convertPositionTo("absolute"));return c.Widget.prototype._trigger.call(this,b,f,g)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}});c.ui.plugin.add("draggable","connectToSortable",{start:function(b,f){var g=c(this).data("ui-draggable"),e=g.options,h=c.extend({},f,{item:g.element});g.sortables=
[];c(e.connectToSortable).each(function(){var f=c.data(this,"ui-sortable");f&&!f.options.disabled&&(g.sortables.push({instance:f,shouldRevert:f.options.revert}),f.refreshPositions(),f._trigger("activate",b,h))})},stop:function(b,f){var g=c(this).data("ui-draggable"),e=c.extend({},f,{item:g.element});c.each(g.sortables,function(){this.instance.isOver?(this.instance.isOver=0,g.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=this.shouldRevert),
this.instance._mouseStop(b),this.instance.options.helper=this.instance.options._helper,"original"===g.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",b,e))})},drag:function(b,f){var g=c(this).data("ui-draggable"),e=this;c.each(g.sortables,function(){var h=!1,l=this;this.instance.positionAbs=g.positionAbs;this.instance.helperProportions=g.helperProportions;this.instance.offset.click=g.offset.click;this.instance._intersectsWith(this.instance.containerCache)&&
(h=!0,c.each(g.sortables,function(){this.instance.positionAbs=g.positionAbs;this.instance.helperProportions=g.helperProportions;this.instance.offset.click=g.offset.click;this!==l&&(this.instance._intersectsWith(this.instance.containerCache)&&c.contains(l.instance.element[0],this.instance.element[0]))&&(h=!1);return h}));h?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=c(e).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=
this.instance.options.helper,this.instance.options.helper=function(){return f.helper[0]},b.target=this.instance.currentItem[0],this.instance._mouseCapture(b,!0),this.instance._mouseStart(b,!0,!0),this.instance.offset.click.top=g.offset.click.top,this.instance.offset.click.left=g.offset.click.left,this.instance.offset.parent.left-=g.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=g.offset.parent.top-this.instance.offset.parent.top,g._trigger("toSortable",b),g.dropped=
this.instance.element,g.currentItem=g.element,this.instance.fromOutside=g),this.instance.currentItem&&this.instance._mouseDrag(b)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",b,this.instance._uiHash(this.instance)),this.instance._mouseStop(b,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),
g._trigger("fromSortable",b),g.dropped=!1)})}});c.ui.plugin.add("draggable","cursor",{start:function(){var b=c("body"),f=c(this).data("ui-draggable").options;b.css("cursor")&&(f._cursor=b.css("cursor"));b.css("cursor",f.cursor)},stop:function(){var b=c(this).data("ui-draggable").options;b._cursor&&c("body").css("cursor",b._cursor)}});c.ui.plugin.add("draggable","opacity",{start:function(b,f){var g=c(f.helper),e=c(this).data("ui-draggable").options;g.css("opacity")&&(e._opacity=g.css("opacity"));g.css("opacity",
e.opacity)},stop:function(b,f){var g=c(this).data("ui-draggable").options;g._opacity&&c(f.helper).css("opacity",g._opacity)}});c.ui.plugin.add("draggable","scroll",{start:function(){var b=c(this).data("ui-draggable");b.scrollParent[0]!==document&&"HTML"!==b.scrollParent[0].tagName&&(b.overflowOffset=b.scrollParent.offset())},drag:function(b){var f=c(this).data("ui-draggable"),g=f.options,e=!1;if(f.scrollParent[0]!==document&&"HTML"!==f.scrollParent[0].tagName){if(!g.axis||"x"!==g.axis)f.overflowOffset.top+
f.scrollParent[0].offsetHeight-b.pageY<g.scrollSensitivity?f.scrollParent[0].scrollTop=e=f.scrollParent[0].scrollTop+g.scrollSpeed:b.pageY-f.overflowOffset.top<g.scrollSensitivity&&(f.scrollParent[0].scrollTop=e=f.scrollParent[0].scrollTop-g.scrollSpeed);if(!g.axis||"y"!==g.axis)f.overflowOffset.left+f.scrollParent[0].offsetWidth-b.pageX<g.scrollSensitivity?f.scrollParent[0].scrollLeft=e=f.scrollParent[0].scrollLeft+g.scrollSpeed:b.pageX-f.overflowOffset.left<g.scrollSensitivity&&(f.scrollParent[0].scrollLeft=
e=f.scrollParent[0].scrollLeft-g.scrollSpeed)}else{if(!g.axis||"x"!==g.axis)b.pageY-c(document).scrollTop()<g.scrollSensitivity?e=c(document).scrollTop(c(document).scrollTop()-g.scrollSpeed):c(window).height()-(b.pageY-c(document).scrollTop())<g.scrollSensitivity&&(e=c(document).scrollTop(c(document).scrollTop()+g.scrollSpeed));if(!g.axis||"y"!==g.axis)b.pageX-c(document).scrollLeft()<g.scrollSensitivity?e=c(document).scrollLeft(c(document).scrollLeft()-g.scrollSpeed):c(window).width()-(b.pageX-c(document).scrollLeft())<
g.scrollSensitivity&&(e=c(document).scrollLeft(c(document).scrollLeft()+g.scrollSpeed))}!1!==e&&(c.ui.ddmanager&&!g.dropBehaviour)&&c.ui.ddmanager.prepareOffsets(f,b)}});c.ui.plugin.add("draggable","snap",{start:function(){var b=c(this).data("ui-draggable"),f=b.options;b.snapElements=[];c(f.snap.constructor!==String?f.snap.items||":data(ui-draggable)":f.snap).each(function(){var f=c(this),e=f.offset();this!==b.element[0]&&b.snapElements.push({item:this,width:f.outerWidth(),height:f.outerHeight(),
top:e.top,left:e.left})})},drag:function(b,f){var g,e,h,l,q,v,x,k,m,D,L=c(this).data("ui-draggable"),C=L.options,K=C.snapTolerance,N=f.offset.left,Q=N+L.helperProportions.width,S=f.offset.top,R=S+L.helperProportions.height;for(m=L.snapElements.length-1;0<=m;m--)q=L.snapElements[m].left,v=q+L.snapElements[m].width,x=L.snapElements[m].top,k=x+L.snapElements[m].height,Q<q-K||N>v+K||R<x-K||S>k+K||!c.contains(L.snapElements[m].item.ownerDocument,L.snapElements[m].item)?(L.snapElements[m].snapping&&L.options.snap.release&&
L.options.snap.release.call(L.element,b,c.extend(L._uiHash(),{snapItem:L.snapElements[m].item})),L.snapElements[m].snapping=!1):("inner"!==C.snapMode&&(g=Math.abs(x-R)<=K,e=Math.abs(k-S)<=K,h=Math.abs(q-Q)<=K,l=Math.abs(v-N)<=K,g&&(f.position.top=L._convertPositionTo("relative",{top:x-L.helperProportions.height,left:0}).top-L.margins.top),e&&(f.position.top=L._convertPositionTo("relative",{top:k,left:0}).top-L.margins.top),h&&(f.position.left=L._convertPositionTo("relative",{top:0,left:q-L.helperProportions.width}).left-
L.margins.left),l&&(f.position.left=L._convertPositionTo("relative",{top:0,left:v}).left-L.margins.left)),D=g||e||h||l,"outer"!==C.snapMode&&(g=Math.abs(x-S)<=K,e=Math.abs(k-R)<=K,h=Math.abs(q-N)<=K,l=Math.abs(v-Q)<=K,g&&(f.position.top=L._convertPositionTo("relative",{top:x,left:0}).top-L.margins.top),e&&(f.position.top=L._convertPositionTo("relative",{top:k-L.helperProportions.height,left:0}).top-L.margins.top),h&&(f.position.left=L._convertPositionTo("relative",{top:0,left:q}).left-L.margins.left),
l&&(f.position.left=L._convertPositionTo("relative",{top:0,left:v-L.helperProportions.width}).left-L.margins.left)),!L.snapElements[m].snapping&&(g||e||h||l||D)&&L.options.snap.snap&&L.options.snap.snap.call(L.element,b,c.extend(L._uiHash(),{snapItem:L.snapElements[m].item})),L.snapElements[m].snapping=g||e||h||l||D)}});c.ui.plugin.add("draggable","stack",{start:function(){var b,f=this.data("ui-draggable").options,f=c.makeArray(c(f.stack)).sort(function(b,d){return(parseInt(c(b).css("zIndex"),10)||
0)-(parseInt(c(d).css("zIndex"),10)||0)});f.length&&(b=parseInt(c(f[0]).css("zIndex"),10)||0,c(f).each(function(f){c(this).css("zIndex",b+f)}),this.css("zIndex",b+f.length))}});c.ui.plugin.add("draggable","zIndex",{start:function(b,f){var g=c(f.helper),e=c(this).data("ui-draggable").options;g.css("zIndex")&&(e._zIndex=g.css("zIndex"));g.css("zIndex",e.zIndex)},stop:function(b,f){var g=c(this).data("ui-draggable").options;g._zIndex&&c(f.helper).css("zIndex",g._zIndex)}})})(jQuery);(function(c,b){c.widget("ui.droppable",
{version:"1.10.3",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var b=this.options,f=b.accept;this.isover=!1;this.isout=!0;this.accept=c.isFunction(f)?f:function(b){return b.is(f)};this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight};c.ui.ddmanager.droppables[b.scope]=c.ui.ddmanager.droppables[b.scope]||
[];c.ui.ddmanager.droppables[b.scope].push(this);b.addClasses&&this.element.addClass("ui-droppable")},_destroy:function(){for(var b=0,f=c.ui.ddmanager.droppables[this.options.scope];b<f.length;b++)f[b]===this&&f.splice(b,1);this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(b,f){"accept"===b&&(this.accept=c.isFunction(f)?f:function(b){return b.is(f)});c.Widget.prototype._setOption.apply(this,arguments)},_activate:function(b){var f=c.ui.ddmanager.current;this.options.activeClass&&
this.element.addClass(this.options.activeClass);f&&this._trigger("activate",b,this.ui(f))},_deactivate:function(b){var f=c.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass);f&&this._trigger("deactivate",b,this.ui(f))},_over:function(b){var f=c.ui.ddmanager.current;if(f&&(f.currentItem||f.element)[0]!==this.element[0])if(this.accept.call(this.element[0],f.currentItem||f.element))this.options.hoverClass&&this.element.addClass(this.options.hoverClass),
this._trigger("over",b,this.ui(f))},_out:function(b){var f=c.ui.ddmanager.current;if(f&&(f.currentItem||f.element)[0]!==this.element[0])if(this.accept.call(this.element[0],f.currentItem||f.element))this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",b,this.ui(f))},_drop:function(b,f){var g=f||c.ui.ddmanager.current,e=!1;if(!g||(g.currentItem||g.element)[0]===this.element[0])return!1;this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var b=
c.data(this,"ui-droppable");if(b.options.greedy&&!b.options.disabled&&b.options.scope===g.options.scope&&b.accept.call(b.element[0],g.currentItem||g.element)&&c.ui.intersect(g,c.extend(b,{offset:b.element.offset()}),b.options.tolerance))return e=!0,!1});return e?!1:this.accept.call(this.element[0],g.currentItem||g.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",b,
this.ui(g)),this.element):!1},ui:function(b){return{draggable:b.currentItem||b.element,helper:b.helper,position:b.position,offset:b.positionAbs}},_inBounds:function(b){return"function"===typeof this.options.inBounds?this.options.inBounds(b):!1}});c.ui.intersect=function(b,f,c){if(!f.offset)return!1;var e=(b.positionAbs||b.position.absolute).left,h=e+b.helperProportions.width,l=(b.positionAbs||b.position.absolute).top,q=l+b.helperProportions.height,v=f.offset.left,x=v+f.proportions.width,k=f.offset.top,
m=k+f.proportions.height;switch(c){case "fit":return v<=e&&h<=x&&k<=l&&q<=m;case "intersect":return v<e+b.helperProportions.width/2&&h-b.helperProportions.width/2<x&&k<l+b.helperProportions.height/2&&q-b.helperProportions.height/2<m;case "pointer":return c=(b.positionAbs||b.position.absolute).left+(b.clickOffset||b.offset.click).left,b=(b.positionAbs||b.position.absolute).top+(b.clickOffset||b.offset.click).top,b>k&&b<k+f.proportions.height&&c>v&&c<v+f.proportions.width;case "touch":return(l>=k&&
l<=m||q>=k&&q<=m||l<k&&q>m)&&(e>=v&&e<=x||h>=v&&h<=x||e<v&&h>x);default:return!1}};c.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(b,f){var g,e,h=c.ui.ddmanager.droppables[b.options.scope]||[],l=f?f.type:null,q=(b.currentItem||b.element).find(":data(ui-droppable)").addBack();g=0;a:for(;g<h.length;g++)if(!(h[g].options.disabled||b&&!h[g].accept.call(h[g].element[0],b.currentItem||b.element))){for(e=0;e<q.length;e++)if(q[e]===h[g].element[0]){h[g].proportions.height=0;
continue a}h[g].visible="none"!==h[g].element.css("display");h[g].visible&&("mousedown"===l&&h[g]._activate.call(h[g],f),h[g].offset=h[g].element.offset(),h[g].proportions={width:h[g].element[0].offsetWidth,height:h[g].element[0].offsetHeight})}},drop:function(b,f){var g=!1;c.each((c.ui.ddmanager.droppables[b.options.scope]||[]).slice(),function(){if(this.options&&(!this.options.disabled&&(this.visible&&this._inBounds(f)&&c.ui.intersect(b,this,this.options.tolerance))&&(g=this._drop.call(this,f)||
g),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],b.currentItem||b.element)))this.isout=!0,this.isover=!1,this._deactivate.call(this,f)});return g},dragStart:function(b,f){b.element.parentsUntil("body").bind("scroll.droppable",function(){b.options.refreshPositions||c.ui.ddmanager.prepareOffsets(b,f)})},drag:function(b,f){b.options.refreshPositions&&c.ui.ddmanager.prepareOffsets(b,f);c.each(c.ui.ddmanager.droppables[b.options.scope]||[],function(){if(!this.options.disabled&&
!this.greedyChild&&this.visible){var g,e,h;h=this._inBounds(f)&&c.ui.intersect(b,this,this.options.tolerance);var l=!h&&this.isover?"isout":h&&!this.isover?"isover":null;l&&(this.options.greedy&&(e=this.options.scope,h=this.element.parents(":data(ui-droppable)").filter(function(){return c.data(this,"ui-droppable").options.scope===e}),h.length&&(g=c.data(h[0],"ui-droppable"),g.greedyChild="isover"===l)),g&&"isover"===l&&(g.isover=!1,g.isout=!0,g._out.call(g,f)),this[l]=!0,this["isout"===l?"isover":
"isout"]=!1,this["isover"===l?"_over":"_out"].call(this,f),g&&"isout"===l&&(g.isout=!1,g.isover=!0,g._over.call(g,f)))}})},dragStop:function(b,f){b.element.parentsUntil("body").unbind("scroll.droppable");b.options.refreshPositions||c.ui.ddmanager.prepareOffsets(b,f)}}})(jQuery);(function(c,b){function d(b){return/left|right/.test(b.css("float"))||/inline|table-cell/.test(b.css("display"))}c.widget("ui.sortable",c.ui.mouse,{version:"1.10.3",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",
axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1E3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_create:function(){var b=this.options;this.containerCache=
{};this.element.addClass("ui-sortable");this.refresh();this.floating=this.items.length?"x"===b.axis||d(this.items[0].item):!1;this.offset=this.element.offset();this._mouseInit();this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled");this._mouseDestroy();for(var b=this.items.length-1;0<=b;b--)this.items[b].item.removeData(this.widgetName+"-item");return this},_setOption:function(b,d){"disabled"===b?(this.options[b]=d,this.widget().toggleClass("ui-sortable-disabled",
!!d)):c.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(b,d){var e=null,h=!1,l=this;if(this.reverting||this.options.disabled||"static"===this.options.type)return!1;this._refreshItems(b);c(b.target).parents().each(function(){if(c.data(this,l.widgetName+"-item")===l)return e=c(this),!1});c.data(b.target,l.widgetName+"-item")===l&&(e=c(b.target));if(!e||this.options.handle&&!d&&(c(this.options.handle,e).find("*").addBack().each(function(){this===b.target&&(h=!0)}),!h))return!1;
this.currentItem=e;this._removeCurrentsFromItems();return!0},_mouseStart:function(b,d,e){var h;d=this.options;this.currentContainer=this;this.refreshPositions();this.helper=this._createHelper(b);this._cacheHelperProportions();this._cacheMargins();this.scrollParent=this.helper.scrollParent();this.offset=this.currentItem.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};c.extend(this.offset,{click:{left:b.pageX-this.offset.left,top:b.pageY-this.offset.top},
parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.helper.css("position","absolute");this.cssPosition=this.helper.css("position");this.originalPosition=this._generatePosition(b);this.originalPageX=b.pageX;this.originalPageY=b.pageY;d.cursorAt&&this._adjustOffsetFromHelper(d.cursorAt);this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]};this.helper[0]!==this.currentItem[0]&&this.currentItem.hide();this._createPlaceholder();d.containment&&this._setContainment();
d.cursor&&"auto"!==d.cursor&&(h=this.document.find("body"),this.storedCursor=h.css("cursor"),h.css("cursor",d.cursor),this.storedStylesheet=c("<style>*{ cursor: "+d.cursor+" !important; }</style>").appendTo(h));d.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",d.opacity));d.zIndex&&(this.helper.css("zIndex")?this._storedZIndex=this.helper.css("zIndex"):this._storedZIndex="auto",this.helper.css("zIndex",d.zIndex));this.scrollParent[0]!==
document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset());this._trigger("start",b,this._uiHash());this._preserveHelperProportions||this._cacheHelperProportions();if(!e)for(e=this.containers.length-1;0<=e;e--)this.containers[e]._trigger("activate",b,this._uiHash(this));c.ui.ddmanager&&(c.ui.ddmanager.current=this);c.ui.ddmanager&&!d.dropBehaviour&&c.ui.ddmanager.prepareOffsets(this,b);this.dragging=!0;this.helper.addClass("ui-sortable-helper");this._mouseDrag(b);
return!0},_mouseDrag:function(b){var d,e,h,l;d=this.options;e=!1;this.position=this._generatePosition(b);this.positionAbs=this._convertPositionTo("absolute");this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs);this.options.scroll&&(this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-b.pageY<d.scrollSensitivity?this.scrollParent[0].scrollTop=e=this.scrollParent[0].scrollTop+d.scrollSpeed:b.pageY-this.overflowOffset.top<
d.scrollSensitivity&&(this.scrollParent[0].scrollTop=e=this.scrollParent[0].scrollTop-d.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-b.pageX<d.scrollSensitivity?this.scrollParent[0].scrollLeft=e=this.scrollParent[0].scrollLeft+d.scrollSpeed:b.pageX-this.overflowOffset.left<d.scrollSensitivity&&(this.scrollParent[0].scrollLeft=e=this.scrollParent[0].scrollLeft-d.scrollSpeed)):(b.pageY-c(document).scrollTop()<d.scrollSensitivity?e=c(document).scrollTop(c(document).scrollTop()-
d.scrollSpeed):c(window).height()-(b.pageY-c(document).scrollTop())<d.scrollSensitivity&&(e=c(document).scrollTop(c(document).scrollTop()+d.scrollSpeed)),b.pageX-c(document).scrollLeft()<d.scrollSensitivity?e=c(document).scrollLeft(c(document).scrollLeft()-d.scrollSpeed):c(window).width()-(b.pageX-c(document).scrollLeft())<d.scrollSensitivity&&(e=c(document).scrollLeft(c(document).scrollLeft()+d.scrollSpeed))),!1!==e&&(c.ui.ddmanager&&!d.dropBehaviour)&&c.ui.ddmanager.prepareOffsets(this,b));this.positionAbs=
this._convertPositionTo("absolute");if(!this.options.axis||"y"!==this.options.axis)this.helper[0].style.left=this.position.left+"px";if(!this.options.axis||"x"!==this.options.axis)this.helper[0].style.top=this.position.top+"px";for(d=this.items.length-1;0<=d;d--)if(e=this.items[d],h=e.item[0],(l=this._intersectsWithPointer(e))&&e.instance===this.currentContainer&&h!==this.currentItem[0]&&this.placeholder[1===l?"next":"prev"]()[0]!==h&&!c.contains(this.placeholder[0],h)&&("semi-dynamic"===this.options.type?
!c.contains(this.element[0],h):1)){this.direction=1===l?"down":"up";if("pointer"===this.options.tolerance||this._intersectsWithSides(e))this._rearrange(b,e);else break;this._trigger("change",b,this._uiHash());break}this._contactContainers(b);c.ui.ddmanager&&c.ui.ddmanager.drag(this,b);this._trigger("sort",b,this._uiHash());this.lastPositionAbs=this.positionAbs;return!1},_mouseStop:function(b,d){if(b){c.ui.ddmanager&&!this.options.dropBehaviour&&c.ui.ddmanager.drop(this,b);if(this.options.revert){var e=
this,h=this.placeholder.offset(),l=this.options.axis,q={};if(!l||"x"===l)q.left=h.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft);if(!l||"y"===l)q.top=h.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop);this.reverting=!0;c(this.helper).animate(q,parseInt(this.options.revert,10)||500,function(){e._clear(b)})}else this._clear(b,d);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null});
"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var b=this.containers.length-1;0<=b;b--)this.containers[b]._trigger("deactivate",null,this._uiHash(this)),this.containers[b].containerCache.over&&(this.containers[b]._trigger("out",null,this._uiHash(this)),this.containers[b].containerCache.over=0)}this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==
this.options.helper&&(this.helper&&this.helper[0].parentNode)&&this.helper.remove(),c.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?c(this.domPosition.prev).after(this.currentItem):c(this.domPosition.parent).prepend(this.currentItem));return this},serialize:function(b){var d=this._getItemsAsjQuery(b&&b.connected),e=[];b=b||{};c(d).each(function(){var d=(c(b.item||this).attr(b.attribute||"id")||"").match(b.expression||/(.+)[\-=_](.+)/);d&&e.push((b.key||
d[1]+"[]")+"="+(b.key&&b.expression?d[1]:d[2]))});!e.length&&b.key&&e.push(b.key+"=");return e.join("&")},toArray:function(b){var d=this._getItemsAsjQuery(b&&b.connected),e=[];b=b||{};d.each(function(){e.push(c(b.item||this).attr(b.attribute||"id")||"")});return e},_intersectsWith:function(b){var d=this.positionAbs.left,e=d+this.helperProportions.width,c=this.positionAbs.top,l=c+this.helperProportions.height,q=b.left,v=q+b.width,x=b.top,k=x+b.height,m=this.offset.click.top,D=this.offset.click.left,
D="y"===this.options.axis||d+D>q&&d+D<v,m=("x"===this.options.axis||c+m>x&&c+m<k)&&D;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>b[this.floating?"width":"height"]?m:q<d+this.helperProportions.width/2&&e-this.helperProportions.width/2<v&&x<c+this.helperProportions.height/2&&l-this.helperProportions.height/2<k},_intersectsWithPointer:function(b){var d="y"===this.options.axis||
this.positionAbs.left+this.offset.click.left>b.left&&this.positionAbs.left+this.offset.click.left<b.left+b.width;b=("x"===this.options.axis||this.positionAbs.top+this.offset.click.top>b.top&&this.positionAbs.top+this.offset.click.top<b.top+b.height)&&d;var d=this._getDragVerticalDirection(),e=this._getDragHorizontalDirection();return!b?!1:this.floating?e&&"right"===e||"down"===d?2:1:d&&("down"===d?2:1)},_intersectsWithSides:function(b){var d=this.positionAbs.top+this.offset.click.top>b.top+b.height/
2&&this.positionAbs.top+this.offset.click.top<b.top+b.height/2+b.height;b=this.positionAbs.left+this.offset.click.left>b.left+b.width/2&&this.positionAbs.left+this.offset.click.left<b.left+b.width/2+b.width;var e=this._getDragVerticalDirection(),c=this._getDragHorizontalDirection();return this.floating&&c?"right"===c&&b||"left"===c&&!b:e&&("down"===e&&d||"up"===e&&!d)},_getDragVerticalDirection:function(){var b=this.positionAbs.top-this.lastPositionAbs.top;return 0!==b&&(0<b?"down":"up")},_getDragHorizontalDirection:function(){var b=
this.positionAbs.left-this.lastPositionAbs.left;return 0!==b&&(0<b?"right":"left")},refresh:function(b){this._refreshItems(b);this.refreshPositions();return this},_connectWith:function(){var b=this.options;return b.connectWith.constructor===String?[b.connectWith]:b.connectWith},_getItemsAsjQuery:function(b){var d,e,h,l=[],q=[],v=this._connectWith();if(v&&b)for(b=v.length-1;0<=b;b--){e=c(v[b]);for(d=e.length-1;0<=d;d--)(h=c.data(e[d],this.widgetFullName))&&(h!==this&&!h.options.disabled)&&q.push([c.isFunction(h.options.items)?
h.options.items.call(h.element):c(h.options.items,h.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),h])}q.push([c.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):c(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(b=q.length-1;0<=b;b--)q[b][0].each(function(){l.push(this)});return c(l)},_removeCurrentsFromItems:function(){var b=this.currentItem.find(":data("+
this.widgetName+"-item)");this.items=c.grep(this.items,function(d){for(var e=0;e<b.length;e++)if(b[e]===d.item[0])return!1;return!0})},_refreshItems:function(b){this.items=[];this.containers=[this];var d,e,h,l,q,v=this.items,x=[[c.isFunction(this.options.items)?this.options.items.call(this.element[0],b,{item:this.currentItem}):c(this.options.items,this.element),this]];if((q=this._connectWith())&&this.ready)for(d=q.length-1;0<=d;d--){h=c(q[d]);for(e=h.length-1;0<=e;e--)if((l=c.data(h[e],this.widgetFullName))&&
l!==this&&!l.options.disabled)x.push([c.isFunction(l.options.items)?l.options.items.call(l.element[0],b,{item:this.currentItem}):c(l.options.items,l.element),l]),this.containers.push(l)}for(d=x.length-1;0<=d;d--){b=x[d][1];h=x[d][0];e=0;for(q=h.length;e<q;e++)l=c(h[e]),l.data(this.widgetName+"-item",b),v.push({item:l,instance:b,width:0,height:0,left:0,top:0})}},refreshPositions:function(b){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var d,e,h;for(d=this.items.length-
1;0<=d;d--)e=this.items[d],e.instance!==this.currentContainer&&this.currentContainer&&e.item[0]!==this.currentItem[0]||(h=this.options.toleranceElement?c(this.options.toleranceElement,e.item):e.item,b||(e.width=h.outerWidth(),e.height=h.outerHeight()),h=h.offset(),e.left=h.left,e.top=h.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(d=this.containers.length-1;0<=d;d--)h=this.containers[d].element.offset(),this.containers[d].containerCache.left=
h.left,this.containers[d].containerCache.top=h.top,this.containers[d].containerCache.width=this.containers[d].element.outerWidth(),this.containers[d].containerCache.height=this.containers[d].element.outerHeight();return this},_createPlaceholder:function(b){b=b||this;var d,e=b.options;if(!e.placeholder||e.placeholder.constructor===String)d=e.placeholder,e.placeholder={element:function(){var e=b.currentItem[0].nodeName.toLowerCase(),l=c("<"+e+">",b.document[0]).addClass(d||b.currentItem[0].className+
" ui-sortable-placeholder").removeClass("ui-sortable-helper");"tr"===e?b.currentItem.children().each(function(){c("<td>&#160;</td>",b.document[0]).attr("colspan",c(this).attr("colspan")||1).appendTo(l)}):"img"===e&&l.attr("src",b.currentItem.attr("src"));d||l.css("visibility","hidden");return l},update:function(c,l){if(!d||e.forcePlaceholderSize)l.height()||l.height(b.currentItem.innerHeight()-parseInt(b.currentItem.css("paddingTop")||0,10)-parseInt(b.currentItem.css("paddingBottom")||0,10)),l.width()||
l.width(b.currentItem.innerWidth()-parseInt(b.currentItem.css("paddingLeft")||0,10)-parseInt(b.currentItem.css("paddingRight")||0,10))}};b.placeholder=c(e.placeholder.element.call(b.element,b.currentItem));b.currentItem.after(b.placeholder);e.placeholder.update(b,b.placeholder)},_contactContainers:function(b){var g,e,h,l,q,v,x,k,m,D=e=null;for(g=this.containers.length-1;0<=g;g--)if(!c.contains(this.currentItem[0],this.containers[g].element[0]))if(this._intersectsWith(this.containers[g].containerCache)){if(!e||
!c.contains(this.containers[g].element[0],e.element[0]))e=this.containers[g],D=g}else this.containers[g].containerCache.over&&(this.containers[g]._trigger("out",b,this._uiHash(this)),this.containers[g].containerCache.over=0);if(e)if(1===this.containers.length)this.containers[D].containerCache.over||(this.containers[D]._trigger("over",b,this._uiHash(this)),this.containers[D].containerCache.over=1);else{g=1E4;h=null;l=(m=e.floating||d(this.currentItem))?"left":"top";q=m?"width":"height";v=this.positionAbs[l]+
this.offset.click[l];for(e=this.items.length-1;0<=e;e--)if(c.contains(this.containers[D].element[0],this.items[e].item[0])&&this.items[e].item[0]!==this.currentItem[0]&&(!m||this.positionAbs.top+this.offset.click.top>this.items[e].top&&this.positionAbs.top+this.offset.click.top<this.items[e].top+this.items[e].height))x=this.items[e].item.offset()[l],k=!1,Math.abs(x-v)>Math.abs(x+this.items[e][q]-v)&&(k=!0,x+=this.items[e][q]),Math.abs(x-v)<g&&(g=Math.abs(x-v),h=this.items[e],this.direction=k?"up":
"down");if((h||this.options.dropOnEmpty)&&this.currentContainer!==this.containers[D])h?this._rearrange(b,h,null,!0):this._rearrange(b,null,this.containers[D].element,!0),this._trigger("change",b,this._uiHash()),this.containers[D]._trigger("change",b,this._uiHash(this)),this.currentContainer=this.containers[D],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[D]._trigger("over",b,this._uiHash(this)),this.containers[D].containerCache.over=1}},_createHelper:function(b){var d=
this.options;b=c.isFunction(d.helper)?c(d.helper.apply(this.element[0],[b,this.currentItem])):"clone"===d.helper?this.currentItem.clone():this.currentItem;b.parents("body").length||c("parent"!==d.appendTo?d.appendTo:this.currentItem[0].parentNode)[0].appendChild(b[0]);b[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")});
(!b[0].style.width||d.forceHelperSize)&&b.width(this.currentItem.width());(!b[0].style.height||d.forceHelperSize)&&b.height(this.currentItem.height());return b},_adjustOffsetFromHelper:function(b){"string"===typeof b&&(b=b.split(" "));c.isArray(b)&&(b={left:+b[0],top:+b[1]||0});"left"in b&&(this.offset.click.left=b.left+this.margins.left);"right"in b&&(this.offset.click.left=this.helperProportions.width-b.right+this.margins.left);"top"in b&&(this.offset.click.top=b.top+this.margins.top);"bottom"in
b&&(this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var b=this.offsetParent.offset();"absolute"===this.cssPosition&&(this.scrollParent[0]!==document&&c.contains(this.scrollParent[0],this.offsetParent[0]))&&(b.left+=this.scrollParent.scrollLeft(),b.top+=this.scrollParent.scrollTop());if(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&
c.ui.ie)b={top:0,left:0};return{top:b.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:b.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var b=this.currentItem.position();return{top:b.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:b.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins=
{left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var b,d,e;d=this.options;"parent"===d.containment&&(d.containment=this.helper[0].parentNode);if("document"===d.containment||"window"===d.containment)this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-
this.offset.parent.top,c("document"===d.containment?document:window).width()-this.helperProportions.width-this.margins.left,(c("document"===d.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];/^(document|window|parent)$/.test(d.containment)||(b=c(d.containment)[0],d=c(d.containment).offset(),e="hidden"!==c(b).css("overflow"),this.containment=[d.left+(parseInt(c(b).css("borderLeftWidth"),10)||0)+(parseInt(c(b).css("paddingLeft"),
10)||0)-this.margins.left,d.top+(parseInt(c(b).css("borderTopWidth"),10)||0)+(parseInt(c(b).css("paddingTop"),10)||0)-this.margins.top,d.left+(e?Math.max(b.scrollWidth,b.offsetWidth):b.offsetWidth)-(parseInt(c(b).css("borderLeftWidth"),10)||0)-(parseInt(c(b).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,d.top+(e?Math.max(b.scrollHeight,b.offsetHeight):b.offsetHeight)-(parseInt(c(b).css("borderTopWidth"),10)||0)-(parseInt(c(b).css("paddingBottom"),10)||0)-this.helperProportions.height-
this.margins.top])},_convertPositionTo:function(b,d){d||(d=this.position);var e="absolute"===b?1:-1,h="absolute"===this.cssPosition&&!(this.scrollParent[0]!==document&&c.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,l=/(html|body)/i.test(h[0].tagName);return{top:d.top+this.offset.relative.top*e+this.offset.parent.top*e-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:h.scrollTop())*e,left:d.left+this.offset.relative.left*e+this.offset.parent.left*
e-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:h.scrollLeft())*e}},_generatePosition:function(b){var d,e,h=this.options;e=b.pageX;d=b.pageY;var l="absolute"===this.cssPosition&&!(this.scrollParent[0]!==document&&c.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,q=/(html|body)/i.test(l[0].tagName);"relative"===this.cssPosition&&!(this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0])&&(this.offset.relative=this._getRelativeOffset());
this.originalPosition&&(this.containment&&(b.pageX-this.offset.click.left<this.containment[0]&&(e=this.containment[0]+this.offset.click.left),b.pageY-this.offset.click.top<this.containment[1]&&(d=this.containment[1]+this.offset.click.top),b.pageX-this.offset.click.left>this.containment[2]&&(e=this.containment[2]+this.offset.click.left),b.pageY-this.offset.click.top>this.containment[3]&&(d=this.containment[3]+this.offset.click.top)),h.grid&&(d=this.originalPageY+Math.round((d-this.originalPageY)/h.grid[1])*
h.grid[1],d=this.containment?d-this.offset.click.top>=this.containment[1]&&d-this.offset.click.top<=this.containment[3]?d:d-this.offset.click.top>=this.containment[1]?d-h.grid[1]:d+h.grid[1]:d,e=this.originalPageX+Math.round((e-this.originalPageX)/h.grid[0])*h.grid[0],e=this.containment?e-this.offset.click.left>=this.containment[0]&&e-this.offset.click.left<=this.containment[2]?e:e-this.offset.click.left>=this.containment[0]?e-h.grid[0]:e+h.grid[0]:e));return{top:d-this.offset.click.top-this.offset.relative.top-
this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():q?0:l.scrollTop()),left:e-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():q?0:l.scrollLeft())}},_rearrange:function(b,d,e,c){e?e[0].appendChild(this.placeholder[0]):d.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?d.item[0]:d.item[0].nextSibling);var l=this.counter=this.counter?++this.counter:1;this._delay(function(){l===
this.counter&&this.refreshPositions(!c)})},_clear:function(b,d){this.reverting=!1;var e,c=[];!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem);this._noFinalSort=null;if(this.helper[0]===this.currentItem[0]){for(e in this._storedCSS)if("auto"===this._storedCSS[e]||"static"===this._storedCSS[e])this._storedCSS[e]="";this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();this.fromOutside&&!d&&c.push(function(b){this._trigger("receive",
b,this._uiHash(this.fromOutside))});(this.fromOutside||this.domPosition.prev!==this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!==this.currentItem.parent()[0])&&!d&&c.push(function(b){this._trigger("update",b,this._uiHash())});this!==this.currentContainer&&!d&&(c.push(function(b){this._trigger("remove",b,this._uiHash())}),c.push(function(b){return function(d){b._trigger("receive",d,this._uiHash(this))}}.call(this,this.currentContainer)),c.push(function(b){return function(d){b._trigger("update",
d,this._uiHash(this))}}.call(this,this.currentContainer)));for(e=this.containers.length-1;0<=e;e--)d||c.push(function(b){return function(d){b._trigger("deactivate",d,this._uiHash(this))}}.call(this,this.containers[e])),this.containers[e].containerCache.over&&(c.push(function(b){return function(d){b._trigger("out",d,this._uiHash(this))}}.call(this,this.containers[e])),this.containers[e].containerCache.over=0);this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove());
this._storedOpacity&&this.helper.css("opacity",this._storedOpacity);this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex);this.dragging=!1;if(this.cancelHelperRemoval){if(!d){this._trigger("beforeStop",b,this._uiHash());for(e=0;e<c.length;e++)c[e].call(this,b);this._trigger("stop",b,this._uiHash())}return this.fromOutside=!1}d||this._trigger("beforeStop",b,this._uiHash());this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]);
this.helper[0]!==this.currentItem[0]&&this.helper.remove();this.helper=null;if(!d){for(e=0;e<c.length;e++)c[e].call(this,b);this._trigger("stop",b,this._uiHash())}this.fromOutside=!1;return!0},_trigger:function(){!1===c.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(b){var d=b||this;return{helper:d.helper,placeholder:d.placeholder||c([]),position:d.position,originalPosition:d.originalPosition,offset:d.positionAbs,item:d.currentItem,sender:b?b.element:null}}})})(jQuery);
(function(c,b){function d(){this._curInst=null;this._keyEvent=!1;this._disabledInputs=[];this._inDialog=this._datepickerShowing=!1;this._mainDivId="ui-datepicker-div";this._inlineClass="ui-datepicker-inline";this._appendClass="ui-datepicker-append";this._triggerClass="ui-datepicker-trigger";this._dialogClass="ui-datepicker-dialog";this._disableClass="ui-datepicker-disabled";this._unselectableClass="ui-datepicker-unselectable";this._currentClass="ui-datepicker-current-day";this._dayOverClass="ui-datepicker-days-cell-over";
this.regional=[];this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:"January February March April May June July August September October November December".split(" "),monthNamesShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),dayNames:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),dayNamesShort:"Sun Mon Tue Wed Thu Fri Sat".split(" "),dayNamesMin:"Su Mo Tu We Th Fr Sa".split(" "),weekHeader:"Wk",dateFormat:"mm/dd/yy",
firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""};this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,
onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1};c.extend(this._defaults,this.regional[""]);this.dpDiv=f(c("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function f(b){return b.delegate("button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a","mouseout",function(){c(this).removeClass("ui-state-hover");
-1!==this.className.indexOf("ui-datepicker-prev")&&c(this).removeClass("ui-datepicker-prev-hover");-1!==this.className.indexOf("ui-datepicker-next")&&c(this).removeClass("ui-datepicker-next-hover")}).delegate("button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a","mouseover",function(){if(!c.datepicker._isDisabledDatepicker(e.inline?b.parent()[0]:e.input[0]))c(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),c(this).addClass("ui-state-hover"),
-1!==this.className.indexOf("ui-datepicker-prev")&&c(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&c(this).addClass("ui-datepicker-next-hover")})}function g(b,d){c.extend(b,d);for(var f in d)null==d[f]&&(b[f]=d[f]);return b}c.extend(c.ui,{datepicker:{version:"1.10.3"}});var e;c.extend(d.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(b){g(this._defaults,b||{});return this},_attachDatepicker:function(b,
d){var f,e,g;f=b.nodeName.toLowerCase();e="div"===f||"span"===f;b.id||(this.uuid+=1,b.id="dp"+this.uuid);g=this._newInst(c(b),e);g.settings=c.extend({},d||{});"input"===f?this._connectDatepicker(b,g):e&&this._inlineDatepicker(b,g)},_newInst:function(b,d){return{id:b[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1"),input:b,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:d,dpDiv:!d?this.dpDiv:f(c("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}},
_connectDatepicker:function(b,d){var f=c(b);d.append=c([]);d.trigger=c([]);f.hasClass(this.markerClassName)||(this._attachments(f,d),f.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(d),c.data(b,"datepicker",d),d.settings.disabled&&this._disableDatepicker(b))},_attachments:function(b,d){var f,e;f=this._get(d,"appendText");var g=this._get(d,"isRTL");d.append&&d.append.remove();f&&(d.append=c("<span class='"+this._appendClass+"'>"+
f+"</span>"),b[g?"before":"after"](d.append));b.unbind("focus",this._showDatepicker);d.trigger&&d.trigger.remove();f=this._get(d,"showOn");("focus"===f||"both"===f)&&b.focus(this._showDatepicker);if("button"===f||"both"===f)f=this._get(d,"buttonText"),e=this._get(d,"buttonImage"),d.trigger=c(this._get(d,"buttonImageOnly")?c("<img/>").addClass(this._triggerClass).attr({src:e,alt:f,title:f}):c("<button type='button'></button>").addClass(this._triggerClass).html(!e?f:c("<img/>").attr({src:e,alt:f,title:f}))),
b[g?"before":"after"](d.trigger),d.trigger.click(function(){c.datepicker._datepickerShowing&&c.datepicker._lastInput===b[0]?c.datepicker._hideDatepicker():(c.datepicker._datepickerShowing&&c.datepicker._lastInput!==b[0]&&c.datepicker._hideDatepicker(),c.datepicker._showDatepicker(b[0]));return!1})},_autoSize:function(b){if(this._get(b,"autoSize")&&!b.inline){var d,f,e,c,g=new Date(2009,11,20),k=this._get(b,"dateFormat");k.match(/[DM]/)&&(d=function(b){for(c=e=f=0;c<b.length;c++)b[c].length>f&&(f=
b[c].length,e=c);return e},g.setMonth(d(this._get(b,k.match(/MM/)?"monthNames":"monthNamesShort"))),g.setDate(d(this._get(b,k.match(/DD/)?"dayNames":"dayNamesShort"))+20-g.getDay()));b.input.attr("size",this._formatDate(b,g).length)}},_inlineDatepicker:function(b,d){var f=c(b);f.hasClass(this.markerClassName)||(f.addClass(this.markerClassName).append(d.dpDiv),c.data(b,"datepicker",d),this._setDate(d,this._getDefaultDate(d),!0),this._updateDatepicker(d),this._updateAlternate(d),d.settings.disabled&&
this._disableDatepicker(b),d.dpDiv.css("display","block"))},_dialogDatepicker:function(b,d,f,e,x){var k;b=this._dialogInst;b||(this.uuid+=1,b="dp"+this.uuid,this._dialogInput=c("<input type='text' id='"+b+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),c("body").append(this._dialogInput),b=this._dialogInst=this._newInst(this._dialogInput,!1),b.settings={},c.data(this._dialogInput[0],"datepicker",b));g(b.settings,e||{});d=d&&d.constructor===Date?
this._formatDate(b,d):d;this._dialogInput.val(d);this._pos=x?x.length?x:[x.pageX,x.pageY]:null;this._pos||(d=document.documentElement.clientWidth,e=document.documentElement.clientHeight,x=document.documentElement.scrollLeft||document.body.scrollLeft,k=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[d/2-100+x,e/2-150+k]);this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px");b.settings.onSelect=f;this._inDialog=!0;this.dpDiv.addClass(this._dialogClass);
this._showDatepicker(this._dialogInput[0]);c.blockUI&&c.blockUI(this.dpDiv);c.data(this._dialogInput[0],"datepicker",b);return this},_destroyDatepicker:function(b){var d,f=c(b),e=c.data(b,"datepicker");f.hasClass(this.markerClassName)&&(d=b.nodeName.toLowerCase(),c.removeData(b,"datepicker"),"input"===d?(e.append.remove(),e.trigger.remove(),f.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",
this._doKeyUp)):("div"===d||"span"===d)&&f.removeClass(this.markerClassName).empty())},_enableDatepicker:function(b){var d,f=c(b),e=c.data(b,"datepicker");if(f.hasClass(this.markerClassName)){d=b.nodeName.toLowerCase();if("input"===d)b.disabled=!1,e.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""});else if("div"===d||"span"===d)d=f.children("."+this._inlineClass),d.children().removeClass("ui-state-disabled"),d.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",
!1);this._disabledInputs=c.map(this._disabledInputs,function(d){return d===b?null:d})}},_disableDatepicker:function(b){var d,f=c(b),e=c.data(b,"datepicker");if(f.hasClass(this.markerClassName)){d=b.nodeName.toLowerCase();if("input"===d)b.disabled=!0,e.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"});else if("div"===d||"span"===d)d=f.children("."+this._inlineClass),d.children().addClass("ui-state-disabled"),d.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",
!0);this._disabledInputs=c.map(this._disabledInputs,function(d){return d===b?null:d});this._disabledInputs[this._disabledInputs.length]=b}},_isDisabledDatepicker:function(b){if(!b)return!1;for(var d=0;d<this._disabledInputs.length;d++)if(this._disabledInputs[d]===b)return!0;return!1},_getInst:function(b){try{return c.data(b,"datepicker")}catch(d){throw"Missing instance data for this datepicker";}},_optionDatepicker:function(d,f,e){var v,x,k,m,D=this._getInst(d);if(2===arguments.length&&"string"===
typeof f)return"defaults"===f?c.extend({},c.datepicker._defaults):D?"all"===f?c.extend({},D.settings):this._get(D,f):null;v=f||{};"string"===typeof f&&(v={},v[f]=e);D&&(this._curInst===D&&this._hideDatepicker(),x=this._getDateDatepicker(d,!0),k=this._getMinMaxDate(D,"min"),m=this._getMinMaxDate(D,"max"),g(D.settings,v),null!==k&&(v.dateFormat!==b&&v.minDate===b)&&(D.settings.minDate=this._formatDate(D,k)),null!==m&&(v.dateFormat!==b&&v.maxDate===b)&&(D.settings.maxDate=this._formatDate(D,m)),"disabled"in
v&&(v.disabled?this._disableDatepicker(d):this._enableDatepicker(d)),this._attachments(c(d),D),this._autoSize(D),this._setDate(D,x),this._updateAlternate(D),this._updateDatepicker(D))},_changeDatepicker:function(b,d,f){this._optionDatepicker(b,d,f)},_refreshDatepicker:function(b){(b=this._getInst(b))&&this._updateDatepicker(b)},_setDateDatepicker:function(b,d){var f=this._getInst(b);f&&(this._setDate(f,d),this._updateDatepicker(f),this._updateAlternate(f))},_getDateDatepicker:function(b,d){var f=
this._getInst(b);f&&!f.inline&&this._setDateFromField(f,d);return f?this._getDate(f):null},_doKeyDown:function(b){var d,f=c.datepicker._getInst(b.target);d=!0;var e=f.dpDiv.is(".ui-datepicker-rtl");f._keyEvent=!0;if(c.datepicker._datepickerShowing)switch(b.keyCode){case 9:c.datepicker._hideDatepicker();d=!1;break;case 13:return d=c("td."+c.datepicker._dayOverClass+":not(."+c.datepicker._currentClass+")",f.dpDiv),d[0]&&c.datepicker._selectDay(b.target,f.selectedMonth,f.selectedYear,d[0]),(b=c.datepicker._get(f,
"onSelect"))?(d=c.datepicker._formatDate(f),b.apply(f.input?f.input[0]:null,[d,f])):c.datepicker._hideDatepicker(),!1;case 27:c.datepicker._hideDatepicker();break;case 33:c.datepicker._adjustDate(b.target,b.ctrlKey?-c.datepicker._get(f,"stepBigMonths"):-c.datepicker._get(f,"stepMonths"),"M");break;case 34:c.datepicker._adjustDate(b.target,b.ctrlKey?+c.datepicker._get(f,"stepBigMonths"):+c.datepicker._get(f,"stepMonths"),"M");break;case 35:(b.ctrlKey||b.metaKey)&&c.datepicker._clearDate(b.target);
d=b.ctrlKey||b.metaKey;break;case 36:(b.ctrlKey||b.metaKey)&&c.datepicker._gotoToday(b.target);d=b.ctrlKey||b.metaKey;break;case 37:if(b.ctrlKey||b.metaKey)c.datepicker._adjustDate(b.target,e?1:-1,"D");d=b.ctrlKey||b.metaKey;b.originalEvent.altKey&&c.datepicker._adjustDate(b.target,b.ctrlKey?-c.datepicker._get(f,"stepBigMonths"):-c.datepicker._get(f,"stepMonths"),"M");break;case 38:(b.ctrlKey||b.metaKey)&&c.datepicker._adjustDate(b.target,-7,"D");d=b.ctrlKey||b.metaKey;break;case 39:if(b.ctrlKey||
b.metaKey)c.datepicker._adjustDate(b.target,e?-1:1,"D");d=b.ctrlKey||b.metaKey;b.originalEvent.altKey&&c.datepicker._adjustDate(b.target,b.ctrlKey?+c.datepicker._get(f,"stepBigMonths"):+c.datepicker._get(f,"stepMonths"),"M");break;case 40:(b.ctrlKey||b.metaKey)&&c.datepicker._adjustDate(b.target,7,"D");d=b.ctrlKey||b.metaKey;break;default:d=!1}else 36===b.keyCode&&b.ctrlKey?c.datepicker._showDatepicker(this):d=!1;d&&(b.preventDefault(),b.stopPropagation())},_doKeyPress:function(b){var d,f;d=c.datepicker._getInst(b.target);
if(c.datepicker._get(d,"constrainInput"))return d=c.datepicker._possibleChars(c.datepicker._get(d,"dateFormat")),f=String.fromCharCode(null==b.charCode?b.keyCode:b.charCode),b.ctrlKey||b.metaKey||" ">f||!d||-1<d.indexOf(f)},_doKeyUp:function(b){var d;b=c.datepicker._getInst(b.target);if(b.input.val()!==b.lastVal)try{if(d=c.datepicker.parseDate(c.datepicker._get(b,"dateFormat"),b.input?b.input.val():null,c.datepicker._getFormatConfig(b)))c.datepicker._setDateFromField(b),c.datepicker._updateAlternate(b),
c.datepicker._updateDatepicker(b)}catch(f){}return!0},_showDatepicker:function(b){b=b.target||b;"input"!==b.nodeName.toLowerCase()&&(b=c("input",b.parentNode)[0]);if(!(c.datepicker._isDisabledDatepicker(b)||c.datepicker._lastInput===b)){var d,f,e,x;d=c.datepicker._getInst(b);c.datepicker._curInst&&c.datepicker._curInst!==d&&(c.datepicker._curInst.dpDiv.stop(!0,!0),d&&c.datepicker._datepickerShowing&&c.datepicker._hideDatepicker(c.datepicker._curInst.input[0]));f=(f=c.datepicker._get(d,"beforeShow"))?
f.apply(b,[b,d]):{};if(!1!==f&&(g(d.settings,f),d.lastVal=null,c.datepicker._lastInput=b,c.datepicker._setDateFromField(d),c.datepicker._inDialog&&(b.value=""),c.datepicker._pos||(c.datepicker._pos=c.datepicker._findPos(b),c.datepicker._pos[1]+=b.offsetHeight),e=!1,c(b).parents().each(function(){e|="fixed"===c(this).css("position");return!e}),f={left:c.datepicker._pos[0],top:c.datepicker._pos[1]},c.datepicker._pos=null,d.dpDiv.empty(),d.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),
c.datepicker._updateDatepicker(d),f=c.datepicker._checkOffset(d,f,e),d.dpDiv.css({position:c.datepicker._inDialog&&c.blockUI?"static":e?"fixed":"absolute",display:"none",left:f.left+"px",top:f.top+"px"}),!d.inline)){f=c.datepicker._get(d,"showAnim");x=c.datepicker._get(d,"duration");d.dpDiv.zIndex(c(b).zIndex()+1);c.datepicker._datepickerShowing=!0;if(c.effects&&c.effects.effect[f])d.dpDiv.show(f,c.datepicker._get(d,"showOptions"),x);else d.dpDiv[f||"show"](f?x:null);c.datepicker._shouldFocusInput(d)&&
d.input.focus();c.datepicker._curInst=d}}},_updateDatepicker:function(b){this.maxRows=4;e=b;b.dpDiv.empty().append(this._generateHTML(b));this._attachHandlers(b);b.dpDiv.find("."+this._dayOverClass+" a").mouseover();var d,f=this._getNumberOfMonths(b),g=f[1];b.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width("");1<g&&b.dpDiv.addClass("ui-datepicker-multi-"+g).css("width",17*g+"em");b.dpDiv[(1!==f[0]||1!==f[1]?"add":"remove")+"Class"]("ui-datepicker-multi");
b.dpDiv[(this._get(b,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl");b===c.datepicker._curInst&&(c.datepicker._datepickerShowing&&c.datepicker._shouldFocusInput(b))&&b.input.focus();b.yearshtml&&(d=b.yearshtml,setTimeout(function(){d===b.yearshtml&&b.yearshtml&&b.dpDiv.find("select.ui-datepicker-year:first").replaceWith(b.yearshtml);d=b.yearshtml=null},0))},_shouldFocusInput:function(b){return b.input&&b.input.is(":visible")&&!b.input.is(":disabled")&&!b.input.is(":focus")},_checkOffset:function(b,
d,f){var e=b.dpDiv.outerWidth(),g=b.dpDiv.outerHeight(),k=b.input?b.input.outerWidth():0,m=b.input?b.input.outerHeight():0,D=document.documentElement.clientWidth+(f?0:c(document).scrollLeft()),L=document.documentElement.clientHeight+(f?0:c(document).scrollTop());d.left-=this._get(b,"isRTL")?e-k:0;d.left-=f&&d.left===b.input.offset().left?c(document).scrollLeft():0;d.top-=f&&d.top===b.input.offset().top+m?c(document).scrollTop():0;d.left-=Math.min(d.left,d.left+e>D&&D>e?Math.abs(d.left+e-D):0);d.top-=
Math.min(d.top,d.top+g>L&&L>g?Math.abs(g+m):0);return d},_findPos:function(b){for(var d=this._getInst(b),d=this._get(d,"isRTL");b&&("hidden"===b.type||1!==b.nodeType||c.expr.filters.hidden(b));)b=b[d?"previousSibling":"nextSibling"];b=c(b).offset();return[b.left,b.top]},_hideDatepicker:function(b){var d,f,e=this._curInst;if(e&&!(b&&e!==c.data(b,"datepicker"))&&this._datepickerShowing){b=this._get(e,"showAnim");d=this._get(e,"duration");f=function(){c.datepicker._tidyDialog(e)};if(c.effects&&(c.effects.effect[b]||
c.effects[b]))e.dpDiv.hide(b,c.datepicker._get(e,"showOptions"),d,f);else e.dpDiv["slideDown"===b?"slideUp":"fadeIn"===b?"fadeOut":"hide"](b?d:null,f);b||f();this._datepickerShowing=!1;(b=this._get(e,"onClose"))&&b.apply(e.input?e.input[0]:null,[e.input?e.input.val():"",e]);this._lastInput=null;this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),c.blockUI&&(c.unblockUI(),c("body").append(this.dpDiv)));this._inDialog=!1}},_tidyDialog:function(b){b.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},
_checkExternalClick:function(b){if(c.datepicker._curInst){b=c(b.target);var d=c.datepicker._getInst(b[0]);(b[0].id!==c.datepicker._mainDivId&&0===b.parents("#"+c.datepicker._mainDivId).length&&!b.hasClass(c.datepicker.markerClassName)&&!b.closest("."+c.datepicker._triggerClass).length&&c.datepicker._datepickerShowing&&(!c.datepicker._inDialog||!c.blockUI)||b.hasClass(c.datepicker.markerClassName)&&c.datepicker._curInst!==d)&&c.datepicker._hideDatepicker()}},_adjustDate:function(b,d,f){b=c(b);var e=
this._getInst(b[0]);this._isDisabledDatepicker(b[0])||(this._adjustInstDate(e,d+("M"===f?this._get(e,"showCurrentAtPos"):0),f),this._updateDatepicker(e))},_gotoToday:function(b){var d=c(b),f=this._getInst(d[0]);this._get(f,"gotoCurrent")&&f.currentDay?(f.selectedDay=f.currentDay,f.drawMonth=f.selectedMonth=f.currentMonth,f.drawYear=f.selectedYear=f.currentYear):(b=new Date,f.selectedDay=b.getDate(),f.drawMonth=f.selectedMonth=b.getMonth(),f.drawYear=f.selectedYear=b.getFullYear());this._notifyChange(f);
this._adjustDate(d)},_selectMonthYear:function(b,d,f){b=c(b);var e=this._getInst(b[0]);e["selected"+("M"===f?"Month":"Year")]=e["draw"+("M"===f?"Month":"Year")]=parseInt(d.options[d.selectedIndex].value,10);this._notifyChange(e);this._adjustDate(b)},_selectDay:function(b,d,f,e){var g;g=c(b);!c(e).hasClass(this._unselectableClass)&&!this._isDisabledDatepicker(g[0])&&(g=this._getInst(g[0]),g.selectedDay=g.currentDay=c("a",e).html(),g.selectedMonth=g.currentMonth=d,g.selectedYear=g.currentYear=f,this._selectDate(b,
this._formatDate(g,g.currentDay,g.currentMonth,g.currentYear)))},_clearDate:function(b){b=c(b);this._selectDate(b,"")},_selectDate:function(b,d){var f;f=c(b);var e=this._getInst(f[0]);d=null!=d?d:this._formatDate(e);e.input&&e.input.val(d);this._updateAlternate(e);(f=this._get(e,"onSelect"))?f.apply(e.input?e.input[0]:null,[d,e]):e.input&&e.input.trigger("change");e.inline?this._updateDatepicker(e):(this._hideDatepicker(),this._lastInput=e.input[0],"object"!==typeof e.input[0]&&e.input.focus(),this._lastInput=
null)},_updateAlternate:function(b){var d,f,e,g=this._get(b,"altField");g&&(d=this._get(b,"altFormat")||this._get(b,"dateFormat"),f=this._getDate(b),e=this.formatDate(d,f,this._getFormatConfig(b)),c(g).each(function(){c(this).val(e)}))},noWeekends:function(b){b=b.getDay();return[0<b&&6>b,""]},iso8601Week:function(b){var d=new Date(b.getTime());d.setDate(d.getDate()+4-(d.getDay()||7));b=d.getTime();d.setMonth(0);d.setDate(1);return Math.floor(Math.round((b-d)/864E5)/7)+1},parseDate:function(b,d,f){if(null==
b||null==d)throw"Invalid arguments";d="object"===typeof d?d.toString():d+"";if(""===d)return null;var e,g,k,m=0;g=(f?f.shortYearCutoff:null)||this._defaults.shortYearCutoff;g="string"!==typeof g?g:(new Date).getFullYear()%100+parseInt(g,10);k=(f?f.dayNamesShort:null)||this._defaults.dayNamesShort;var D=(f?f.dayNames:null)||this._defaults.dayNames,L=(f?f.monthNamesShort:null)||this._defaults.monthNamesShort,C=(f?f.monthNames:null)||this._defaults.monthNames,K=f=-1,N=-1,Q=-1,S=!1,R,y=function(d){(d=
e+1<b.length&&b.charAt(e+1)===d)&&e++;return d},n=function(b){var f=y(b);b=RegExp("^\\d{1,"+("@"===b?14:"!"===b?20:"y"===b&&f?4:"o"===b?3:2)+"}");b=d.substring(m).match(b);if(!b)throw"Missing number at position "+m;m+=b[0].length;return parseInt(b[0],10)},s=function(b,f,e){var g=-1;b=c.map(y(b)?e:f,function(b,d){return[[d,b]]}).sort(function(b,d){return-(b[1].length-d[1].length)});c.each(b,function(b,f){var e=f[1];if(d.substr(m,e.length).toLowerCase()===e.toLowerCase())return g=f[0],m+=e.length,!1});
if(-1!==g)return g+1;throw"Unknown name at position "+m;},u=function(){if(d.charAt(m)!==b.charAt(e))throw"Unexpected literal at position "+m;m++};for(e=0;e<b.length;e++)if(S)"'"===b.charAt(e)&&!y("'")?S=!1:u();else switch(b.charAt(e)){case "d":N=n("d");break;case "D":s("D",k,D);break;case "o":Q=n("o");break;case "m":K=n("m");break;case "M":K=s("M",L,C);break;case "y":f=n("y");break;case "@":R=new Date(n("@"));f=R.getFullYear();K=R.getMonth()+1;N=R.getDate();break;case "!":R=new Date((n("!")-this._ticksTo1970)/
1E4);f=R.getFullYear();K=R.getMonth()+1;N=R.getDate();break;case "'":y("'")?u():S=!0;break;default:u()}if(m<d.length&&(k=d.substr(m),!/^\s+/.test(k)))throw"Extra/unparsed characters found in date: "+k;-1===f?f=(new Date).getFullYear():100>f&&(f+=(new Date).getFullYear()-(new Date).getFullYear()%100+(f<=g?0:-100));if(-1<Q){K=1;N=Q;do{g=this._getDaysInMonth(f,K-1);if(N<=g)break;K++;N-=g}while(1)}R=this._daylightSavingAdjust(new Date(f,K-1,N));if(R.getFullYear()!==f||R.getMonth()+1!==K||R.getDate()!==
N)throw"Invalid date";return R},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:864E9*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(b,d,f){if(!d)return"";var e,c=(f?f.dayNamesShort:null)||this._defaults.dayNamesShort,g=(f?f.dayNames:null)||this._defaults.dayNames,k=(f?f.monthNamesShort:null)||
this._defaults.monthNamesShort;f=(f?f.monthNames:null)||this._defaults.monthNames;var m=function(d){(d=e+1<b.length&&b.charAt(e+1)===d)&&e++;return d},L=function(b,d,f){d=""+d;if(m(b))for(;d.length<f;)d="0"+d;return d},C=function(b,d,f,e){return m(b)?e[d]:f[d]},K="",N=!1;if(d)for(e=0;e<b.length;e++)if(N)"'"===b.charAt(e)&&!m("'")?N=!1:K+=b.charAt(e);else switch(b.charAt(e)){case "d":K+=L("d",d.getDate(),2);break;case "D":K+=C("D",d.getDay(),c,g);break;case "o":K+=L("o",Math.round(((new Date(d.getFullYear(),
d.getMonth(),d.getDate())).getTime()-(new Date(d.getFullYear(),0,0)).getTime())/864E5),3);break;case "m":K+=L("m",d.getMonth()+1,2);break;case "M":K+=C("M",d.getMonth(),k,f);break;case "y":K+=m("y")?d.getFullYear():(10>d.getYear()%100?"0":"")+d.getYear()%100;break;case "@":K+=d.getTime();break;case "!":K+=1E4*d.getTime()+this._ticksTo1970;break;case "'":m("'")?K+="'":N=!0;break;default:K+=b.charAt(e)}return K},_possibleChars:function(b){var d,f="",e=!1,c=function(f){(f=d+1<b.length&&b.charAt(d+1)===
f)&&d++;return f};for(d=0;d<b.length;d++)if(e)"'"===b.charAt(d)&&!c("'")?e=!1:f+=b.charAt(d);else switch(b.charAt(d)){case "d":case "m":case "y":case "@":f+="0123456789";break;case "D":case "M":return null;case "'":c("'")?f+="'":e=!0;break;default:f+=b.charAt(d)}return f},_get:function(d,f){return d.settings[f]!==b?d.settings[f]:this._defaults[f]},_setDateFromField:function(b,d){if(b.input.val()!==b.lastVal){var f=this._get(b,"dateFormat"),e=b.lastVal=b.input?b.input.val():null,c=this._getDefaultDate(b),
g=c,k=this._getFormatConfig(b);try{g=this.parseDate(f,e,k)||c}catch(m){e=d?"":e}b.selectedDay=g.getDate();b.drawMonth=b.selectedMonth=g.getMonth();b.drawYear=b.selectedYear=g.getFullYear();b.currentDay=e?g.getDate():0;b.currentMonth=e?g.getMonth():0;b.currentYear=e?g.getFullYear():0;this._adjustInstDate(b)}},_getDefaultDate:function(b){return this._restrictMinMax(b,this._determineDate(b,this._get(b,"defaultDate"),new Date))},_determineDate:function(b,d,f){var e=function(b){var d=new Date;d.setDate(d.getDate()+
b);return d},g=function(d){try{return c.datepicker.parseDate(c.datepicker._get(b,"dateFormat"),d,c.datepicker._getFormatConfig(b))}catch(f){}for(var e=(d.toLowerCase().match(/^c/)?c.datepicker._getDate(b):null)||new Date,g=e.getFullYear(),l=e.getMonth(),e=e.getDate(),q=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,v=q.exec(d);v;){switch(v[2]||"d"){case "d":case "D":e+=parseInt(v[1],10);break;case "w":case "W":e+=7*parseInt(v[1],10);break;case "m":case "M":l+=parseInt(v[1],10);e=Math.min(e,c.datepicker._getDaysInMonth(g,
l));break;case "y":case "Y":g+=parseInt(v[1],10),e=Math.min(e,c.datepicker._getDaysInMonth(g,l))}v=q.exec(d)}return new Date(g,l,e)};if(d=(d=null==d||""===d?f:"string"===typeof d?g(d):"number"===typeof d?isNaN(d)?f:e(d):new Date(d.getTime()))&&"Invalid Date"===d.toString()?f:d)d.setHours(0),d.setMinutes(0),d.setSeconds(0),d.setMilliseconds(0);return this._daylightSavingAdjust(d)},_daylightSavingAdjust:function(b){if(!b)return null;b.setHours(12<b.getHours()?b.getHours()+2:0);return b},_setDate:function(b,
d,f){var e=!d,c=b.selectedMonth,g=b.selectedYear;d=this._restrictMinMax(b,this._determineDate(b,d,new Date));b.selectedDay=b.currentDay=d.getDate();b.drawMonth=b.selectedMonth=b.currentMonth=d.getMonth();b.drawYear=b.selectedYear=b.currentYear=d.getFullYear();(c!==b.selectedMonth||g!==b.selectedYear)&&!f&&this._notifyChange(b);this._adjustInstDate(b);b.input&&b.input.val(e?"":this._formatDate(b))},_getDate:function(b){return!b.currentYear||b.input&&""===b.input.val()?null:this._daylightSavingAdjust(new Date(b.currentYear,
b.currentMonth,b.currentDay))},_attachHandlers:function(b){var d=this._get(b,"stepMonths"),f="#"+b.id.replace(/\\\\/g,"\\");b.dpDiv.find("[data-handler]").map(function(){c(this).bind(this.getAttribute("data-event"),{prev:function(){c.datepicker._adjustDate(f,-d,"M")},next:function(){c.datepicker._adjustDate(f,+d,"M")},hide:function(){c.datepicker._hideDatepicker()},today:function(){c.datepicker._gotoToday(f)},selectDay:function(){c.datepicker._selectDay(f,+this.getAttribute("data-month"),+this.getAttribute("data-year"),
this);return!1},selectMonth:function(){c.datepicker._selectMonthYear(f,this,"M");return!1},selectYear:function(){c.datepicker._selectMonthYear(f,this,"Y");return!1}}[this.getAttribute("data-handler")])})},_generateHTML:function(b){var d,f,e,c,g,k,m,L,C,K,N,Q,S,R,y,n,s,u,w,z,A,Z,ka,Ia,ya,B,F,E=new Date,E=this._daylightSavingAdjust(new Date(E.getFullYear(),E.getMonth(),E.getDate())),V=this._get(b,"isRTL");k=this._get(b,"showButtonPanel");e=this._get(b,"hideIfNoPrevNext");g=this._get(b,"navigationAsDateFormat");
var ca=this._getNumberOfMonths(b),ia=this._get(b,"showCurrentAtPos");c=this._get(b,"stepMonths");var la=1!==ca[0]||1!==ca[1],G=this._daylightSavingAdjust(!b.currentDay?new Date(9999,9,9):new Date(b.currentYear,b.currentMonth,b.currentDay)),Za=this._getMinMaxDate(b,"min"),J=this._getMinMaxDate(b,"max"),ia=b.drawMonth-ia,H=b.drawYear;0>ia&&(ia+=12,H--);if(J){d=this._daylightSavingAdjust(new Date(J.getFullYear(),J.getMonth()-ca[0]*ca[1]+1,J.getDate()));for(d=Za&&d<Za?Za:d;this._daylightSavingAdjust(new Date(H,
ia,1))>d;)ia--,0>ia&&(ia=11,H--)}b.drawMonth=ia;b.drawYear=H;d=this._get(b,"prevText");d=!g?d:this.formatDate(d,this._daylightSavingAdjust(new Date(H,ia-c,1)),this._getFormatConfig(b));d=this._canAdjustMonth(b,-1,H,ia)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+d+"'><span class='ui-icon ui-icon-circle-triangle-"+(V?"e":"w")+"'>"+d+"</span></a>":e?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+d+"'><span class='ui-icon ui-icon-circle-triangle-"+
(V?"e":"w")+"'>"+d+"</span></a>";f=this._get(b,"nextText");f=!g?f:this.formatDate(f,this._daylightSavingAdjust(new Date(H,ia+c,1)),this._getFormatConfig(b));e=this._canAdjustMonth(b,1,H,ia)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+f+"'><span class='ui-icon ui-icon-circle-triangle-"+(V?"w":"e")+"'>"+f+"</span></a>":e?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+f+"'><span class='ui-icon ui-icon-circle-triangle-"+(V?"w":
"e")+"'>"+f+"</span></a>";c=this._get(b,"currentText");f=this._get(b,"gotoCurrent")&&b.currentDay?G:E;c=!g?c:this.formatDate(c,f,this._getFormatConfig(b));g=!b.inline?"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(b,"closeText")+"</button>":"";k=k?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(V?g:"")+(this._isInRange(b,f)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+
c+"</button>":"")+(V?"":g)+"</div>":"";g=parseInt(this._get(b,"firstDay"),10);g=isNaN(g)?0:g;c=this._get(b,"showWeek");f=this._get(b,"dayNames");m=this._get(b,"dayNamesMin");L=this._get(b,"monthNames");C=this._get(b,"monthNamesShort");K=this._get(b,"beforeShowDay");N=this._get(b,"showOtherMonths");Q=this._get(b,"selectOtherMonths");S=this._getDefaultDate(b);R="";y;for(n=0;n<ca[0];n++){s="";this.maxRows=4;for(u=0;u<ca[1];u++){w=this._daylightSavingAdjust(new Date(H,ia,b.selectedDay));y=" ui-corner-all";
z="";if(la){z+="<div class='ui-datepicker-group";if(1<ca[1])switch(u){case 0:z+=" ui-datepicker-group-first";y=" ui-corner-"+(V?"right":"left");break;case ca[1]-1:z+=" ui-datepicker-group-last";y=" ui-corner-"+(V?"left":"right");break;default:z+=" ui-datepicker-group-middle",y=""}z+="'>"}z+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+y+"'>"+(/all|left/.test(y)&&0===n?V?e:d:"")+(/all|right/.test(y)&&0===n?V?d:e:"")+this._generateMonthYearHeader(b,ia,H,Za,J,0<n||0<u,L,C)+
"</div><table class='ui-datepicker-calendar'><thead><tr>";A=c?"<th class='ui-datepicker-week-col'>"+this._get(b,"weekHeader")+"</th>":"";for(y=0;7>y;y++)Z=(y+g)%7,A+="<th"+(5<=(y+g+6)%7?" class='ui-datepicker-week-end'":"")+"><span title='"+f[Z]+"'>"+m[Z]+"</span></th>";z+=A+"</tr></thead><tbody>";A=this._getDaysInMonth(H,ia);H===b.selectedYear&&ia===b.selectedMonth&&(b.selectedDay=Math.min(b.selectedDay,A));y=(this._getFirstDayOfMonth(H,ia)-g+7)%7;A=Math.ceil((y+A)/7);this.maxRows=A=la?this.maxRows>
A?this.maxRows:A:A;Z=this._daylightSavingAdjust(new Date(H,ia,1-y));for(ka=0;ka<A;ka++){z+="<tr>";Ia=!c?"":"<td class='ui-datepicker-week-col'>"+this._get(b,"calculateWeek")(Z)+"</td>";for(y=0;7>y;y++)ya=K?K.apply(b.input?b.input[0]:null,[Z]):[!0,""],F=(B=Z.getMonth()!==ia)&&!Q||!ya[0]||Za&&Z<Za||J&&Z>J,Ia+="<td class='"+(5<=(y+g+6)%7?" ui-datepicker-week-end":"")+(B?" ui-datepicker-other-month":"")+(Z.getTime()===w.getTime()&&ia===b.selectedMonth&&b._keyEvent||S.getTime()===Z.getTime()&&S.getTime()===
w.getTime()?" "+this._dayOverClass:"")+(F?" "+this._unselectableClass+" ui-state-disabled":"")+(B&&!N?"":" "+ya[1]+(Z.getTime()===G.getTime()?" "+this._currentClass:"")+(Z.getTime()===E.getTime()?" ui-datepicker-today":""))+"'"+((!B||N)&&ya[2]?" title='"+ya[2].replace(/'/g,"&#39;")+"'":"")+(F?"":" data-handler='selectDay' data-event='click' data-month='"+Z.getMonth()+"' data-year='"+Z.getFullYear()+"'")+">"+(B&&!N?"&#xa0;":F?"<span class='ui-state-default'>"+Z.getDate()+"</span>":"<a class='ui-state-default"+
(Z.getTime()===E.getTime()?" ui-state-highlight":"")+(Z.getTime()===G.getTime()?" ui-state-active":"")+(B?" ui-priority-secondary":"")+"' href='#'>"+Z.getDate()+"</a>")+"</td>",Z.setDate(Z.getDate()+1),Z=this._daylightSavingAdjust(Z);z+=Ia+"</tr>"}ia++;11<ia&&(ia=0,H++);z+="</tbody></table>"+(la?"</div>"+(0<ca[0]&&u===ca[1]-1?"<div class='ui-datepicker-row-break'></div>":""):"");s+=z}R+=s}b._keyEvent=!1;return R+k},_generateMonthYearHeader:function(b,d,f,e,c,g,k,m){var L,C,K,N=this._get(b,"changeMonth"),
Q=this._get(b,"changeYear"),S=this._get(b,"showMonthAfterYear"),R="<div class='ui-datepicker-title'>",y="";if(g||!N)y+="<span class='ui-datepicker-month'>"+k[d]+"</span>";else{k=e&&e.getFullYear()===f;L=c&&c.getFullYear()===f;y+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>";for(C=0;12>C;C++)if((!k||C>=e.getMonth())&&(!L||C<=c.getMonth()))y+="<option value='"+C+"'"+(C===d?" selected='selected'":"")+">"+m[C]+"</option>";y+="</select>"}S||(R+=y+(g||!N||!Q?"&#xa0;":
""));if(!b.yearshtml)if(b.yearshtml="",g||!Q)R+="<span class='ui-datepicker-year'>"+f+"</span>";else{m=this._get(b,"yearRange").split(":");K=(new Date).getFullYear();k=function(b){b=b.match(/c[+\-].*/)?f+parseInt(b.substring(1),10):b.match(/[+\-].*/)?K+parseInt(b,10):parseInt(b,10);return isNaN(b)?K:b};d=k(m[0]);m=Math.max(d,k(m[1]||""));d=e?Math.max(d,e.getFullYear()):d;m=c?Math.min(m,c.getFullYear()):m;for(b.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";d<=
m;d++)b.yearshtml+="<option value='"+d+"'"+(d===f?" selected='selected'":"")+">"+d+"</option>";b.yearshtml+="</select>";R+=b.yearshtml;b.yearshtml=null}R+=this._get(b,"yearSuffix");S&&(R+=(g||!N||!Q?"&#xa0;":"")+y);return R+"</div>"},_adjustInstDate:function(b,d,f){var e=b.drawYear+("Y"===f?d:0),c=b.drawMonth+("M"===f?d:0);d=Math.min(b.selectedDay,this._getDaysInMonth(e,c))+("D"===f?d:0);e=this._restrictMinMax(b,this._daylightSavingAdjust(new Date(e,c,d)));b.selectedDay=e.getDate();b.drawMonth=b.selectedMonth=
e.getMonth();b.drawYear=b.selectedYear=e.getFullYear();("M"===f||"Y"===f)&&this._notifyChange(b)},_restrictMinMax:function(b,d){var f=this._getMinMaxDate(b,"min"),e=this._getMinMaxDate(b,"max"),f=f&&d<f?f:d;return e&&f>e?e:f},_notifyChange:function(b){var d=this._get(b,"onChangeMonthYear");d&&d.apply(b.input?b.input[0]:null,[b.selectedYear,b.selectedMonth+1,b])},_getNumberOfMonths:function(b){b=this._get(b,"numberOfMonths");return null==b?[1,1]:"number"===typeof b?[1,b]:b},_getMinMaxDate:function(b,
d){return this._determineDate(b,this._get(b,d+"Date"),null)},_getDaysInMonth:function(b,d){return 32-this._daylightSavingAdjust(new Date(b,d,32)).getDate()},_getFirstDayOfMonth:function(b,d){return(new Date(b,d,1)).getDay()},_canAdjustMonth:function(b,d,f,e){var c=this._getNumberOfMonths(b);f=this._daylightSavingAdjust(new Date(f,e+(0>d?d:c[0]*c[1]),1));0>d&&f.setDate(this._getDaysInMonth(f.getFullYear(),f.getMonth()));return this._isInRange(b,f)},_isInRange:function(b,d){var f,e,c=this._getMinMaxDate(b,
"min"),g=this._getMinMaxDate(b,"max"),k=null,m=null;if(f=this._get(b,"yearRange"))f=f.split(":"),e=(new Date).getFullYear(),k=parseInt(f[0],10),m=parseInt(f[1],10),f[0].match(/[+\-].*/)&&(k+=e),f[1].match(/[+\-].*/)&&(m+=e);return(!c||d.getTime()>=c.getTime())&&(!g||d.getTime()<=g.getTime())&&(!k||d.getFullYear()>=k)&&(!m||d.getFullYear()<=m)},_getFormatConfig:function(b){var d=this._get(b,"shortYearCutoff"),d="string"!==typeof d?d:(new Date).getFullYear()%100+parseInt(d,10);return{shortYearCutoff:d,
dayNamesShort:this._get(b,"dayNamesShort"),dayNames:this._get(b,"dayNames"),monthNamesShort:this._get(b,"monthNamesShort"),monthNames:this._get(b,"monthNames")}},_formatDate:function(b,d,f,e){d||(b.currentDay=b.selectedDay,b.currentMonth=b.selectedMonth,b.currentYear=b.selectedYear);d=d?"object"===typeof d?d:this._daylightSavingAdjust(new Date(e,f,d)):this._daylightSavingAdjust(new Date(b.currentYear,b.currentMonth,b.currentDay));return this.formatDate(this._get(b,"dateFormat"),d,this._getFormatConfig(b))}});
c.fn.datepicker=function(b){if(!this.length)return this;c.datepicker.initialized||(c(document).mousedown(c.datepicker._checkExternalClick),c.datepicker.initialized=!0);0===c("#"+c.datepicker._mainDivId).length&&c("body").append(c.datepicker.dpDiv);var d=Array.prototype.slice.call(arguments,1);return"string"===typeof b&&("isDisabled"===b||"getDate"===b||"widget"===b)||"option"===b&&2===arguments.length&&"string"===typeof arguments[1]?c.datepicker["_"+b+"Datepicker"].apply(c.datepicker,[this[0]].concat(d)):
this.each(function(){"string"===typeof b?c.datepicker["_"+b+"Datepicker"].apply(c.datepicker,[this].concat(d)):c.datepicker._attachDatepicker(this,b)})};c.datepicker=new d;c.datepicker.initialized=!1;c.datepicker.uuid=(new Date).getTime();c.datepicker.version="1.10.3"})(jQuery);jQuery.cookie=function(c,b,d){if("undefined"!=typeof b){d=d||{};null===b&&(b="",d.expires=-1);var f="";if(d.expires&&("number"==typeof d.expires||d.expires.toUTCString))"number"==typeof d.expires?(f=new Date,f.setTime(f.getTime()+
864E5*d.expires)):f=d.expires,f="; expires="+f.toUTCString();var g=d.path?"; path="+d.path:"",e=d.domain?"; domain="+d.domain:"";d=d.secure?"; secure":"";document.cookie=[c,"=",encodeURIComponent(b),f,g,e,d].join("")}else{b=null;if(document.cookie&&""!=document.cookie){d=document.cookie.split(";");for(f=0;f<d.length;f++)if(g=jQuery.trim(d[f]),g.substring(0,c.length+1)==c+"="){b=decodeURIComponent(g.substring(c.length+1));break}}return b}};(function(c){var b=function(b,g){var e=this;c.extend(this.options,
g);this.$image=c(b).wrap('<div class="'+d+'Frame"/>');this.$frame=this.$image.parent();this.$image.hide().addClass(d+"Image").data(d,this).on("mousedown."+d,function(b){b.preventDefault();c(document).on("mousemove."+d,{mouse:{x:b.pageX,y:b.pageY},image:{x:parseInt(e.$image.css("left"),10),y:parseInt(e.$image.css("top"),10)}},c.proxy(e.drag,e)).on("mouseup."+d,function(){c(document).off("."+d)})}).on("load."+d,function(){e.width||(e.width=e.$image.width(),e.height=e.$image.height());if(e.width){var b=
e.options.width/e.width,d=e.options.height/e.height;e.minPercent=b>=d?e.width<e.options.width?e.options.width/e.width:b:e.height<e.options.height?e.options.height/e.height:d;e.focal={x:Math.round(e.width/2),y:Math.round(e.height/2)};e.zoom(e.minPercent);e.$image.fadeIn("fast")}}).load();this.$frame.css({width:this.options.width,height:this.options.height}).append(this.options.loading);!1!==this.options.controls&&this.$frame.append(c("<div/>",{"class":d+"Controls"}).append(c("<span/>").append(this.options.controls)).append(c("<a/>",
{"class":d+"ZoomIn"}).on("click."+d,c.proxy(this.zoomIn,this))).append(c("<a/>",{"class":d+"ZoomOut"}).on("click."+d,c.proxy(this.zoomOut,this))))},d="crop";c[d]=c.extend(b,{prototype:{width:0,height:0,result:{},percent:null,options:{width:320,height:180,zoom:10,loading:"Loading...",controls:"Click to drag"},zoom:function(d){this.percent=Math.max(this.minPercent,Math.min(1,d));this.$image.width(Math.ceil(this.width*this.percent));this.$image.css({left:b.fill(-Math.round(this.focal.x*this.percent-
this.options.width/2),this.$image.width(),this.options.width),top:b.fill(-Math.round(this.focal.y*this.percent-this.options.height/2),this.$image.height(),this.options.height)});this.update()},drag:function(d){this.$image.css({left:b.fill(d.data.image.x+d.pageX-d.data.mouse.x,this.$image.width(),this.options.width),top:b.fill(d.data.image.y+d.pageY-d.data.mouse.y,this.$image.height(),this.options.height)});this.update()},zoomIn:function(){return!!this.zoom(this.percent+(1-this.minPercent)/(this.options.zoom-
1||1))},zoomOut:function(){return!!this.zoom(this.percent-(1-this.minPercent)/(this.options.zoom-1||1))},update:function(){this.focal={x:Math.round((this.options.width/2-parseInt(this.$image.css("left"),10))/this.percent),y:Math.round((this.options.height/2-parseInt(this.$image.css("top"),10))/this.percent)};this.$image.trigger(c.Event("crop",this.result={cropX:-Math.floor(parseInt(this.$image.css("left"),10)/this.percent),cropY:-Math.floor(parseInt(this.$image.css("top"),10)/this.percent),cropW:Math.round(this.options.width/
this.percent),cropH:Math.round(this.options.height/this.percent),stretch:1<this.minPercent}))}},fill:function(b,d,e){b+d<e&&(b=e-d);return 0<b?0:b}});c.fn[d]=function(d){return this.each(function(){new b(this,d)})}})(jQuery);(function(c){function b(b){var d=b||window.event,f=[].slice.call(arguments,1),l=0,q=0,v=0;b=c.event.fix(d);b.type="mousewheel";d.wheelDelta&&(l=d.wheelDelta/120);d.detail&&(l=-d.detail/3);v=l;void 0!==d.axis&&d.axis===d.HORIZONTAL_AXIS&&(v=0,q=-1*l);void 0!==d.wheelDeltaY&&(v=
d.wheelDeltaY/120);void 0!==d.wheelDeltaX&&(q=-1*d.wheelDeltaX/120);f.unshift(b,l,q,v);return(c.event.dispatch||c.event.handle).apply(this,f)}var d=["DOMMouseScroll","mousewheel"];if(c.event.fixHooks)for(var f=d.length;f;)c.event.fixHooks[d[--f]]=c.event.mouseHooks;c.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var f=d.length;f;)this.addEventListener(d[--f],b,!1);else this.onmousewheel=b},teardown:function(){if(this.removeEventListener)for(var f=d.length;f;)this.removeEventListener(d[--f],
b,!1);else this.onmousewheel=null}};c.fn.extend({mousewheel:function(b){return b?this.bind("mousewheel",b):this.trigger("mousewheel")},unmousewheel:function(b){return this.unbind("mousewheel",b)}})})(jQuery);this.JSON||(this.JSON={});(function(){function c(b){return 10>b?"0"+b:b}function b(b){g.lastIndex=0;return g.test(b)?'"'+b.replace(g,function(b){var d=l[b];return"string"===typeof d?d:"\\u"+("0000"+b.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+b+'"'}function d(f,c){var g,l,k,m,C=e,K,N=c[f];
N&&("object"===typeof N&&"function"===typeof N.toJSON)&&(N=N.toJSON(f));"function"===typeof q&&(N=q.call(c,f,N));switch(typeof N){case "string":return b(N);case "number":return isFinite(N)?String(N):"null";case "boolean":case "null":return String(N);case "object":if(!N)return"null";e+=h;K=[];if("[object Array]"===Object.prototype.toString.apply(N)){m=N.length;for(g=0;g<m;g+=1)K[g]=d(g,N)||"null";k=0===K.length?"[]":e?"[\n"+e+K.join(",\n"+e)+"\n"+C+"]":"["+K.join(",")+"]";e=C;return k}if(q&&"object"===
typeof q){m=q.length;for(g=0;g<m;g+=1)l=q[g],"string"===typeof l&&(k=d(l,N))&&K.push(b(l)+(e?": ":":")+k)}else for(l in N)Object.hasOwnProperty.call(N,l)&&(k=d(l,N))&&K.push(b(l)+(e?": ":":")+k);k=0===K.length?"{}":e?"{\n"+e+K.join(",\n"+e)+"\n"+C+"}":"{"+K.join(",")+"}";e=C;return k}}"function"!==typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(b){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+c(this.getUTCMonth()+1)+"-"+c(this.getUTCDate())+"T"+c(this.getUTCHours())+":"+
c(this.getUTCMinutes())+":"+c(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(b){return this.valueOf()});var f=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,g=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,e,h,l={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},q;"function"!==
typeof JSON.stringify&&(JSON.stringify=function(b,f,c){var g;h=e="";if("number"===typeof c)for(g=0;g<c;g+=1)h+=" ";else"string"===typeof c&&(h=c);if((q=f)&&"function"!==typeof f&&("object"!==typeof f||"number"!==typeof f.length))throw Error("JSON.stringify");return d("",{"":b})});"function"!==typeof JSON.parse&&(JSON.parse=function(b,d){function e(b,f){var c,g,h=b[f];if(h&&"object"===typeof h)for(c in h)Object.hasOwnProperty.call(h,c)&&(g=e(h,c),void 0!==g?h[c]=g:delete h[c]);return d.call(b,f,h)}
var c;b=String(b);f.lastIndex=0;f.test(b)&&(b=b.replace(f,function(b){return"\\u"+("0000"+b.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(b.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return c=eval("("+b+")"),"function"===typeof d?e({"":c},""):c;throw new SyntaxError("JSON.parse");})})();Date.CultureInfo={name:"en-US",englishName:"English (United States)",nativeName:"English (United States)",
dayNames:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),abbreviatedDayNames:"Sun Mon Tue Wed Thu Fri Sat".split(" "),shortestDayNames:"Su Mo Tu We Th Fr Sa".split(" "),firstLetterDayNames:"SMTWTFS".split(""),monthNames:"January February March April May June July August September October November December".split(" "),abbreviatedMonthNames:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),amDesignator:"AM",pmDesignator:"PM",firstDayOfWeek:0,twoDigitYearMax:2029,dateElementOrder:"mdy",
formatPatterns:{shortDate:"M/d/yyyy",longDate:"dddd, MMMM dd, yyyy",shortTime:"h:mm tt",longTime:"h:mm:ss tt",fullDateTime:"dddd, MMMM dd, yyyy h:mm:ss tt",sortableDateTime:"yyyy-MM-ddTHH:mm:ss",universalSortableDateTime:"yyyy-MM-dd HH:mm:ssZ",rfc1123:"ddd, dd MMM yyyy HH:mm:ss GMT",monthDay:"MMMM dd",yearMonth:"MMMM, yyyy"},regexPatterns:{jan:/^jan(uary)?/i,feb:/^feb(ruary)?/i,mar:/^mar(ch)?/i,apr:/^apr(il)?/i,may:/^may/i,jun:/^jun(e)?/i,jul:/^jul(y)?/i,aug:/^aug(ust)?/i,sep:/^sep(t(ember)?)?/i,
oct:/^oct(ober)?/i,nov:/^nov(ember)?/i,dec:/^dec(ember)?/i,sun:/^su(n(day)?)?/i,mon:/^mo(n(day)?)?/i,tue:/^tu(e(s(day)?)?)?/i,wed:/^we(d(nesday)?)?/i,thu:/^th(u(r(s(day)?)?)?)?/i,fri:/^fr(i(day)?)?/i,sat:/^sa(t(urday)?)?/i,future:/^next/i,past:/^last|past|prev(ious)?/i,add:/^(\+|aft(er)?|from|hence)/i,subtract:/^(\-|bef(ore)?|ago)/i,yesterday:/^yes(terday)?/i,today:/^t(od(ay)?)?/i,tomorrow:/^tom(orrow)?/i,now:/^n(ow)?/i,millisecond:/^ms|milli(second)?s?/i,second:/^sec(ond)?s?/i,minute:/^mn|min(ute)?s?/i,
hour:/^h(our)?s?/i,week:/^w(eek)?s?/i,month:/^m(onth)?s?/i,day:/^d(ay)?s?/i,year:/^y(ear)?s?/i,shortMeridian:/^(a|p)/i,longMeridian:/^(a\.?m?\.?|p\.?m?\.?)/i,timezone:/^((e(s|d)t|c(s|d)t|m(s|d)t|p(s|d)t)|((gmt)?\s*(\+|\-)\s*\d\d\d\d?)|gmt|utc)/i,ordinalSuffix:/^\s*(st|nd|rd|th)/i,timeContext:/^\s*(\:|a(?!u|p)|p)/i},timezones:[{name:"UTC",offset:"-000"},{name:"GMT",offset:"-000"},{name:"EST",offset:"-0500"},{name:"EDT",offset:"-0400"},{name:"CST",offset:"-0600"},{name:"CDT",offset:"-0500"},{name:"MST",
offset:"-0700"},{name:"MDT",offset:"-0600"},{name:"PST",offset:"-0800"},{name:"PDT",offset:"-0700"}]};(function(){var c=Date,b=c.prototype,d=c.CultureInfo,f=function(b,d){d||(d=2);return("000"+b).slice(-1*d)};b.clearTime=function(){this.setHours(0);this.setMinutes(0);this.setSeconds(0);this.setMilliseconds(0);return this};b.setTimeToNow=function(){var b=new Date;this.setHours(b.getHours());this.setMinutes(b.getMinutes());this.setSeconds(b.getSeconds());this.setMilliseconds(b.getMilliseconds());return this};
c.today=function(){return(new Date).clearTime()};c.compare=function(b,d){if(isNaN(b)||isNaN(d))throw Error(b+" - "+d);if(b instanceof Date&&d instanceof Date)return b<d?-1:b>d?1:0;throw new TypeError(b+" - "+d);};c.equals=function(b,d){return 0===b.compareTo(d)};c.getDayNumberFromName=function(b){var f=d.dayNames,e=d.abbreviatedDayNames,c=d.shortestDayNames;b=b.toLowerCase();for(var g=0;g<f.length;g++)if(f[g].toLowerCase()==b||e[g].toLowerCase()==b||c[g].toLowerCase()==b)return g;return-1};c.getMonthNumberFromName=
function(b){var f=d.monthNames,e=d.abbreviatedMonthNames;b=b.toLowerCase();for(var c=0;c<f.length;c++)if(f[c].toLowerCase()==b||e[c].toLowerCase()==b)return c;return-1};c.isLeapYear=function(b){return 0===b%4&&0!==b%100||0===b%400};c.getDaysInMonth=function(b,d){return[31,c.isLeapYear(b)?29:28,31,30,31,30,31,31,30,31,30,31][d]};c.getTimezoneAbbreviation=function(b){for(var f=d.timezones,e=0;e<f.length;e++)if(f[e].offset===b)return f[e].name;return null};c.getTimezoneOffset=function(b){for(var f=d.timezones,
e=0;e<f.length;e++)if(f[e].name===b.toUpperCase())return f[e].offset;return null};b.clone=function(){return new Date(this.getTime())};b.compareTo=function(b){return Date.compare(this,b)};b.equals=function(b){return Date.equals(this,b||new Date)};b.between=function(b,d){return this.getTime()>=b.getTime()&&this.getTime()<=d.getTime()};b.isAfter=function(b){return 1===this.compareTo(b||new Date)};b.isBefore=function(b){return-1===this.compareTo(b||new Date)};b.isToday=function(){return this.isSameDay(new Date)};
b.isSameDay=function(b){return this.clone().clearTime().equals(b.clone().clearTime())};b.addMilliseconds=function(b){this.setMilliseconds(this.getMilliseconds()+b);return this};b.addSeconds=function(b){return this.addMilliseconds(1E3*b)};b.addMinutes=function(b){return this.addMilliseconds(6E4*b)};b.addHours=function(b){return this.addMilliseconds(36E5*b)};b.addDays=function(b){this.setDate(this.getDate()+b);return this};b.addWeeks=function(b){return this.addDays(7*b)};b.addMonths=function(b){var d=
this.getDate();this.setDate(1);this.setMonth(this.getMonth()+b);this.setDate(Math.min(d,c.getDaysInMonth(this.getFullYear(),this.getMonth())));return this};b.addYears=function(b){return this.addMonths(12*b)};b.add=function(b){if("number"==typeof b)return this._orient=b,this;b.milliseconds&&this.addMilliseconds(b.milliseconds);b.seconds&&this.addSeconds(b.seconds);b.minutes&&this.addMinutes(b.minutes);b.hours&&this.addHours(b.hours);b.weeks&&this.addWeeks(b.weeks);b.months&&this.addMonths(b.months);
b.years&&this.addYears(b.years);b.days&&this.addDays(b.days);return this};var g,e,h;b.getWeek=function(){var b,d,f,c,k;g=!g?this.getFullYear():g;e=!e?this.getMonth()+1:e;h=!h?this.getDate():h;2>=e?(b=g-1,d=(b/4|0)-(b/100|0)+(b/400|0),k=d-(((b-1)/4|0)-((b-1)/100|0)+((b-1)/400|0)),f=0,c=h-1+31*(e-1)):(b=g,d=(b/4|0)-(b/100|0)+(b/400|0),k=d-(((b-1)/4|0)-((b-1)/100|0)+((b-1)/400|0)),f=k+1,c=h+(153*(e-3)+2)/5+58+k);b=(b+d)%7;f=c+3-(c+b-f)%7|0;g=e=h=null;return 0>f?53-((b-k)/5|0):f>364+k?1:(f/7|0)+1};b.getISOWeek=
function(){g=this.getUTCFullYear();e=this.getUTCMonth()+1;h=this.getUTCDate();return f(this.getWeek())};b.setWeek=function(b){return this.moveToDayOfWeek(1).addWeeks(b-this.getWeek())};c._validate=function(b,d,f,e){if("undefined"==typeof b)return!1;if("number"!=typeof b)throw new TypeError(b+" is not a Number.");if(b<d||b>f)throw new RangeError(b+" is not a valid value for "+e+".");return!0};c.validateMillisecond=function(b){return c._validate(b,0,999,"millisecond")};c.validateSecond=function(b){return c._validate(b,
0,59,"second")};c.validateMinute=function(b){return c._validate(b,0,59,"minute")};c.validateHour=function(b){return c._validate(b,0,23,"hour")};c.validateDay=function(b,d,f){return c._validate(b,1,c.getDaysInMonth(d,f),"day")};c.validateMonth=function(b){return c._validate(b,0,11,"month")};c.validateYear=function(b){return c._validate(b,0,9999,"year")};b.set=function(b){c.validateMillisecond(b.millisecond)&&this.addMilliseconds(b.millisecond-this.getMilliseconds());c.validateSecond(b.second)&&this.addSeconds(b.second-
this.getSeconds());c.validateMinute(b.minute)&&this.addMinutes(b.minute-this.getMinutes());c.validateHour(b.hour)&&this.addHours(b.hour-this.getHours());c.validateMonth(b.month)&&this.addMonths(b.month-this.getMonth());c.validateYear(b.year)&&this.addYears(b.year-this.getFullYear());c.validateDay(b.day,this.getFullYear(),this.getMonth())&&this.addDays(b.day-this.getDate());b.timezone&&this.setTimezone(b.timezone);b.timezoneOffset&&this.setTimezoneOffset(b.timezoneOffset);b.week&&c._validate(b.week,
0,53,"week")&&this.setWeek(b.week);return this};b.moveToFirstDayOfMonth=function(){return this.set({day:1})};b.moveToLastDayOfMonth=function(){return this.set({day:c.getDaysInMonth(this.getFullYear(),this.getMonth())})};b.moveToNthOccurrence=function(b,d){var f=0;if(0<d)f=d-1;else if(-1===d)return this.moveToLastDayOfMonth(),this.getDay()!==b&&this.moveToDayOfWeek(b,-1),this;return this.moveToFirstDayOfMonth().addDays(-1).moveToDayOfWeek(b,1).addWeeks(f)};b.moveToDayOfWeek=function(b,d){var f=(b-
this.getDay()+7*(d||1))%7;return this.addDays(0===f?f+7*(d||1):f)};b.moveToMonth=function(b,d){var f=(b-this.getMonth()+12*(d||1))%12;return this.addMonths(0===f?f+12*(d||1):f)};b.getOrdinalNumber=function(){return Math.ceil((this.clone().clearTime()-new Date(this.getFullYear(),0,1))/864E5)+1};b.getTimezone=function(){return c.getTimezoneAbbreviation(this.getUTCOffset())};b.setTimezoneOffset=function(b){var d=this.getTimezoneOffset();return this.addMinutes(-6*Number(b)/10-d)};b.setTimezone=function(b){return this.setTimezoneOffset(c.getTimezoneOffset(b))};
b.hasDaylightSavingTime=function(){return Date.today().set({month:0,day:1}).getTimezoneOffset()!==Date.today().set({month:6,day:1}).getTimezoneOffset()};b.isDaylightSavingTime=function(){return this.hasDaylightSavingTime()&&(new Date).getTimezoneOffset()===Date.today().set({month:6,day:1}).getTimezoneOffset()};b.getUTCOffset=function(){var b=-10*this.getTimezoneOffset()/6;if(0>b)return b=(b-1E4).toString(),b.charAt(0)+b.substr(2);b=(b+1E4).toString();return"+"+b.substr(1)};b.getElapsed=function(b){return(b||
new Date)-this};b.toISOString||(b.toISOString=function(){function b(d){return 10>d?"0"+d:d}return'"'+this.getUTCFullYear()+"-"+b(this.getUTCMonth()+1)+"-"+b(this.getUTCDate())+"T"+b(this.getUTCHours())+":"+b(this.getUTCMinutes())+":"+b(this.getUTCSeconds())+'Z"'});b._toString=b.toString;b.toString=function(b){var e=this;if(b&&1==b.length){var c=d.formatPatterns;e.t=e.toString;switch(b){case "d":return e.t(c.shortDate);case "D":return e.t(c.longDate);case "F":return e.t(c.fullDateTime);case "m":return e.t(c.monthDay);
case "r":return e.t(c.rfc1123);case "s":return e.t(c.sortableDateTime);case "t":return e.t(c.shortTime);case "T":return e.t(c.longTime);case "u":return e.t(c.universalSortableDateTime);case "y":return e.t(c.yearMonth)}}var g=function(b){switch(1*b){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}};return b?b.replace(/(\\)?(dd?d?d?|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|S)/g,function(b){if("\\"===b.charAt(0))return b.replace("\\","");e.h=e.getHours;
switch(b){case "hh":return f(13>e.h()?0===e.h()?12:e.h():e.h()-12);case "h":return 13>e.h()?0===e.h()?12:e.h():e.h()-12;case "HH":return f(e.h());case "H":return e.h();case "mm":return f(e.getMinutes());case "m":return e.getMinutes();case "ss":return f(e.getSeconds());case "s":return e.getSeconds();case "yyyy":return f(e.getFullYear(),4);case "yy":return f(e.getFullYear());case "dddd":return d.dayNames[e.getDay()];case "ddd":return d.abbreviatedDayNames[e.getDay()];case "dd":return f(e.getDate());
case "d":return e.getDate();case "MMMM":return d.monthNames[e.getMonth()];case "MMM":return d.abbreviatedMonthNames[e.getMonth()];case "MM":return f(e.getMonth()+1);case "M":return e.getMonth()+1;case "t":return 12>e.h()?d.amDesignator.substring(0,1):d.pmDesignator.substring(0,1);case "tt":return 12>e.h()?d.amDesignator:d.pmDesignator;case "S":return g(e.getDate());default:return b}}):this._toString()}})();(function(){var c=Date,b=c.prototype,d=c.CultureInfo,f=Number.prototype;b._orient=1;b._nth=
null;b._is=!1;b._same=!1;b._isSecond=!1;f._dateElement="day";b.next=function(){this._orient=1;return this};c.next=function(){return c.today().next()};b.last=b.prev=b.previous=function(){this._orient=-1;return this};c.last=c.prev=c.previous=function(){return c.today().last()};b.is=function(){this._is=!0;return this};b.same=function(){this._same=!0;this._isSecond=!1;return this};b.today=function(){return this.same().day()};b.weekday=function(){return this._is?(this._is=!1,!this.is().sat()&&!this.is().sun()):
!1};b.at=function(b){return"string"===typeof b?c.parse(this.toString("d")+" "+b):this.set(b)};f.fromNow=f.after=function(b){var d={};d[this._dateElement]=this;return(!b?new Date:b.clone()).add(d)};f.ago=f.before=function(b){var d={};d[this._dateElement]=-1*this;return(!b?new Date:b.clone()).add(d)};var g="sunday monday tuesday wednesday thursday friday saturday".split(/\s/),e="january february march april may june july august september october november december".split(/\s/),h="Millisecond Second Minute Hour Day Week Month Year".split(/\s/),
l="Milliseconds Seconds Minutes Hours Date Week Month FullYear".split(/\s/),q="final first second third fourth fifth".split(/\s/);b.toObject=function(){for(var b={},d=0;d<h.length;d++)b[h[d].toLowerCase()]=this["get"+l[d]]();return b};c.fromObject=function(b){b.week=null;return Date.today().set(b)};for(var v=function(b){return function(){if(this._is)return this._is=!1,this.getDay()==b;if(null!==this._nth){this._isSecond&&this.addSeconds(-1*this._orient);this._isSecond=!1;var d=this._nth;this._nth=
null;var f=this.clone().moveToLastDayOfMonth();this.moveToNthOccurrence(b,d);if(this>f)throw new RangeError(c.getDayName(b)+" does not occur "+d+" times in the month of "+c.getMonthName(f.getMonth())+" "+f.getFullYear()+".");return this}return this.moveToDayOfWeek(b,this._orient)}},k=function(b){return function(){var f=c.today(),e=b-f.getDay();0===b&&(1===d.firstDayOfWeek&&0!==f.getDay())&&(e+=7);return f.addDays(e)}},m=0;m<g.length;m++)c[g[m].toUpperCase()]=c[g[m].toUpperCase().substring(0,3)]=m,
c[g[m]]=c[g[m].substring(0,3)]=k(m),b[g[m]]=b[g[m].substring(0,3)]=v(m);g=function(b){return function(){return this._is?(this._is=!1,this.getMonth()===b):this.moveToMonth(b,this._orient)}};v=function(b){return function(){return c.today().set({month:b,day:1})}};for(k=0;k<e.length;k++)c[e[k].toUpperCase()]=c[e[k].toUpperCase().substring(0,3)]=k,c[e[k]]=c[e[k].substring(0,3)]=v(k),b[e[k]]=b[e[k].substring(0,3)]=g(k);g=function(b){return function(d){if(this._isSecond)return this._isSecond=!1,this;if(this._same){this._same=
this._is=!1;var f=this.toObject();d=(d||new Date).toObject();for(var e="",c=b.toLowerCase(),g=h.length-1;-1<g;g--){e=h[g].toLowerCase();if(f[e]!=d[e])return!1;if(c==e)break}return!0}"s"!=b.substring(b.length-1)&&(b+="s");return this["add"+b](this._orient)}};v=function(b){return function(){this._dateElement=b;return this}};for(k=0;k<h.length;k++)e=h[k].toLowerCase(),b[e]=b[e+"s"]=g(h[k]),f[e]=f[e+"s"]=v(e);b._ss=g("Second");f=function(b){return function(d){if(this._same)return this._ss(d);if(d||0===
d)return this.moveToNthOccurrence(d,b);this._nth=b;return 2===b&&(void 0===d||null===d)?(this._isSecond=!0,this.addSeconds(this._orient)):this}};for(e=0;e<q.length;e++)b[q[e]]=0===e?f(-1):f(e)})();(function(){Date.Parsing={Exception:function(b){this.message="Parse error at '"+b.substring(0,10)+" ...'"}};for(var c=Date.Parsing,b=c.Operators={rtoken:function(b){return function(d){var f=d.match(b);if(f)return[f[0],d.substring(f[0].length)];throw new c.Exception(d);}},token:function(d){return function(d){return b.rtoken(RegExp("^s*"+
d+"s*"))(d)}},stoken:function(d){return b.rtoken(RegExp("^"+d))},until:function(b){return function(d){for(var f=[],c=null;d.length;){try{c=b.call(this,d)}catch(g){f.push(c[0]);d=c[1];continue}break}return[f,d]}},many:function(b){return function(d){for(var f=[],c=null;d.length;){try{c=b.call(this,d)}catch(g){break}f.push(c[0]);d=c[1]}return[f,d]}},optional:function(b){return function(d){var f=null;try{f=b.call(this,d)}catch(c){return[null,d]}return[f[0],f[1]]}},not:function(b){return function(d){try{b.call(this,
d)}catch(f){return[null,d]}throw new c.Exception(d);}},ignore:function(b){return b?function(d){var f=null,f=b.call(this,d);return[null,f[1]]}:null},product:function(){for(var d=arguments[0],f=Array.prototype.slice.call(arguments,1),c=[],g=0;g<d.length;g++)c.push(b.each(d[g],f));return c},cache:function(b){var d={},f=null;return function(g){try{f=d[g]=d[g]||b.call(this,g)}catch(v){f=d[g]=v}if(f instanceof c.Exception)throw f;return f}},any:function(){var b=arguments;return function(d){for(var f=null,
g=0;g<b.length;g++)if(null!=b[g]){try{f=b[g].call(this,d)}catch(v){f=null}if(f)return f}throw new c.Exception(d);}},each:function(){var b=arguments;return function(d){for(var f=[],g=null,v=0;v<b.length;v++)if(null!=b[v]){try{g=b[v].call(this,d)}catch(k){throw new c.Exception(d);}f.push(g[0]);d=g[1]}return[f,d]}},all:function(){var b=b;return b.each(b.optional(arguments))},sequence:function(d,f,g){f=f||b.rtoken(/^\s*/);g=g||null;return 1==d.length?d[0]:function(b){for(var v=null,k=null,m=[],U=0;U<
d.length;U++){try{v=d[U].call(this,b)}catch(D){break}m.push(v[0]);try{k=f.call(this,v[1])}catch(L){k=null;break}b=k[1]}if(!v)throw new c.Exception(b);if(k)throw new c.Exception(k[1]);if(g)try{v=g.call(this,v[1])}catch(C){throw new c.Exception(v[1]);}return[m,v?v[1]:b]}},between:function(d,f,c){c=c||d;var g=b.each(b.ignore(d),f,b.ignore(c));return function(b){b=g.call(this,b);return[[b[0][0],r[0][2]],b[1]]}},list:function(d,f,c){f=f||b.rtoken(/^\s*/);c=c||null;return d instanceof Array?b.each(b.product(d.slice(0,
-1),b.ignore(f)),d.slice(-1),b.ignore(c)):b.each(b.many(b.each(d,b.ignore(f))),px,b.ignore(c))},set:function(d,f,g){f=f||b.rtoken(/^\s*/);g=g||null;return function(q){for(var v=null,k=v=null,m=null,U=[[],q],D=!1,L=0;L<d.length;L++){v=k=null;D=1==d.length;try{v=d[L].call(this,q)}catch(C){continue}m=[[v[0]],v[1]];if(0<v[1].length&&!D)try{k=f.call(this,v[1])}catch(K){D=!0}else D=!0;!D&&0===k[1].length&&(D=!0);if(!D){v=[];for(D=0;D<d.length;D++)L!=D&&v.push(d[D]);v=b.set(v,f).call(this,k[1]);0<v[0].length&&
(m[0]=m[0].concat(v[0]),m[1]=v[1])}m[1].length<U[1].length&&(U=m);if(0===U[1].length)break}if(0===U[0].length)return U;if(g){try{k=g.call(this,U[1])}catch(N){throw new c.Exception(U[1]);}U[1]=k[1]}return U}},forward:function(b,d){return function(f){return b[d].call(this,f)}},replace:function(b,d){return function(f){f=b.call(this,f);return[d,f[1]]}},process:function(b,d){return function(f){f=b.call(this,f);return[d.call(this,f[0]),f[1]]}},min:function(b,d){return function(f){var g=d.call(this,f);if(g[0].length<
b)throw new c.Exception(f);return g}}},d=function(b){return function(){var d=null,f=[];1<arguments.length?d=Array.prototype.slice.call(arguments):arguments[0]instanceof Array&&(d=arguments[0]);if(d)for(var c=d.shift();0<c.length;)return d.unshift(c[0]),f.push(b.apply(null,d)),d.shift(),f;else return b.apply(null,arguments)}},f="optional not ignore cache".split(/\s/),g=0;g<f.length;g++)b[f[g]]=d(b[f[g]]);d=function(b){return function(){return arguments[0]instanceof Array?b.apply(null,arguments[0]):
b.apply(null,arguments)}};f="each any all".split(/\s/);for(g=0;g<f.length;g++)b[f[g]]=d(b[f[g]])})();(function(){var c=Date,b=c.CultureInfo,d=function(b){for(var f=[],e=0;e<b.length;e++)b[e]instanceof Array?f=f.concat(d(b[e])):b[e]&&f.push(b[e]);return f};c.Grammar={};c.Translator={hour:function(b){return function(){this.hour=Number(b)}},minute:function(b){return function(){this.minute=Number(b)}},second:function(b){return function(){this.second=Number(b)}},meridian:function(b){return function(){this.meridian=
b.slice(0,1).toLowerCase()}},timezone:function(b){return function(){var d=b.replace(/[^\d\+\-]/g,"");d.length?this.timezoneOffset=Number(d):this.timezone=b.toLowerCase()}},day:function(b){var d=b[0];return function(){this.day=Number(d.match(/\d+/)[0])}},month:function(b){return function(){this.month=3==b.length?"jan feb mar apr may jun jul aug sep oct nov dec".indexOf(b)/4:Number(b)-1}},year:function(d){return function(){var f=Number(d);this.year=2<d.length?f:f+(f+2E3<b.twoDigitYearMax?2E3:1900)}},
rday:function(b){return function(){switch(b){case "yesterday":this.days=-1;break;case "tomorrow":this.days=1;break;case "today":this.days=0;break;case "now":this.days=0,this.now=!0}}},finishExact:function(b){b=b instanceof Array?b:[b];for(var d=0;d<b.length;d++)b[d]&&b[d].call(this);b=new Date;if((this.hour||this.minute)&&!this.month&&!this.year&&!this.day)this.day=b.getDate();this.year||(this.year=b.getFullYear());!this.month&&0!==this.month&&(this.month=b.getMonth());this.day||(this.day=1);this.hour||
(this.hour=0);this.minute||(this.minute=0);this.second||(this.second=0);this.meridian&&this.hour&&("p"==this.meridian&&12>this.hour?this.hour+=12:"a"==this.meridian&&12==this.hour&&(this.hour=0));if(this.day>c.getDaysInMonth(this.year,this.month))throw new RangeError(this.day+" is not a valid value for days.");b=new Date(this.year,this.month,this.day,this.hour,this.minute,this.second);this.timezone?b.set({timezone:this.timezone}):this.timezoneOffset&&b.set({timezoneOffset:this.timezoneOffset});return b},
finish:function(b){b=b instanceof Array?d(b):[b];if(0===b.length)return null;for(var f=0;f<b.length;f++)"function"==typeof b[f]&&b[f].call(this);b=c.today();if(this.now&&!this.unit&&!this.operator)return new Date;this.now&&(b=new Date);var f=!!(this.days&&null!==this.days||this.orient||this.operator),e,g,h;h="past"==this.orient||"subtract"==this.operator?-1:1;!this.now&&-1!="hour minute second".indexOf(this.unit)&&b.setTimeToNow();if((this.month||0===this.month)&&-1!="year day hour minute second".indexOf(this.unit))this.value=
this.month+1,this.month=null,f=!0;!f&&(this.weekday&&!this.day&&!this.days)&&(e=Date[this.weekday](),this.day=e.getDate(),this.month||(this.month=e.getMonth()),this.year=e.getFullYear());f&&(this.weekday&&"month"!=this.unit)&&(this.unit="day",e=c.getDayNumberFromName(this.weekday)-b.getDay(),g=7,this.days=e?(e+h*g)%g:h*g);this.month&&("day"==this.unit&&this.operator)&&(this.value=this.month+1,this.month=null);null!=this.value&&(null!=this.month&&null!=this.year)&&(this.day=1*this.value);this.month&&
(!this.day&&this.value)&&(b.set({day:1*this.value}),f||(this.day=1*this.value));!this.month&&(this.value&&"month"==this.unit&&!this.now)&&(this.month=this.value,f=!0);if(f&&(this.month||0===this.month)&&"year"!=this.unit)this.unit="month",e=this.month-b.getMonth(),g=12,this.months=e?(e+h*g)%g:h*g,this.month=null;this.unit||(this.unit="day");if(!this.value&&this.operator&&null!==this.operator&&this[this.unit+"s"]&&null!==this[this.unit+"s"])this[this.unit+"s"]=this[this.unit+"s"]+("add"==this.operator?
1:-1)+(this.value||0)*h;else if(null==this[this.unit+"s"]||null!=this.operator)this.value||(this.value=1),this[this.unit+"s"]=this.value*h;this.meridian&&this.hour&&("p"==this.meridian&&12>this.hour?this.hour+=12:"a"==this.meridian&&12==this.hour&&(this.hour=0));this.weekday&&(!this.day&&!this.days)&&(e=Date[this.weekday](),this.day=e.getDate(),e.getMonth()!==b.getMonth()&&(this.month=e.getMonth()));if((this.month||0===this.month)&&!this.day)this.day=1;if(!this.orient&&!this.operator&&"week"==this.unit&&
this.value&&!this.day&&!this.month)return Date.today().setWeek(this.value);f&&(this.timezone&&this.day&&this.days)&&(this.day=this.days);return f?b.add(this):b.set(this)}};var f=c.Parsing.Operators,g=c.Grammar,e=c.Translator,h;g.datePartDelimiter=f.rtoken(/^([\s\-\.\,\/\x27]+)/);g.timePartDelimiter=f.stoken(":");g.whiteSpace=f.rtoken(/^\s*/);g.generalDelimiter=f.rtoken(/^(([\s\,]|at|@|on)+)/);var l={};g.ctoken=function(d){var e=l[d];if(!e){for(var e=b.regexPatterns,c=d.split(/\s+/),g=[],h=0;h<c.length;h++)g.push(f.replace(f.rtoken(e[c[h]]),
c[h]));e=l[d]=f.any.apply(null,g)}return e};g.ctoken2=function(d){return f.rtoken(b.regexPatterns[d])};g.h=f.cache(f.process(f.rtoken(/^(0[0-9]|1[0-2]|[1-9])/),e.hour));g.hh=f.cache(f.process(f.rtoken(/^(0[0-9]|1[0-2])/),e.hour));g.H=f.cache(f.process(f.rtoken(/^([0-1][0-9]|2[0-3]|[0-9])/),e.hour));g.HH=f.cache(f.process(f.rtoken(/^([0-1][0-9]|2[0-3])/),e.hour));g.m=f.cache(f.process(f.rtoken(/^([0-5][0-9]|[0-9])/),e.minute));g.mm=f.cache(f.process(f.rtoken(/^[0-5][0-9]/),e.minute));g.s=f.cache(f.process(f.rtoken(/^([0-5][0-9]|[0-9])/),
e.second));g.ss=f.cache(f.process(f.rtoken(/^[0-5][0-9]/),e.second));g.hms=f.cache(f.sequence([g.H,g.m,g.s],g.timePartDelimiter));g.t=f.cache(f.process(g.ctoken2("shortMeridian"),e.meridian));g.tt=f.cache(f.process(g.ctoken2("longMeridian"),e.meridian));g.z=f.cache(f.process(f.rtoken(/^((\+|\-)\s*\d\d\d\d)|((\+|\-)\d\d\:?\d\d)/),e.timezone));g.zz=f.cache(f.process(f.rtoken(/^((\+|\-)\s*\d\d\d\d)|((\+|\-)\d\d\:?\d\d)/),e.timezone));g.zzz=f.cache(f.process(g.ctoken2("timezone"),e.timezone));g.timeSuffix=
f.each(f.ignore(g.whiteSpace),f.set([g.tt,g.zzz]));g.time=f.each(f.optional(f.ignore(f.stoken("T"))),g.hms,g.timeSuffix);g.d=f.cache(f.process(f.each(f.rtoken(/^([0-2]\d|3[0-1]|\d)/),f.optional(g.ctoken2("ordinalSuffix"))),e.day));g.dd=f.cache(f.process(f.each(f.rtoken(/^([0-2]\d|3[0-1])/),f.optional(g.ctoken2("ordinalSuffix"))),e.day));g.ddd=g.dddd=f.cache(f.process(g.ctoken("sun mon tue wed thu fri sat"),function(b){return function(){this.weekday=b}}));g.M=f.cache(f.process(f.rtoken(/^(1[0-2]|0\d|\d)/),
e.month));g.MM=f.cache(f.process(f.rtoken(/^(1[0-2]|0\d)/),e.month));g.MMM=g.MMMM=f.cache(f.process(g.ctoken("jan feb mar apr may jun jul aug sep oct nov dec"),e.month));g.y=f.cache(f.process(f.rtoken(/^(\d\d?)/),e.year));g.yy=f.cache(f.process(f.rtoken(/^(\d\d)/),e.year));g.yyy=f.cache(f.process(f.rtoken(/^(\d\d?\d?\d?)/),e.year));g.yyyy=f.cache(f.process(f.rtoken(/^(\d\d\d\d)/),e.year));h=function(){return f.each(f.any.apply(null,arguments),f.not(g.ctoken2("timeContext")))};g.day=h(g.d,g.dd);g.month=
h(g.M,g.MMM);g.year=h(g.yyyy,g.yy);g.orientation=f.process(g.ctoken("past future"),function(b){return function(){this.orient=b}});g.operator=f.process(g.ctoken("add subtract"),function(b){return function(){this.operator=b}});g.rday=f.process(g.ctoken("yesterday tomorrow today now"),e.rday);g.unit=f.process(g.ctoken("second minute hour day week month year"),function(b){return function(){this.unit=b}});g.value=f.process(f.rtoken(/^\d\d?(st|nd|rd|th)?/),function(b){return function(){this.value=b.replace(/\D/g,
"")}});g.expression=f.set([g.rday,g.operator,g.value,g.unit,g.orientation,g.ddd,g.MMM]);h=function(){return f.set(arguments,g.datePartDelimiter)};g.mdy=h(g.ddd,g.month,g.day,g.year);g.ymd=h(g.ddd,g.year,g.month,g.day);g.dmy=h(g.ddd,g.day,g.month,g.year);g.date=function(d){return(g[b.dateElementOrder]||g.mdy).call(this,d)};g.format=f.process(f.many(f.any(f.process(f.rtoken(/^(dd?d?d?|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|zz?z?)/),function(b){if(g[b])return g[b];throw c.Parsing.Exception(b);}),f.process(f.rtoken(/^[^dMyhHmstz]+/),
function(b){return f.ignore(f.stoken(b))}))),function(b){return f.process(f.each.apply(null,b),e.finishExact)});var q={};g.formats=function(b){if(b instanceof Array){for(var d=[],e=0;e<b.length;e++)d.push(q[b[e]]=q[b[e]]||g.format(b[e])[0]);return f.any.apply(null,d)}return q[b]=q[b]||g.format(b)[0]};g._formats=g.formats('"yyyy-MM-ddTHH:mm:ssZ";yyyy-MM-ddTHH:mm:ssZ;yyyy-MM-ddTHH:mm:ssz;yyyy-MM-ddTHH:mm:ss;yyyy-MM-ddTHH:mmZ;yyyy-MM-ddTHH:mmz;yyyy-MM-ddTHH:mm;ddd, MMM dd, yyyy H:mm:ss tt;ddd MMM d yyyy HH:mm:ss zzz;MMddyyyy;ddMMyyyy;Mddyyyy;ddMyyyy;Mdyyyy;dMyyyy;yyyy;Mdyy;dMyy;d'.split(";"));
g._start=f.process(f.set([g.date,g.time,g.expression],g.generalDelimiter,g.whiteSpace),e.finish);g.start=function(b){try{var d=g._formats.call({},b);if(0===d[1].length)return d}catch(f){}return g._start.call({},b)};c._parse=c.parse;c.parse=function(b){var d=null;if(!b)return null;if(b instanceof Date)return b;try{d=c.Grammar.start.call({},b.replace(/^\s*(\S*(\s+\S+)*)\s*$/,"$1"))}catch(f){return null}return 0===d[1].length?d[0]:null};c.getParseFunction=function(b){var d=c.Grammar.formats(b);return function(b){var f=
null;try{f=d.call({},b)}catch(e){return null}return 0===f[1].length?f[0]:null}};c.parseExact=function(b,d){return c.getParseFunction(d)(b)}})();(function(c,b){c.version="0.8.6";c.protocol=1;c.transports=[];c.j=[];c.sockets={};c.connect=function(d,f){var g=c.util.parseUri(d),e,h;b&&b.location&&(g.protocol=g.protocol||b.location.protocol.slice(0,-1),g.host=g.host||(b.document?b.document.domain:b.location.hostname),g.port=g.port||b.location.port);e=c.util.uniqueUri(g);var l={host:g.host,secure:"https"==
g.protocol,port:g.port||("https"==g.protocol?443:80),query:g.query||""};c.util.merge(l,f);if(l["force new connection"]||!c.sockets[e])h=new c.Socket(l);!l["force new connection"]&&h&&(c.sockets[e]=h);h=h||c.sockets[e];return h.of(1<g.path.length?g.path:"")}})("object"===typeof module?module.exports:this.io={},this);(function(c,b){var d=c.util={},f=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,
g="source protocol authority userInfo user password host port relative path directory file query anchor".split(" ");d.parseUri=function(b){b=f.exec(b||"");for(var d={},e=14;e--;)d[g[e]]=b[e]||"";return d};d.uniqueUri=function(d){var f=d.protocol,e=d.host;d=d.port;"document"in b?(e=e||document.domain,d=d||("https"==f&&"https:"!==document.location.protocol?443:document.location.port)):(e=e||"localhost",!d&&"https"==f&&(d=443));return(f||"http")+"://"+e+":"+(d||80)};d.query=function(b,f){var e=d.chunkQuery(b||
""),c=[];d.merge(e,d.chunkQuery(f||""));for(var g in e)e.hasOwnProperty(g)&&c.push(g+"="+e[g]);return c.length?"?"+c.join("&"):""};d.chunkQuery=function(b){var d={};b=b.split("&");for(var f=0,e=b.length,c;f<e;++f)c=b[f].split("="),c[0]&&(d[c[0]]=decodeURIComponent(c[1]));return d};var e=!1;d.load=function(f){if("document"in b&&"complete"===document.readyState||e)return f();d.on(b,"load",f,!1)};d.on=function(b,d,f,e){b.attachEvent?b.attachEvent("on"+d,f):b.addEventListener&&b.addEventListener(d,f,
e)};d.request=function(b){if(b&&"undefined"!=typeof XDomainRequest)return new XDomainRequest;if("undefined"!=typeof XMLHttpRequest&&(!b||d.ua.hasCORS))return new XMLHttpRequest;if(!b)try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(f){}return null};"undefined"!=typeof window&&d.load(function(){e=!0});d.defer=function(b){if(!d.ua.webkit||"undefined"!=typeof importScripts)return b();d.load(function(){setTimeout(b,100)})};d.merge=function(b,f,e,c){c=c||[];e="undefined"==typeof e?2:e;for(var g in f)f.hasOwnProperty(g)&&
0>d.indexOf(c,g)&&("object"!==typeof b[g]||!e?(b[g]=f[g],c.push(f[g])):d.merge(b[g],f[g],e-1,c));return b};d.mixin=function(b,f){d.merge(b.prototype,f.prototype)};d.inherit=function(b,d){function f(){}f.prototype=d.prototype;b.prototype=new f};d.isArray=Array.isArray||function(b){return"[object Array]"===Object.prototype.toString.call(b)};d.intersect=function(b,f){for(var e=[],c=b.length>f.length?b:f,g=b.length>f.length?f:b,k=0,m=g.length;k<m;k++)~d.indexOf(c,g[k])&&e.push(g[k]);return e};d.indexOf=
function(b,d,f){if(Array.prototype.indexOf)return Array.prototype.indexOf.call(b,d,f);var e=b.length;for(f=0>f?0>f+e?0:f+e:f||0;f<e&&b[f]!==d;f++);return e<=f?-1:f};d.toArray=function(b){for(var d=[],f=0,e=b.length;f<e;f++)d.push(b[f]);return d};d.ua={};d.ua.hasCORS="undefined"!=typeof XMLHttpRequest&&function(){try{var b=new XMLHttpRequest}catch(d){return!1}return void 0!=b.withCredentials}();d.ua.webkit="undefined"!=typeof navigator&&/webkit/i.test(navigator.userAgent)})("undefined"!=typeof io?
io:module.exports,this);(function(c,b){function d(){}c.EventEmitter=d;d.prototype.on=function(d,c){this.$events||(this.$events={});this.$events[d]?b.util.isArray(this.$events[d])?this.$events[d].push(c):this.$events[d]=[this.$events[d],c]:this.$events[d]=c;return this};d.prototype.addListener=d.prototype.on;d.prototype.once=function(b,d){function e(){c.removeListener(b,e);d.apply(this,arguments)}var c=this;e.listener=d;this.on(b,e);return this};d.prototype.removeListener=function(d,c){if(this.$events&&
this.$events[d]){var e=this.$events[d];if(b.util.isArray(e)){for(var h=-1,l=0,q=e.length;l<q;l++)if(e[l]===c||e[l].listener&&e[l].listener===c){h=l;break}if(0>h)return this;e.splice(h,1);e.length||delete this.$events[d]}else(e===c||e.listener&&e.listener===c)&&delete this.$events[d]}return this};d.prototype.removeAllListeners=function(b){this.$events&&this.$events[b]&&(this.$events[b]=null);return this};d.prototype.listeners=function(d){this.$events||(this.$events={});this.$events[d]||(this.$events[d]=
[]);b.util.isArray(this.$events[d])||(this.$events[d]=[this.$events[d]]);return this.$events[d]};d.prototype.emit=function(d){if(!this.$events)return!1;var c=this.$events[d];if(!c)return!1;var e=Array.prototype.slice.call(arguments,1);if("function"==typeof c)c.apply(this,e);else if(b.util.isArray(c))for(var c=c.slice(),h=0,l=c.length;h<l;h++)c[h].apply(this,e);else return!1;return!0}})("undefined"!=typeof io?io:module.exports,"undefined"!=typeof io?io:module.parent.exports);(function(c,b){function d(b){return 10>
b?"0"+b:b}function f(b){l.lastIndex=0;return l.test(b)?'"'+b.replace(l,function(b){var d=x[b];return"string"===typeof d?d:"\\u"+("0000"+b.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+b+'"'}function g(b,e){var c,h,l,x,Q=q,S,R=e[b];R instanceof Date&&(R=isFinite(b.valueOf())?b.getUTCFullYear()+"-"+d(b.getUTCMonth()+1)+"-"+d(b.getUTCDate())+"T"+d(b.getUTCHours())+":"+d(b.getUTCMinutes())+":"+d(b.getUTCSeconds())+"Z":null);"function"===typeof m&&(R=m.call(e,b,R));switch(typeof R){case "string":return f(R);
case "number":return isFinite(R)?String(R):"null";case "boolean":case "null":return String(R);case "object":if(!R)return"null";q+=k;S=[];if("[object Array]"===Object.prototype.toString.apply(R)){x=R.length;for(c=0;c<x;c+=1)S[c]=g(c,R)||"null";l=0===S.length?"[]":q?"[\n"+q+S.join(",\n"+q)+"\n"+Q+"]":"["+S.join(",")+"]";q=Q;return l}if(m&&"object"===typeof m){x=m.length;for(c=0;c<x;c+=1)"string"===typeof m[c]&&(h=m[c],(l=g(h,R))&&S.push(f(h)+(q?": ":":")+l))}else for(h in R)Object.prototype.hasOwnProperty.call(R,
h)&&(l=g(h,R))&&S.push(f(h)+(q?": ":":")+l);l=0===S.length?"{}":q?"{\n"+q+S.join(",\n"+q)+"\n"+Q+"}":"{"+S.join(",")+"}";q=Q;return l}}if(b&&b.parse)return c.JSON={parse:b.parse,stringify:b.stringify};var e=c.JSON={},h=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,l=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,q,k,x={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f",
"\r":"\\r",'"':'\\"',"\\":"\\\\"},m;e.stringify=function(b,d,f){var e;k=q="";if("number"===typeof f)for(e=0;e<f;e+=1)k+=" ";else"string"===typeof f&&(k=f);if((m=d)&&"function"!==typeof d&&("object"!==typeof d||"number"!==typeof d.length))throw Error("JSON.stringify");return g("",{"":b})};e.parse=function(b,d){function f(b,e){var c,g,h=b[e];if(h&&"object"===typeof h)for(c in h)Object.prototype.hasOwnProperty.call(h,c)&&(g=f(h,c),void 0!==g?h[c]=g:delete h[c]);return d.call(b,e,h)}var e;b=String(b);
h.lastIndex=0;h.test(b)&&(b=b.replace(h,function(b){return"\\u"+("0000"+b.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(b.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return e=eval("("+b+")"),"function"===typeof d?f({"":e},""):e;throw new SyntaxError("JSON.parse");}})("undefined"!=typeof io?io:module.exports,"undefined"!==typeof JSON?JSON:void 0);(function(c,
b){var d=c.parser={},f=d.packets="disconnect connect heartbeat message json event ack error noop".split(" "),g=d.reasons=["transport not supported","client not handshaken","unauthorized"],e=d.advice=["reconnect"],h=b.JSON,l=b.util.indexOf;d.encodePacket=function(b){var d=l(f,b.type),c=b.id||"",q=b.endpoint||"",k=b.ack,m=null;switch(b.type){case "error":var C=b.reason?l(g,b.reason):"";b=b.advice?l(e,b.advice):"";if(""!==C||""!==b)m=C+(""!==b?"+"+b:"");break;case "message":""!==b.data&&(m=b.data);break;
case "event":m={name:b.name};b.args&&b.args.length&&(m.args=b.args);m=h.stringify(m);break;case "json":m=h.stringify(b.data);break;case "connect":b.qs&&(m=b.qs);break;case "ack":m=b.ackId+(b.args&&b.args.length?"+"+h.stringify(b.args):"")}d=[d,c+("data"==k?"+":""),q];null!==m&&void 0!==m&&d.push(m);return d.join(":")};d.encodePayload=function(b){var d="";if(1==b.length)return b[0];for(var f=0,e=b.length;f<e;f++)d+="\ufffd"+b[f].length+"\ufffd"+b[f];return d};var q=/([^:]+):([0-9]+)?(\+)?:([^:]+)?:?([\s\S]*)?/;
d.decodePacket=function(b){var d=b.match(q);if(!d)return{};var c=d[2]||"";b=d[5]||"";var l={type:f[d[1]],endpoint:d[4]||""};c&&(l.id=c,l.ack=d[3]?"data":!0);switch(l.type){case "error":d=b.split("+");l.reason=g[d[0]]||"";l.advice=e[d[1]]||"";break;case "message":l.data=b||"";break;case "event":try{var k=h.parse(b);l.name=k.name;l.args=k.args}catch(m){}l.args=l.args||[];break;case "json":try{l.data=h.parse(b)}catch(C){}break;case "connect":l.qs=b||"";break;case "ack":if(d=b.match(/^([0-9]+)(\+)?(.*)/))if(l.ackId=
d[1],l.args=[],d[3])try{l.args=d[3]?h.parse(d[3]):[]}catch(K){}}return l};d.decodePayload=function(b){if("\ufffd"==b.charAt(0)){for(var f=[],e=1,c="";e<b.length;e++)"\ufffd"==b.charAt(e)?(f.push(d.decodePacket(b.substr(e+1).substr(0,c))),e+=Number(c)+1,c=""):c+=b.charAt(e);return f}return[d.decodePacket(b)]}})("undefined"!=typeof io?io:module.exports,"undefined"!=typeof io?io:module.parent.exports);(function(c,b){function d(b,d){this.socket=b;this.sessid=d}c.Transport=d;b.util.mixin(d,b.EventEmitter);
d.prototype.onData=function(d){this.clearCloseTimeout();(this.connected||this.connecting||this.reconnecting)&&this.setCloseTimeout();if(""!==d&&(d=b.parser.decodePayload(d))&&d.length)for(var c=0,e=d.length;c<e;c++)this.onPacket(d[c]);return this};d.prototype.onPacket=function(b){if("heartbeat"==b.type)return this.onHeartbeat();if("connect"==b.type&&""==b.endpoint)this.onConnect();this.socket.onPacket(b);return this};d.prototype.setCloseTimeout=function(){if(!this.closeTimeout){var b=this;this.closeTimeout=
setTimeout(function(){b.onDisconnect()},this.socket.closeTimeout)}};d.prototype.onDisconnect=function(){this.close&&this.open&&this.close();this.clearTimeouts();this.socket.onDisconnect();return this};d.prototype.onConnect=function(){this.socket.onConnect();return this};d.prototype.clearCloseTimeout=function(){this.closeTimeout&&(clearTimeout(this.closeTimeout),this.closeTimeout=null)};d.prototype.clearTimeouts=function(){this.clearCloseTimeout();this.reopenTimeout&&clearTimeout(this.reopenTimeout)};
d.prototype.packet=function(d){this.send(b.parser.encodePacket(d))};d.prototype.onHeartbeat=function(b){this.socket.resetHeartbeat();this.packet({type:"heartbeat"})};d.prototype.onOpen=function(){this.open=!0;this.clearCloseTimeout();this.socket.onOpen()};d.prototype.onClose=function(){this.open=!1;this.socket.onClose();this.onDisconnect()};d.prototype.prepareUrl=function(){var d=this.socket.options;return this.scheme()+"://"+d.host+":"+d.port+"/"+d.resource+"/"+b.protocol+"/"+this.name+"/"+this.sessid};
d.prototype.ready=function(b,d){d.call(this)}})("undefined"!=typeof io?io:module.exports,"undefined"!=typeof io?io:module.parent.exports);(function(c,b,d){function f(f){this.options={port:80,secure:!1,document:"document"in d?document:!1,resource:"socket.io",transports:b.transports,"connect timeout":1E4,"try multiple transports":!0,reconnect:!0,"reconnection delay":100,"max reconnection delay":Infinity,"reconnection limit":Infinity,"reopen delay":3E3,"max reconnection attempts":10,"sync disconnect on unload":!0,
"auto connect":!0,"flash policy port":10843};b.util.merge(this.options,f);this.options.transports=f.transports;this.reconnecting=this.connecting=this.open=this.connected=!1;this.namespaces={};this.buffer=[];this.doBuffer=!1;if(this.options["sync disconnect on unload"]&&(!this.isXDomain()||b.util.ua.hasCORS)){var c=this;b.util.on(d,"beforeunload",function(){c.disconnectSync()},!1)}this.options["auto connect"]&&this.connect()}function g(){}c.Socket=f;b.util.mixin(f,b.EventEmitter);f.prototype.of=function(d){this.namespaces[d]||
(this.namespaces[d]=new b.SocketNamespace(this,d),""!==d&&this.namespaces[d].packet({type:"connect"}));return this.namespaces[d]};f.prototype.publish=function(){this.emit.apply(this,arguments);var b,d;for(d in this.namespaces)this.namespaces.hasOwnProperty(d)&&(b=this.of(d),b.$emit.apply(b,arguments))};f.prototype.handshake=function(d){function f(b){if(b instanceof Error)c.onError(b.message);else d.apply(null,b.split(":"))}var c=this,q=this.options,q=["http"+(q.secure?"s":"")+":/",q.host+":"+q.port,
q.resource,b.protocol,b.util.query(this.options.query,"t="+ +new Date)].join("/");if(this.isXDomain()&&!b.util.ua.hasCORS){var k=document.getElementsByTagName("script")[0],x=document.createElement("script");x.src=q+"&jsonp="+b.j.length;k.parentNode.insertBefore(x,k);b.j.push(function(b){f(b);x.parentNode.removeChild(x)})}else{var m=b.util.request();c.ajaxWait=!0;m.open("GET",q,!0);m.onreadystatechange=function(){4==m.readyState&&(m.onreadystatechange=g,c.ajaxWait=!1,200==m.status?f(m.responseText):
!c.reconnecting&&c.onError(m.responseText))};m.send(null)}};f.prototype.getTransport=function(d){d=d||this.transports;for(var f=0,c;c=d[f];f++)if(b.Transport[c]&&b.Transport[c].check(this)&&(!this.isXDomain()||b.Transport[c].xdomainCheck()))return new b.Transport[c](this,this.sessionid);return null};f.prototype.connect=function(d){if(this.connecting||this.ajaxWait)return this;var f=this;this.resetHeartbeat=function(){clearTimeout(f.timeoutHeartbeat);f.timeoutHeartbeat=setTimeout(function(){f.connected&&
f.disconnect()},1.5*f.heartbeatInterval)};this.handshake(function(c,g,k,x){function m(b){f.transport&&f.transport.clearTimeouts();f.transport=f.getTransport(b);if(!f.transport)return f.publish("connect_failed");f.transport.ready(f,function(){f.connecting=!0;f.publish("connecting",f.transport.name);f.transport.open();f.options["connect timeout"]&&(f.connectTimeoutTimer=setTimeout(function(){if(!f.connected&&(f.connecting=!1,f.options["try multiple transports"])){f.remainingTransports||(f.remainingTransports=
f.transports.slice(0));for(var b=f.remainingTransports;0<b.length&&b.splice(0,1)[0]!=f.transport.name;);b.length?m(b):f.publish("connect_failed")}},f.options["connect timeout"]))})}f.sessionid=c;f.closeTimeout=1E3*k;f.heartbeatInterval=1E3*g;f.transports=b.util.intersect(x.split(","),f.options.transports);m();f.once("connect",function(){clearTimeout(f.connectTimeoutTimer);d&&"function"==typeof d&&d()})});return this};f.prototype.packet=function(b){this.connected&&!this.doBuffer?this.transport.packet(b):
this.buffer.push(b);return this};f.prototype.setBuffer=function(b){this.doBuffer=b;!b&&(this.connected&&this.buffer.length)&&(this.transport.payload(this.buffer),this.buffer=[])};f.prototype.disconnect=function(){this.connected&&(this.open&&this.of("").packet({type:"disconnect"}),this.onDisconnect("booted"));return this};f.prototype.disconnectSync=function(){b.util.request().open("GET",this.resource+"/"+b.protocol+"/"+this.sessionid,!0);this.onDisconnect("booted")};f.prototype.isXDomain=function(){var b=
d.location.port||("https:"==d.location.protocol?443:80);return this.options.host!==d.location.hostname||this.options.port!=b};f.prototype.onConnect=function(){this.connected||(this.connected=!0,this.connecting=!1,this.resetHeartbeat(),this.doBuffer||this.setBuffer(!1),this.emit("connect"))};f.prototype.onOpen=function(){this.open=!0};f.prototype.onClose=function(){this.open=!1};f.prototype.onPacket=function(b){this.of(b.endpoint).onPacket(b)};f.prototype.onError=function(b){b&&b.advice&&("reconnect"===
b.advice&&this.connected)&&(this.disconnect(),this.reconnect());this.publish("error",b&&b.reason?b.reason:b)};f.prototype.onDisconnect=function(b){var d=this.connected;this.open=this.ajaxWait=this.connecting=this.connected=!1;d&&(this.transport.close(),this.transport.clearTimeouts(),this.publish("disconnect",b),"booted"!=b&&(this.options.reconnect&&!this.reconnecting)&&this.reconnect())};f.prototype.reconnect=function(){function b(){if(f.connected){for(var e in f.namespaces)f.namespaces.hasOwnProperty(e)&&
""!==e&&f.namespaces[e].packet({type:"connect"});f.publish("reconnect",f.transport.name,f.reconnectionAttempts)}f.removeListener("connect_failed",d);f.removeListener("connect",d);f.reconnecting=!1;delete f.reconnectionAttempts;delete f.reconnectionDelay;delete f.reconnectionTimer;delete f.redoTransports;f.options["try multiple transports"]=g}function d(){if(f.reconnecting){if(f.connected)return b();if((f.connecting||f.ajaxWait)&&f.reconnecting)return f.reconnectionTimer=setTimeout(d,1E3);f.reconnectionAttempts++>=
c?f.redoTransports?(f.publish("reconnect_failed"),b()):(f.on("connect_failed",d),f.options["try multiple transports"]=!0,f.transport=f.getTransport(),f.redoTransports=!0,f.connect()):(f.reconnectionDelay<k&&(f.reconnectionDelay=Math.min(2*f.reconnectionDelay,f.options["max reconnection delay"])),f.connect(),f.publish("reconnecting",f.reconnectionDelay,f.reconnectionAttempts),f.reconnectionTimer=setTimeout(d,f.reconnectionDelay))}}this.reconnecting=!0;this.reconnectionAttempts=0;this.reconnectionDelay=
this.options["reconnection delay"];var f=this,c=this.options["max reconnection attempts"],g=this.options["try multiple transports"],k=this.options["reconnection limit"];this.options["try multiple transports"]=!1;this.reconnectionTimer=setTimeout(d,this.reconnectionDelay);this.on("connect",d)}})("undefined"!=typeof io?io:module.exports,"undefined"!=typeof io?io:module.parent.exports,this);(function(c,b){function d(b,d){this.socket=b;this.name=d||"";this.flags={};this.json=new f(this,"json");this.ackPackets=
0;this.acks={}}function f(b,d){this.namespace=b;this.name=d}c.SocketNamespace=d;b.util.mixin(d,b.EventEmitter);d.prototype.$emit=b.EventEmitter.prototype.emit;d.prototype.of=function(){return this.socket.of.apply(this.socket,arguments)};d.prototype.packet=function(b){b.endpoint=this.name;this.socket.packet(b);this.flags={};return this};d.prototype.send=function(b,d){var f={type:this.flags.json?"json":"message",data:b};"function"==typeof d&&(f.id=++this.ackPackets,f.ack=!0,this.acks[f.id]=d);return this.packet(f)};
d.prototype.emit=function(b){var d=Array.prototype.slice.call(arguments,1),f=d[d.length-1],c={type:"event",name:b};"function"==typeof f&&(c.id=++this.ackPackets,c.ack="data",this.acks[c.id]=f,d=d.slice(0,d.length-1));c.args=d;return this.packet(c)};d.prototype.disconnect=function(){""===this.name?this.socket.disconnect():(this.packet({type:"disconnect"}),this.$emit("disconnect"));return this};d.prototype.onPacket=function(d){function f(){c.packet({type:"ack",args:b.util.toArray(arguments),ackId:d.id})}
var c=this;switch(d.type){case "connect":this.$emit("connect");break;case "disconnect":if(""===this.name)this.socket.onDisconnect(d.reason||"booted");else this.$emit("disconnect",d.reason);break;case "message":case "json":var l=["message",d.data];"data"==d.ack?l.push(f):d.ack&&this.packet({type:"ack",ackId:d.id});this.$emit.apply(this,l);break;case "event":l=[d.name].concat(d.args);"data"==d.ack&&l.push(f);this.$emit.apply(this,l);break;case "ack":this.acks[d.ackId]&&(this.acks[d.ackId].apply(this,
d.args),delete this.acks[d.ackId]);break;case "error":if(d.advice)this.socket.onError(d);else"unauthorized"==d.reason?this.$emit("connect_failed",d.reason):this.$emit("error",d.reason)}};f.prototype.send=function(){this.namespace.flags[this.name]=!0;this.namespace.send.apply(this.namespace,arguments)};f.prototype.emit=function(){this.namespace.flags[this.name]=!0;this.namespace.emit.apply(this.namespace,arguments)}})("undefined"!=typeof io?io:module.exports,"undefined"!=typeof io?io:module.parent.exports);
(function(c,b,d){function f(d){b.Transport.apply(this,arguments)}c.websocket=f;b.util.inherit(f,b.Transport);f.prototype.name="websocket";f.prototype.open=function(){var f=b.util.query(this.socket.options.query),e=this,c;c||(c=d.MozWebSocket||d.WebSocket);this.websocket=new c(this.prepareUrl()+f);this.websocket.onopen=function(){e.onOpen();e.socket.setBuffer(!1)};this.websocket.onmessage=function(b){e.onData(b.data)};this.websocket.onclose=function(){e.onClose();e.socket.setBuffer(!0)};this.websocket.onerror=
function(b){e.onError(b)};return this};f.prototype.send=function(b){try{this.websocket.send(b)}catch(d){console.error(d),this.onDisconnect()}return this};f.prototype.payload=function(b){for(var d=0,f=b.length;d<f;d++)this.packet(b[d]);return this};f.prototype.close=function(){try{this.websocket.close()}catch(b){console.error(b)}return this};f.prototype.onError=function(b){this.socket.onError(b)};f.prototype.scheme=function(){return this.socket.options.secure?"wss":"ws"};f.check=function(){return"WebSocket"in
d&&!("__addTask"in WebSocket)||"MozWebSocket"in d};f.xdomainCheck=function(){return!0};b.transports.push("websocket")})("undefined"!=typeof io?io.Transport:module.exports,"undefined"!=typeof io?io:module.parent.exports,this);(function(){var c=this,b=c._,d={},f=Array.prototype,g=Object.prototype,e=f.push,h=f.slice,l=f.concat,q=g.toString,k=g.hasOwnProperty,x=f.forEach,m=f.map,U=f.reduce,D=f.reduceRight,L=f.filter,C=f.every,K=f.some,N=f.indexOf,Q=f.lastIndexOf,g=Array.isArray,S=Object.keys,n=Function.prototype.bind,
y=function(b){if(b instanceof y)return b;if(!(this instanceof y))return new y(b);this._wrapped=b};"undefined"!==typeof exports?("undefined"!==typeof module&&module.exports&&(exports=module.exports=y),exports._=y):c._=y;y.VERSION="1.5.1";var s=y.each=y.forEach=function(b,f,e){if(null!=b)if(x&&b.forEach===x)b.forEach(f,e);else if(b.length===+b.length)for(var c=0,g=b.length;c<g&&f.call(e,b[c],c,b)!==d;c++);else for(c in b)if(y.has(b,c)&&f.call(e,b[c],c,b)===d)break};y.map=y.collect=function(b,d,f){var e=
[];if(null==b)return e;if(m&&b.map===m)return b.map(d,f);s(b,function(b,c,g){e.push(d.call(f,b,c,g))});return e};y.reduce=y.foldl=y.inject=function(b,d,f,e){var c=2<arguments.length;null==b&&(b=[]);if(U&&b.reduce===U)return e&&(d=y.bind(d,e)),c?b.reduce(d,f):b.reduce(d);s(b,function(b,g,h){c?f=d.call(e,f,b,g,h):(f=b,c=!0)});if(!c)throw new TypeError("Reduce of empty array with no initial value");return f};y.reduceRight=y.foldr=function(b,d,f,e){var c=2<arguments.length;null==b&&(b=[]);if(D&&b.reduceRight===
D)return e&&(d=y.bind(d,e)),c?b.reduceRight(d,f):b.reduceRight(d);var g=b.length;if(g!==+g)var h=y.keys(b),g=h.length;s(b,function(l,q,k){q=h?h[--g]:--g;c?f=d.call(e,f,b[q],q,k):(f=b[q],c=!0)});if(!c)throw new TypeError("Reduce of empty array with no initial value");return f};y.find=y.detect=function(b,d,f){var e;u(b,function(b,c,g){if(d.call(f,b,c,g))return e=b,!0});return e};y.filter=y.select=function(b,d,f){var e=[];if(null==b)return e;if(L&&b.filter===L)return b.filter(d,f);s(b,function(b,c,g){d.call(f,
b,c,g)&&e.push(b)});return e};y.reject=function(b,d,f){return y.filter(b,function(b,e,c){return!d.call(f,b,e,c)},f)};y.every=y.all=function(b,f,e){f||(f=y.identity);var c=!0;if(null==b)return c;if(C&&b.every===C)return b.every(f,e);s(b,function(b,g,h){if(!(c=c&&f.call(e,b,g,h)))return d});return!!c};var u=y.some=y.any=function(b,f,e){f||(f=y.identity);var c=!1;if(null==b)return c;if(K&&b.some===K)return b.some(f,e);s(b,function(b,g,h){if(c||(c=f.call(e,b,g,h)))return d});return!!c};y.contains=y.include=
function(b,d){return null==b?!1:N&&b.indexOf===N?-1!=b.indexOf(d):u(b,function(b){return b===d})};y.invoke=function(b,d){var f=h.call(arguments,2),e=y.isFunction(d);return y.map(b,function(b){return(e?d:b[d]).apply(b,f)})};y.pluck=function(b,d){return y.map(b,function(b){return b[d]})};y.where=function(b,d,f){return y.isEmpty(d)?f?void 0:[]:y[f?"find":"filter"](b,function(b){for(var f in d)if(d[f]!==b[f])return!1;return!0})};y.findWhere=function(b,d){return y.where(b,d,!0)};y.max=function(b,d,f){if(!d&&
y.isArray(b)&&b[0]===+b[0]&&65535>b.length)return Math.max.apply(Math,b);if(!d&&y.isEmpty(b))return-Infinity;var e={computed:-Infinity,value:-Infinity};s(b,function(b,c,g){c=d?d.call(f,b,c,g):b;c>e.computed&&(e={value:b,computed:c})});return e.value};y.min=function(b,d,f){if(!d&&y.isArray(b)&&b[0]===+b[0]&&65535>b.length)return Math.min.apply(Math,b);if(!d&&y.isEmpty(b))return Infinity;var e={computed:Infinity,value:Infinity};s(b,function(b,c,g){c=d?d.call(f,b,c,g):b;c<e.computed&&(e={value:b,computed:c})});
return e.value};y.shuffle=function(b){var d,f=0,e=[];s(b,function(b){d=y.random(f++);e[f-1]=e[d];e[d]=b});return e};var w=function(b){return y.isFunction(b)?b:function(d){return d[b]}};y.sortBy=function(b,d,f){var e=w(d);return y.pluck(y.map(b,function(b,d,c){return{value:b,index:d,criteria:e.call(f,b,d,c)}}).sort(function(b,d){var f=b.criteria,e=d.criteria;if(f!==e){if(f>e||void 0===f)return 1;if(f<e||void 0===e)return-1}return b.index<d.index?-1:1}),"value")};var z=function(b,d,f,e){var c={},g=
w(null==d?y.identity:d);s(b,function(d,h){var l=g.call(f,d,h,b);e(c,l,d)});return c};y.groupBy=function(b,d,f){return z(b,d,f,function(b,d,f){(y.has(b,d)?b[d]:b[d]=[]).push(f)})};y.countBy=function(b,d,f){return z(b,d,f,function(b,d){y.has(b,d)||(b[d]=0);b[d]++})};y.sortedIndex=function(b,d,f,e){f=null==f?y.identity:w(f);d=f.call(e,d);for(var c=0,g=b.length;c<g;){var h=c+g>>>1;f.call(e,b[h])<d?c=h+1:g=h}return c};y.toArray=function(b){return!b?[]:y.isArray(b)?h.call(b):b.length===+b.length?y.map(b,
y.identity):y.values(b)};y.size=function(b){return null==b?0:b.length===+b.length?b.length:y.keys(b).length};y.first=y.head=y.take=function(b,d,f){return null==b?void 0:null!=d&&!f?h.call(b,0,d):b[0]};y.initial=function(b,d,f){return h.call(b,0,b.length-(null==d||f?1:d))};y.last=function(b,d,f){return null==b?void 0:null!=d&&!f?h.call(b,Math.max(b.length-d,0)):b[b.length-1]};y.rest=y.tail=y.drop=function(b,d,f){return h.call(b,null==d||f?1:d)};y.compact=function(b){return y.filter(b,y.identity)};
var A=function(b,d,f){if(d&&y.every(b,y.isArray))return l.apply(f,b);s(b,function(b){y.isArray(b)||y.isArguments(b)?d?e.apply(f,b):A(b,d,f):f.push(b)});return f};y.flatten=function(b,d){return A(b,d,[])};y.without=function(b){return y.difference(b,h.call(arguments,1))};y.uniq=y.unique=function(b,d,f,e){y.isFunction(d)&&(e=f,f=d,d=!1);f=f?y.map(b,f,e):b;var c=[],g=[];s(f,function(f,e){if(d?!e||g[g.length-1]!==f:!y.contains(g,f))g.push(f),c.push(b[e])});return c};y.union=function(){return y.uniq(y.flatten(arguments,
!0))};y.intersection=function(b){var d=h.call(arguments,1);return y.filter(y.uniq(b),function(b){return y.every(d,function(d){return 0<=y.indexOf(d,b)})})};y.difference=function(b){var d=l.apply(f,h.call(arguments,1));return y.filter(b,function(b){return!y.contains(d,b)})};y.zip=function(){for(var b=y.max(y.pluck(arguments,"length").concat(0)),d=Array(b),f=0;f<b;f++)d[f]=y.pluck(arguments,""+f);return d};y.object=function(b,d){if(null==b)return{};for(var f={},e=0,c=b.length;e<c;e++)d?f[b[e]]=d[e]:
f[b[e][0]]=b[e][1];return f};y.indexOf=function(b,d,f){if(null==b)return-1;var e=0,c=b.length;if(f)if("number"==typeof f)e=0>f?Math.max(0,c+f):f;else return e=y.sortedIndex(b,d),b[e]===d?e:-1;if(N&&b.indexOf===N)return b.indexOf(d,f);for(;e<c;e++)if(b[e]===d)return e;return-1};y.lastIndexOf=function(b,d,f){if(null==b)return-1;var e=null!=f;if(Q&&b.lastIndexOf===Q)return e?b.lastIndexOf(d,f):b.lastIndexOf(d);for(f=e?f:b.length;f--;)if(b[f]===d)return f;return-1};y.range=function(b,d,f){1>=arguments.length&&
(d=b||0,b=0);f=arguments[2]||1;for(var e=Math.max(Math.ceil((d-b)/f),0),c=0,g=Array(e);c<e;)g[c++]=b,b+=f;return g};var B=function(){};y.bind=function(b,d){var f,e;if(n&&b.bind===n)return n.apply(b,h.call(arguments,1));if(!y.isFunction(b))throw new TypeError;f=h.call(arguments,2);return e=function(){if(!(this instanceof e))return b.apply(d,f.concat(h.call(arguments)));B.prototype=b.prototype;var c=new B;B.prototype=null;var g=b.apply(c,f.concat(h.call(arguments)));return Object(g)===g?g:c}};y.partial=
function(b){var d=h.call(arguments,1);return function(){return b.apply(this,d.concat(h.call(arguments)))}};y.bindAll=function(b){var d=h.call(arguments,1);if(0===d.length)throw Error("bindAll must be passed function names");s(d,function(d){b[d]=y.bind(b[d],b)});return b};y.memoize=function(b,d){var f={};d||(d=y.identity);return function(){var e=d.apply(this,arguments);return y.has(f,e)?f[e]:f[e]=b.apply(this,arguments)}};y.delay=function(b,d){var f=h.call(arguments,2);return setTimeout(function(){return b.apply(null,
f)},d)};y.defer=function(b){return y.delay.apply(y,[b,1].concat(h.call(arguments,1)))};y.throttle=function(b,d,f){var e,c,g,h=null,l=0;f||(f={});var q=function(){l=!1===f.leading?0:new Date;h=null;g=b.apply(e,c)};return function(){var k=new Date;!l&&!1===f.leading&&(l=k);var v=d-(k-l);e=this;c=arguments;0>=v?(clearTimeout(h),h=null,l=k,g=b.apply(e,c)):!h&&!1!==f.trailing&&(h=setTimeout(q,v));return g}};y.debounce=function(b,d,f){var e,c=null;return function(){var g=this,h=arguments,l=f&&!c;clearTimeout(c);
c=setTimeout(function(){c=null;f||(e=b.apply(g,h))},d);l&&(e=b.apply(g,h));return e}};y.once=function(b){var d=!1,f;return function(){if(d)return f;d=!0;f=b.apply(this,arguments);b=null;return f}};y.wrap=function(b,d){return function(){var f=[b];e.apply(f,arguments);return d.apply(this,f)}};y.compose=function(){var b=arguments;return function(){for(var d=arguments,f=b.length-1;0<=f;f--)d=[b[f].apply(this,d)];return d[0]}};y.after=function(b,d){return function(){if(1>--b)return d.apply(this,arguments)}};
y.keys=S||function(b){if(b!==Object(b))throw new TypeError("Invalid object");var d=[],f;for(f in b)y.has(b,f)&&d.push(f);return d};y.values=function(b){var d=[],f;for(f in b)y.has(b,f)&&d.push(b[f]);return d};y.pairs=function(b){var d=[],f;for(f in b)y.has(b,f)&&d.push([f,b[f]]);return d};y.invert=function(b){var d={},f;for(f in b)y.has(b,f)&&(d[b[f]]=f);return d};y.functions=y.methods=function(b){var d=[],f;for(f in b)y.isFunction(b[f])&&d.push(f);return d.sort()};y.extend=function(b){s(h.call(arguments,
1),function(d){if(d)for(var f in d)b[f]=d[f]});return b};y.pick=function(b){var d={},e=l.apply(f,h.call(arguments,1));s(e,function(f){f in b&&(d[f]=b[f])});return d};y.omit=function(b){var d={},e=l.apply(f,h.call(arguments,1)),c;for(c in b)y.contains(e,c)||(d[c]=b[c]);return d};y.defaults=function(b){s(h.call(arguments,1),function(d){if(d)for(var f in d)void 0===b[f]&&(b[f]=d[f])});return b};y.clone=function(b){return!y.isObject(b)?b:y.isArray(b)?b.slice():y.extend({},b)};y.tap=function(b,d){d(b);
return b};var Z=function(b,d,f,e){if(b===d)return 0!==b||1/b==1/d;if(null==b||null==d)return b===d;b instanceof y&&(b=b._wrapped);d instanceof y&&(d=d._wrapped);var c=q.call(b);if(c!=q.call(d))return!1;switch(c){case "[object String]":return b==String(d);case "[object Number]":return b!=+b?d!=+d:0==b?1/b==1/d:b==+d;case "[object Date]":case "[object Boolean]":return+b==+d;case "[object RegExp]":return b.source==d.source&&b.global==d.global&&b.multiline==d.multiline&&b.ignoreCase==d.ignoreCase}if("object"!=
typeof b||"object"!=typeof d)return!1;for(var g=f.length;g--;)if(f[g]==b)return e[g]==d;var g=b.constructor,h=d.constructor;if(g!==h&&(!y.isFunction(g)||!(g instanceof g&&y.isFunction(h)&&h instanceof h)))return!1;f.push(b);e.push(d);g=0;h=!0;if("[object Array]"==c){if(g=b.length,h=g==d.length)for(;g--&&(h=Z(b[g],d[g],f,e)););}else{for(var l in b)if(y.has(b,l)&&(g++,!(h=y.has(d,l)&&Z(b[l],d[l],f,e))))break;if(h){for(l in d)if(y.has(d,l)&&!g--)break;h=!g}}f.pop();e.pop();return h};y.isEqual=function(b,
d){return Z(b,d,[],[])};y.isEmpty=function(b){if(null==b)return!0;if(y.isArray(b)||y.isString(b))return 0===b.length;for(var d in b)if(y.has(b,d))return!1;return!0};y.isElement=function(b){return!!(b&&1===b.nodeType)};y.isArray=g||function(b){return"[object Array]"==q.call(b)};y.isObject=function(b){return b===Object(b)};s("Arguments Function String Number Date RegExp".split(" "),function(b){y["is"+b]=function(d){return q.call(d)=="[object "+b+"]"}});y.isArguments(arguments)||(y.isArguments=function(b){return!(!b||
!y.has(b,"callee"))});"function"!==typeof/./&&(y.isFunction=function(b){return"function"===typeof b});y.isFinite=function(b){return isFinite(b)&&!isNaN(parseFloat(b))};y.isNaN=function(b){return y.isNumber(b)&&b!=+b};y.isBoolean=function(b){return!0===b||!1===b||"[object Boolean]"==q.call(b)};y.isNull=function(b){return null===b};y.isUndefined=function(b){return void 0===b};y.has=function(b,d){return k.call(b,d)};y.noConflict=function(){c._=b;return this};y.identity=function(b){return b};y.times=
function(b,d,f){for(var e=Array(Math.max(0,b)),c=0;c<b;c++)e[c]=d.call(f,c);return e};y.random=function(b,d){null==d&&(d=b,b=0);return b+Math.floor(Math.random()*(d-b+1))};var ka={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};ka.unescape=y.invert(ka.escape);var Ia={escape:RegExp("["+y.keys(ka.escape).join("")+"]","g"),unescape:RegExp("("+y.keys(ka.unescape).join("|")+")","g")};y.each(["escape","unescape"],function(b){y[b]=function(d){return null==d?"":(""+d).replace(Ia[b],
function(d){return ka[b][d]})}});y.result=function(b,d){if(null!=b){var f=b[d];return y.isFunction(f)?f.call(b):f}};y.mixin=function(b){s(y.functions(b),function(d){var f=y[d]=b[d];y.prototype[d]=function(){var b=[this._wrapped];e.apply(b,arguments);b=f.apply(y,b);return this._chain?y(b).chain():b}})};var ya=0;y.uniqueId=function(b){var d=++ya+"";return b?b+d:d};y.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var E=/(.)^/,F={"'":"'","\\":"\\",
"\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"},G=/\\|'|\r|\n|\t|\u2028|\u2029/g;y.template=function(b,d,f){var e;f=y.defaults({},f,y.templateSettings);var c=RegExp([(f.escape||E).source,(f.interpolate||E).source,(f.evaluate||E).source].join("|")+"|$","g"),g=0,h="__p+='";b.replace(c,function(d,f,e,c,l){h+=b.slice(g,l).replace(G,function(b){return"\\"+F[b]});f&&(h+="'+\n((__t=("+f+"))==null?'':_.escape(__t))+\n'");e&&(h+="'+\n((__t=("+e+"))==null?'':__t)+\n'");c&&(h+="';\n"+c+"\n__p+='");
g=l+d.length;return d});h+="';\n";f.variable||(h="with(obj||{}){\n"+h+"}\n");h="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+h+"return __p;\n";try{e=new Function(f.variable||"obj","_",h)}catch(l){throw l.source=h,l;}if(d)return e(d,y);d=function(b){return e.call(this,b,y)};d.source="function("+(f.variable||"obj")+"){\n"+h+"}";return d};y.chain=function(b){return y(b).chain()};y.mixin(y);s("pop push reverse shift sort splice unshift".split(" "),function(b){var d=
f[b];y.prototype[b]=function(){var f=this._wrapped;d.apply(f,arguments);("shift"==b||"splice"==b)&&0===f.length&&delete f[0];return this._chain?y(f).chain():f}});s(["concat","join","slice"],function(b){var d=f[b];y.prototype[b]=function(){var b=d.apply(this._wrapped,arguments);return this._chain?y(b).chain():b}});y.extend(y.prototype,{chain:function(){this._chain=!0;return this},value:function(){return this._wrapped}})}).call(this);(function(){var c=this,b=c.Backbone,d=[],f=d.push,g=d.slice,e=d.splice,
h;h="undefined"!==typeof exports?exports:c.Backbone={};h.VERSION="0.9.10";var l=c._;!l&&"undefined"!==typeof require&&(l=require("underscore"));h.$=c.jQuery||c.Zepto||c.ender;h.noConflict=function(){c.Backbone=b;return this};h.emulateHTTP=!1;h.emulateJSON=!1;var q=/\s+/,k=function(b,d,f,e){if(!f)return!0;if("object"===typeof f)for(var c in f)b[d].apply(b,[c,f[c]].concat(e));else if(q.test(f)){f=f.split(q);c=0;for(var g=f.length;c<g;c++)b[d].apply(b,[f[c]].concat(e))}else return!0},x=function(b,d){var f,
e=-1,c=b.length;switch(d.length){case 0:for(;++e<c;)(f=b[e]).callback.call(f.ctx);break;case 1:for(;++e<c;)(f=b[e]).callback.call(f.ctx,d[0]);break;case 2:for(;++e<c;)(f=b[e]).callback.call(f.ctx,d[0],d[1]);break;case 3:for(;++e<c;)(f=b[e]).callback.call(f.ctx,d[0],d[1],d[2]);break;default:for(;++e<c;)(f=b[e]).callback.apply(f.ctx,d)}},d=h.Events={on:function(b,d,f){if(!k(this,"on",b,[d,f])||!d)return this;this._events||(this._events={});(this._events[b]||(this._events[b]=[])).push({callback:d,context:f,
ctx:f||this});return this},once:function(b,d,f){if(!k(this,"once",b,[d,f])||!d)return this;var e=this,c=l.once(function(){e.off(b,c);d.apply(this,arguments)});c._callback=d;this.on(b,c,f);return this},off:function(b,d,f){var e,c,g,h,q,C,x,m;if(!this._events||!k(this,"off",b,[d,f]))return this;if(!b&&!d&&!f)return this._events={},this;h=b?[b]:l.keys(this._events);q=0;for(C=h.length;q<C;q++)if(b=h[q],e=this._events[b]){g=[];if(d||f){x=0;for(m=e.length;x<m;x++)c=e[x],(d&&d!==c.callback&&d!==c.callback._callback||
f&&f!==c.context)&&g.push(c)}this._events[b]=g}return this},trigger:function(b){if(!this._events)return this;var d=g.call(arguments,1);if(!k(this,"trigger",b,d))return this;var f=this._events[b],e=this._events.all;f&&x(f,d);e&&x(e,arguments);return this},listenTo:function(b,d,f){var e=this._listeners||(this._listeners={}),c=b._listenerId||(b._listenerId=l.uniqueId("l"));e[c]=b;b.on(d,"object"===typeof d?this:f,this);return this},stopListening:function(b,d,f){var e=this._listeners;if(e){if(b)b.off(d,
"object"===typeof d?this:f,this),!d&&!f&&delete e[b._listenerId];else{"object"===typeof d&&(f=this);for(var c in e)e[c].off(d,f,this);this._listeners={}}return this}}};d.bind=d.on;d.unbind=d.off;l.extend(h,d);var m=h.Model=function(b,d){var f,e=b||{};this.cid=l.uniqueId("c");this.attributes={};d&&d.collection&&(this.collection=d.collection);d&&d.parse&&(e=this.parse(e,d)||{});if(f=l.result(this,"defaults"))e=l.defaults({},e,f);this.set(e,d);this.changed={};this.initialize.apply(this,arguments)};l.extend(m.prototype,
d,{changed:null,idAttribute:"id",initialize:function(){},toJSON:function(b){return l.clone(this.attributes)},sync:function(){return h.sync.apply(this,arguments)},get:function(b){return this.attributes[b]},escape:function(b){return l.escape(this.get(b))},has:function(b){return null!=this.get(b)},set:function(b,d,f){var e,c,g,h,q,k,v;if(null==b)return this;"object"===typeof b?(c=b,f=d):(c={})[b]=d;f||(f={});if(!this._validate(c,f))return!1;g=f.unset;h=f.silent;b=[];q=this._changing;this._changing=!0;
q||(this._previousAttributes=l.clone(this.attributes),this.changed={});v=this.attributes;k=this._previousAttributes;this.idAttribute in c&&(this.id=c[this.idAttribute]);for(e in c)d=c[e],l.isEqual(v[e],d)||b.push(e),l.isEqual(k[e],d)?delete this.changed[e]:this.changed[e]=d,g?delete v[e]:v[e]=d;if(!h){b.length&&(this._pending=!0);d=0;for(e=b.length;d<e;d++)this.trigger("change:"+b[d],this,v[b[d]],f)}if(q)return this;if(!h)for(;this._pending;)this._pending=!1,this.trigger("change",this,f);this._changing=
this._pending=!1;return this},unset:function(b,d){return this.set(b,void 0,l.extend({},d,{unset:!0}))},clear:function(b){var d={},f;for(f in this.attributes)d[f]=void 0;return this.set(d,l.extend({},b,{unset:!0}))},hasChanged:function(b){return null==b?!l.isEmpty(this.changed):l.has(this.changed,b)},changedAttributes:function(b){if(!b)return this.hasChanged()?l.clone(this.changed):!1;var d,f=!1,e=this._changing?this._previousAttributes:this.attributes,c;for(c in b)if(!l.isEqual(e[c],d=b[c]))(f||(f=
{}))[c]=d;return f},previous:function(b){return null==b||!this._previousAttributes?null:this._previousAttributes[b]},previousAttributes:function(){return l.clone(this._previousAttributes)},fetch:function(b){b=b?l.clone(b):{};void 0===b.parse&&(b.parse=!0);var d=b.success;b.success=function(b,f,e){if(!b.set(b.parse(f,e),e))return!1;d&&d(b,f,e)};return this.sync("read",this,b)},save:function(b,d,f){var e,c,g=this.attributes;null==b||"object"===typeof b?(e=b,f=d):(e={})[b]=d;if(e&&(!f||!f.wait)&&!this.set(e,
f))return!1;f=l.extend({validate:!0},f);if(!this._validate(e,f))return!1;e&&f.wait&&(this.attributes=l.extend({},g,e));void 0===f.parse&&(f.parse=!0);c=f.success;f.success=function(b,d,f){b.attributes=g;var h=b.parse(d,f);f.wait&&(h=l.extend(e||{},h));if(l.isObject(h)&&!b.set(h,f))return!1;c&&c(b,d,f)};b=this.isNew()?"create":f.patch?"patch":"update";"patch"===b&&(f.attrs=e);b=this.sync(b,this,f);e&&f.wait&&(this.attributes=g);return b},destroy:function(b){b=b?l.clone(b):{};var d=this,f=b.success,
e=function(){d.trigger("destroy",d,d.collection,b)};b.success=function(b,d,c){(c.wait||b.isNew())&&e();f&&f(b,d,c)};if(this.isNew())return b.success(this,null,b),!1;var c=this.sync("delete",this,b);b.wait||e();return c},url:function(){var b=l.result(this,"urlRoot")||l.result(this.collection,"url")||B();return this.isNew()?b:b+("/"===b.charAt(b.length-1)?"":"/")+encodeURIComponent(this.id)},parse:function(b,d){return b},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return null==
this.id},isValid:function(b){return!this.validate||!this.validate(this.attributes,b)},_validate:function(b,d){if(!d.validate||!this.validate)return!0;b=l.extend({},this.attributes,b);var f=this.validationError=this.validate(b,d)||null;if(!f)return!0;this.trigger("invalid",this,f,d||{});return!1}});var U=h.Collection=function(b,d){d||(d={});d.model&&(this.model=d.model);void 0!==d.comparator&&(this.comparator=d.comparator);this.models=[];this._reset();this.initialize.apply(this,arguments);b&&this.reset(b,
l.extend({silent:!0},d))};l.extend(U.prototype,d,{model:m,initialize:function(){},toJSON:function(b){return this.map(function(d){return d.toJSON(b)})},sync:function(){return h.sync.apply(this,arguments)},add:function(b,d){b=l.isArray(b)?b.slice():[b];d||(d={});var c,g,h,q,k,v,C,x,m,D;C=[];x=d.at;m=this.comparator&&null==x&&!1!=d.sort;D=l.isString(this.comparator)?this.comparator:null;c=0;for(g=b.length;c<g;c++)(h=this._prepareModel(q=b[c],d))?(k=this.get(h))?d.merge&&(k.set(q===h?h.attributes:q,d),
m&&(!v&&k.hasChanged(D))&&(v=!0)):(C.push(h),h.on("all",this._onModelEvent,this),this._byId[h.cid]=h,null!=h.id&&(this._byId[h.id]=h)):this.trigger("invalid",this,q,d);C.length&&(m&&(v=!0),this.length+=C.length,null!=x?e.apply(this.models,[x,0].concat(C)):f.apply(this.models,C));v&&this.sort({silent:!0});if(d.silent)return this;c=0;for(g=C.length;c<g;c++)(h=C[c]).trigger("add",h,this,d);v&&this.trigger("sort",this,d);return this},remove:function(b,d){b=l.isArray(b)?b.slice():[b];d||(d={});var f,e,
c,g;f=0;for(e=b.length;f<e;f++)if(g=this.get(b[f]))delete this._byId[g.id],delete this._byId[g.cid],c=this.indexOf(g),this.models.splice(c,1),this.length--,d.silent||(d.index=c,g.trigger("remove",g,this,d)),this._removeReference(g);return this},push:function(b,d){b=this._prepareModel(b,d);this.add(b,l.extend({at:this.length},d));return b},pop:function(b){var d=this.at(this.length-1);this.remove(d,b);return d},unshift:function(b,d){b=this._prepareModel(b,d);this.add(b,l.extend({at:0},d));return b},
shift:function(b){var d=this.at(0);this.remove(d,b);return d},slice:function(b,d){return this.models.slice(b,d)},get:function(b){if(null!=b)return this._idAttr||(this._idAttr=this.model.prototype.idAttribute),this._byId[b.id||b.cid||b[this._idAttr]||b]},at:function(b){return this.models[b]},where:function(b){return l.isEmpty(b)?[]:this.filter(function(d){for(var f in b)if(b[f]!==d.get(f))return!1;return!0})},sort:function(b){if(!this.comparator)throw Error("Cannot sort a set without a comparator");
b||(b={});l.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(l.bind(this.comparator,this));b.silent||this.trigger("sort",this,b);return this},pluck:function(b){return l.invoke(this.models,"get",b)},update:function(b,d){d=l.extend({add:!0,merge:!0,remove:!0},d);d.parse&&(b=this.parse(b,d));var f,e,c,g,h=[],q=[],k={};l.isArray(b)||(b=b?[b]:[]);if(d.add&&!d.remove)return this.add(b,d);e=0;for(c=b.length;e<c;e++)f=b[e],g=this.get(f),
d.remove&&g&&(k[g.cid]=!0),(d.add&&!g||d.merge&&g)&&h.push(f);if(d.remove){e=0;for(c=this.models.length;e<c;e++)f=this.models[e],k[f.cid]||q.push(f)}q.length&&this.remove(q,d);h.length&&this.add(h,d);return this},reset:function(b,d){d||(d={});d.parse&&(b=this.parse(b,d));for(var f=0,e=this.models.length;f<e;f++)this._removeReference(this.models[f]);d.previousModels=this.models.slice();this._reset();b&&this.add(b,l.extend({silent:!0},d));d.silent||this.trigger("reset",this,d);return this},fetch:function(b){b=
b?l.clone(b):{};void 0===b.parse&&(b.parse=!0);var d=b.success;b.success=function(b,f,e){b[e.update?"update":"reset"](f,e);d&&d(b,f,e)};return this.sync("read",this,b)},create:function(b,d){d=d?l.clone(d):{};if(!(b=this._prepareModel(b,d)))return!1;d.wait||this.add(b,d);var f=this,e=d.success;d.success=function(b,d,c){c.wait&&f.add(b,c);e&&e(b,d,c)};b.save(null,d);return b},parse:function(b,d){return b},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0;this.models.length=
0;this._byId={}},_prepareModel:function(b,d){if(b instanceof m)return b.collection||(b.collection=this),b;d||(d={});d.collection=this;var f=new this.model(b,d);return!f._validate(b,d)?!1:f},_removeReference:function(b){this===b.collection&&delete b.collection;b.off("all",this._onModelEvent,this)},_onModelEvent:function(b,d,f,e){("add"===b||"remove"===b)&&f!==this||("destroy"===b&&this.remove(d,e),d&&b==="change:"+d.idAttribute&&(delete this._byId[d.previous(d.idAttribute)],null!=d.id&&(this._byId[d.id]=
d)),this.trigger.apply(this,arguments))},sortedIndex:function(b,d,f){d||(d=this.comparator);var e=l.isFunction(d)?d:function(b){return b.get(d)};return l.sortedIndex(this.models,b,e,f)}});l.each("forEach each map collect reduce foldl inject reduceRight foldr find detect filter select reject every all some any include contains invoke max min toArray size first head take initial rest tail drop last without indexOf shuffle lastIndexOf isEmpty chain".split(" "),function(b){U.prototype[b]=function(){var d=
g.call(arguments);d.unshift(this.models);return l[b].apply(l,d)}});l.each(["groupBy","countBy","sortBy"],function(b){U.prototype[b]=function(d,f){var e=l.isFunction(d)?d:function(b){return b.get(d)};return l[b](this.models,e,f)}});var D=h.Router=function(b){b||(b={});b.routes&&(this.routes=b.routes);this._bindRoutes();this.initialize.apply(this,arguments)},L=/\((.*?)\)/g,C=/(\(\?)?:\w+/g,K=/\*\w+/g,N=/[\-{}\[\]+?.,\\\^$|#\s]/g;l.extend(D.prototype,d,{initialize:function(){},route:function(b,d,f){l.isRegExp(b)||
(b=this._routeToRegExp(b));f||(f=this[d]);h.history.route(b,l.bind(function(e){e=this._extractParameters(b,e);f&&f.apply(this,e);this.trigger.apply(this,["route:"+d].concat(e));this.trigger("route",d,e);h.history.trigger("route",this,d,e)},this));return this},navigate:function(b,d){h.history.navigate(b,d);return this},_bindRoutes:function(){if(this.routes)for(var b,d=l.keys(this.routes);null!=(b=d.pop());)this.route(b,this.routes[b])},_routeToRegExp:function(b){b=b.replace(N,"\\$&").replace(L,"(?:$1)?").replace(C,
function(b,d){return d?b:"([^/]+)"}).replace(K,"(.*?)");return RegExp("^"+b+"$")},_extractParameters:function(b,d){return b.exec(d).slice(1)}});var Q=h.History=function(){this.handlers=[];l.bindAll(this,"checkUrl");"undefined"!==typeof window&&(this.location=window.location,this.history=window.history)},S=/^[#\/]|\s+$/g,n=/^\/+|\/+$/g,y=/msie [\w.]+/,s=/\/$/;Q.started=!1;l.extend(Q.prototype,d,{interval:50,getHash:function(b){return(b=(b||this).location.href.match(/#(.*)$/))?b[1]:""},getFragment:function(b,
d){if(null==b)if(this._hasPushState||!this._wantsHashChange||d){b=this.location.pathname;var f=this.root.replace(s,"");b.indexOf(f)||(b=b.substr(f.length))}else b=this.getHash();return b.replace(S,"")},start:function(b){if(Q.started)throw Error("Backbone.history has already been started");Q.started=!0;this.options=l.extend({},{root:"/"},this.options,b);this.root=this.options.root;this._wantsHashChange=!1!==this.options.hashChange;this._wantsPushState=!!this.options.pushState;this._hasPushState=!(!this.options.pushState||
!this.history||!this.history.pushState);b=this.getFragment();var d=document.documentMode,d=y.exec(navigator.userAgent.toLowerCase())&&(!d||7>=d);this.root=("/"+this.root+"/").replace(n,"/");d&&this._wantsHashChange&&(this.iframe=h.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(b));if(this._hasPushState)h.$(window).on("popstate",this.checkUrl);else if(this._wantsHashChange&&"onhashchange"in window&&!d)h.$(window).on("hashchange",this.checkUrl);
else this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval));this.fragment=b;b=this.location;d=b.pathname.replace(/[^\/]$/,"$&/")===this.root;if(this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!d)return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+this.location.search+"#"+this.fragment),!0;this._wantsPushState&&(this._hasPushState&&d&&b.hash)&&(this.fragment=this.getHash().replace(S,""),this.history.replaceState({},document.title,
this.root+this.fragment+b.search));if(!this.options.silent)return this.loadUrl()},stop:function(){h.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl);clearInterval(this._checkUrlInterval);Q.started=!1},route:function(b,d){this.handlers.unshift({route:b,callback:d})},checkUrl:function(b){b=this.getFragment();b===this.fragment&&this.iframe&&(b=this.getFragment(this.getHash(this.iframe)));if(b===this.fragment)return!1;this.iframe&&this.navigate(b);this.loadUrl()||this.loadUrl(this.getHash())},
loadUrl:function(b){var d=this.fragment=this.getFragment(b);return l.any(this.handlers,function(b){if(b.route.test(d))return b.callback(d),!0})},navigate:function(b,d){if(!Q.started)return!1;if(!d||!0===d)d={trigger:d};b=this.getFragment(b||"");if(this.fragment!==b){this.fragment=b;var f=this.root+b;if(this._hasPushState)this.history[d.replace?"replaceState":"pushState"]({},document.title,f);else if(this._wantsHashChange)this._updateHash(this.location,b,d.replace),this.iframe&&b!==this.getFragment(this.getHash(this.iframe))&&
(d.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,b,d.replace));else return this.location.assign(f);d.trigger&&this.loadUrl(b)}},_updateHash:function(b,d,f){f?(f=b.href.replace(/(javascript:|#).*$/,""),b.replace(f+"#"+d)):b.hash="#"+d}});h.history=new Q;var u=h.View=function(b){this.cid=l.uniqueId("view");this._configure(b||{});this._ensureElement();this.initialize.apply(this,arguments);this.delegateEvents()},w=/^(\S+)\s*(.*)$/,z="model collection el id attributes className tagName events".split(" ");
l.extend(u.prototype,d,{tagName:"div",$:function(b){return this.$el.find(b)},initialize:function(){},render:function(){return this},remove:function(){this.$el.remove();this.stopListening();return this},setElement:function(b,d){this.$el&&this.undelegateEvents();this.$el=b instanceof h.$?b:h.$(b);this.el=this.$el[0];!1!==d&&this.delegateEvents();return this},delegateEvents:function(b){if(b||(b=l.result(this,"events"))){this.undelegateEvents();for(var d in b){var f=b[d];l.isFunction(f)||(f=this[b[d]]);
if(!f)throw Error('Method "'+b[d]+'" does not exist');var e=d.match(w),c=e[1],e=e[2],f=l.bind(f,this),c=c+(".delegateEvents"+this.cid);if(""===e)this.$el.on(c,f);else this.$el.on(c,e,f)}}},undelegateEvents:function(){this.$el.off(".delegateEvents"+this.cid)},_configure:function(b){this.options&&(b=l.extend({},l.result(this,"options"),b));l.extend(this,l.pick(b,z));this.options=b},_ensureElement:function(){if(this.el)this.setElement(l.result(this,"el"),!1);else{var b=l.extend({},l.result(this,"attributes"));
this.id&&(b.id=l.result(this,"id"));this.className&&(b["class"]=l.result(this,"className"));b=h.$("<"+l.result(this,"tagName")+">").attr(b);this.setElement(b,!1)}}});var A={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};h.prepareData=function(b,d,f){return"create"==b||"update"==b||"patch"==b?JSON.stringify(d.toJSON(f)):null};h.sync=function(b,d,f){var e=A[b];l.defaults(f||(f={}),{emulateHTTP:h.emulateHTTP,emulateJSON:h.emulateJSON});var c={type:e,dataType:"json"};f.url||(c.url=
l.result(d,"url")||B());null==f.data&&d&&(c.contentType="application/json",c.data=h.prepareData(b,d,f));f.emulateJSON&&(c.contentType="application/x-www-form-urlencoded",c.data=c.data?{model:c.data}:{});if(f.emulateHTTP&&("PUT"===e||"DELETE"===e||"PATCH"===e)){c.type="POST";f.emulateJSON&&(c.data._method=e);var g=f.beforeSend;f.beforeSend=function(b){b.setRequestHeader("X-HTTP-Method-Override",e);if(g)return g.apply(this,arguments)}}"GET"!==c.type&&!f.emulateJSON&&(c.processData=!1);var q=f.success;
f.success=function(b){q&&q(d,b,f);d.trigger("sync",d,b,f)};var k=f.error;f.error=function(b){k&&k(d,b,f);d.trigger("error",d,b,f)};b=f.xhr=h.ajax(l.extend(c,f));d.trigger("request",d,b,f);return b};h.ajax=function(){return h.$.ajax.apply(h.$,arguments)};m.extend=U.extend=D.extend=u.extend=Q.extend=function(b,d){var f=this,e;e=b&&l.has(b,"constructor")?b.constructor:function(){return f.apply(this,arguments)};l.extend(e,f,d);var c=function(){this.constructor=e};c.prototype=f.prototype;e.prototype=new c;
b&&l.extend(e.prototype,b);e.__super__=f.prototype;return e};var B=function(){throw Error('A "url" property or function must be specified');}}).call(this);var Ge={};(function(c,b){function d(b){return String(null===b||void 0===b?"":b)}c.Template=function(d,f,e,c){this.r=d||this.r;this.c=e;this.options=c;this.text=f||"";this.buf=b?[]:""};c.Template.prototype={r:function(b,d,f){return""},v:function(b){b=d(b);return q.test(b)?b.replace(f,"&amp;").replace(g,"&lt;").replace(e,"&gt;").replace(h,"&#39;").replace(l,
"&quot;"):b},t:d,render:function(b,d,f){return this.ri([b],d||{},f)},ri:function(b,d,f){return this.r(b,d,f)},rp:function(b,d,f,e){b=f[b];if(!b)return"";this.c&&"string"==typeof b&&(b=this.c.compile(b,this.options));return b.ri(d,f,e)},rs:function(b,d,f){var e=b[b.length-1];if(k(e))for(var c=0;c<e.length;c++)b.push(e[c]),f(b,d,this),b.pop();else f(b,d,this)},s:function(b,d,f,e,c,g,h){if(k(b)&&0===b.length)return!1;"function"==typeof b&&(b=this.ls(b,d,f,e,c,g,h));f=!!b;!e&&(f&&d)&&d.push("object"==
typeof b?b:d[d.length-1]);return f},d:function(b,d,f,e){var c=b.split("."),g=this.f(c[0],d,f,e),h=null;if("."===b&&k(d[d.length-2]))return d[d.length-1];for(b=1;b<c.length;b++)g&&"object"==typeof g&&c[b]in g?(h=g,g=g[c[b]]):g="";if(e&&!g)return!1;!e&&"function"==typeof g&&(d.push(h),g=this.lv(g,d,f),d.pop());return g},f:function(b,d,f,e){for(var c=!1,g=null,h=!1,l=d.length-1;0<=l;l--)if((g=d[l])&&"object"==typeof g&&b in g){c=g[b];h=!0;break}if(!h)return e?!1:"";!e&&"function"==typeof c&&(c=this.lv(c,
d,f));return c},ho:function(b,d,f,e,c){var g=this.c;b=b.call(d,e,function(b){return g.compile(b,{delimiters:c}).render(d,f)});this.b(g.compile(b.toString(),{delimiters:c}).render(d,f));return!1},b:b?function(b){this.buf.push(b)}:function(b){this.buf+=b},fl:b?function(){var b=this.buf.join("");this.buf=[];return b}:function(){var b=this.buf;this.buf="";return b},ls:function(b,d,f,e,c,g,h){d=d[d.length-1];var l=null;if(!e&&this.c&&0<b.length)return this.ho(b,d,f,this.text.substring(c,g),h);l=b.call(d);
if("function"==typeof l){if(e)return!0;if(this.c)return this.ho(l,d,f,this.text.substring(c,g),h)}return l},lv:function(b,d,f){d=d[d.length-1];b=b.call(d);"function"==typeof b&&(b=b.call(d));b=b.toString();return this.c&&~b.indexOf("{{")?this.c.compile(b).render(d,f):b}};var f=/&/g,g=/</g,e=/>/g,h=/\'/g,l=/\"/g,q=/[&<>\"\']/,k=Array.isArray||function(b){return"[object Array]"===Object.prototype.toString.call(b)}})("undefined"!==typeof exports?exports:Ge);var cd;"undefined"===typeof exports?(window.markdown=
{},cd=window.markdown):cd=exports;(function(c){function b(b){for(var d=0,f=-1;-1!=(f=b.indexOf("\n",f+1));)d++;return d}function d(b,d){function f(b){this.len_after=b;this.name="close_"+d}var e=b+"_state",c="strong"==b?"em_state":"strong_state";return function(g,h){if(this[e][0]==d)return this[e].shift(),[g.length,new f(g.length-d.length)];var l=this[c].slice(),q=this[e].slice();this[e].unshift(d);var k=this.processInline(g.substr(d.length)),v=k[k.length-1];this[e].shift();if(v instanceof f)return k.pop(),
[g.length-v.len_after,[b].concat(k)];this[c]=l;this[e]=q;return[d.length,d]}}function f(b){return I(b)&&1<b.length&&"object"===typeof b[1]&&!I(b[1])?b[1]:void 0}function g(b){var d=b.split("");b=[""];for(var f=!1;d.length;){var e=d.shift();switch(e){case " ":f?b[b.length-1]+=e:b.push("");break;case "'":case '"':f=!f;break;case "\\":e=d.shift();default:b[b.length-1]+=e}}d={};for(f=0;f<b.length;++f)/^#/.test(b[f])?d.id=b[f].substring(1):/^\./.test(b[f])?d["class"]=d["class"]?d["class"]+b[f].replace(/./,
" "):b[f].substring(1):/=/.test(b[f])&&(e=b[f].split(/=/),d[e[0]]=e[1]);return d}function e(b){return b.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function h(b){if("string"===typeof b)return e(b);var d=b.shift(),f={},c=[];for(b.length&&("object"===typeof b[0]&&!(b[0]instanceof Array))&&(f=b.shift());b.length;)c.push(arguments.callee(b.shift()));var g="",h;for(h in f)var l="",l=("href"==h||"src"==h)&&!/^(\/|(https?|ftp):\/\/|mailto:)/.test(f[h])?
"#":f[h],g=g+(" "+h+'="'+e(l)+'"');return"br"==d?"<"+d+g+" />":"<"+d+g+">"+c.join("")+"</"+d+">"}function l(b,d,e){e=e||{};var c=b.slice(0);"function"===typeof e.preprocessTreeNode&&(c=e.preprocessTreeNode(c,d));var g=f(c);if(g){c[1]={};for(var h in g)c[1][h]=g[h];g=c[1]}if("string"===typeof c)return c;switch(c[0]){case "header":c[0]="h"+c[1].level;delete c[1].level;break;case "bulletlist":c[0]="ul";break;case "numberlist":c[0]="ol";break;case "listitem":c[0]="li";break;case "para":c[0]="p";break;
case "markdown":c[0]="html";g&&delete g.references;break;case "code_block":c[0]="pre";h=g?2:1;var l=["code"];l.push.apply(l,c.splice(h));c[h]=l;break;case "inlinecode":c[0]="code";break;case "img":c[1].src=c[1].href;delete c[1].href;break;case "linebreak":c[0]="br";break;case "link":c[0]="a";break;case "link_ref":if(c[0]="a",h=d[g.ref])delete g.ref,g.href=h.href,h.title&&(g.title=h.title),delete g.original;else return g.original}h=1;if(g){for(var q in c[1])h=2;1===h&&c.splice(h,1)}for(;h<c.length;++h)c[h]=
arguments.callee(c[h],d,e);return c}function q(b){for(var d=f(b)?2:1;d<b.length;)"string"===typeof b[d]?d+1<b.length&&"string"===typeof b[d+1]?b[d]+=b.splice(d+1,1)[0]:++d:(arguments.callee(b[d]),++d)}var k=c.Markdown=function D(b){switch(typeof b){case "undefined":this.dialect=D.dialects.Gruber;break;case "object":this.dialect=b;break;default:if(b in D.dialects)this.dialect=D.dialects[b];else throw Error("Unknown Markdown dialect '"+String(b)+"'");}this.em_state=[];this.strong_state=[];this.debug_indent=
""};c.parse=function(b,d,f){d=new k(d);d.options=f;return d.toTree(b)};c.toHTML=function(b,d,f){b=c.toHTMLTree(b,d,f);return c.renderJsonML(b)};c.toHTMLTree=function(b,d,e){"string"===typeof b&&(b=this.parse(b,d,e));d=f(b);var c={};d&&d.references&&(c=d.references);b=l(b,c,e);q(b);return b};var m=k.mk_block=function(b,d,f){1==arguments.length&&(d="\n\n");var e=new String(b);e.trailing=d;e.toSource=function(){return"Markdown.mk_block( "+uneval(b)+", "+uneval(d)+", "+uneval(f)+" )"};void 0!=f&&(e.lineNumber=
f);return e};k.prototype.split_blocks=function(d,f){var e=/([\s\S]+?)($|\n(?:\s*\n|$)+)/g,c=[],g,h=1;if(null!=(g=/^(\s*\n)/.exec(d)))h+=b(g[0]),e.lastIndex=g[0].length;for(;null!=(g=e.exec(d));)c.push(m(g[1],g[2],h)),h+=b(g[0]);return c};k.prototype.processBlock=function(b,d){var f=this.dialect.block,e=f.__order__;if("__call__"in f)return f.__call__.call(this,b,d);for(var c=0;c<e.length;c++){var g=f[e[c]].call(this,b,d);if(g)return(!I(g)||0<g.length&&!I(g[0]))&&this.debug(e[c],"didn't return a proper array"),
g}return[]};k.prototype.processInline=function(b){return this.dialect.inline.__call__.call(this,String(b))};k.prototype.toTree=function(b,d){var f=b instanceof Array?b:this.split_blocks(b),e=this.tree;try{this.tree=d||this.tree||["markdown"];a:for(;f.length;){var c=this.processBlock(f.shift(),f);if(!c.length)continue a;this.tree.push.apply(this.tree,c)}return this.tree}finally{d&&(this.tree=e)}};k.prototype.debug=function(){var b=Array.prototype.slice.call(arguments);b.unshift(this.debug_indent);
"undefined"!==typeof print&&print.apply(print,b);"undefined"!==typeof console&&"undefined"!==typeof console.log&&console.log.apply(null,b)};k.prototype.loop_re_over_block=function(b,d,f){var e;for(d=d.valueOf();d.length&&null!=(e=b.exec(d));)d=d.substr(e[0].length),f.call(this,e);return d};k.dialects={};k.dialects.Gruber={block:{processBlock:function(){return null},atxHeader:function(b,d){var f=b.match(/^(#{1,6})\s*(.*?)\s*#*\s*(?:\n|$)/);if(f){var e=["header",{level:f[1].length}];Array.prototype.push.apply(e,
this.processInline(f[2]));f[0].length<b.length&&d.unshift(m(b.substr(f[0].length),b.trailing,b.lineNumber+2));return[e]}},setextHeader:function(b,d){var f=b.match(/^(.*)\n([-=])\2\2+(?:\n|$)/);if(f){var e=["header",{level:"="===f[2]?1:2},f[1]];f[0].length<b.length&&d.unshift(m(b.substr(f[0].length),b.trailing,b.lineNumber+2));return[e]}},code:function(b,d){var f=[],e=/^(?: {0,3}\t| {4})(.*)\n?/,c=b.match(e);if(c){a:do if(c=this.loop_re_over_block(e,b.valueOf(),function(b){f.push(b[1])}),c.length){d.unshift(m(c,
b.trailing));break a}else if(d.length){c=d[0].match(e);if(!c)break a;f.push(b.trailing.replace(/[^\n]/g,"").substring(2));b=d.shift()}else break a;while(1);return[["code_block",f.join("\n")]]}},horizRule:function(b,d){var f=b.match(/^(?:([\s\S]*?)\n)?[ \t]*([-_*])(?:[ \t]*\2){2,}[ \t]*(?:\n([\s\S]*))?$/);if(f){var e=[["hr"]];f[1]&&e.unshift.apply(e,this.processBlock(f[1],[]));f[3]&&d.unshift(m(f[3]));return e}},lists:function(){function b(d,f,e,c){if(f)d.push(["para"].concat(e));else{f=d[d.length-
1]instanceof Array&&"para"==d[d.length-1][0]?d[d.length-1]:d;c&&1<d.length&&e.unshift(c);for(d=0;d<e.length;d++)c=e[d],"string"==typeof c&&1<f.length&&"string"==typeof f[f.length-1]?f[f.length-1]+=c:f.push(c)}}function d(b,f){for(var e=RegExp("^("+g+"{"+b+"}.*?\\n?)*$"),c=RegExp("^"+g+"{"+b+"}","gm"),h=[];0<f.length;){e.exec(f[0])&&(e=f.shift(),c=e.replace(c,""),h.push(m(c,e.trailing,e.lineNumber)));break}return h}function f(b,d,e){b=b.list;b=b[b.length-1];b[1]instanceof Array&&"para"==b[1][0]||(d+
1==e.length?b.push(["para"].concat(b.splice(1))):(d=b.pop(),b.push(["para"].concat(b.splice(1)),d)))}var e=/[*+-]/,c=/^( {0,3})([*+-]|\d\.)[ \t]+/,g="(?: {0,3}\\t| {4})";return function(h,l){function q(b){var d=e.exec(b[2])?["bulletlist"]:["numberlist"];v.push({list:d,indent:b[1]});return d}var k=h.match(c);if(k){var v=[],m=q(k),x,I=!1,n=[v[0].list];a:for(;;){var s=h.split(/(?=\n)/),u="",w=0;for(;w<s.length;w++){var z="",A=s[w].replace(/^\n/,function(b){z=b;return""}),k=A.match(RegExp("(?:^("+g+"{0,"+
v.length+"} {0,3})([*+-]|\\d\\.)\\s+)|(^"+g+"{0,"+(v.length-1)+"}[ ]{0,4})"));if(void 0!==k[1]){u.length&&(b(x,I,this.processInline(u),z),I=!1,u="");k[1]=k[1].replace(/ {0,3}\t/g,"    ");var B=Math.floor(k[1].length/4)+1;B>v.length?(m=q(k),x.push(m),x=m[1]=["listitem"]):(v.some(function(b,d){if(b.indent!=k[1])return!1;m=b.list;v.splice(d+1);return!0})||(B++,B<=v.length?(v.splice(B),m=v[B-1].list):(m=q(k),x.push(m))),x=["listitem"],m.push(x));z=""}A.length>k[0].length&&(u+=z+A.substr(k[0].length))}u.length&&
(b(x,I,this.processInline(u),z),I=!1,u="");I=d(v.length,l);0<I.length&&(v.forEach(f,this),x.push.apply(x,this.toTree(I,[])));I=l[0]&&l[0].valueOf()||"";if(I.match(c)||I.match(/^ /)){h=l.shift();if(I=this.dialect.block.horizRule(h,l)){n.push.apply(n,I);break}v.forEach(f,this);I=!0;continue a}break}return n}}}(),blockquote:function(b,d){if(b.match(/^>/m)){var f=[];if(">"!=b[0]){for(var e=b.split(/\n/),c=[];e.length&&">"!=e[0][0];)c.push(e.shift());b=e.join("\n");f.push.apply(f,this.processBlock(c.join("\n"),
[]))}for(;d.length&&">"==d[0][0];)e=d.shift(),b+=b.trailing+e,b.trailing=e.trailing;e=b.replace(/^> ?/gm,"");f.push(this.toTree(e,["blockquote"]));return f}},referenceDefn:function(b,d){var e=/^\s*\[(.*?)\]:\s*(\S+)(?:\s+(?:(['"])(.*?)\3|\((.*?)\)))?\n?/;if(b.match(e)){f(this.tree)||this.tree.splice(1,0,{});var c=f(this.tree);void 0===c.references&&(c.references={});e=this.loop_re_over_block(e,b,function(b){b[2]&&("<"==b[2][0]&&">"==b[2][b[2].length-1])&&(b[2]=b[2].substring(1,b[2].length-1));var d=
c.references[b[1].toLowerCase()]={href:b[2]};void 0!==b[4]?d.title=b[4]:void 0!==b[5]&&(d.title=b[5])});e.length&&d.unshift(m(e,b.trailing));return[]}},para:function(b,d){return[["para"].concat(this.processInline(b))]}}};k.dialects.Gruber.inline={__call__:function(b,d){function f(b){"string"==typeof b&&"string"==typeof e[e.length-1]?e[e.length-1]+=b:e.push(b)}for(var e=[],c,g=RegExp("([\\s\\S]*?)("+(d.source||d)+")","g"),h=0;null!=(c=g.exec(b));){c[1]?f(c[1]):c[1]={length:0};var l;c[2]in this.dialect.inline&&
(l=this.dialect.inline[c[2]].call(this,b.substr(c.index+c[1].length),c,e));l=l||[c[2].length,c[2]];h=l.shift();g.lastIndex+=h-c[2].length;l.forEach(f);h=g.lastIndex}b.length>h&&f(b.substr(h));return e},"\\":function(b){return b.match(/^\\[\\`\*_{}\[\]()#\+.!\-]/)?[2,b[1]]:[1,"\\"]},"![":function(b){var d=b.match(/^!\[(.*?)\][ \t]*\([ \t]*(\S*)(?:[ \t]+(["'])(.*?)\3)?[ \t]*\)/);return d?(d[2]&&("<"==d[2][0]&&">"==d[2][d[2].length-1])&&(d[2]=d[2].substring(1,d[2].length-1)),d[2]==this.dialect.inline.__call__.call(this,
d[2],/\\/)[0],b={alt:d[1],href:d[2]||""},void 0!==d[4]&&(b.title=d[4]),[d[0].length,["img",b]]):(d=b.match(/^!\[(.*?)\][ \t]*\[(.*?)\]/))?[d[0].length,["img_ref",{alt:d[1],ref:d[2].toLowerCase(),text:d[0]}]]:[2,"!["]},"[":function(b){var d=b.match(/^\[([\s\S]*?)\][ \t]*\([ \t]*(\S+)(?:[ \t]+(["'])(.*?)\3)?[ \t]*\)/);if(d)return d[2]&&("<"==d[2][0]&&">"==d[2][d[2].length-1])&&(d[2]=d[2].substring(1,d[2].length-1)),d[2]=this.dialect.inline.__call__.call(this,d[2],/\\/)[0],b={href:d[2]||""},void 0!==
d[4]&&(b.title=d[4]),b=["link",b],Array.prototype.push.apply(b,this.processInline(d[1])),[d[0].length,b];if(d=b.match(/^\[([\s\S]*?)\](?: ?\[(.*?)\])?/)){if(void 0===d[2]||""===d[2])d[2]=d[1];b={ref:d[2].toLowerCase(),original:d[0]};b=["link_ref",b];Array.prototype.push.apply(b,this.processInline(d[1]));return[d[0].length,b]}return[1,"["]},"<":function(b){var d;return null!=(d=b.match(/^<(?:((https?|ftp|mailto):[^>]+)|(.*?@.*?\.[a-zA-Z]+))>/))?d[3]?[d[0].length,["link",{href:"mailto:"+d[3]},d[3]]]:
"mailto"==d[2]?[d[0].length,["link",{href:d[1]},d[1].substr(7)]]:[d[0].length,["link",{href:d[1]},d[1]]]:[1,"<"]},"`":function(b){return(b=b.match(/(`+)(([\s\S]*?)\1)/))&&b[2]?[b[1].length+b[2].length,["inlinecode",b[3]]]:[1,"`"]},"  \n":function(b){return[3,["linebreak"]]}};k.dialects.Gruber.inline["**"]=d("strong","**");k.dialects.Gruber.inline.__=d("strong","__");k.dialects.Gruber.inline["*"]=d("em","*");k.dialects.Gruber.inline._=d("em","_");k.buildBlockOrder=function(b){var d=[],f;for(f in b)"__order__"==
f||"__call__"==f||d.push(f);b.__order__=d};k.buildInlinePatterns=function(b){var d=[],f;for(f in b)if("__call__"!=f){var e=f.replace(/([\\.*+?|()\[\]{}])/g,"\\$1").replace(/\n/,"\\n");d.push(1==f.length?e:"(?:"+e+")")}var d=d.join("|"),c=b.__call__;b.__call__=function(b,f){return void 0!=f?c.call(this,b,f):c.call(this,b,d)}};k.subclassDialect=function(b){function d(){}function f(){}d.prototype=b.block;f.prototype=b.inline;return{block:new d,inline:new f}};k.buildBlockOrder(k.dialects.Gruber.block);
k.buildInlinePatterns(k.dialects.Gruber.inline);k.dialects.Maruku=k.subclassDialect(k.dialects.Gruber);k.dialects.Maruku.block.document_meta=function(b,d){if(!(1<b.lineNumber)&&b.match(/^(?:\w+:.*\n)*\w+:.*$/)){f(this.tree)||this.tree.splice(1,0,{});var e=b.split(/\n/);for(p in e){var c=e[p].match(/(\w+):\s*(.*)$/),g=c[1].toLowerCase();this.tree[1][g]=c[2]}return[]}};k.dialects.Maruku.block.block_meta=function(b,d){var e=b.match(/(^|\n) {0,3}\{:\s*((?:\\\}|[^\}])*)\s*\}$/);if(e){var c=g(e[2]);if(""===
e[1]){var h=this.tree[this.tree.length-1],e=f(h);if("string"===typeof h)return;e||(e={},h.splice(1,0,e));for(a in c)e[a]=c[a];return[]}e=b.replace(/\n.*$/,"");h=this.processBlock(e,[]);e=f(h[0]);e||(e={},h[0].splice(1,0,e));for(a in c)e[a]=c[a];return h}};k.dialects.Maruku.block.definition_list=function(b,d){var f=/^((?:[^\s:].*\n)+):\s+((?:\s\S)+)$/,e=["dl"];if(b.match(f)){for(var c=[b];d.length&&f.exec(d[0]);)c.push(d.shift());for(var g=0;g<c.length;++g){for(var h=c[g].match(f),l=h[1].replace(/\n$/,
"").split(/\n/),h=h[2].split(/\n:\s+/),q=0;q<l.length;++q)e.push(["dt",l[q]]);for(q=0;q<h.length;++q)e.push(["dd"].concat(this.processInline(h[q].replace(/(\n)\s+/,"$1"))))}return[e]}};k.dialects.Maruku.inline["{:"]=function(b,d,e){if(!e.length)return[2,"{:"];d=e[e.length-1];if("string"===typeof d)return[2,"{:"];b=b.match(/^\{:\s*((?:\\\}|[^\}])*)\s*\}/);if(!b)return[2,"{:"];e=g(b[1]);var c=f(d);c||(c={},d.splice(1,0,c));for(var h in e)c[h]=e[h];return[b[0].length,""]};k.buildBlockOrder(k.dialects.Maruku.block);
k.buildInlinePatterns(k.dialects.Maruku.inline);var I=c.isArray=function(b){return b instanceof Array||"array"===typeof b||Array.isArray(b)};c.renderJsonML=function(b,d){d=d||{};d.root=d.root||!1;var f=[];if(d.root)f.push(h(b));else{b.shift();for(b.length&&("object"===typeof b[0]&&!(b[0]instanceof Array))&&b.shift();b.length;)f.push(h(b.shift()))}return f.join("\n\n")}})(cd);(function(){function c(b){var f=!1;return function(){if(f)throw Error("Callback was already called.");f=!0;b.apply(d,arguments)}}
var b={},d,f;d=this;null!=d&&(f=d.async);b.noConflict=function(){d.async=f;return b};var g=function(b,d){if(b.forEach)return b.forEach(d);for(var f=0;f<b.length;f+=1)d(b[f],f,b)},e=function(b,d){if(b.map)return b.map(d);var f=[];g(b,function(b,e,c){f.push(d(b,e,c))});return f},h=function(b,d,f){if(b.reduce)return b.reduce(d,f);g(b,function(b,e,c){f=d(f,b,e,c)});return f},l=function(b){if(Object.keys)return Object.keys(b);var d=[],f;for(f in b)b.hasOwnProperty(f)&&d.push(f);return d};"undefined"===
typeof process||!process.nextTick?(b.nextTick="function"===typeof setImmediate?function(b){setImmediate(b)}:function(b){setTimeout(b,0)},b.setImmediate=b.nextTick):(b.nextTick=process.nextTick,b.setImmediate="undefined"!==typeof setImmediate?setImmediate:b.nextTick);b.each=function(b,d,f){f=f||function(){};if(!b.length)return f();var e=0;g(b,function(g){d(g,c(function(d){d?(f(d),f=function(){}):(e+=1,e>=b.length&&f(null))}))})};b.forEach=b.each;b.eachSeries=function(b,d,f){f=f||function(){};if(!b.length)return f();
var e=0,c=function(){d(b[e],function(d){d?(f(d),f=function(){}):(e+=1,e>=b.length?f(null):c())})};c()};b.forEachSeries=b.eachSeries;b.eachLimit=function(b,d,f,e){q(d).apply(null,[b,f,e])};b.forEachLimit=b.eachLimit;var q=function(b){return function(d,f,e){e=e||function(){};if(!d.length||0>=b)return e();var c=0,g=0,h=0;(function jc(){if(c>=d.length)return e();for(;h<b&&g<d.length;)g+=1,h+=1,f(d[g-1],function(b){b?(e(b),e=function(){}):(c+=1,h-=1,c>=d.length?e():jc())})})()}},k=function(d){return function(){var f=
Array.prototype.slice.call(arguments);return d.apply(null,[b.each].concat(f))}},m=function(b,d){return function(){var f=Array.prototype.slice.call(arguments);return d.apply(null,[q(b)].concat(f))}},I=function(d){return function(){var f=Array.prototype.slice.call(arguments);return d.apply(null,[b.eachSeries].concat(f))}},n=function(b,d,f,c){var g=[];d=e(d,function(b,d){return{index:d,value:b}});b(d,function(b,d){f(b.value,function(f,e){g[b.index]=e;d(f)})},function(b){c(b,g)})};b.map=k(n);b.mapSeries=
I(n);b.mapLimit=function(b,d,f,e){return m(d,n)(b,f,e)};b.reduce=function(d,f,e,c){b.eachSeries(d,function(b,d){e(f,b,function(b,e){f=e;d(b)})},function(b){c(b,f)})};b.inject=b.reduce;b.foldl=b.reduce;b.reduceRight=function(d,f,c,g){d=e(d,function(b){return b}).reverse();b.reduce(d,f,c,g)};b.foldr=b.reduceRight;var D=function(b,d,f,c){var g=[];d=e(d,function(b,d){return{index:d,value:b}});b(d,function(b,d){f(b.value,function(f){f&&g.push(b);d()})},function(b){c(e(g.sort(function(b,d){return b.index-
d.index}),function(b){return b.value}))})};b.filter=k(D);b.filterSeries=I(D);b.select=b.filter;b.selectSeries=b.filterSeries;D=function(b,d,f,c){var g=[];d=e(d,function(b,d){return{index:d,value:b}});b(d,function(b,d){f(b.value,function(f){f||g.push(b);d()})},function(b){c(e(g.sort(function(b,d){return b.index-d.index}),function(b){return b.value}))})};b.reject=k(D);b.rejectSeries=I(D);D=function(b,d,f,e){b(d,function(b,d){f(b,function(f){f?(e(b),e=function(){}):d()})},function(b){e()})};b.detect=
k(D);b.detectSeries=I(D);b.some=function(d,f,e){b.each(d,function(b,d){f(b,function(b){b&&(e(!0),e=function(){});d()})},function(b){e(!1)})};b.any=b.some;b.every=function(d,f,e){b.each(d,function(b,d){f(b,function(b){b||(e(!1),e=function(){});d()})},function(b){e(!0)})};b.all=b.every;b.sortBy=function(d,f,c){b.map(d,function(b,d){f(b,function(f,e){f?d(f):d(null,{value:b,criteria:e})})},function(b,d){if(b)return c(b);c(null,e(d.sort(function(b,d){var f=b.criteria,e=d.criteria;return f<e?-1:f>e?1:0}),
function(b){return b.value}))})};b.auto=function(d,f){f=f||function(){};var e=l(d);if(!e.length)return f(null);var c={},q=[],k=function(b){q.unshift(b)},v=function(){g(q.slice(0),function(b){b()})};k(function(){l(c).length===e.length&&(f(null,c),f=function(){})});g(e,function(e){var m=d[e]instanceof Function?[d[e]]:d[e],x=function(d){var h=Array.prototype.slice.call(arguments,1);1>=h.length&&(h=h[0]);if(d){var q={};g(l(c),function(b){q[b]=c[b]});q[e]=h;f(d,q);f=function(){}}else c[e]=h,b.setImmediate(v)},
I=m.slice(0,Math.abs(m.length-1))||[],D=function(){return h(I,function(b,d){return b&&c.hasOwnProperty(d)},!0)&&!c.hasOwnProperty(e)};if(D())m[m.length-1](x,c);else{var N=function(){if(D()){a:for(var b=N,d=0;d<q.length;d+=1)if(q[d]===b){q.splice(d,1);break a}m[m.length-1](x,c)}};k(N)}})};b.waterfall=function(d,f){f=f||function(){};if(d.constructor!==Array)return f(Error("First argument to waterfall must be an array of functions"));if(!d.length)return f();var e=function(d){return function(c){if(c)f.apply(null,
arguments),f=function(){};else{var g=Array.prototype.slice.call(arguments,1),h=d.next();h?g.push(e(h)):g.push(f);b.setImmediate(function(){d.apply(null,g)})}}};e(b.iterator(d))()};var s=function(b,d,f){f=f||function(){};if(d.constructor===Array)b.map(d,function(b,d){b&&b(function(b){var f=Array.prototype.slice.call(arguments,1);1>=f.length&&(f=f[0]);d.call(null,b,f)})},f);else{var e={};b.each(l(d),function(b,f){d[b](function(d){var c=Array.prototype.slice.call(arguments,1);1>=c.length&&(c=c[0]);e[b]=
c;f(d)})},function(b){f(b,e)})}};b.parallel=function(d,f){s({map:b.map,each:b.each},d,f)};b.parallelLimit=function(b,d,f){s({map:m(d,n),each:q(d)},b,f)};b.series=function(d,f){f=f||function(){};if(d.constructor===Array)b.mapSeries(d,function(b,d){b&&b(function(b){var f=Array.prototype.slice.call(arguments,1);1>=f.length&&(f=f[0]);d.call(null,b,f)})},f);else{var e={};b.eachSeries(l(d),function(b,f){d[b](function(d){var c=Array.prototype.slice.call(arguments,1);1>=c.length&&(c=c[0]);e[b]=c;f(d)})},
function(b){f(b,e)})}};b.iterator=function(b){var d=function(f){var e=function(){b.length&&b[f].apply(null,arguments);return e.next()};e.next=function(){return f<b.length-1?d(f+1):null};return e};return d(0)};b.apply=function(b){var d=Array.prototype.slice.call(arguments,1);return function(){return b.apply(null,d.concat(Array.prototype.slice.call(arguments)))}};D=function(b,d,f,e){var c=[];b(d,function(b,d){f(b,function(b,f){c=c.concat(f||[]);d(b)})},function(b){e(b,c)})};b.concat=k(D);b.concatSeries=
I(D);b.whilst=function(d,f,e){d()?f(function(c){if(c)return e(c);b.whilst(d,f,e)}):e()};b.doWhilst=function(d,f,e){d(function(c){if(c)return e(c);f()?b.doWhilst(d,f,e):e()})};b.until=function(d,f,e){d()?e():f(function(c){if(c)return e(c);b.until(d,f,e)})};b.doUntil=function(d,f,e){d(function(c){if(c)return e(c);f()?e():b.doUntil(d,f,e)})};b.queue=function(d,f){function e(d,c,h,l){c.constructor!==Array&&(c=[c]);g(c,function(e){e={data:e,callback:"function"===typeof l?l:null};h?d.tasks.unshift(e):d.tasks.push(e);
d.saturated&&d.tasks.length===f&&d.saturated();b.setImmediate(d.process)})}void 0===f&&(f=1);var h=0,l={tasks:[],concurrency:f,saturated:null,empty:null,drain:null,push:function(b,d){e(l,b,!1,d)},unshift:function(b,d){e(l,b,!0,d)},process:function(){if(h<l.concurrency&&l.tasks.length){var b=l.tasks.shift();l.empty&&0===l.tasks.length&&l.empty();h+=1;var f=c(function(){h-=1;b.callback&&b.callback.apply(b,arguments);l.drain&&0===l.tasks.length+h&&l.drain();l.process()});d(b.data,f)}},length:function(){return l.tasks.length},
running:function(){return h}};return l};b.cargo=function(d,f){var c=!1,h=[],l={tasks:h,payload:f,saturated:null,empty:null,drain:null,push:function(d,e){d.constructor!==Array&&(d=[d]);g(d,function(b){h.push({data:b,callback:"function"===typeof e?e:null});l.saturated&&h.length===f&&l.saturated()});b.setImmediate(l.process)},process:function y(){if(!c)if(0===h.length)l.drain&&l.drain();else{var b="number"===typeof f?h.splice(0,f):h.splice(0),q=e(b,function(b){return b.data});l.empty&&l.empty();c=!0;
d(q,function(){c=!1;var d=arguments;g(b,function(b){b.callback&&b.callback.apply(null,d)});y()})}},length:function(){return h.length},running:function(){return c}};return l};D=function(b){return function(d){var f=Array.prototype.slice.call(arguments,1);d.apply(null,f.concat([function(d){var f=Array.prototype.slice.call(arguments,1);"undefined"!==typeof console&&(d?console.error&&console.error(d):console[b]&&g(f,function(d){console[b](d)}))}]))}};b.log=D("log");b.dir=D("dir");b.memoize=function(b,
d){var f={},e={};d=d||function(b){return b};var c=function(){var c=Array.prototype.slice.call(arguments),g=c.pop(),h=d.apply(null,c);h in f?g.apply(null,f[h]):h in e?e[h].push(g):(e[h]=[g],b.apply(null,c.concat([function(){f[h]=arguments;var b=e[h];delete e[h];for(var d=0,c=b.length;d<c;d++)b[d].apply(null,arguments)}])))};c.memo=f;c.unmemoized=b;return c};b.unmemoize=function(b){return function(){return(b.unmemoized||b).apply(null,arguments)}};b.times=function(d,f,e){for(var c=[],g=0;g<d;g++)c.push(g);
return b.map(c,f,e)};b.timesSeries=function(d,f,e){for(var c=[],g=0;g<d;g++)c.push(g);return b.mapSeries(c,f,e)};b.compose=function(){var d=Array.prototype.reverse.call(arguments);return function(){var f=this,e=Array.prototype.slice.call(arguments),c=e.pop();b.reduce(d,e,function(b,d,e){d.apply(f,b.concat([function(){var b=arguments[0],d=Array.prototype.slice.call(arguments,1);e(b,d)}]))},function(b,d){c.apply(f,[b].concat(d))})}};D=function(b,d){var f=function(){var f=this,e=Array.prototype.slice.call(arguments),
c=e.pop();return b(d,function(b,d){b.apply(f,e.concat([d]))},c)};if(2<arguments.length){var e=Array.prototype.slice.call(arguments,2);return f.apply(this,e)}return f};b.applyEach=k(D);b.applyEachSeries=I(D);b.forever=function(b,d){function f(e){if(e){if(d)return d(e);throw e;}b(f)}f()};"undefined"!==typeof define&&define.amd?define([],function(){return b}):"undefined"!==typeof module&&module.exports?module.exports=b:d.async=b})();(function(c){c.fn.dragscrollable=function(b){var d=c.extend({acceptPropagatedEvent:!0,
preventDefault:!0,fxIgnore:function(b){return!1}},b||{}),f={mouseDownHandler:function(b){if(!b.data.fxIgnore(b)){if(1!=b.which||!b.data.acceptPropagatedEvent&&b.target!=this)return!1;b.data.lastCoord={left:b.clientX,top:b.clientY};c.event.add(document,"mouseup",f.mouseUpHandler,b.data);c.event.add(document,"mousemove",f.mouseMoveHandler,b.data);if(b.data.preventDefault)return b.preventDefault(),!1}},mouseMoveHandler:function(b){var d=b.clientX-b.data.lastCoord.left,f=b.clientY-b.data.lastCoord.top;
b.data.scrollable.scrollLeft(b.data.scrollable.scrollLeft()-d);b.data.scrollable.scrollTop(b.data.scrollable.scrollTop()-f);b.data.lastCoord={left:b.clientX,top:b.clientY};if(b.data.preventDefault)return b.preventDefault(),!1},mouseUpHandler:function(b){c.event.remove(document,"mousemove",f.mouseMoveHandler);c.event.remove(document,"mouseup",f.mouseUpHandler);if(b.data.preventDefault)return b.preventDefault(),!1}};this.each(function(){var b={scrollable:c(this),acceptPropagatedEvent:d.acceptPropagatedEvent,
preventDefault:d.preventDefault,fxIgnore:d.fxIgnore};c(this).bind("mousedown",b,f.mouseDownHandler)})}})(jQuery);var Bb=function(c){this.canvas=document.createElement("canvas");this.context=this.canvas.getContext("2d");document.body.appendChild(this.canvas);this.width=this.canvas.width=c.width;this.height=this.canvas.height=c.height;this.context.drawImage(c,0,0,this.width,this.height)};Bb.prototype.clear=function(){this.context.clearRect(0,0,this.width,this.height)};Bb.prototype.update=function(c){this.context.putImageData(c,
0,0)};Bb.prototype.getPixelCount=function(){return this.width*this.height};Bb.prototype.getImageData=function(){return this.context.getImageData(0,0,this.width,this.height)};Bb.prototype.removeCanvas=function(){this.canvas.parentNode.removeChild(this.canvas)};var dd=function(){};dd.prototype.getColor=function(c,b){return this.getPalette(c,5,b)[0]};dd.prototype.getPalette=function(c,b,d){"undefined"===typeof b&&(b=10);"undefined"===typeof d&&(d=10);c=new Bb(c);for(var f=c.getImageData().data,g=c.getPixelCount(),
e=[],h=0,l,q,k,m;h<g;h+=d)l=4*h,q=f[l+0],k=f[l+1],m=f[l+2],l=f[l+3],125<=l&&(250<q&&250<k&&250<m||e.push([q,k,m]));b=Hi.quantize(e,b).palette();c.removeCanvas();return b};if(!Na)var Na={map:function(c,b){var d={};return b?c.map(function(f,c){d.index=c;return b.call(d,f)}):c.slice()},naturalOrder:function(c,b){return c<b?-1:c>b?1:0},sum:function(c,b){var d={};return c.reduce(b?function(f,c,e){d.index=e;return f+b.call(d,c)}:function(b,d){return b+d},0)},max:function(c,b){return Math.max.apply(null,
b?Na.map(c,b):c)}};var Hi=function(){function c(b,d,f){return(b<<2*l)+(d<<l)+f}function b(b){function d(){f.sort(b);e=!0}var f=[],e=!1;return{push:function(b){f.push(b);e=!1},peek:function(b){e||d();void 0===b&&(b=f.length-1);return f[b]},pop:function(){e||d();return f.pop()},size:function(){return f.length},map:function(b){return f.map(b)},debug:function(){e||d();return f}}}function d(b,d,f,e,c,g,h){this.r1=b;this.r2=d;this.g1=f;this.g2=e;this.b1=c;this.b2=g;this.histo=h}function f(){this.vboxes=
new b(function(b,d){return Na.naturalOrder(b.vbox.count()*b.vbox.volume(),d.vbox.count()*d.vbox.volume())})}function g(b){var d=Array(1<<3*l),f,e,g,h;b.forEach(function(b){e=b[0]>>q;g=b[1]>>q;h=b[2]>>q;f=c(e,g,h);d[f]=(d[f]||0)+1});return d}function e(b,f){var e=1E6,c=0,g=1E6,h=0,l=1E6,k=0,v,m,n;b.forEach(function(b){v=b[0]>>q;m=b[1]>>q;n=b[2]>>q;v<e?e=v:v>c&&(c=v);m<g?g=m:m>h&&(h=m);n<l?l=n:n>k&&(k=n)});return new d(e,c,g,h,l,k,f)}function h(b,d){function f(b){var e=b+"1";b+="2";var c,g,h,m;g=0;
for(v=d[e];v<=d[b];v++)if(q[v]>l/2){h=d.copy();m=d.copy();c=v-d[e];g=d[b]-v;for(c=c<=g?Math.min(d[b]-1,~~(v+g/2)):Math.max(d[e],~~(v-1-c/2));!q[c];)c++;for(g=k[c];!g&&q[c-1];)g=k[--c];h[b]=c;m[e]=h[b]+1;return[h,m]}}if(d.count()){var e=d.r2-d.r1+1,g=d.g2-d.g1+1,h=Na.max([e,g,d.b2-d.b1+1]);if(1==d.count())return[d.copy()];var l=0,q=[],k=[],v,m,y,n,s;if(h==e)for(v=d.r1;v<=d.r2;v++){n=0;for(m=d.g1;m<=d.g2;m++)for(y=d.b1;y<=d.b2;y++)s=c(v,m,y),n+=b[s]||0;l+=n;q[v]=l}else if(h==g)for(v=d.g1;v<=d.g2;v++){n=
0;for(m=d.r1;m<=d.r2;m++)for(y=d.b1;y<=d.b2;y++)s=c(m,v,y),n+=b[s]||0;l+=n;q[v]=l}else for(v=d.b1;v<=d.b2;v++){n=0;for(m=d.r1;m<=d.r2;m++)for(y=d.g1;y<=d.g2;y++)s=c(m,y,v),n+=b[s]||0;l+=n;q[v]=l}q.forEach(function(b,d){k[d]=l-b});return h==e?f("r"):h==g?f("g"):f("b")}}var l=5,q=8-l,k=1E3;d.prototype={volume:function(b){if(!this._volume||b)this._volume=(this.r2-this.r1+1)*(this.g2-this.g1+1)*(this.b2-this.b1+1);return this._volume},count:function(b){var d=this.histo;if(!this._count_set||b){b=0;var f,
e,g;for(f=this.r1;f<=this.r2;f++)for(e=this.g1;e<=this.g2;e++)for(g=this.b1;g<=this.b2;g++)index=c(f,e,g),b+=d[index]||0;this._count=b;this._count_set=!0}return this._count},copy:function(){return new d(this.r1,this.r2,this.g1,this.g2,this.b1,this.b2,this.histo)},avg:function(b){var d=this.histo;if(!this._avg||b){b=0;var f=1<<8-l,e=0,g=0,h=0,q,k,v,m;for(k=this.r1;k<=this.r2;k++)for(v=this.g1;v<=this.g2;v++)for(m=this.b1;m<=this.b2;m++)q=c(k,v,m),q=d[q]||0,b+=q,e+=q*(k+0.5)*f,g+=q*(v+0.5)*f,h+=q*(m+
0.5)*f;this._avg=b?[~~(e/b),~~(g/b),~~(h/b)]:[~~(f*(this.r1+this.r2+1)/2),~~(f*(this.g1+this.g2+1)/2),~~(f*(this.b1+this.b2+1)/2)]}return this._avg},contains:function(b){var d=b[0]>>q;gval=b[1]>>q;bval=b[2]>>q;return d>=this.r1&&d<=this.r2&&gval>=this.g1&&gval<=this.g2&&bval>=this.b1&&bval<=this.b2}};f.prototype={push:function(b){this.vboxes.push({vbox:b,color:b.avg()})},palette:function(){return this.vboxes.map(function(b){return b.color})},size:function(){return this.vboxes.size()},map:function(b){for(var d=
this.vboxes,f=0;f<d.size();f++)if(d.peek(f).vbox.contains(b))return d.peek(f).color;return this.nearest(b)},nearest:function(b){for(var d=this.vboxes,f,e,c,g=0;g<d.size();g++)if(e=Math.sqrt(Math.pow(b[0]-d.peek(g).color[0],2)+Math.pow(b[1]-d.peek(g).color[1],2)+Math.pow(b[2]-d.peek(g).color[2],2)),e<f||void 0===f)f=e,c=d.peek(g).color;return c},forcebw:function(){var b=this.vboxes;b.sort(function(b,d){return Na.naturalOrder(Na.sum(b.color),Na.sum(d.color))});var d=b[0].color;5>d[0]&&(5>d[1]&&5>d[2])&&
(b[0].color=[0,0,0]);var d=b.length-1,f=b[d].color;251<f[0]&&(251<f[1]&&251<f[2])&&(b[d].color=[255,255,255])}};return{quantize:function(d,c){function l(b,d){for(var f=1,e=0,c;e<k;)if(c=b.pop(),c.count()){var g=h(q,c);c=g[0];g=g[1];if(!c)break;b.push(c);g&&(b.push(g),f++);if(f>=d)break;if(e++>k)break}else b.push(c),e++}if(!d.length||2>c||256<c)return!1;var q=g(d),m=0;q.forEach(function(){m++});var C=e(d,q),n=new b(function(b,d){return Na.naturalOrder(b.count(),d.count())});n.push(C);l(n,0.75*c);for(C=
new b(function(b,d){return Na.naturalOrder(b.count()*b.volume(),d.count()*d.volume())});n.size();)C.push(n.pop());l(C,c-C.size());for(n=new f;C.size();)n.push(C.pop());return n}}}(),ea,G=[].slice;ea=function(){var c,b,d,f,g,e,h;f=2<=arguments.length?G.call(arguments,0,c=arguments.length-1):(c=0,[]);c=arguments[c++];g=0;for(e=f.length;g<e;g++)for(b in d=f[g],h=d.prototype,h)d=h[b],c.prototype[b]=d;return c};"undefined"!==typeof module&&null!==module&&(module.exports.mixin=ea);var Ra,G=[].slice,F=[].indexOf||
function(c){for(var b=0,d=this.length;b<d;b++)if(b in this&&this[b]===c)return b;return-1};async.assembly=function(c,b){var d;d=_.map(c,function(b){return function(){var d,e,c;d=2<=arguments.length?G.call(arguments,0,c=arguments.length-1):(c=0,[]);e=arguments[c++];return b.apply(null,[function(){var b,f;b=arguments[0];f=2<=arguments.length?G.call(arguments,1):[];0===f.length&&(f=d);return e.apply(null,[b].concat(G.call(f)))}].concat(G.call(d)))}});return async.waterfall(d,b)};_.mixin({mapObj:_.compose(_.object,
_.map),chainOn:function(c){var b;b={};return _.extend(b,_.mapObj(_.functions(c),function(d){return[d,function(){c[d].apply(c,arguments);return b}]}))},partialMethod:function(){var c,b,d;d=arguments[0];b=arguments[1];c=3<=arguments.length?G.call(arguments,2):[];b=_.bind(d[b],d);return _.partial.apply(_,[b].concat(G.call(c)))}});_.count=function(c,b){var d,f,g,e;null==b&&(b=function(){return!0});g=d=0;for(e=c.length;g<e;g++)f=c[g],b(f)&&d++;return d};Ra={minSpacing:0.125,spacing:16384,maxPos:0x4000000000000,
lowerCaseFirstChar:function(c){return c[0].toLowerCase()+c.substr(1)},checkId:function(c){return"ObjectID"===(null!=c?c.constructor.name:void 0)||24===(null!=c?c.length:void 0)&&/^[a-f0-9]*$/.test(c)},capitalize:function(c){return _.isString(c)&&!_.isEmpty(c)?c[0].toUpperCase()+c.substr(1):c},pluralize:function(c){return""+c+"s"},formatCount:function(c,b,d){if(!c&&!d)return"";b=Ra.formatNoun(c,b);return""+c+" "+b},formatNoun:function(c,b){1!==c&&(b+="s");return b},imageFileExtensions:"png gif jpg jpeg bmp ico".split(" "),
extensionIsImage:function(c){var b,d;return b=null!=(d=Ra.fileExt(c))?d.toLowerCase():void 0,0<=F.call(Ra.imageFileExtensions,b)},fileExt:function(c){var b,d,f;return null!=(b=null!=(d=/\.([a-z0-9]+)$/i.exec(c))?null!=(f=d[1])?f.toLowerCase():void 0:void 0)?b:null},filenameFromUrl:function(c){var b;return null!=(b=/\/([^\/]+?)(?:\#|\?|$)/.exec(c))?b[1]:void 0},pathFromUrl:function(c){var b;return null!=(b=/^([^?\#]+)/.exec(c))?b[1]:void 0},traverse:function(c,b){var d,f,g;if(_.isEmpty(b)||!c)return c;
if(_.isArray(b)){f=0;for(g=b.length;f<g&&!(d=b[f],c=c[d],!c);f++);return c}return c[b]},isSimpleObject:function(c){return c&&!_.isArray(c)&&!_.isDate(c)&&!c.prototype&&"object"===typeof c},escapeForRegex:function(c){return null!=c?c.replace(/[-[\]{}()*+?.,\\\/^$|#\s]/g,"\\$&"):void 0},hasProtocol:function(c){return/^\s*[a-z]+:/i.test(c)},makeSlug:function(c,b){var d;null==b&&(b="-");c&&(d=Ra.removeAccents(c.toLowerCase()).replace(/[^a-z0-9]+/ig,b).replace(RegExp("^"+b+"|"+b+"$","g"),""),128<d.length&&
(d=d.substr(0,128)));return d||b},removeAccents:function(c){return c.replace(/[\u00e0\u00e1\u00e2\u00e3\u00e4\u00e5\u0101\u0103\u0105]/g,"a").replace(/\u00e6/g,"ae").replace(/[\u00e7\u0107\u0109\u010b\u010d]/g,"c").replace(/[\u010f\u0111]/g,"d").replace(/[\u00e8\u00e9\u00ea\u00eb\u0113\u0115\u0117\u0119\u011b]/g,"e").replace(/[\u011d\u011f\u0121\u0123]/g,"g").replace(/[\u0125\u0127]/g,"h").replace(/[\u00ec\u00ed\u00ee\u00ef\u0129\u012b\u012d\u012f\u0131]/g,"i").replace(/[\u00f1\u0144\u0146\u0148\u0149\u014b]/g,
"n").replace(/[\u00f2\u00f3\u00f4\u00f5\u00f6\u014d\u014f\u0151]/g,"o").replace(/\u0153/g,"oe").replace(/[\u015b\u015d\u015f\u0161]/g,"s").replace(/\u00df/g,"ss").replace(/[\u00f9\u00fa\u00fb\u00fc\u0169\u016b\u016d\u016f\u0171\u0173]/g,"u").replace(/[\u00fd\u00ff]/g,"y")},isShortId:function(c){return/^[0-9]{1,8}$/.test(c)},isShortLink:function(c){return _.isString(c)&&/^[a-zA-Z0-9]{8}$/.test(c)},isValidCallback:function(c){return/^[$a-z_][$a-z0-9_\.]*$/i.test(c)},parseDate:function(c){return Date.parse(c)},
getMs:function(c){var b,d,f,g,e,h,l;b=c.days;d=c.hours;f=c.minutes;h=c.seconds;e=c.ms;l=c.years;g=c.months;c=c.weeks;null==b&&(b=0);null==d&&(d=0);null==f&&(f=0);null==h&&(h=0);null==e&&(e=0);l&&(b+=365*l);g&&(b+=30*g);c&&(b+=7*c);f+=60*(d+24*b);return e+=1E3*(h+60*f)},getSeconds:function(c){return this.getMs(c)/1E3},dateAfter:function(c){var b,d;b=null!=(d=null!=c?c.date:void 0)?d:new Date;return new Date(b.getTime()+this.getMs(c))},dateBefore:function(c){var b,d;b=null!=(d=null!=c?c.date:void 0)?
d:new Date;return new Date(b.getTime()-this.getMs(c))},compareMemberType:function(c,b,d,f){var g;null==f&&(f={});f=f.mode;null==f&&(f="standard");switch(f){case "members":g=[["normal","admin"]];break;case "commentDelete":g=[["normal","org"],["admin"]];break;default:g=[["org"],["normal"],["admin"]]}f=function(b){var d,f,q,k;f=c.getMemberType(b);d=q=0;for(k=g.length;q<k;d=++q)if(b=g[d],0<=F.call(b,f))return d;return-1};b=f(b);d=f(d);return b>d?1:b<d?-1:0},isValidSearch:function(c){return 2<=(null!=
c?c.length:void 0)||this.isShortId(c)},regexCardNumber:/\#(\d{1,7})(?=$|\s|[;:,.!?\)\}\]\<\>])/,regexLink:/\b((?:[\w-]+:\/\/|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]|(\(([^\s()<>]|\([^\s()<>]+\))+\)))*\))+(?:\(([^\s()<>]|(\(([^\s()<>]|\([^\s()<>]+\))+\)))*\)|[^\s`!()\[\]{};:'".,<>?\u00ab\u00bb\u201c\u201d\u2018\u2019])|[a-z0-9.\-]+[.](?:com|net|org|edu|gov|mil|co\.[a-z]{2})\b)/gi,cleanLink:function(c){c.match(/^([\w-]+):\/\//)||(c="http://"+c);return c},idToDate:function(c){return new Date(1E3*
parseInt(null!=c?c.substr(0,8):void 0,16))},dateToId:function(c){return Math.floor(c.getTime()/1E3).toString(16)+"0000000000000000"},separateLargeNum:function(c,b){null==b&&(b=",");return c.toString().replace(/\B(?=(\d{3})+(?!\d))/g,b)},shortenLargeNum:function(c){var b,d,f,g;d=["","k","m"];f=0;for(g=d.length;f<g;f++){b=d[f];if(1050>c)break;c/=1E3}return(Math.round(10*c)/10).toString()+b},mapping:function(c,b,d){return async.map(c,b,function(b,g){var e,h,l,q,k;if(b)return d(b);l={};e=q=0;for(k=c.length;q<
k;e=++q)h=c[e],l[h]=g[e];return d(null,l)})},queued:function(c,b){var d;d=async.queue(function(b,d){var e;e=b.shift();b.push(d);return c.apply(e,b)},b);return function(){var b,c;b=2<=arguments.length?G.call(arguments,0,c=arguments.length-1):(c=0,[]);c=arguments[c++];b.unshift(this);_.isFunction(c)||(b.push(c),c=function(){});return d.push([b],c)}},labelNames:"green yellow orange red purple blue".split(" "),preferScaledPreviews:function(c){var b;b=_.filter(c,function(b){return b.scaled});return _.isEmpty(b)?
c:b},smallestPreviewBiggerThan:function(c,b,d){var f;null==c&&(c=[]);null==b&&(b=0);null==d&&(d=0);f={width:b,height:d};c=_.filter(this.preferScaledPreviews(c),function(b){return _.all(_.keys(f),function(d){return b[d]>=f[d]})});return this.smallestPreview(c)},previewBetween:function(c,b,d,f,g){null==c&&(c=[]);c=_.filter(this.preferScaledPreviews(c),function(e){var c,l;return b<=(c=e.width)&&c<=f&&d<=(l=e.height)&&l<=g});return this.biggestPreview(c)},biggestPreview:function(c){return 0===c.length?
null:_.max(this.preferScaledPreviews(c),function(b){return Math.min(b.width,b.height)})},smallestPreview:function(c){return 0===c.length?null:_.min(this.preferScaledPreviews(c),function(b){return Math.max(b.width,b.height)})},rotateArr:function(c,b){return _.flatten([c.slice(-b),c.slice(0,-b)],!0)},humanReadableList:function(c){var b;if(2>c.length)return null!=(b=null!=c?c[0]:void 0)?b:"";if(2===c.length)return c[0]+" and "+c[1];c[c.length-1]="and "+c[c.length-1];return c.join(", ")},isNonPushstateAndroid:function(c){return/android(\s)*[3-4]\.[0-1][^0-9]/i.test(c)},
strRepeat:function(c,b){return Array(b+1).join(c)}};"undefined"!==typeof module&&null!==module&&(module.exports=Ra);var Ja,He;Ja=null!=(He="undefined"!==typeof module&&null!==module?module.exports:void 0)?He:{};Ja.Server=function(){function c(b){var d;if(!b)return null;b=b.split(".");if(0<b.length){var f,c,e;e=[];f=0;for(c=b.length;f<c;f++)d=b[f],e.push(parseInt(d,10)||0);this.parts=e}else this.parts=[0]}c.prototype.toString=function(){return this.parts.join(".")};c.prototype.toJSON=function(){return this.toString()};
c.prototype.lessThan=function(b){return(b=this.compareTo(b))&&0>b};c.prototype.greaterThan=function(b){return(b=this.compareTo(b))&&0<b};c.prototype.equalTo=function(b){return(b=this.compareTo(b))&&0===b};c.prototype.compareTo=function(b){var d,f,c,e,h;if(_.isString(b))b=new Ja.Server(b);else if(!(b instanceof Ja.Server))return null;d=Math.max(this.parts.length,b.parts.length);h=_.zip(this.parts,b.parts);c=0;for(e=h.length;c<e;c++){f=h[c];b=f[0];f=f[1];null==b&&(b=0);null==f&&(f=0);if(b>f)return d;
if(f>b)return-d;d--}return 0};c.compareStringVersions=function(b,d){return(new Ja.Server(b)).compareTo(d)};c.prototype.supports=function(b){var d;d=b.minServerVersion;b=b.maxServerVersion;return(!d||this.greaterThan(d))&&(!b||this.lessThan(b))};return c}();Ja.Client=function(){function c(b){var d;null==b&&(b={});this.head=null!=(d=b.head)?d:"dev";this.version=parseInt(b.version)||0;this.patch=parseInt(b.patch)||0;this.minServerVersion=new Ja.Server(b.minServerVersion);this.maxServerVersion=new Ja.Server(b.maxServerVersion)}
c.prototype.toString=function(){return""+this.head+"-"+this.fullVersion()};c.prototype.toJSON=function(){return this.toString()};c.prototype.fullVersion=function(){return _.compact([this.version,this.patch]).join(".")||0};return c}();if("function"===typeof require)var m=require("./sharedUtil.coffee"),qb=require("./sharedDate.coffee").getDateDeltaString,Sa=require("../server/trelloMarkdownFormatters").TFM;var Cb,k=function(c,b){return function(){return c.apply(b,arguments)}};Cb=function(){function c(b){null==
b&&(b={});this.orderEntityList=k(this.orderEntityList,this);this.attachmentPreviewEntity=k(this.attachmentPreviewEntity,this);this.attachmentEntity=k(this.attachmentEntity,this);this.labelEntity=k(this.labelEntity,this);this.commentEntity=k(this.commentEntity,this);this.checkItemEntity=k(this.checkItemEntity,this);this.checklistEntity=k(this.checklistEntity,this);this.listEntity=k(this.listEntity,this);this.organizationEntity=k(this.organizationEntity,this);this.boardEntity=k(this.boardEntity,this);
this.cardEntity=k(this.cardEntity,this);this._getNameForBoard=k(this._getNameForBoard,this);this.relDateEntity=k(this.relDateEntity,this);this.textEntity=k(this.textEntity,this);this.memberEntity=k(this.memberEntity,this);this.getOrganizationUrl=k(this.getOrganizationUrl,this);this.getBoardUrl=k(this.getBoardUrl,this);this.getCardUrl=k(this.getCardUrl,this);this.makeFullUrl=k(this.makeFullUrl,this);this.fullUrls=b.fullUrls;this.domain=b.domain}var b;c.prototype.getId=function(b){var f,c;return null!=
(f=null!=(c=b.id)?c:b._id)?f.toString():void 0};c.prototype.makeFullUrl=function(b){return this.fullUrls?""+this.domain+"/"+b:"/"+b};b=function(b){return null!=b&&b.toJSON?b.toJSON():b};c.prototype.getCardUrl=function(d,f){d=b(d);f=b(f);return f.shortLink?this.makeFullUrl("c/"+f.shortLink+"/"+f.idShort+"-"+m.makeSlug(f.name)):f.idShort?this.makeFullUrl("card/"+m.makeSlug(f.name)+"/"+this.getId(d)+"/"+f.idShort):this.makeFullUrl("card/board/"+m.makeSlug(f.name)+"/"+this.getId(d)+"/"+this.getId(f))};
c.prototype.getBoardUrl=function(d){d=b(d);return d.shortLink?this.makeFullUrl("b/"+d.shortLink+"/"+m.makeSlug(d.name)):this.makeFullUrl("board/"+m.makeSlug(d.name)+"/"+this.getId(d))};c.prototype.getOrganizationUrl=function(b){return this.makeFullUrl(this.getId(b))};c.prototype.getMember=function(b){throw Error("not implemented");};c.prototype.getDateMs=function(b){throw Error("not implemented");};c.prototype.getBoard=function(b){return{}};c.prototype.memberEntity=function(d){var f;f=b(this.getMember(d));
return!f?{type:"member",_id:""+this.idAction+"_"+d}:{type:"member",_id:""+this.idAction+"_"+f._id,id:this.getId(f),avatarHash:f.avatarHash,gravatarHash:f.gravatarHash,initials:f.initials,fullName:f.fullName,username:f.username}};c.prototype.textEntity=function(b,f,c){null==c&&(c=!1);b={type:"text",_id:""+this.idAction+"_"+b,text:b};c&&(b.hideIfContext=!0,b.idContext=f);return b};c.prototype.relDateEntity=function(b,f){var c,e;null==f&&(f="");c=(new Date(b)).getTime();e=new Date;return{type:"relDate",
_id:""+this.idAction+"_"+b,text:f,date:b,current:""+(c>e?"is":"was")+" "+f+" "+qb(c,e,{timezoneAbbreviation:b.timezoneAbbreviation})}};c.prototype._getNameForBoard=function(b){var f,c;if(b&&null!=b.id&&null==b.name)return _.extend(b,null!=(f=null!=(c=this.getBoard(b.id))?c.toJSON():void 0)?f:{})};c.prototype.cardEntity=function(b,f,c){null==c&&(c=!1);c=_.extend({type:"card",hideIfContext:c,_id:""+this.idAction+"_"+b.id},b);return f?(this._getNameForBoard(f),_.extend(c,{url:this.getCardUrl(f,b)})):
c};c.prototype.boardEntity=function(b){this._getNameForBoard(b);return null!=(null!=b?b.name:void 0)?_.extend({type:"board",url:this.getBoardUrl(b),_id:""+this.idAction+"_"+b.id},b):this.textEntity("another board")};c.prototype.organizationEntity=function(b){return _.extend({type:"organization",url:this.getOrganizationUrl(b),_id:""+this.idAction+"_"+b.id},b)};c.prototype.listEntity=function(b,f){var c;c=""+this.idAction+"_"+b.id;f&&(c+="_"+f);return _.extend({type:"list",_id:c},b)};c.prototype.checklistEntity=
function(b){return _.extend({type:"checklist",_id:""+this.idAction+"_"+b.id},b)};c.prototype.checkItemEntity=function(b,f){var c;c={type:"checkItem",_id:""+this.idAction+"_"+b.id,nameHtml:Sa.checkItems.format(b.name,{card:f.card,board:f.board,textData:b.textData}).output};return _.extend(c,b)};c.prototype.commentEntity=function(b,f){var c,e,h;e=f.card;c=f.board;h=f.embedly;c={type:"comment",_id:""+this.idAction+"_comment",text:b,textHtml:Sa.comments.format(b,{card:e,board:c,domain:this.domain,textData:f.textData}).output};
null!=h&&(c.embedly=h);return c};c.prototype.labelEntity=function(b,f){return{type:"label",_id:""+this.idAction+"_label",color:b,text:f}};c.prototype.attachmentEntity=function(b){b=_.extend({type:"attachment",_id:""+this.idAction+"_"+b.id},b);b.link=b.url&&!b.isDeleted;return b};c.prototype.attachmentPreviewEntity=function(b){var f;b=_.extend({type:"attachmentPreview",_id:""+this.idAction+"_"+b.id+"_preview"},b);b.isImage=b.url&&!b.isDeleted&&m.extensionIsImage(b.url)&&("function"===typeof m.isTrelloAttachment?
m.isTrelloAttachment(b.url):void 0);b.canPreview=b.isImage;b.originalUrl=b.url;b.url=null!=(f=b.previewUrl)?f:b.url;return b};c.prototype.orderEntityList=function(b){var f,c,e,h;e=f=0;for(h=b.length;e<h;e++)c=b[e],c.order=f++;return b};return c}();"undefined"!==typeof module&&null!==module&&(module.exports.EntityListGenerator=Cb);var ed,kb,lc,fd;fd=!1;"function"===typeof require&&(require("date-utils"),fd=!0);fd?(Zc="H:MI P",$c="MMM D",ad="MMM D, YYYY",kb=function(c,b){return c.toFormat(b)}):(Zc=
"h:mm tt",$c="MMM d",ad="MMM d, yyyy",kb=function(c,b){return c.toString(b)});lc=function(c,b){return c.getYear()===b.getYear()&&c.getMonth()===b.getMonth()&&c.getDate()===b.getDate()};ed=function(c,b){return new Date(c.getTime()+864E5*b)};qb=function(c,b,d){var f,g,e;e=null!=d?d:{};d=e.timeFormat;e=e.timezoneAbbreviation;c=new Date(c);f=Math.abs((b-c)/1E3);g=c>b;if(10>f)return g?"now":"just now";if(120>f)return g?"in a minute":"a minute ago";f=Math.floor(f/60);if(60>f)return g?"in "+f+" minutes":
""+f+" minutes ago";if(120>f)return g?"in an hour":"an hour ago";f=Math.floor(f/60);d=" at "+kb(c,null!=d?d:Zc).toLowerCase();null!=e&&(d+=" ("+e+")");return 3>f?g?"in "+f+" hours":""+f+" hours ago":lc(b,c)?"today"+d:lc(ed(b,-1),c)?"yesterday"+d:lc(ed(b,1),c)?"tomorrow"+d:90>Math.floor(f/24)?kb(c,$c)+d:kb(c,ad)+d};"undefined"!==typeof module&&null!==module&&(module.exports.getDateDeltaString=qb);if("function"===typeof require){Cb=require("./entityListGenerator.coffee").EntityListGenerator;var m=require("./sharedUtil.coffee"),
lb=require("./sharedPowerUps.coffee")}var Ob,k=function(c,b){return function(){return c.apply(b,arguments)}},E={}.hasOwnProperty,s=function(c,b){function d(){this.constructor=c}for(var f in b)E.call(b,f)&&(c[f]=b[f]);d.prototype=b.prototype;c.prototype=new d;c.__super__=b.prototype;return c},F=[].indexOf||function(c){for(var b=0,d=this.length;b<d;b++)if(b in this&&this[b]===c)return b;return-1};Ob=null;(function(){var c,b,d,f,g,e,h;Ob=function(e){function c(){this.groupActions=k(this.groupActions,
this);this.getEntityLists=k(this.getEntityLists,this);this.getEntityList=k(this.getEntityList,this);this.getSingleEntityList=k(this.getSingleEntityList,this);this._getData=k(this._getData,this);this.getPowerUpEntityList=k(this.getPowerUpEntityList,this);this.getBoardInvitationEntityList=k(this.getBoardInvitationEntityList,this);this.getOrganizationInvitationEntityList=k(this.getOrganizationInvitationEntityList,this);this.getOrganizationEntityList=k(this.getOrganizationEntityList,this);this.getCheckItemEntityList=
k(this.getCheckItemEntityList,this);this.getChecklistEntityList=k(this.getChecklistEntityList,this);this.getListEntityList=k(this.getListEntityList,this);this.getMemberEntityList=k(this.getMemberEntityList,this);this.getCardEntityList=k(this.getCardEntityList,this);this.getBoardEntityList=k(this.getBoardEntityList,this);this.visibleTypes=_.difference(h,d)}var g,x,I,n,D,u;s(c,e);n=function(b){return/Card$/.test(b.type)};I=function(b){return b.idMemberCreator};u=function(b){return"commentCard"===b||
"copyCommentCard"===b||"deleteCard"===b||"moveCardFromBoard"===b||"moveCardToBoard"===b||"addAttachmentToCard"===b};g=function(b,d){var f,e;f=b.toJSON();e=d.toJSON();return I(f)!==I(e)||(!n(f)||!n(e))||(!f.data.card||!e.data.card)||f.data.card.id!==e.data.card.id||u(f.type)||u(e.type)?!1:!0};x=function(b,d){var f,e;f=b.toJSON();e=d.toJSON();return u(e.type)||3E5<Math.abs(m.parseDate(f.date)-m.parseDate(e.date))||n(f)&&n(e)&&I(f)!==I(e)?!0:!1};D=function(b){var d,f,e,c,g,h,l,q,k,v,m,x;if(1===b.length)return b;
e={};q=function(b,d){var f,e,c,g,h,l;e=["name","desc","pos","closed"];c=0;for(g=e.length;c<g;c++)if(f=e[c],null!=(null!=(h=b.old)?h[f]:void 0)&&null!=(null!=(l=d.old)?l[f]:void 0))return!0;return null!=b.listBefore&&null!=d.listBefore};h=k=0;for(m=b.length;k<m;h=++k){d=b[h];l=v=0;for(x=b.length;v<x;l=++v)if(f=b[l],h!==l&&!e[d.id]&&!e[f.id]){c=d.toJSON();g=f.toJSON();_.extend(c,c.data);_.extend(g,g.data);if("addMemberToCard"===c.type&&"removeMemberFromCard"===g.type&&c.idMember===g.idMember||"voteOnCard"===
c.type&&"voteOnCard"===g.type&&c.voted!==g.voted||"addLabelToCard"===c.type&&"removeLabelFromCard"===g.type&&c.value===g.value||"addAttachmentToCard"===c.type&&"deleteAttachmentFromCard"===g.type&&c.attachment.id===g.attachment.id||"addChecklistToCard"===c.type&&"removeChecklistFromCard"===g.type&&c.value===g.value||"updateCheckItemStateOnCard"===c.type&&"updateCheckItemStateOnCard"===g.type&&c.checkItem.name===g.checkItem.name&&c.checkItem.state!==g.checkItem.state)e[d.id]=!0,e[f.id]=!0;h<l&&"updateCard"===
c.type&&("updateCard"===g.type&&q(c,g))&&(e[f.id]=!0)}}return _.reject(b,function(b){return e[b.id]})};c.prototype.getBoardEntityList=function(b,d){var f,e,c,g,h,l,q,k,v,m,x,I,n,D,s,u,U,L,w,z,A,B,E,F,G,H,J;switch(b.type){case "createBoard":return[this.textEntity("created"),this.boardEntity(b.board)];case "copyBoard":return[this.textEntity("copied this board from"),this.boardEntity(b.boardSource)];case "updateBoard":if(null!=(null!=(e=b.old)?e.name:void 0))return[this.textEntity("renamed"),this.boardEntity(b.board),
this.textEntity("(from "+b.old.name+")")];if(null!=(null!=(g=b.old)?g.desc:void 0))return[this.textEntity("changed description of"),this.boardEntity(b.board)];if(null!=(null!=(D=b.old)?D.closed:void 0))return[this.textEntity(b.board.closed?"closed":"re-opened"),this.boardEntity(b.board)];if(null!=(null!=(A=b.old)?null!=(B=A.prefs)?B.background:void 0:void 0))return[this.textEntity("changed the background of"),this.boardEntity(b.board)];if(null!=(null!=(E=b.old)?E.prefs:void 0)){e=function(d){return function(f,
e,c,g){var h,l;h=null!=(l=b.board.prefs)?l[f]:void 0;if("none"===h||"disabled"===h)return[d.textEntity(c),d.boardEntity(b.board)];f=function(){switch(h){case "members":case "private":return"its members";case "observers":return"members and observers";case "org":return"members of its organization";case "public":return"the public";case "admins":return"its admins"}}();return[d.textEntity(e),d.boardEntity(b.board),d.textEntity(""+g+" to "+f)]}}(this);g=function(d){return function(f,e){return[d.textEntity((f?
"enabled":"disabled")+(" "+e+" on")),d.boardEntity(b.board)]}}(this);if(null!=(null!=(F=b.old)?null!=(G=F.prefs)?G.voting:void 0:void 0))return e("voting","made voting on","disabled voting on","available");if(null!=(null!=(H=b.old)?null!=(J=H.prefs)?J.comments:void 0:void 0))return e("comments","made commenting on","disabled commenting on","available");if(null!=(null!=(c=b.old)?null!=(h=c.prefs)?h.invitations:void 0:void 0))return e("invitations","made inviting on","disabled inviting on","available");
if(null!=(null!=(l=b.old)?null!=(q=l.prefs)?q.permissionLevel:void 0:void 0))return e("permissionLevel","made","hid","visible");if(null!=(null!=(k=b.old)?null!=(v=k.prefs)?v.selfJoin:void 0:void 0))return g(null!=(m=b.board.prefs)?m.selfJoin:void 0,"self join");if(null!=(null!=(x=b.old)?null!=(I=x.prefs)?I.cardCovers:void 0:void 0))return g(null!=(n=b.board.prefs)?n.cardCovers:void 0,"card cover images");if(null!=(null!=(s=b.old)?null!=(u=s.prefs)?u.cardAging:void 0:void 0))return c=lb.cardAgingModes[null!=
(f=b.board.prefs)?f.cardAging:void 0],[this.textEntity("changed card aging to "+c+" mode")];if(null!=(null!=(U=b.old)?null!=(L=U.prefs)?L.calendarFeedEnabled:void 0:void 0))return c=lb.calendarFeedEnabledVerbs[null!=(w=b.board.prefs)?w.calendarFeedEnabled:void 0],[this.textEntity(""+c+" the iCalendar feed on this board")]}break;case "addMemberToBoard":return null!=b.idMemberAdded&&b.idMemberAdded!==b.idMemberCreator?(f=[this.textEntity("added"),this.memberEntity(b.idMemberAdded),this.textEntity("to"),
this.boardEntity(b.board)],null!=b.memberType&&"normal"!==b.memberType&&f.push(this.textEntity("as an "+b.memberType)),f):[this.textEntity("joined"),this.boardEntity(b.board)];case "removeMemberFromBoard":return b.idMember===d?[this.textEntity("left"),this.boardEntity(b.board)]:[this.textEntity("removed"),this.memberEntity(b.idMember),this.textEntity("from"),this.boardEntity(b.board)];case "addAdminToBoard":return[this.textEntity("made"),this.memberEntity(b.idMember),this.textEntity("an admin of"),
this.boardEntity(b.board)];case "removeAdminFromBoard":return b.idMember===d?[this.textEntity("became a normal user on"),this.boardEntity(b.board)]:[this.textEntity("made"),this.memberEntity(b.idMember),this.textEntity("a normal user on"),this.boardEntity(b.board)];case "makeAdminOfBoard":return b.idMember===d?[this.textEntity("made themselves an admin of"),this.boardEntity(b.board)]:[this.textEntity("made"),this.memberEntity(b.idMember),this.textEntity("an admin of"),this.boardEntity(b.board)];case "makeObserverOfBoard":return b.idMember===
d?[this.textEntity("became an observer of"),this.boardEntity(b.board)]:[this.textEntity("made"),this.memberEntity(b.idMember),this.textEntity("an observer of"),this.boardEntity(b.board)];case "makeNormalMemberOfBoard":return b.idMember===d?[this.textEntity("became a normal user on"),this.boardEntity(b.board)]:[this.textEntity("made"),this.memberEntity(b.idMember),this.textEntity("a normal user on"),this.boardEntity(b.board)];case "addToOrganizationBoard":return[this.textEntity("added"),this.boardEntity(b.board),
this.textEntity("to"),this.organizationEntity(b.organization)];case "removeFromOrganizationBoard":return[this.textEntity("removed"),this.boardEntity(b.board),this.textEntity("from"),this.organizationEntity(null!=(z=b.organization)?z:{})];case "moveCardFromBoard":return[this.textEntity("transferred"),this.cardEntity(b.card,b.boardTarget),this.textEntity("to"),this.boardEntity(b.boardTarget)];case "moveCardToBoard":return[this.textEntity("transferred"),this.cardEntity(b.card,b.board),this.textEntity("from"),
this.boardEntity(b.boardSource)];case "moveListFromBoard":return[this.textEntity("transferred"),this.listEntity(b.list),this.textEntity("to"),this.boardEntity(b.boardTarget)];case "moveListToBoard":return[this.textEntity("transferred"),this.listEntity(b.list),this.textEntity("from"),this.boardEntity(b.boardSource)]}};c.prototype.getCardEntityList=function(b,d,f){var e,c,g,h,l,q;e=null!=(c=f.grouped)?c:!1;if(f.includeBoard)return _.flatten([this.getCardEntityList(b,d,_.extend({},f,{includeBoard:!1})),
this.textEntity("on"),this.boardEntity(b.board)]);switch(b.type){case "createCard":return[this.textEntity("added"),this.cardEntity(b.card,b.board),this.textEntity("to"),this.listEntity(b.list)];case "deleteCard":return[this.textEntity("deleted card #"+b.card.idShort),this.textEntity("from"),this.listEntity(b.list)];case "copyCard":return[this.textEntity("copied"),this.cardEntity(b.card,b.board),this.textEntity("from"),this.cardEntity(b.cardSource,b.board),this.textEntity("in list"),this.listEntity(b.list)];
case "emailCard":return e=[this.textEntity("emailed"),this.cardEntity(b.card,b.board),this.textEntity("to"),this.listEntity(b.list)],null!=b.sourceEmail&&(e.push(this.textEntity("from")),e.push(this.textEntity(b.sourceEmail))),e;case "updateCard":if(null!=b.listBefore)return e?[this.textEntity("moved from"),this.listEntity(b.listBefore,"old"),this.textEntity("to"),this.listEntity(b.listAfter)]:[this.textEntity("moved"),this.cardEntity(b.card,b.board),this.textEntity("from"),this.listEntity(b.listBefore,
"old"),this.textEntity("to"),this.listEntity(b.listAfter)];if(null!=(null!=(g=b.old)?g.name:void 0))return e?[this.textEntity("changed the name (from "+b.old.name+")")]:[this.textEntity("renamed"),this.cardEntity(b.card,b.board),this.textEntity("(from "+b.old.name+")")];if(null!=(null!=(h=b.old)?h.desc:void 0))return e?[this.textEntity("changed description")]:[this.textEntity("changed description of"),this.cardEntity(b.card,b.board)];if(null!=(null!=(l=b.old)?l.pos:void 0))return d=b.old.pos<b.card.pos,
e?[this.textEntity("moved "+(d?"higher":"lower"))]:[this.textEntity("moved"),this.cardEntity(b.card,b.board),this.textEntity(d?"higher":"lower")];if(null!=(null!=(q=b.old)?q.closed:void 0)){if(e)return[this.textEntity(b.card.closed?"archived":"sent to the board")];e=[this.textEntity(b.card.closed?"archived":"sent"),this.cardEntity(b.card,b.board)];b.card.closed||e.push(this.textEntity("to the board"));return e}break;case "commentCard":return[this.textEntity("on",b.card.id,!0),this.cardEntity(b.card,
b.board,!0),this.commentEntity(b.text,_.pick(b,["card","board","embedly","textData"]))];case "copyCommentCard":return[this.textEntity("copied comment by"),this.memberEntity(b.idOriginalCommenter),this.textEntity("from card"),this.cardEntity(b.cardSource,b.board,!0),this.commentEntity(b.text,_.pick(b,["card","board","embedly","textData"]))];case "addMemberToCard":return b.idMember===d?e?[this.textEntity("joined")]:[this.textEntity("joined"),this.cardEntity(b.card,b.board)]:e?[this.textEntity("added"),
this.memberEntity(b.idMember)]:[this.textEntity("added"),this.memberEntity(b.idMember),this.textEntity("to"),this.cardEntity(b.card,b.board)];case "removeMemberFromCard":return b.idMember===d?e?[this.textEntity("left")]:[this.textEntity("left"),this.cardEntity(b.card,b.board)]:e?[this.textEntity("removed"),this.memberEntity(b.idMember)]:[this.textEntity("removed"),this.memberEntity(b.idMember),this.textEntity("from"),this.cardEntity(b.card,b.board)];case "addChecklistToCard":return e?[this.textEntity("added"),
this.checklistEntity(b.checklist)]:[this.textEntity("added"),this.checklistEntity(b.checklist),this.textEntity("to"),this.cardEntity(b.card,b.board)];case "removeChecklistFromCard":return e?[this.textEntity("removed"),this.checklistEntity(b.checklist)]:[this.textEntity("removed"),this.checklistEntity(b.checklist),this.textEntity("from"),this.cardEntity(b.card,b.board)];case "voteOnCard":return[this.textEntity(b.voted?"voted for":"removed vote for"),this.cardEntity(b.card,b.board)];case "addLabelToCard":return e?
[this.textEntity("added"),this.labelEntity(b.value,b.text)]:[this.textEntity("added the"),this.labelEntity(b.value,b.text),this.textEntity("label to"),this.cardEntity(b.card,b.board)];case "removeLabelFromCard":return e?[this.textEntity("removed"),this.labelEntity(b.value,b.text)]:[this.textEntity("removed the"),this.labelEntity(b.value,b.text),this.textEntity("label from"),this.cardEntity(b.card,b.board)];case "updateCheckItemStateOnCard":return d="complete"===b.checkItem.state,e?(e=[this.textEntity(d?
"completed":"marked"),this.checkItemEntity(b.checkItem,_.pick(b,["card","board","checkItem"]))],d||e.push(this.textEntity("incomplete")),e):[this.textEntity(d?"completed":"marked"),this.checkItemEntity(b.checkItem,_.pick(b,["card","board","checkItem"])),this.textEntity(d?"on":"incomplete on"),this.cardEntity(b.card,b.board)];case "addAttachmentToCard":return e?[this.textEntity("attached"),this.attachmentEntity(b.attachment),this.attachmentPreviewEntity(b.attachment)]:[this.textEntity("attached"),
this.attachmentEntity(b.attachment),this.textEntity("to"),this.cardEntity(b.card,b.board),this.attachmentPreviewEntity(b.attachment)];case "deleteAttachmentFromCard":return e?[this.textEntity("deleted"),this.attachmentEntity(b.attachment)]:[this.textEntity("deleted the"),this.attachmentEntity(b.attachment),this.textEntity("attachment from"),this.cardEntity(b.card,b.board)]}};c.prototype.getMemberEntityList=function(b,d){var f,e,c,g;switch(b.type){case "updateMember":if(null!=(null!=(f=b.old)?f.bio:
void 0))return[this.textEntity("updated their bio")];if(null!=(null!=(e=b.old)?e.username:void 0))return[this.textEntity("updated their username")];if(null!=(null!=(c=b.old)?c.initials:void 0))return[this.textEntity("updated their initials")];if(null!=(null!=(g=b.old)?g.fullName:void 0))return[this.textEntity("updated their display name")]}};c.prototype.getListEntityList=function(b,d,f){var e,c,g,h;if(f.includeBoard)return _.flatten([this.getListEntityList(b,d,_.extend({},f,{includeBoard:!1})),this.textEntity("on"),
this.boardEntity(b.board)]);switch(b.type){case "createList":return[this.textEntity("added"),this.listEntity(b.list),this.textEntity("to"),this.boardEntity(b.board)];case "updateList":if(null!=(null!=(c=b.old)?c.name:void 0))return[this.textEntity("renamed"),this.listEntity(b.list),this.textEntity("(from "+b.old.name+")")];if(null!=(null!=(g=b.old)?g.pos:void 0))return d=(null!=(e=b.old)?e.pos:void 0)>b.list.pos,[this.textEntity("moved"),this.listEntity(b.list),this.textEntity((d?"left":"right")+
" on"),this.boardEntity(b.board)];if(null!=(null!=(h=b.old)?h.closed:void 0))return e=[this.textEntity(b.list.closed?"archived":"sent"),this.listEntity(b.list)],b.list.closed||e.push(this.textEntity("to the board")),e}};c.prototype.getChecklistEntityList=function(b,d){var f;switch(b.type){case "createChecklist":return[this.textEntity("created"),this.checklistEntity(b.checklist),this.textEntity("on"),this.boardEntity(b.board)];case "updateChecklist":if(null!=(null!=(f=b.old)?f.name:void 0))return[this.textEntity("renamed"),
this.checklistEntity(b.checklist),this.textEntity("(from "+b.old.name+")")]}};c.prototype.getCheckItemEntityList=function(b,d){var f,e,c;b.textData=null!=(f=b.checkItem)?f.textData:void 0;f=_.pick(b,["card","board","textData","checkItem"]);switch(b.type){case "updateCheckItem":if(null!=(null!=(e=b.old)?e.name:void 0))return[this.textEntity("renamed"),this.checkItemEntity(b.checkItem,f),this.textEntity("(from "+b.old.name+")")];if(null!=(null!=(c=b.old)?c.pos:void 0))return e=b.old.pos>b.checkItem.pos,
[this.textEntity("moved"),this.checkItemEntity(b.checkItem,f),this.textEntity((e?"higher":"lower")+" in the checklist"),this.checklistEntity(b.checklist)];break;case "deleteCheckItem":return[this.textEntity("deleted task"),this.checkItemEntity(b.checkItem,f),this.textEntity("on"),this.checklistEntity(b.checklist)];case "convertToCardFromCheckItem":return[this.textEntity("converted"),this.cardEntity(b.card,b.board),this.textEntity("from a checklist item on"),this.cardEntity(b.cardSource,b.board)]}};
c.prototype.getOrganizationEntityList=function(b,d){var f,e,c,g;switch(b.type){case "createOrganization":return[this.textEntity("created"),this.organizationEntity(b.organization)];case "updateOrganization":if(null!=(null!=(f=b.old)?f.desc:void 0))return[this.textEntity("changed description of"),this.organizationEntity(b.organization)];if(null!=(null!=(e=b.old)?e.name:void 0))return[this.textEntity("changed name of"),this.organizationEntity(b.organization)];if(null!=(null!=(c=b.old)?c.displayName:
void 0))return[this.textEntity("changed display name of"),this.organizationEntity(b.organization)];if(null!=(null!=(g=b.old)?g.website:void 0))return[this.textEntity("changed website of"),this.organizationEntity(b.organization)];break;case "addMemberToOrganization":return null!=b.idMemberAdded&&b.idMemberAdded!==b.idMemberCreator?(f=[this.textEntity("added"),this.memberEntity(b.idMemberAdded),this.textEntity("to"),this.organizationEntity(b.organization)],null!=b.memberType&&"normal"!==b.memberType&&
f.push(this.textEntity("as an "+b.memberType)),f):[this.textEntity("joined"),this.organizationEntity(b.organization)];case "removeMemberFromOrganization":return b.idMember===d?[this.textEntity("left"),this.organizationEntity(b.organization)]:[this.textEntity("removed"),this.memberEntity(b.idMember),this.textEntity("from"),this.organizationEntity(b.organization)];case "makeAdminOfOrganization":return b.idMember===d?[this.textEntity("became an admin of"),this.boardEntity(b.organization)]:[this.textEntity("made"),
this.memberEntity(b.idMember),this.textEntity("an admin of"),this.boardEntity(b.organization)];case "makeNormalMemberOfOrganization":return b.idMember===d?[this.textEntity("became a normal user in"),this.boardEntity(b.organization)]:[this.textEntity("made"),this.memberEntity(b.idMember),this.textEntity("a normal user in"),this.boardEntity(b.organization)];case "addAdminToOrganization":return[this.textEntity("made"),this.memberEntity(b.idMember),this.textEntity("an admin of"),this.organizationEntity(b.organization)];
case "removeAdminFromOrganization":return b.idMember===d?[this.textEntity("became a normal user on"),this.organizationEntity(b.organization)]:[this.textEntity("made"),this.memberEntity(b.idMember),this.textEntity("a normal user on"),this.organizationEntity(b.organization)]}};c.prototype.getOrganizationInvitationEntityList=function(b,d){switch(b.type){case "createOrganizationInvitation":return[this.textEntity("created an invitation to"),this.organizationEntity(b.organization)];case "unconfirmedOrganizationInvitation":return[this.textEntity("invited an unconfirmed member to"),
this.organizationEntity(b.organization)];case "deleteOrganizationInvitation":return[this.textEntity("deleted an invitation to"),this.organizationEntity(b.organization)]}};c.prototype.getBoardInvitationEntityList=function(b,d){switch(b.type){case "createBoardInvitation":return[this.textEntity("created an invitation to"),this.boardEntity(b.board)];case "unconfirmedBoardInvitation":return[this.textEntity("invited an unconfirmed member to"),this.boardEntity(b.board)];case "deleteBoardInvitation":return[this.textEntity("deleted an invitation to"),
this.boardEntity(b.board)]}};c.prototype.getPowerUpEntityList=function(b,d){var f;f=lb.powerUpNames[b.value].toLowerCase();switch(b.type){case "enablePowerUp":return[this.textEntity("enabled the "+f+" power-up")];case "disablePowerUp":return[this.textEntity("disabled the "+f+" power-up")]}};c.prototype._getData=function(b,d){var f,e,c,g,h,l;f=d.toJSON();c=b.toJSON();f=_.extend({},f,f.data);l=["card","list","board"];g=0;for(h=l.length;g<h;g++)e=l[g],null!=c.data[e]&&(f.data[e]=c.data[e]);return f};
c.prototype.getSingleEntityList=function(b,d,f){var e,c,g;e=this._getData(b,d);g=this.memberEntity(e.idMemberCreator);c={Board:"getBoardEntityList",Member:"getMemberEntityList",Card:"getCardEntityList",List:"getListEntityList",Checklist:"getChecklistEntityList",CheckItem:"getCheckItemEntityList",Organization:"getOrganizationEntityList",OrganizationInvitation:"getOrganizationInvitationEntityList",BoardInvitation:"getBoardInvitationEntityList",PowerUp:"getPowerUpEntityList"};b=function(b){return function(){var d,
h;for(h in c)if(d=c[h],RegExp(h+"$").test(e.type))return b[d](e,g.id,f)}}(this)();null==b&&(b=[]);b.unshift(g);this.orderEntityList(b);return b};c.prototype.getEntityList=function(d,f,e){var c,g,h,l,q,k,v,m;null==e&&(e={});null==f&&(f=[d]);this.idAction=this.getId(f[0]);if(1===f.length)return g=this.getSingleEntityList(d,f[0],e),{entities:g,list:g};q=this.memberEntity(f[0].get("idMemberCreator"));h=_.find(f,function(d){var f;return f=d.get("type"),0<=F.call(b,f)});g=[];k=0;for(v=f.length;k<v;k++)if(c=
f[k],m=c.get("type"),0>F.call(b,m))if(l=c.toJSON(),_.extend(l,l.data),this.idAction=this.getId(c),c=this.getCardEntityList(l,q.id,_.extend({},e,{grouped:!0})))this.orderEntityList(c),g.push({_id:this.idAction,entities:c,list:c});this.idAction=this.getId(f[0]);f=[q];h?(f=f.concat(this.getCardEntityList(this._getData(d,h),q.id,_.extend({},e,{grouped:!0}))),f.push(this.textEntity("and"))):(e=d.get("data"),d=e.card,e=e.board,f.push(this.textEntity("on",d.id,!0)),f.push(this.cardEntity(d,e,!0)));this.orderEntityList(f);
return{entities:f,list:f,children:g}};c.prototype.getMember=function(b){throw Error("NotImplemented");};c.prototype.getBoard=function(b){return{}};c.prototype.getEntityLists=function(b,d){var e,c,h,l,q,k,m,I,n,s,u;null==d&&(d={});d=_.extend({},{compact:!0},d);I=0;l=[];h={};q=n=0;for(s=b.length;n<s;q=++n)if(e=b[q],!h[e.id]){if(null!=d.limit&&I>=d.limit)break;c=[e];k=q=m=q+1;for(u=b.length;m<=u?q<u:q>u;k=m<=u?++q:--q){k=b[k];if(x(e,k))break;g(e,k)&&(c.push(k),h[k.id]=!0)}_.isEmpty(c)||(m=c[0],c=D(_.reject(c,
f)),null!=d.excludeTypes&&(c=_.filter(c,function(b){return function(b){var f;return f=b.get("type"),0>F.call(d.excludeTypes,f)}}(this))),_.isEmpty(c)||(q=_.pluck([m].concat(c),"id").join("_"),d.key&&(q=d.key+"_"+q),e=c[0].get("date"),l.push(_.extend(this.getEntityList(m,c,d),{db_id:this.getId(c[0]),_id:q,date:e})),I++))}return l};c.prototype.groupActions=function(b,d){var e,c,h,l,q,k,m,I,n,s,u;null==d&&(d={});h={};q=[];l=_.filter(b,function(b){var e,c;return(e=b.get("type"),0>F.call(null!=(c=d.excludeTypes)?
c:[],e))&&!f(b)});k=I=0;for(n=l.length;I<n;k=++I)if(e=l[k],!h[e.id]){if(null!=d.limit&&q.length>=d.limit)break;c=[e];m=k=s=k+1;for(u=l.length;s<=u?k<u:k>u;m=s<=u?++k:--k){m=l[m];if(x(e,m))break;g(e,m)&&(c.push(m),h[m.id]=!0)}c=D(c);_.isEmpty(c)||q.push(c)}return q};return c}(Cb);f=function(b){return function(b){var f,e,c,g,h,l;b=null!=(f="function"===typeof b.toJSON?b.toJSON():void 0)?f:b;return"updateCard"===b.type&&(null!=b.data.listBefore||null!=(null!=(e=b.data.old)?e.closed:void 0))||"updateList"===
b.type&&null!=(null!=(c=b.data.old)?c.closed:void 0)?!1:("updateMember"===(g=b.type)||"updateOrganization"===g)&&(null==b.data.old||null!=b.data.old.prefs&&1===_.keys(b.data.old).length)||"updateBoard"===b.type&&null!=(null!=(h=b.data.old)?h.labelNames:void 0)?!0:(l=b.type,0<=F.call(d,l))}}(this);b=["createCard","copyCard","emailCard"];h="addAdminToBoard addAdminToOrganization addAttachmentToCard addBoardsPinnedToMember addChecklistToCard addLabelToCard addMemberToBoard addMemberToCard addMemberToOrganization addToOrganizationBoard commentCard copyCommentCard convertToCardFromCheckItem copyBoard createBoard createBoardInvitation createBoardPreference createCard copyCard createChecklist copyChecklist createList createOrganization createOrganizationInvitation deleteAttachmentFromCard deleteBoardInvitation deleteCard deleteCheckItem deleteOrganizationInvitation disablePowerUp emailCard enablePowerUp makeAdminOfBoard makeAdminOfOrganization makeNormalMemberOfBoard makeNormalMemberOfOrganization makeObserverOfBoard memberJoinedTrello moveCardFromBoard moveListFromBoard moveCardToBoard moveListToBoard removeAdminFromBoard removeAdminFromOrganization removeBoardsPinnedFromMember removeChecklistFromCard removeFromOrganizationBoard removeLabelFromCard removeMemberFromBoard removeMemberFromCard removeMemberFromOrganization unconfirmedBoardInvitation unconfirmedOrganizationInvitation updateBoard updateCard updateCheckItem updateCheckItemStateOnCard updateChecklist updateList updateMember updateOrganization voteOnCard".split(" ");
e="updateCard:idList updateCard:closed updateCard:desc updateCard:name updateList:closed updateList:name".split(" ");d="addAdminToBoard addAdminToOrganization addBoardsPinnedToMember addLabelToCard copyChecklist createBoardInvitation createBoardPreference createChecklist createCheckItem createOrganizationInvitation deleteCheckItem deleteComment makeAdminOfOrganization removeBoardsPinnedFromMember removeLabelFromCard removeMemberFromBoard removeMemberFromOrganization updateCard updateCheckItem updateComment updateList voteOnCard".split(" ");
g="addAttachmentToCard addChecklistToCard addMemberToCard commentCard copyCommentCard convertToCardFromCheckItem createCard deleteAttachmentFromCard removeChecklistFromCard removeMemberFromCard updateCard:closed updateCard:desc updateCard:name updateCheckItemStateOnCard".split(" ");c=_.difference(d,["updateCard","updateList"]);c=_.difference(_.union(h,e),c);return"undefined"!==typeof module&&null!==module?_.extend(module.exports,{SharedActionList:Ob,types:h,ignoredTypes:d,qualifiedTypes:e,allowedTypesApi:c,
movedTypes:g,isSuppressed:f}):Ob})();var da,Ie,gd,F=[].indexOf||function(c){for(var b=0,d=this.length;b<d;b++)if(b in this&&this[b]===c)return b;return-1};gd={none:-1,"new":0,processing:1,denied:2,good:3,overdue:4,disabled:5,cancelled:6,"change processing":7,"change denied":8,"change finished":9,authorizing:10,"product specific processing":11,"free trial":12,"pending product specific processing":13,"pending authorizing":14,deleted:15};Ie=_.invert(gd);da={init:function(c,b){var d,f,g;d=_.extend({},
da);for(f in c)g=c[f],f=parseInt(f,10),g=_.defaults(g,{interval:"monthly",hidden:!1,prebill:!0}),d.products[f]=g.name,g.hidden||(d.productShortNames[g.shortName]=f),g.prebill&&d.prebilledProducts.push(f),d.productFeatures[f]=g.features,d.prices[f]=g.price,d.intervals[f]=g.interval;return _.extend(d,b)},standings:gd,reverseStandings:Ie,activeStandings:[3,4,7,8,9,11,12,13,14],processingStandings:[1,7,10,11,13,14],overdueStandings:[4],needCCStandings:[2,5],cancelledStandings:[6],products:{},prices:{},
intervals:{},productShortNames:{},prebilledProducts:[],productFeatures:{},globalFeatures:[],_convertToId:function(c){return _.isString(c)?/^\d+$/.test(c)?parseInt(c,10):this.productShortNames[c]:c},getProductNumber:function(c){return this._convertToId(c)},getPrice:function(c){return this.prices[this._convertToId(c)]},formatPrice:function(c){var b;return"$"+(null!=(b=this.getPrice(c))?b:"??")},getInterval:function(c){return this.intervals[this._convertToId(c)]},isMonthly:function(c){return"monthly"===
this.getInterval(c)},getYearlyDiscount:function(c,b){var d,f;f=this.getPrice(c);d=12*this.getPrice(b);return""+Math.round(100*(d-f)/d)+"%"},features:function(c){var b;return _.unique(_.flatten(function(){var d,f,g,e;g=null!=c?c:[];e=[];d=0;for(f=g.length;d<f;d++)b=g[d],e.push(this.productFeatures[b]||[]);return e}.call(this)))},hasProduct:function(c){var b,d,f;f=null!=c?c:[];b=0;for(d=f.length;b<d;b++)if(c=f[b],c in this.products)return!0;return!1},hasAccount:function(c){return null!=c&&c!==da.standings.none},
active:function(c){var b;return null!=c&&(b=(new Number(c.standing)).valueOf(),0<=F.call(da.activeStandings,b))&&!_.isEmpty(c.products)},processing:function(c){var b;return da.hasAccount(c)&&(b=(new Number(c)).valueOf(),0<=F.call(da.processingStandings,b))},problem:function(c){return c===da.standings.overdue},cancelled:function(c){var b;if(null==c)return!1;b=(new Number(c.standing)).valueOf();return da.hasAccount(c.standing)&&(0<=F.call(da.cancelledStandings,b)||0<=F.call(da.activeStandings,b)&&0>
F.call(da.processingStandings,b)&&_.isEmpty(c.products))},willExpire:function(c){var b,d;return(null!=(b=c.products)?b[0]:void 0)in(null!=(d=c.expirationDates)?d:{})},needCC:function(c){var b;return b=(new Number(c)).valueOf(),0<=F.call(da.needCCStandings,b)},inactive:function(c){return da.hasAccount(c)&&!da.active(c)},standingName:function(c){return this.reverseStandings[c]},isFeatureEnabled:function(c,b){return 0<=F.call(this.globalFeatures,c)||0<=F.call(this.features(b),c)}};"undefined"!==typeof module&&
null!==module&&(module.exports=da);"function"===typeof require&&(da=require("./accounts.coffee"));var ta,Ta,mc;Ta="export logo observers removal activity deactivated orgCards googleApps orgMembersPage superAdmins prefs inviteOrg restrictVis disableExternalMembers".split(" ");mc={33:{shortName:"adminPack",name:"Admin Pack",interval:"monthly",price:2E3/12,features:_.without(Ta,"googleApps"),hidden:!0,prebill:!1},34:{shortName:"superAdminPack",name:"Super Admin Pack",interval:"monthly",price:5E3/12,
features:_.without(Ta,"googleApps"),hidden:!0,prebill:!1},35:{shortName:"businessClassMonthly",name:"Business Class",interval:"monthly",price:25,features:Ta,hidden:!0,prebill:!1},36:{shortName:"businessClassYearly",name:"Business Class",interval:"yearly",price:200,features:Ta,hidden:!0},39:{shortName:"businessClassMonthly",name:"Business Class",interval:"monthly",price:50,features:Ta},40:{shortName:"businessClassYearly",name:"Business Class",interval:"yearly",price:500,features:Ta}};ta=da.init(mc,
{globalFeatures:["logo"]});"undefined"!==typeof module&&null!==module&&(module.exports=ta);"function"===typeof require&&(da=require("./accounts.coffee"));var Ca,hd;hd="additionalStickers customStickers additionalBoardBackgrounds customBoardBackgrounds largeAttachments customEmoji".split(" ");mc={37:{shortName:"trelloGoldMonthly",name:"Trello Gold",interval:"monthly",price:5,features:hd},38:{shortName:"trelloGoldYearly",name:"Trello Gold",interval:"yearly",price:45,features:hd}};Ca=da.init(mc);"undefined"!==
typeof module&&null!==module&&(module.exports=Ca);"function"===typeof require&&(Cb=require("./entityListGenerator.coffee").EntityListGenerator,qb=require("./sharedDate.coffee").getDateDeltaString);var id,k=function(c,b){return function(){return c.apply(b,arguments)}},E={}.hasOwnProperty,s=function(c,b){function d(){this.constructor=c}for(var f in b)E.call(b,f)&&(c[f]=b[f]);d.prototype=b.prototype;c.prototype=new d;c.__super__=b.prototype;return c};id=function(c){function b(){this.getEntityLists=k(this.getEntityLists,
this);this.getEntityList=k(this.getEntityList,this);return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.getEntityList=function(b){var f,c,e,h,l,q,k,m,I,n,D,s,C,u;this.idAction=this.getId(b);_.isFunction(b.toJSON)&&(b=b.toJSON());f=b.data;c=[];null!=b.idMemberCreator&&c.push(this.memberEntity(b.idMemberCreator));if(/Card$/.test(b.type)){switch(b.type){case "addedMemberToCard":b.idMemberCreator===(null!=(e=f.member)?e.id:void 0)?c.push(this.textEntity("joined the card")):(c.push(this.textEntity("added")),
c.push(this.memberEntity(null!=(h=f.member)?h.id:void 0)),c.push(this.textEntity("to the card")));break;case "removedMemberFromCard":b.idMemberCreator===(null!=(k=f.member)?k.id:void 0)?c.push(this.textEntity("left the card")):(c.push(this.textEntity("removed")),c.push(this.memberEntity(null!=(m=f.member)?m.id:void 0)),c.push(this.textEntity("from the card")));break;case "changeCard":null!=(null!=(I=f.old)?I.name:void 0)?c.push(this.textEntity("renamed the card")):null!=(null!=(n=f.old)?n.desc:void 0)?
c.push(this.textEntity("updated the description of the card")):null!=(null!=(D=f.old)?D.closed:void 0)?f.card.closed?c.push(this.textEntity("archived the card")):c.push(this.textEntity("unarchived the card")):null!=(null!=(s=f.old)?s.due:void 0)||null===(null!=(C=f.old)?C.due:void 0)?null!=(null!=(u=f.old)?u.due:void 0)?c.push(this.textEntity("changed the due date on the card")):c.push(this.textEntity("added a due date to the card")):null!=f.listAfter?c.push(this.textEntity("moved the card")):c.push(this.textEntity("changed the card"));
break;case "createdCard":c.push(this.textEntity("created"));break;case "addedAttachmentToCard":c.push(this.textEntity("attached "+f.name+" to"));break;case "updateCheckItemStateOnCard":null!=f.checkItem?(c.push(this.textEntity(""+("complete"===f.state?"":"un")+"checked ")),c.push(this.checkItemEntity(f.checkItem,{card:f.card,board:f.board})),c.push(this.textEntity("on"))):c.push(this.textEntity(""+("complete"===f.state?"":"un")+"checked "+f.name+" on"));break;default:c.push(this.textEntity({commentCard:"commented on the card",
addedToCard:"added you to the card",removedFromCard:"removed you from the card",mentionedOnCard:"mentioned you on the card"}[b.type]))}c.push(this.cardEntity(f.card,f.board));"changeCard"===b.type&&null!=f.listAfter?(c.push(this.textEntity("to")),c.push(this.listEntity(f.listAfter))):"createdCard"===b.type&&(c.push(this.textEntity("in")),c.push(this.listEntity(f.list)));c.push(this.textEntity("on"));c.push(this.boardEntity(f.board));("commentCard"===(l=b.type)||"mentionedOnCard"===l)&&null!=f.text?
c.push(this.commentEntity(f.text,{card:f.card,board:f.board})):"addedAttachmentToCard"===b.type&&f.attachment&&c.push(this.attachmentPreviewEntity(f.attachment))}else/Board$/.test(b.type)?(c.push(this.textEntity({removedFromBoard:"removed you from the board",invitedToBoard:"invited you to the board",unconfirmedInvitedToBoard:"added you to the board",addedToBoard:"added you to the board",addAdminToBoard:"made you an admin on the board",makeAdminOfBoard:"made you an admin on the board",closeBoard:"closed the board",
declinedInvitationToBoard:""+f.fullName+" "+(null!=f.email?"("+f.email+") ":"")+"declined your invitation to the board"}[b.type])),c.push(this.boardEntity(f.board)),"unconfirmedInvitedToBoard"===b.type&&c.push(this.textEntity("Confirm your email address to see it.")),"addedToBoard"===b.type&&("observer"===(q=f.memberType)||"admin"===q)&&c.push(this.textEntity("as an "+f.memberType))):/Organization$/.test(b.type)?(c.push(this.textEntity({removedFromOrganization:"removed you from the organization",
addedToOrganization:"added you to the organization",invitedToOrganization:"invited you to the organization",unconfirmedInvitedToOrganization:"invited you to the organization",addAdminToOrganization:"made you an admin on the organization",makeAdminOfOrganization:"made you an admin of the organization",declinedInvitationToOrganization:""+f.fullName+" "+(null!=f.email?"("+f.email+") ":"")+"declined your invitation to the organization"}[b.type])),c.push(this.organizationEntity(f.organization)),"unconfirmedInvitedToOrganization"===
b.type&&c.push(this.textEntity("Confirm your email address to see it.")),"addedToOrganization"===b.type&&"admin"===f.memberType&&c.push(this.textEntity("as an "+f.memberType))):"memberJoinedTrello"===b.type?(c.push(this.textEntity("joined Trello on your recommendation.")),null!=f&&(f.earnedCredit&&"gold"===f.creditType)&&c.push(this.textEntity("You earned a free month of Trello Gold!"))):"cardDueSoon"===b.type&&(c.push(this.cardEntity(f.card,f.board)),c.push(this.textEntity("on")),c.push(this.boardEntity(f.board)),
c.push(this.relDateEntity(f.card.due,"due")));f=0;for(e=c.length;f<e;f++)b=c[f],b[b.type+"Type"]=!0;return this.orderEntityList(c)};b.prototype.getEntityLists=function(b,f){var c,e,h,l;l=[];e=0;for(h=b.length;e<h;e++)c=b[e],l.push(this.getEntityList(c));return l};return b}(Cb);"undefined"!==typeof module&&null!==module&&(module.exports.SharedNotification=id);var jd;jd=function(){function c(){}c.prototype.getDefaultId=function(){return""};c.prototype.event=function(b,d){};c.prototype.percentage=function(b,
d){return 50};c.prototype.inTest=function(b,d){null==d&&(d=this.getDefaultId());return this.personalPercentage(b,d)<this.percentage(b,d)};c.prototype.personalPercentage=function(b,d){return parseInt(this._hasher(d+b).substr(0,8),16)%100};c.prototype.templateData=function(b,d){var f,c,e,h,l;c=/{{[\#\^]AB_([a-z0-9_]*)}}/ig;for(f={};e=null!=(l=c.exec(b))?l[1]:void 0;)if(null==f[h="AB_"+e])f[h]=this.inTest(e,d);return f};c.prototype._hasher=function(){var b,d,f,c,e,h,l,q,k,m,I,n,D,s;c=0;n=function(f){return b(d(m(f),
8*f.length))};I=function(b){var d,f,e,h;try{c}catch(l){c=0}d=c?"0123456789ABCDEF":"0123456789abcdef";e="";for(f=0;f<b.length;)h=b.charCodeAt(f),e+=d.charAt(h>>>4&15)+d.charAt(h&15),f++;return e};s=function(b){var d,f,e,c;f="";for(d=-1;++d<b.length;)e=b.charCodeAt(d),c=d+1<b.length?b.charCodeAt(d+1):0,55296<=e&&(56319>=e&&56320<=c&&57343>=c)&&(e=65536+((e&1023)<<10)+(c&1023),d++),127>=e?f+=String.fromCharCode(e):2047>=e?f+=String.fromCharCode(192|e>>>6&31,128|e&63):65535>=e?f+=String.fromCharCode(224|
e>>>12&15,128|e>>>6&63,128|e&63):2097151>=e&&(f+=String.fromCharCode(240|e>>>18&7,128|e>>>12&63,128|e>>>6&63,128|e&63));return f};m=function(b){var d,f;f=Array(b.length>>2);for(d=0;d<f.length;)f[d]=0,d++;for(d=0;d<8*b.length;)f[d>>5]|=(b.charCodeAt(d/8)&255)<<d%32,d+=8;return f};b=function(b){var d,f;f="";for(d=0;d<32*b.length;)f+=String.fromCharCode(b[d>>5]>>>d%32&255),d+=8;return f};d=function(b,d){var f,e,c,g,m,x,I,n,s;b[d>>5]|=128<<d%32;b[(d+64>>>9<<4)+14]=d;f=1732584193;e=-271733879;c=-1732584194;
g=271733878;for(m=0;m<b.length;)x=f,I=e,n=c,s=g,f=h(f,e,c,g,b[m+0],7,-680876936),g=h(g,f,e,c,b[m+1],12,-389564586),c=h(c,g,f,e,b[m+2],17,606105819),e=h(e,c,g,f,b[m+3],22,-1044525330),f=h(f,e,c,g,b[m+4],7,-176418897),g=h(g,f,e,c,b[m+5],12,1200080426),c=h(c,g,f,e,b[m+6],17,-1473231341),e=h(e,c,g,f,b[m+7],22,-45705983),f=h(f,e,c,g,b[m+8],7,1770035416),g=h(g,f,e,c,b[m+9],12,-1958414417),c=h(c,g,f,e,b[m+10],17,-42063),e=h(e,c,g,f,b[m+11],22,-1990404162),f=h(f,e,c,g,b[m+12],7,1804603682),g=h(g,f,e,c,b[m+
13],12,-40341101),c=h(c,g,f,e,b[m+14],17,-1502002290),e=h(e,c,g,f,b[m+15],22,1236535329),f=l(f,e,c,g,b[m+1],5,-165796510),g=l(g,f,e,c,b[m+6],9,-1069501632),c=l(c,g,f,e,b[m+11],14,643717713),e=l(e,c,g,f,b[m+0],20,-373897302),f=l(f,e,c,g,b[m+5],5,-701558691),g=l(g,f,e,c,b[m+10],9,38016083),c=l(c,g,f,e,b[m+15],14,-660478335),e=l(e,c,g,f,b[m+4],20,-405537848),f=l(f,e,c,g,b[m+9],5,568446438),g=l(g,f,e,c,b[m+14],9,-1019803690),c=l(c,g,f,e,b[m+3],14,-187363961),e=l(e,c,g,f,b[m+8],20,1163531501),f=l(f,e,
c,g,b[m+13],5,-1444681467),g=l(g,f,e,c,b[m+2],9,-51403784),c=l(c,g,f,e,b[m+7],14,1735328473),e=l(e,c,g,f,b[m+12],20,-1926607734),f=q(f,e,c,g,b[m+5],4,-378558),g=q(g,f,e,c,b[m+8],11,-2022574463),c=q(c,g,f,e,b[m+11],16,1839030562),e=q(e,c,g,f,b[m+14],23,-35309556),f=q(f,e,c,g,b[m+1],4,-1530992060),g=q(g,f,e,c,b[m+4],11,1272893353),c=q(c,g,f,e,b[m+7],16,-155497632),e=q(e,c,g,f,b[m+10],23,-1094730640),f=q(f,e,c,g,b[m+13],4,681279174),g=q(g,f,e,c,b[m+0],11,-358537222),c=q(c,g,f,e,b[m+3],16,-722521979),
e=q(e,c,g,f,b[m+6],23,76029189),f=q(f,e,c,g,b[m+9],4,-640364487),g=q(g,f,e,c,b[m+12],11,-421815835),c=q(c,g,f,e,b[m+15],16,530742520),e=q(e,c,g,f,b[m+2],23,-995338651),f=k(f,e,c,g,b[m+0],6,-198630844),g=k(g,f,e,c,b[m+7],10,1126891415),c=k(c,g,f,e,b[m+14],15,-1416354905),e=k(e,c,g,f,b[m+5],21,-57434055),f=k(f,e,c,g,b[m+12],6,1700485571),g=k(g,f,e,c,b[m+3],10,-1894986606),c=k(c,g,f,e,b[m+10],15,-1051523),e=k(e,c,g,f,b[m+1],21,-2054922799),f=k(f,e,c,g,b[m+8],6,1873313359),g=k(g,f,e,c,b[m+15],10,-30611744),
c=k(c,g,f,e,b[m+6],15,-1560198380),e=k(e,c,g,f,b[m+13],21,1309151649),f=k(f,e,c,g,b[m+4],6,-145523070),g=k(g,f,e,c,b[m+11],10,-1120210379),c=k(c,g,f,e,b[m+2],15,718787259),e=k(e,c,g,f,b[m+9],21,-343485551),f=D(f,x),e=D(e,I),c=D(c,n),g=D(g,s),m+=16;return[f,e,c,g]};e=function(b,d,e,c,g,h){return D(f(D(D(d,b),D(c,h)),g),e)};h=function(b,d,f,c,g,h,l){return e(d&f|~d&c,b,d,g,h,l)};l=function(b,d,f,c,g,h,l){return e(d&c|f&~c,b,d,g,h,l)};q=function(b,d,f,c,g,h,l){return e(d^f^c,b,d,g,h,l)};k=function(b,
d,f,c,g,h,l){return e(f^(d|~c),b,d,g,h,l)};D=function(b,d){var f;f=(b&65535)+(d&65535);return(b>>16)+(d>>16)+(f>>16)<<16|f&65535};f=function(b,d){return b<<d|b>>>32-d};return _.memoize(function(b){return I(n(s(b)))})}();return c}();"undefined"!==typeof module&&null!==module&&(module.exports=jd);var Je,F=[].indexOf||function(c){for(var b=0,d=this.length;b<d;b++)if(b in this&&this[b]===c)return b;return-1};Je={luhn:function(c){var b,d,f,g,e,h,l,q;d=c.toString();f=0;c=!1;l=d.split("").reverse();d=0;
for(e=l.length;d<e;d++){b=l[d];b=parseInt(b)*(c?2:1);q=b.toString().split("");g=0;for(h=q.length;g<h;g++)b=q[g],f+=parseInt(b);c=!c}return 0===f%10},providerFromNumber:function(c){var b,d,f,g,e;b=c.toString();c=function(d){return parseInt(b.substring(0,d))};if(d=c(2),0<=F.call([51,52,53,54,55],d))return"MasterCard";if(4===c(1))return"Visa";if(34===(f=c(2))||37===f)return"American Express";if(65===c(2)||(g=c(3),0<=F.call([644,645,646,647,648,649],g))||6011===c(4)||622126<(e=c(6))&&622925>e)return"Discover"}};
"undefined"!==typeof module&&null!==module&&(module.exports=Je);lb={powerUpNames:{voting:"Voting",cardAging:"Card Aging",calendar:"Calendar"},cardAgingModes:{regular:"regular",pirate:"pirate"},calendarFeedEnabledVerbs:{"true":"enabled","false":"disabled"}};"undefined"!==typeof module&&null!==module&&(module.exports=lb);var Db;Db={100:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/f65f447b748c49a5c11361d46686b304/100.png",1234:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/27c4a96fa154f6d7fe005badf4da39d4/1234.png",
"+1":"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/a0a5d07f60da887f916b5540f7cc14d4/%2B1.png","-1":"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/9155e2acc3925a32e544021a4893ebef/-1.png","8ball":"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/2134b68e36afc98a06ba4cf75540a337/8ball.png",a:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/5d0405e9adbc2b7986ea686d2bd5827d/a.png",ab:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/b6dbd185b8dcaa1586fd49ba598dcf19/ab.png",abc:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/3b2083bc78851af8a4595b5505cd1a48/abc.png",
abcd:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/e3fa9e918aff67325c0f88390b33ddef/abcd.png",accept:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/7635d65e4e1f4dff30489cd119949407/accept.png",aerial_tramway:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/70760dfb407d2af49052b5ac0d5733ad/aerial_tramway.png",airplane:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/513615dfa059c3e1afc284d04748d75a/airplane.png",alarm_clock:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/ebfffc6f6b6707b5485fb97780a7b414/alarm_clock.png",
alien:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/f095de9b586d31a7b39e4693803ab55b/alien.png",ambulance:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/ca4868124267b4744ac220a84b3bfe5e/ambulance.png",anchor:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/f2be64fa3b41d6762418f03909489bff/anchor.png",angel:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/c6c5e2703f026c6eff0161f102c6b822/angel.png",anger:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/41bb5affb89f9252d1d4567ee3ff5e14/anger.png",
angry:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/a31dcd53dbf675d061cd4b9852bfb105/angry.png",anguished:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/db9e6186e95dac80d5a51490900cd813/anguished.png",ant:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/c3ede4848beb57ac9897bd5f87b4c981/ant.png",apple:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/7ff0f4ad7964033a1966636cc2168aff/apple.png",aquarius:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/d65e843c6ea33f97a3f4c6d8b5e7afad/aquarius.png",
aries:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/dbc8f8436f732f1a45eac3b8ced51f03/aries.png",arrow_backward:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/4895dce40fbcb582460345eb92da6577/arrow_backward.png",arrow_double_down:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/3323dfd40905fbc63a1b67103a3e5970/arrow_double_down.png",arrow_double_up:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/5cad5a6ff81608d7df7059a11c262bea/arrow_double_up.png",arrow_down:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/1f6cf1d57ed571effae25df20d6121d6/arrow_down.png",
arrow_down_small:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/817a34a371cbb6191baea750c4b0d23a/arrow_down_small.png",arrow_forward:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/9c06f993cbfc2d5c74eeee0c8a58d4a5/arrow_forward.png",arrow_heading_down:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/d16bd0975cc8ef50a3792a63a6eba308/arrow_heading_down.png",arrow_heading_up:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/415b637ddde8164a6a1290321c17da75/arrow_heading_up.png",arrow_left:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/970edb46f2ac979ec3ae817c0d59c5cc/arrow_left.png",
arrow_lower_left:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/c2b8892bbe774f360b3582b33e66dc0f/arrow_lower_left.png",arrow_lower_right:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/f3622ad9cfda99031538d4f853885d84/arrow_lower_right.png",arrow_right:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/aac8aa63620adf9e8eb8489f804f621f/arrow_right.png",arrow_right_hook:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/08f6c3234dfaa6867f3ca2b695cce688/arrow_right_hook.png",arrow_up:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/33d4b33d12abb058b0f37aca546c6247/arrow_up.png",
arrow_up_down:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/618782d4e35683708cd81da4a61dad11/arrow_up_down.png",arrow_up_small:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/7a80168de52c6e9e4d24721d9777a621/arrow_up_small.png",arrow_upper_left:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/f3b11dd90e83e1f434060db7f3cebda2/arrow_upper_left.png",arrow_upper_right:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/c4598dddacd6af5d0f9559b777ddaef3/arrow_upper_right.png",arrows_clockwise:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/782415cdd05f781df95f32438d7b5c35/arrows_clockwise.png",
arrows_counterclockwise:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/685335514e840b18be585d961e64f00a/arrows_counterclockwise.png",art:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/5d7730a4e6ac638412a51897a4352d30/art.png",articulated_lorry:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/c2517a23d5dfc6518378218334877f4c/articulated_lorry.png",astonished:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/ae65dd6706611d78533382bcab005037/astonished.png",athletic_shoe:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/36f024ff008ccbefda7ddffaf401aaed/athletic_shoe.png",
atm:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/53028816affc2803dea922c9b2038acb/atm.png",b:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/2629cd16fbbac832ed1fcc905fa10e40/b.png",baby:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/ae245c721d7db60310b0cc09e25e4962/baby.png",baby_bottle:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/b4be51a36913c6bb9294c4d22b476dd6/baby_bottle.png",baby_chick:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/d0ab4e589537ab00b98aa85bde6070b1/baby_chick.png",
baby_symbol:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/cc09ba45643a58b24f951f23054c43a8/baby_symbol.png",back:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/8d79972932f839571f1e2cad5ca2a8a5/back.png",baggage_claim:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/260f28422e44ab2af3383aee09d36759/baggage_claim.png",balloon:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/ad9cc73a83609752659638dc2b4a9c1d/balloon.png",ballot_box_with_check:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/c274eb079d03223789da5e14c986d4f9/ballot_box_with_check.png",
bamboo:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/3811c429564c04e0728c8a0f149fe140/bamboo.png",banana:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/5a96d729610eab1350a420d4dbd51f47/banana.png",bangbang:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/7acb7907006e24728f4d5af4ede60d2e/bangbang.png",bank:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/c2940c1118dca2daee17c635f3d2c395/bank.png",bar_chart:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/141185d56ded3e0381e8f5e9c695691e/bar_chart.png",
barber:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/3649eccef1edffbd66a6518b665a41b9/barber.png",baseball:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/5ae8159911acce8e1734bca36843dc13/baseball.png",basketball:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/6d9587095cdb75d766ae87a196194c67/basketball.png",bath:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/cfe863d3f3fbe7d70aa385ac11c5e499/bath.png",bathtub:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/c8dd639751bd74cae2b96b4d12ae87c6/bathtub.png",
battery:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/045a933fef69fbdc861a63eb239cebb9/battery.png",bear:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/4cac59632e8a729e84eeecfca7527e97/bear.png",bee:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/a6c6f8b940f42688743046634de7a85f/bee.png",beer:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/97564e2d91aee1c7078986f8502c9d61/beer.png",beers:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/7ca64d7c7a8cda6e33b5b8c52e2f48c1/beers.png",
beetle:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/604df6d4431397d9a5b816d5161dd3db/beetle.png",beginner:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/d47b8ed705bb89b6d7132e7f6228d465/beginner.png",bell:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/ec1800a348078bcf5bcedade18b22bff/bell.png",bento:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/0f026275236850b7d1db8e26055a06ec/bento.png",bicyclist:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/90ab8806c66df3b19472c9750456d27c/bicyclist.png",
bike:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/e27110732dc3f0feb62e1e38e5896146/bike.png",bikini:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/6daaca695f8b474deb1aaa5adb1d5863/bikini.png",bird:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/33802943d9dd72fada05a061cedfab63/bird.png",birthday:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/82b7253fa54d813b628a487b7a5946ee/birthday.png",black_circle:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/a05b4473b907df89d71390ffa09e0a5b/black_circle.png",
black_joker:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/cf9a197eb11b7bb718404d19a01cbeda/black_joker.png",black_large_square:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/ca3fd8c5e4852ffbbd215ed4e88cfe48/black_large_square.png",black_medium_small_square:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/841a440c565e5539d57f06cc2d245b4a/black_medium_small_square.png",black_medium_square:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/e821f72ec5816a81246491ac4501c236/black_medium_square.png",
black_nib:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/e03a3f291d3219f4f916cd08a16a06b4/black_nib.png",black_small_square:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/398859c1676c00eb126f038ee7008176/black_small_square.png",black_square_button:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/176be6ab8eae54ab2db9524adb76ae5b/black_square_button.png",blossom:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/34fe17fa9e128061362f9b2c34997a12/blossom.png",blowfish:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/048420e2651ef0874cf8588c20acd4d2/blowfish.png",
blue_book:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/74707f1e4d7581c732dbb5c6a53fbbc9/blue_book.png",blue_car:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/32715857a405b8e6a3dc206f9ac12bdf/blue_car.png",blue_heart:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/1e579d7bece1db6081416d5205a62474/blue_heart.png",blush:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/5b2cfd1772f827cf9fe052036b217c56/blush.png",boar:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/5838786ec7b7b2fcb54b2adf563afe0a/boar.png",
boat:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/c1c1c4dcaa77f509b36a3a170347c90c/boat.png",bomb:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/435963333346d6cf4011e4d4de7825bc/bomb.png",book:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/6561272c5be33e5e300e71e8e87ca634/book.png",bookmark:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/2a7a1cee2c2e9b117dfe33079b80b599/bookmark.png",bookmark_tabs:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/59b4ea688ffbca172d24a8e32e877764/bookmark_tabs.png",
books:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/d607a5044b2dd6c9a5360881efbd9870/books.png",boom:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/ddf586005f3efb385fba44b4cf3f5ecf/boom.png",boot:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/ffa15e8b3d6318b6e960d0f2ede0cb72/boot.png",bouquet:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/397e712e135bf9cd01f4ca4e8fbe2686/bouquet.png",bow:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/958f788ff97c7ce25a43758ba8879e96/bow.png",
bowling:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/3c4b641b87a7858fe05533b0cb4d997e/bowling.png",bowtie:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/73de09ce6675cadd59755fc9297f7c49/bowtie.png",boy:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/026d0e331ac06675ac08ca7e39504aa2/boy.png",bread:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/383b7d154f96fb76abc5dac273f807db/bread.png",bride_with_veil:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/ff57d51ad4cdb06dbd74f19e445dec3a/bride_with_veil.png",
bridge_at_night:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/ebe6fd47f403775923b6ceb54972befa/bridge_at_night.png",briefcase:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/3f797c75bb6d36ae87cd1253f91f331c/briefcase.png",broken_heart:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/0df631a3bd1141202f5f2f677c56adba/broken_heart.png",bug:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/4d1ce95a08e19f1c72e1ce3bc23023b1/bug.png",bulb:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/4956e92e137d7306f517583ab588be82/bulb.png",
bullettrain_front:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/bd01d91592d56c6475acfde8301e7196/bullettrain_front.png",bullettrain_side:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/9990dca7fb2548dafa221339361ed9be/bullettrain_side.png",bus:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/8bbaca73ae1d1f2601fc40872f5c2f6a/bus.png",busstop:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/775c2e2d813860e90786786dcf1dc7c5/busstop.png",bust_in_silhouette:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/046812f68be8c8e15e15e07dfc20bb5e/bust_in_silhouette.png",
busts_in_silhouette:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/823bca4a1d8446fc02b516d844f15b99/busts_in_silhouette.png",cactus:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/8f1a8aa7e80a85b9f862dbd7b69166d2/cactus.png",cake:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/5854edbfed9e4aad0348c9d05f040648/cake.png",calendar:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/126ce5c060840732c989979c63ed5b4c/calendar.png",calling:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/05d38f25e8de098d71badaac0d90e474/calling.png",
camel:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/13800b13aa272e06d742e0f0a0e4b116/camel.png",camera:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/53706742d28518821162817960cf6a80/camera.png",cancer:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/81f91c28b72082a2ed24b3c4446210b1/cancer.png",candy:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/da956b278978a716822152cbb069b727/candy.png",capital_abcd:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/79030dbcc2f40414b005023b6a3fc0d6/capital_abcd.png",
capricorn:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/ddb5c888a789b257ae043d658c434683/capricorn.png",car:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/abf1ef7270298b7e4faa51585b584e4f/car.png",card_index:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/50fbce751e0a5c5509b8b0601b6b1672/card_index.png",carousel_horse:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/e54c22c9ebf5713cc3f76fe5f4a95e52/carousel_horse.png",cat:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/b2ebe9876a60d236f74e40c0d0c437dd/cat.png",
cat2:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/1a554677df4b067a1dad860a788b7997/cat2.png",cd:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/404a244b5ef4676baaaf9dd58b4c2a05/cd.png",chart:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/b9ef3ef8c6e52f683f08f07c2e2b29f4/chart.png",chart_with_downwards_trend:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/ffc0498b51d6cbc9b0f3d2393b9fd3c9/chart_with_downwards_trend.png",chart_with_upwards_trend:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/b2db9c7e04da9028dbf2ed04b7c4895d/chart_with_upwards_trend.png",
checkered_flag:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/5b0272076cb1bca9d89728132c35326c/checkered_flag.png",cherries:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/eee1d6ba5624741ba3d87711f2040025/cherries.png",cherry_blossom:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/e881179fbb3f810db386263b6780a417/cherry_blossom.png",chestnut:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/9bf1cca63f07d7aed4315f0dd389aad9/chestnut.png",chicken:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/ce9c66ca8d427412639a26aeba3295ce/chicken.png",
children_crossing:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/336d27ad6e975b47aa0ba6c3f6ed3373/children_crossing.png",chocolate_bar:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/9e645f96a5c19091407ceaa27e00c3d9/chocolate_bar.png",christmas_tree:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/8ea555974a24e4eb4d03eb50aafa3fce/christmas_tree.png",church:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/88e45a879eeaf285d1e200ea91940dfc/church.png",cinema:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/4ca7678e60458476dba410085b446687/cinema.png",
circus_tent:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/4de404d51d4cd64fcdc8799955a7a68f/circus_tent.png",city_sunrise:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/825eac0574320ec85dbca9277a7398f3/city_sunrise.png",city_sunset:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/6954a73653866780cdd646ee59826f64/city_sunset.png",cl:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/efb8a21b2574383c3528c5b21f9ec807/cl.png",clap:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/f342a9b46d2ca0d96910452dc1e41291/clap.png",
clapper:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/e00bbd737549d1d4dbd775bf719465eb/clapper.png",clipboard:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/53cec595ea2b473936cd1a24b30844cd/clipboard.png",clock1:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/882daa0961d027f5647f01af5ece88b4/clock1.png",clock10:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/b8e179ff2facab085c56e3851545e962/clock10.png",clock1030:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/278aacf0a0afb23ff3de325f6b334f44/clock1030.png",
clock11:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/70ca65cbbe3c0c11a78182b48af0a6f7/clock11.png",clock1130:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/204db35096fb2abbfd60fafb6afc5364/clock1130.png",clock12:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/6a89764b0a9df58e3a441abe234494a8/clock12.png",clock1230:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/272c0b90efdcf0d8dc3c5e0c505a669b/clock1230.png",clock130:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/32283ffcad745398e4b0340f612c17d0/clock130.png",
clock2:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/5b88e0e539e7655f78456b39368a6d41/clock2.png",clock230:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/fcf50a6152560afa3a86b075e692a884/clock230.png",clock3:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/932ebeec5f924e2af9931afeda9e6193/clock3.png",clock330:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/7a33814d8ee52c9cab018ec1ff40a4a3/clock330.png",clock4:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/6a666c2f9b19e0231c7215add0181937/clock4.png",
clock430:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/f8236e3c52e8ca50a1109f931f46b6b7/clock430.png",clock5:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/102b4a2a58cdeaca12d04c0bf3cac376/clock5.png",clock530:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/8918b8ab2093c0adb3e2c7c7857124b7/clock530.png",clock6:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/620b5d603eb3022245f502d7ee3f5ee2/clock6.png",clock630:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/789389003fa4763cb89a47e6066364a7/clock630.png",
clock7:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/5c5032d8bb9aefc097c02e0e27ba1539/clock7.png",clock730:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/8a2d8833a8ec29eeba369d95cf3ba543/clock730.png",clock8:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/a7a708c4e98b7e3fb17782e9d2efaed2/clock8.png",clock830:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/19cb7852c06c21ff44eed74663813c6b/clock830.png",clock9:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/7e4a201f0deb352b815881fd3dacad46/clock9.png",
clock930:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/65eabdccef310d3e364a6b1ca518978d/clock930.png",closed_book:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/aa33e361d68e9a87c22bede82e7acde0/closed_book.png",closed_lock_with_key:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/ff3b3f7d7cc9b04edc4f9ebcc5943510/closed_lock_with_key.png",closed_umbrella:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/350ad377b4d5f8dfee65b1b17c867b5e/closed_umbrella.png",cloud:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/ea4bc0ec71175efd1adb964d0f0eee62/cloud.png",
clubs:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/5d095eee11154d4854afdae13fc08a21/clubs.png",cn:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/aeb25fda6ec7a7808f579cb9a0686df2/cn.png",cocktail:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/c6a9668b74f9ccd61e38372c80331cc3/cocktail.png",coffee:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/06d4e6dde787543889ca7e1d56b4b3f9/coffee.png",cold_sweat:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/2f8e5a29bd79abcbf50716ad042c3789/cold_sweat.png",
collision:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/ddf586005f3efb385fba44b4cf3f5ecf/collision.png",computer:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/73f6916b80552a9097ae888aaa6d4d8c/computer.png",confetti_ball:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/95e4252669cec7287354aa724e078232/confetti_ball.png",confounded:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/5ca7ecb902509845a629b3a0615bdf2d/confounded.png",confused:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/6f7200921e0c36c8b57bce7f3a676755/confused.png",
congratulations:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/7d2be25699dec42913058d5a84a82885/congratulations.png",construction:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/7f749f79f760b06c42217d22f8dfe11c/construction.png",construction_worker:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/761ea847a6d7315b2835474ccbee8c6d/construction_worker.png",convenience_store:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/8ee9dd3caa0c06aa1fefea40febceb38/convenience_store.png",cookie:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/4c2450f40a6cb7f786d9ddc8862ca83b/cookie.png",
cool:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/2827c50fae225439ff6ac51b1bf0a632/cool.png",cop:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/a8e2b51d2610a2855586960c0f231217/cop.png",copyright:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/fbe3b4b1d8d3efbcb0a9557ee693e348/copyright.png",corn:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/e4e4b373ecd30b2235ee472ea9bbea06/corn.png",couple:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/3b65de8238a0fb2476f4c04cc86efda9/couple.png",
couple_with_heart:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/168c8e4217f747c6a0a193d66d918814/couple_with_heart.png",couplekiss:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/9e0dcb6791032bf0557f547bdb21a124/couplekiss.png",cow:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/d03207d5c7511efa4eb98479fbfd0be3/cow.png",cow2:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/d8cc045dea278f2683c9ef6b280096bc/cow2.png",credit_card:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/b6b6e9e0a208b6817dc39352392fe238/credit_card.png",
crescent_moon:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/49d88f3cfd07a0ae7165a1fddfc82ab1/crescent_moon.png",crocodile:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/fb903ea20a7aa4ebe688533adba2df2c/crocodile.png",crossed_flags:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/4439c680ceee55e77d8a0dfdf27e18de/crossed_flags.png",crown:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/0fd502ff4ca02a7934abb3947343c01d/crown.png",cry:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/50b0d14555ae34b2589bac53f0961736/cry.png",
crying_cat_face:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/84d8a8dbf5a88fdb4176deaa394b90cc/crying_cat_face.png",crystal_ball:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/99ea5d015548be3c0b2c5d7a4dd7fe48/crystal_ball.png",cupid:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/81615531eae0568a9fcbdd28cf4f3603/cupid.png",curly_loop:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/368b97171bdc7f20894a37cea0de5858/curly_loop.png",currency_exchange:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/e70fa67a563b9809747038832719707b/currency_exchange.png",
curry:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/5f58d7055cca67b52e3a6a062c8585e2/curry.png",custard:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/92c388864c6b043df093e554271c257c/custard.png",customs:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/fe7ace16f33e07ae83e8e0861c53b71c/customs.png",cyclone:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/24dc815c9286f1e64808da2eb7662e5b/cyclone.png",dancer:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/d6000eabf08d50191b110ecd1bb7555e/dancer.png",
dancers:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/45190bfcdc3a46fcef007ccb353e4699/dancers.png",dango:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/90f46f7317db550ec18b349caf0791a8/dango.png",dart:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/23775f9b6e2c85c19354758824c563dd/dart.png",dash:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/69da06f1eafe70f7d21ca25e9c789c84/dash.png",date:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/cb5d858c0ea28f4f5cfc2e125d72830e/date.png",
de:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/fd6b1db4c5c636b0db109f6078896aec/de.png",deciduous_tree:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/6cfb9c3655b657f6b5a3299d9709a561/deciduous_tree.png",department_store:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/0f36f9fdd0b33cad6e7f2e8811b5c09c/department_store.png",diamond_shape_with_a_dot_inside:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/c0243db9d3d5558faa351bbd2617f8c7/diamond_shape_with_a_dot_inside.png",diamonds:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/62f886cd7ab0be6b5878277a7f000ebf/diamonds.png",
disappointed:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/4145de5ddf63f745d4608e9dbf5485f3/disappointed.png",disappointed_relieved:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/a7b1dae660fd732c0b74740551a457e8/disappointed_relieved.png",dizzy:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/919453cbe211895258cf14a9401fd02d/dizzy.png",dizzy_face:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/4b7a43b87b92f14f0dc7d6de6d609141/dizzy_face.png",do_not_litter:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/4d32cd9a84403711040758a1863b51fa/do_not_litter.png",
dog:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/7e4b2365f2611866c041969f8f0a0aa3/dog.png",dog2:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/0826ceb6b5d734768aacca88b6b61322/dog2.png",dollar:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/16ffaa41863419b583f6758aac236cf9/dollar.png",dolls:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/f0474864d3917c86f682ba1b10a3b9a4/dolls.png",dolphin:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/e2681094bda06307b66364a4daff006f/dolphin.png",
door:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/c2712508b20cd87e4f7e4937c8b96b76/door.png",doughnut:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/a282bf5cba01abf01f0dc9a266a55891/doughnut.png",dragon:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/0d123d0ba37d50c824a4ca6340833680/dragon.png",dragon_face:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/4b40408361ab7ad90ceac2ee7a590a71/dragon_face.png",dress:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/178d46b4a471314bb8d2078f022c297f/dress.png",
dromedary_camel:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/fae304ce06580c780c58ef6efaf7f9b1/dromedary_camel.png",droplet:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/3f1f9931b25e05ad3599f681334000d1/droplet.png",dvd:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/b451d5693f2bc61fe69b0ab3c6b68ced/dvd.png","e-mail":"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/fba7b6ecc5456013513ed1474bee9b90/e-mail.png",ear:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/17f8979cf99e502c164140be9056211f/ear.png",
ear_of_rice:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/12a11a324fc8ef0ea903013af13394c3/ear_of_rice.png",earth_africa:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/131d46af66224436762df67f7a799e3c/earth_africa.png",earth_americas:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/c710661fa6000ba3ffdbe42f70219063/earth_americas.png",earth_asia:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/a6d220eb13015f762054d243f06e75a3/earth_asia.png",egg:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/bbcc80f6035892002a94f7dff30cea61/egg.png",
eggplant:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/c6743d7582b47d54cb672fc68cfb725d/eggplant.png",eight:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/d01706294ea77a538496376c9429c77b/eight.png",eight_pointed_black_star:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/7bc21d67acd4b44d248ae89283bf87e8/eight_pointed_black_star.png",eight_spoked_asterisk:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/97ec7f4a6266aff7b7f07e4bca7f1358/eight_spoked_asterisk.png",electric_plug:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/0ffacdb29ec38cfc327ec6f784d77443/electric_plug.png",
elephant:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/75d89b44a9d974425369472ee00414ad/elephant.png",email:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/1fabc149ec15ded868eb7d32d9d10daa/email.png",end:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/5793390e4de633d7baec09fc6cbfa7b3/end.png",envelope:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/1fabc149ec15ded868eb7d32d9d10daa/envelope.png",envelope_with_arrow:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/e2b6bc654f1d5170735fd7fa5de02d8b/envelope_with_arrow.png",
es:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/9e8a8d6bc5e64afbdb9839e58454f6b8/es.png",euro:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/96ee1235d3a4339cac0d9a515a5d0ccb/euro.png",european_castle:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/608b39899571685e3c95dd071f4e8e2a/european_castle.png",european_post_office:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/70c6c39af8cc1df2f0a4438401688c6f/european_post_office.png",evergreen_tree:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/d6abc94c9825ae86175b09c4d005d056/evergreen_tree.png",
exclamation:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/56399206fd046f4499d820e1bed93f43/exclamation.png",expressionless:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/b5484b7b019c8d96bd0cd59fd027102a/expressionless.png",eyeglasses:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/caffd40ac5e0dd54145128c212772a27/eyeglasses.png",eyes:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/eb697aad09b733789a819b908acfbae6/eyes.png",facepalm:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/2288768c1bed245ca6801c6cdf6fe029/facepalm.png",
facepunch:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/0902dded44c402bd7707bcd447dbe33c/facepunch.png",factory:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/f55dfda77c13bd3a7ed49a4a5e7945ec/factory.png",fallen_leaf:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/95358eb5cfc87a496db7848bafa88740/fallen_leaf.png",family:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/d95fc7aa21ebc573c11a85c3881d3927/family.png",fast_forward:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/3bc55373d7e7d053e0c0fc37116c3e6b/fast_forward.png",
fax:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/65afa262a89b88935ae2182bab928fd5/fax.png",fearful:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/3b8b18c0108ef96ba9f8b9cf230b4224/fearful.png",feelsgood:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/4fab33ad41d47ca1e4104662adba4a96/feelsgood.png",feet:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/a8fda9184043373f1891bdc8bfff8919/feet.png",ferris_wheel:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/94232f8c9ed9e17408e19d641fc2f23e/ferris_wheel.png",
file_folder:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/3e6fbd09769b2718dec27d89d3c42767/file_folder.png",finnadie:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/a06963383cf98607925b04ac460867c3/finnadie.png",fire:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/ed6d1412dd1363f8e943dc274baa80e9/fire.png",fire_engine:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/51e5132bd36d91c9c0b12c7e6fdc3738/fire_engine.png",fireworks:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/dfe615f29d76e6c294faf0e90037d2d0/fireworks.png",
first_quarter_moon:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/fa4cec74535c853115923bf73f7284a0/first_quarter_moon.png",first_quarter_moon_with_face:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/49fd3137f67a10767a3ababfc1377bdb/first_quarter_moon_with_face.png",fish:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/217da876c1f56ddaf68dd7872fd5d52d/fish.png",fish_cake:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/59ecf24c2d47f9d0477f5db83602e142/fish_cake.png",fishing_pole_and_fish:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/3e4752beaec776965bad466532d44f1c/fishing_pole_and_fish.png",
fist:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/e43314959a71c5371221a0941776f382/fist.png",five:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/1ac6e38d32f78a82bbe66c28a1e12171/five.png",flags:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/26007c146603038de9dc2bffe4c184aa/flags.png",flashlight:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/4674188219042dcd733b7a7e6612da14/flashlight.png",flipper:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/e2681094bda06307b66364a4daff006f/flipper.png",
floppy_disk:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/ea0837ae63ec0ad4a04d350020da5496/floppy_disk.png",flower_playing_cards:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/dca4585185d51c3d3793cffe35d785d1/flower_playing_cards.png",flushed:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/a592c4f95188fbcc4e785ca0847fe2b0/flushed.png",foggy:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/0e0f07212b04fa6d115ea989bf7d0c96/foggy.png",football:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/2d58ac46fb26501cd23262c2a7ea014c/football.png",
footprints:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/f10532514820e5bc2a7809a41594eb3e/footprints.png",fork_and_knife:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/2dc66dcde7d4b6a1d2556d0facf4eb8b/fork_and_knife.png",fountain:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/d455da22e5c3ef3180f9b0d41fe1cdd2/fountain.png",four:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/aac6493750398c1169b9343c6902f2cc/four.png",four_leaf_clover:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/40d3669cc88281aaf23e4bff8f31d51f/four_leaf_clover.png",
fr:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/2c80adb041ec39143c3098f053868d8f/fr.png",free:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/b54e770c12c83060703037f621cfe17b/free.png",fried_shrimp:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/9c6a592d04832f5139cf8aa6de597736/fried_shrimp.png",fries:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/08ab69eb404574615f3bb9569d496ca3/fries.png",frog:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/d3b3f0dc3416f8f5f4a4e5b4d742c687/frog.png",
frowning:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/d2e23f78eef57f6683f5e3e4c0e16343/frowning.png",fu:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/cac361a2a3da22d4bea4f192ca0ab151/fu.png",fuelpump:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/ad90f27571ec9a002efb795b1c21bdea/fuelpump.png",full_moon:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/dacc780014fc85556767221e2112bbc7/full_moon.png",full_moon_with_face:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/5ac3188cf68489fb38e6d8e9ce256da7/full_moon_with_face.png",
game_die:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/5e420fdbf01d1db3f1cd4f4f01ea6a15/game_die.png",gb:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/085a66819b0bbc0133620b7b8688da1d/gb.png",gem:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/3c47cd174e9ee92020168ccfb17d6d59/gem.png",gemini:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/6563bbc6da452d335ede6f1e3de063d0/gemini.png",ghost:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/01d789f3fe24b5c9c6a67a116fc516db/ghost.png",
gift:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/6a7f536b329eeb9c60d9238a3ab9595d/gift.png",gift_heart:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/e459178df0ca62152725273abf19bdfd/gift_heart.png",girl:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/465c49417b71ccae1d41fad2cdcb1bd1/girl.png",globe_with_meridians:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/e659ff5ef8a530d4c1a25f949f8d1b9b/globe_with_meridians.png",goat:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/6a6d61612c7a7f1370e37b4f65f443f6/goat.png",
goberserk:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/7eb1342916d725e1c970f0c3521a687e/goberserk.png",godmode:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/349eb939241a6514e49c8cef3d2cb03b/godmode.png",golf:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/ec72de4b5a8e13b5e5af372d4e4e6f7d/golf.png",grapes:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/2d68ac5f4c47083f592809b231b17bd7/grapes.png",green_apple:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/06b8a11f08563454f2f4cae1e4e67f28/green_apple.png",
green_book:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/c36f6132347c57ac36fa49d5f12aab05/green_book.png",green_heart:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/9a0ed337039fcf450ae95739a2fe3e18/green_heart.png",grey_exclamation:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/72629bcca32cd65180aa8f0d27841969/grey_exclamation.png",grey_question:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/c06c1d0b519b96c541c23335c9f088c4/grey_question.png",grimacing:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/ebe859c119c9e383559bb5fb441f0687/grimacing.png",
grin:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/c15d783a8ecbd12cb276a85e54002bc6/grin.png",grinning:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/dafb0c0c3345e8da60e93973c353ea12/grinning.png",guardsman:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/d071c494323aed0ffb5edee581408590/guardsman.png",guitar:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/1743c39f2a1c335faf174bc6294b3a4b/guitar.png",gun:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/48545d1c648f1e835afd46a9a75ef877/gun.png",
haircut:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/40023b2c6af14da6f35801037094b680/haircut.png",hamburger:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/36d446caf9e1bb7738ac994665caa9d6/hamburger.png",hammer:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/9494abc1928a405a7f91500dce41560e/hammer.png",hamster:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/086e2141c22bb6657325e41151c31879/hamster.png",hand:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/cb59e7620a3028058a5ed6c51d1890fa/hand.png",
handbag:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/3a915be880b3e31d99b090fd905b9251/handbag.png",hankey:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/62d03c1e2d8608f29540b097b7cf1ab1/hankey.png",hash:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/75c61a8abc5e41eb9b5d8c34b174425f/hash.png",hatched_chick:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/18dd00d94aaad388a43e209e69d2a136/hatched_chick.png",hatching_chick:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/8aa993affa31b0c6788ef7b322895d1d/hatching_chick.png",
headphones:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/6349aaddf8a1d0b1f2b963a740022ef4/headphones.png",hear_no_evil:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/b9099bbabde151e8d1979e57c51e521c/hear_no_evil.png",heart:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/cd1d2bed2bd302bca7fd6d2c61a8c1c9/heart.png",heart_decoration:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/a7da588b4ef5e3084670c5aa9e5d9715/heart_decoration.png",heart_eyes:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/e6f06b33a6dd19ea5eff73b94456a9ac/heart_eyes.png",
heart_eyes_cat:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/18e218a3ccf076c35b446149946a6e62/heart_eyes_cat.png",heartbeat:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/21b870f4b04731d17732b16a323bcdeb/heartbeat.png",heartpulse:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/b8149aecdddda64c6129e3b58d9dda3f/heartpulse.png",hearts:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/017db558db824576d0de1de798d9998f/hearts.png",heavy_check_mark:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/a01e0f7d345acc3abd919d51db30104c/heavy_check_mark.png",
heavy_division_sign:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/c74e2ce77d25af618a6b96c90041fe48/heavy_division_sign.png",heavy_dollar_sign:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/9efb3dd47af22cfb9fcd7115a8393c50/heavy_dollar_sign.png",heavy_exclamation_mark:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/56399206fd046f4499d820e1bed93f43/heavy_exclamation_mark.png",heavy_minus_sign:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/af4eb6738ce85d3ea39c241fec531573/heavy_minus_sign.png",
heavy_multiplication_x:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/0ea18860059daa65721dd9cae3e48a7f/heavy_multiplication_x.png",heavy_plus_sign:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/8cbea532738b413d46013c55090c0185/heavy_plus_sign.png",helicopter:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/d6092527a7653ed25389077c5dc9eb3b/helicopter.png",herb:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/b7807160c3409a46346d9dc8ffbdcc46/herb.png",hibiscus:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/9e8c93b5644b65f050be2648177af4e5/hibiscus.png",
high_brightness:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/06dab0a332d9d4b7e838b2ada7d0bca4/high_brightness.png",high_heel:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/339854302caba793574eeefa675fac6d/high_heel.png",hocho:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/39da9e0c736f3c0e9c1881b5f22cb657/hocho.png",honey_pot:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/c0cf25d01c5573c3c273852bf4746732/honey_pot.png",honeybee:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/a6c6f8b940f42688743046634de7a85f/honeybee.png",
horse:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/4c7a2b0d09f7d488a0a7387537d6ce31/horse.png",horse_racing:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/778b4b19d5daef7f307f1187c36b5339/horse_racing.png",hospital:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/28c0bf64a3f77113803e6fc599d65a89/hospital.png",hotel:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/f0960a574518f14ac547696c26b4198f/hotel.png",hotsprings:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/7082c89dfc0e26b9e1b8954e7061e114/hotsprings.png",
hourglass:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/46d4b9d4790023470d33e1ed44f9e79a/hourglass.png",hourglass_flowing_sand:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/a2476f6ddb1b611309a0273e62468638/hourglass_flowing_sand.png",house:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/13e39bb5bc594a5aeb3d692517e7e28a/house.png",house_with_garden:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/b419ea4a988ec696481380ead96e0994/house_with_garden.png",hurtrealbad:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/3a9763040f4d724ecbd596db875b5ec7/hurtrealbad.png",
hushed:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/a9f825f3b828a6e1bcd133cff7e292ec/hushed.png",ice_cream:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/0eaffdfd183f2fc5da2eeea9361d0090/ice_cream.png",icecream:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/9f43da7088e343f857fecdd7b1f3c288/icecream.png",id:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/a5d7678912379dec7a0692bd616266ab/id.png",ideograph_advantage:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/5b36fdb07b35abe6d2277f50fad40d3a/ideograph_advantage.png",
imp:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/aa80e7bfc8da6a05f2e321aea6c31f70/imp.png",inbox_tray:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/156701c7ff5b68ff82e4146d00d24b48/inbox_tray.png",incoming_envelope:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/a70057747af68fbb6342c9b4b8d007ce/incoming_envelope.png",information_desk_person:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/f63fade86e02ed609af315d2dedf4b32/information_desk_person.png",information_source:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/60509a206d963ee971cded6331f56cc5/information_source.png",
innocent:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/b9607bffbadcba3ecd752edee529d313/innocent.png",interrobang:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/e829a530301e217e92835bcd94e688c0/interrobang.png",iphone:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/0fdf60a9c7442152b745a1dd50476a0a/iphone.png",it:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/f9e55f1296649f6ee155349ffcfca32d/it.png",izakaya_lantern:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/b44fed7fe34b70be7f70649a002bbd0c/izakaya_lantern.png",
jack_o_lantern:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/47e5081c9f4b79087a9e0c1fbfb68a78/jack_o_lantern.png",japan:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/8916ca263393ed4ab6f39f28c2e86cfd/japan.png",japanese_castle:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/41653c7ccb48b2a0d330aa4931ce752f/japanese_castle.png",japanese_goblin:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/702e368ae4dc45326bbc396a709c74ea/japanese_goblin.png",japanese_ogre:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/089910184703190781a1c80515c37f93/japanese_ogre.png",
jeans:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/8b5313bcb8724428fe77d373d7cb765c/jeans.png",joy:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/636a452085e2c332a4c71911e6a85c8f/joy.png",joy_cat:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/488a8a3a2aad5c2b72d155c0257497ae/joy_cat.png",jp:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/7729a2e82da52292549ccd653555a7d2/jp.png",key:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/e1fa3fe5469224bbd122ada8a28a8ce7/key.png",keycap_ten:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/73d4356aeaf44638d50054e33da200a4/keycap_ten.png",
kimono:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/11d856c22b4c8510d6d38d0096c0ab88/kimono.png",kiss:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/4d4222bcfdc05251c9286407c4fc7940/kiss.png",kissing:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/acf2ff3b8da32c02f20c4d6af0623995/kissing.png",kissing_cat:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/2f68401a7d27bb033c65e440649d6656/kissing_cat.png",kissing_closed_eyes:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/649cbca78ac5d84807b7c542179fe2c8/kissing_closed_eyes.png",
kissing_heart:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/8b694693575c6f8ab2f5f26a73493d28/kissing_heart.png",kissing_smiling_eyes:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/ea98be72feacb0bbc4bf2f95060187ea/kissing_smiling_eyes.png",koala:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/3b4cba0d6c71d792a5b74c57548205fd/koala.png",koko:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/5eae4c99b86771bcfb0f5f9e9206ffba/koko.png",kr:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/c034218c74762c36ada955b885b47d38/kr.png",
lantern:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/b44fed7fe34b70be7f70649a002bbd0c/lantern.png",large_blue_circle:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/72c7834e2bd3209314296621113ffc73/large_blue_circle.png",large_blue_diamond:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/655cc16a2c4901ce7b5647b79d8b93b3/large_blue_diamond.png",large_orange_diamond:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/aaa43e423d6092941d25d9b1d76b253e/large_orange_diamond.png",last_quarter_moon:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/4296435a74885d8582214998f3080853/last_quarter_moon.png",
last_quarter_moon_with_face:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/f2f8a0faae72959046a99b59bc2d5677/last_quarter_moon_with_face.png",laughing:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/f5f1d1dc4c1737305d7089d46dd996bf/laughing.png",leaves:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/cefbf86a652c6fbe7634bebc9198beb3/leaves.png",ledger:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/0f801705318a9a96df30ec7f45b4eb7d/ledger.png",left_luggage:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/086274676f1a061d29eee36c9927590f/left_luggage.png",
left_right_arrow:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/adad9c8fe7641f36ead88a19f9050b41/left_right_arrow.png",leftwards_arrow_with_hook:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/8e99f8a048788b0ceeb6fae5c0b0547a/leftwards_arrow_with_hook.png",lemon:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/c37f06948ca7cf986810616ac5b2c0e4/lemon.png",leo:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/54aca40c97d642279d2faf5f1455aa42/leo.png",leopard:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/addce2e8d62e7f3eab9246555fc7e785/leopard.png",
libra:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/91b2bce4c73a7588dd26999853f2266f/libra.png",light_rail:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/04ce285024390d3d106af5eb7ca8d95f/light_rail.png",link:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/7a4f4c929a2e52c6886d33d9e4a24f2d/link.png",lips:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/b3b04b940fd2d69178d2fef1d385d485/lips.png",lipstick:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/76e7e9726e472f415e10da211ee1c1a1/lipstick.png",
lock:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/cebb6a4d3266954c9590a9b6da12fd25/lock.png",lock_with_ink_pen:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/b2b3fc83d455eda3effb2869470e92b8/lock_with_ink_pen.png",lollipop:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/1e0a1f81b3786f6fb9aaf7dc794367e5/lollipop.png",loop:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/79848c1d1b6267d36be821a0d640facb/loop.png",loudspeaker:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/16b66988ccb6b0f087686b9b39404336/loudspeaker.png",
love_hotel:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/0ec7826bd541fef623438512197b080c/love_hotel.png",love_letter:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/6a06d6209cacfc0be2296cd2a3849082/love_letter.png",low_brightness:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/1c59fc780f17cef0158a99dfdb143e4a/low_brightness.png",m:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/c1cecf01098bccfbf72061dbb3aac7eb/m.png",mag:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/e8e3fb2f552f35238b2c123cc315637f/mag.png",
mag_right:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/54c6493e4ad20cd1f1b30ed3bdebcb67/mag_right.png",mahjong:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/3340fc9be1bbfae133700ec7ff9012db/mahjong.png",mailbox:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/a31a438a7add9390d9fdaa6f282a6121/mailbox.png",mailbox_closed:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/ae370d245fb136322a5b7e688b4c8a82/mailbox_closed.png",mailbox_with_mail:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/12adf52a9ba0fa79f8a502565ab9f1b3/mailbox_with_mail.png",
mailbox_with_no_mail:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/6bf04d14cdd4a67c3361403d6936d2cd/mailbox_with_no_mail.png",man:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/1577b06c8e417060cda41b778cbde84e/man.png",man_with_gua_pi_mao:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/5ea246d8336a7860252e1d04da923c8c/man_with_gua_pi_mao.png",man_with_turban:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/824acad4c2bb299ec7f42a03d6989f7a/man_with_turban.png",mans_shoe:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/d5161dfe10dd32fcdaeb81a14cad6697/mans_shoe.png",
maple_leaf:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/90e99ec31f7aa5e298962dac4c6b6a32/maple_leaf.png",mask:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/cae71f039823518cfce8686dad8cc17e/mask.png",massage:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/24cae3ab3cd299e47205ae57e2aea6c3/massage.png",meat_on_bone:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/70d83288d413d9d3eb861a00de114a5a/meat_on_bone.png",mega:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/da36aeb77941f1c8cb98a4332ab732d7/mega.png",
melon:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/5e6bef7c2a5205af4a2ea06bfefadb1d/melon.png",memo:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/f6cfa3a3462ba1190ed39229b86a1a10/memo.png",mens:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/5d0d61c1bdab0af397f29508e6c9a3fe/mens.png",metal:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/19a06afa1c2bf8f82f6f3b25ccfb6545/metal.png",metro:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/cbdcc310fb83a886bb71e7dde93c6c0c/metro.png",
microphone:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/ee594eb27e0618d93f970a4135565aa5/microphone.png",microscope:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/331c2818c8bce4bfd81ea1ce86ef3f04/microscope.png",milky_way:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/e7a4ab2eda7760b45bd7aedb277b96e3/milky_way.png",minibus:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/25eb106c8b48f87149f7c9e9651d7fa4/minibus.png",minidisc:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/67d1609432bed2a9ae967d73c3cdef70/minidisc.png",
mobile_phone_off:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/7456a8db603180bbe6189e8034bd88e7/mobile_phone_off.png",money_with_wings:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/ae262ef34240d2944b2cd741d29a4a3e/money_with_wings.png",moneybag:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/9efcc0c67a26df55b14eb6e3f3d05bcf/moneybag.png",monkey:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/a706cb475889c4f45e51c63c79127d07/monkey.png",monkey_face:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/1b4df9455e64e7be3c051c3e044c4819/monkey_face.png",
monorail:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/37c4f4b4b635839dec0ea6b7c2f057a0/monorail.png",moon:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/c1c65fc03c3c8cb9a54b16ec2a408e4e/moon.png",mortar_board:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/f9ee64820c57ac5555525a11d1e92117/mortar_board.png",mount_fuji:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/041fc11a3612d68a8eaeb3d0fa5a9713/mount_fuji.png",mountain_bicyclist:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/21a249d3f9414bad776bf5070b5e8621/mountain_bicyclist.png",
mountain_cableway:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/d93e6a284c0b4b140ab2c83a913a0af4/mountain_cableway.png",mountain_railway:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/d21f8250957890156e5f60e75252fb31/mountain_railway.png",mouse:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/c0de488a582a0a97f64e155a8c65de18/mouse.png",mouse2:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/c927300435aa070e3fddd65e4974a6e1/mouse2.png",movie_camera:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/ebccb1d2c6dc92bd3a51da8eae9fd354/movie_camera.png",
moyai:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/43b67438400b69f3a9beed6121c22688/moyai.png",muscle:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/7187e328aab3950edb42439d40328607/muscle.png",mushroom:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/a59c3afc18365c6fa6a0f54e8fb5554d/mushroom.png",music:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/361f0f4a517fc60e63bb22b9ea76b0b2/music.jpg",musical_keyboard:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/3aee034296f32ec83c2bd1c20fc00e6d/musical_keyboard.png",
musical_note:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/71bc5277028326ed7755b5c94dd7b888/musical_note.png",musical_score:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/b35bd7ef3f4a6068656639824cd1fe4e/musical_score.png",mute:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/4ffdbb077fd861e1fa62782b6d2c72d2/mute.png",nail_care:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/35f7cf66f35a659c5428be8ade972986/nail_care.png",name_badge:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/25aa610337041e819f07d4d542976f11/name_badge.png",
neckbeard:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/518e18ca0e08f31f8052a131642f3205/neckbeard.png",necktie:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/4d08459a90e6cf7e02b3f1b99c98ae3e/necktie.png",negative_squared_cross_mark:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/e60fb1507239236215739a1a76ad44a0/negative_squared_cross_mark.png",neutral_face:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/fc2ed49a98346a5dbbc6869435eabb7a/neutral_face.png","new":"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/d95933a8bd68f0805aed8aecc0159e7b/new.png",
new_moon:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/9b85eeb013d04d1e939d17ac007d0a20/new_moon.png",new_moon_with_face:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/4975ad970c876ee3d1036693237235d6/new_moon_with_face.png",newspaper:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/5e0ceab7b2f18a18b7d26ba5d8c200f0/newspaper.png",ng:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/6c58dd8212db140eb21510cd0849db77/ng.png",nine:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/df004afc8313840dc25c313785f4b118/nine.png",
no_bell:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/38c2d31067ddb724760775b50938aef3/no_bell.png",no_bicycles:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/a1f2222d0575aa1bc0dd553825e4f21d/no_bicycles.png",no_entry:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/e631b022ac357962d30a670f3b6456d6/no_entry.png",no_entry_sign:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/89ff918256b6b1716a47d71bf68c33cb/no_entry_sign.png",no_good:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/6562b71960c6c0404ad5a559c7eef3dc/no_good.png",
no_mobile_phones:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/61a340d367e756ff8ba919fca9d3f095/no_mobile_phones.png",no_mouth:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/7c85e801f438e3f43214b94ead1ba67c/no_mouth.png",no_pedestrians:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/89f0375ae34ef8572f47a1e8daaad6af/no_pedestrians.png",no_smoking:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/e22ff4bcc817f10f8b8d9190ef17f2d0/no_smoking.png","non-potable_water":"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/41f9e3518129dfdc82cd0234bed9d8ac/non-potable_water.png",
nose:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/5b882e710946c61069bc3d4b378690d5/nose.png",notebook:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/9ecc79ee62d1828463f809befc04a719/notebook.png",notebook_with_decorative_cover:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/6990f2bd9df9c926df9586bf253dbe20/notebook_with_decorative_cover.png",notes:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/07a93240a9643e4514be61eee9b5d7b3/notes.png",nut_and_bolt:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/b578e531c38f5b0502a70c19b93ff209/nut_and_bolt.png",
o:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/6492aeed3ab36bcf58c1d063fd142ed0/o.png",o2:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/71f85cf734c09341867599108d92da2d/o2.png",ocean:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/f4f0b6f057dd0e7b831cf3fc1aca5ad4/ocean.png",octocat:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/11603b5f852fff5dac56f151f584f6f0/octocat.png",octopus:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/5bb8ee408b94d1c8034123dbc13aa5b5/octopus.png",
oden:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/859ac805cdd8ed4c3f2fe7cc3ae55257/oden.png",office:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/99b1e97dbeac60dcd5a1ca143c14acb7/office.png",ok:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/61c87d0539163f93393c23aeeb0a17ea/ok.png",ok_hand:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/7ce53418730e9e756c0c2cae2788614e/ok_hand.png",ok_woman:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/03c5344a3bd8a7c5d814f179da4aba57/ok_woman.png",
older_man:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/713c3600cf40e669d4006e52adc58faf/older_man.png",older_woman:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/6194efd58fed29a0be4f5fbf0cf1150a/older_woman.png",on:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/a586fc7fb16e85cf5dc5eccc03ce106b/on.png",oncoming_automobile:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/8ee7c5290461c967016ae03359b0a118/oncoming_automobile.png",oncoming_bus:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/c19a2aeb7ec1e2b2dad9ddfcabf1bd61/oncoming_bus.png",
oncoming_police_car:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/8ca38748b269a8502a72b28aa4c84f59/oncoming_police_car.png",oncoming_taxi:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/402d341a1f3d41b75c668b8ba7e795d3/oncoming_taxi.png",one:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/c029957ab6ca4a748d0ec334d5edd3d5/one.png",open_book:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/6561272c5be33e5e300e71e8e87ca634/open_book.png",open_file_folder:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/791b80441b131c75f15f731d39a5e2b0/open_file_folder.png",
open_hands:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/59cfbdcdf4f323dfa6b8fec35d79aaaf/open_hands.png",open_mouth:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/b18226f8245ffeca723ba0fb971c76af/open_mouth.png",ophiuchus:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/5499c05d99613c748340aeb43366278b/ophiuchus.png",orange_book:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/a0684b83602ec9ef586028f976a76b6f/orange_book.png",outbox_tray:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/4f422591f29fa0da13d42eae03e44d85/outbox_tray.png",
ox:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/f86c1314dc3a6356aa64786b57d65f69/ox.png","package":"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/05e8c1b57c20f0027f9aa377111fb0f0/package.png",page_facing_up:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/2b3a048e8e3d5565633f25467830cdb1/page_facing_up.png",page_with_curl:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/cfc926669509cc197c2163e27f9c17cf/page_with_curl.png",pager:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/c5a864179c023e12b23bc894e7b1a91f/pager.png",
palm_tree:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/2b1089d4a70fa8e4caea20863b63e866/palm_tree.png",panda_face:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/41e65ae1364b355bb8d9cc7e3331faa1/panda_face.png",paperclip:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/f2dfa71ed7df1c249f9262183fbf6d9b/paperclip.png",parking:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/7ab7803b39ad97188911dd4af353d319/parking.png",part_alternation_mark:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/0791db87fb9785e78a4b6f29fce93263/part_alternation_mark.png",
partly_sunny:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/2602a711a92b9291fb23791f054c9261/partly_sunny.png",passport_control:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/9855ebf10f38524bfefe9762865f0729/passport_control.png",paw_prints:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/a8fda9184043373f1891bdc8bfff8919/paw_prints.png",peach:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/374080a5b22616916d8da5fddcab0213/peach.png",pear:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/a5ce0a642565ea62643c8f6ca7e6cee8/pear.png",
pencil:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/f6cfa3a3462ba1190ed39229b86a1a10/pencil.png",pencil2:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/f2ec4e6af86cca9294ad9449c940481a/pencil2.png",penguin:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/d0cb90399627f60db83b98d638ad02e4/penguin.png",pensive:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/f1413fc2e99b52d4000309a8ae1e205b/pensive.png",performing_arts:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/399b4bfafd5cd1d0011dee64574c90f3/performing_arts.png",
persevere:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/3e8b834b5dd8982ba994ca61a9f6cd00/persevere.png",person_frowning:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/771b66dbb62e496bb605f98a0fc47b0e/person_frowning.png",person_with_blond_hair:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/e90b426aa7a0b030a51a82691ffcaf92/person_with_blond_hair.png",person_with_pouting_face:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/270f674632a95053eb392857a8861898/person_with_pouting_face.png",
phone:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/63303b0721fe2adafa094bcca0e346aa/phone.png",pig:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/f2d2664ade06a1953f952ed85d23ec14/pig.png",pig2:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/d9be6f23c45b8b2fff067e93f5b5656a/pig2.png",pig_nose:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/8ba39600b630c38592cd8107d44061d0/pig_nose.png",pill:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/b1b7e477bd5c84b4a6709b5bbc886278/pill.png",
pineapple:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/bb96567f9cab8e6432c9d5d4e1001a78/pineapple.png",pisces:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/030c43061ed25086517350f519753cf1/pisces.png",pizza:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/9f2a86bc2b4310fbff890752c4b53d46/pizza.png",point_down:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/8e7ab4e1b5954e9692d2d1a2aa4a1dc1/point_down.png",point_left:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/fe58cda82393f6ed8a8dc202a9b9e08a/point_left.png",
point_right:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/5cbb5a27c9880bea349237a886c73dc4/point_right.png",point_up:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/4805888040f92847e9622369411b4e4f/point_up.png",point_up_2:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/df44d25e90861f72ef32af899f8605c8/point_up_2.png",police_car:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/c5260b647c8c1c35c1c3075232a40b79/police_car.png",poodle:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/4527790ab71140e5318ad60cdf05d63c/poodle.png",
poop:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/62d03c1e2d8608f29540b097b7cf1ab1/poop.png",post_office:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/0ade4130dd0c510afed780e715aa97a6/post_office.png",postal_horn:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/4022a22938b199c5d55821237b6855af/postal_horn.png",postbox:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/ee26132ee651347d38bd25b3204a7706/postbox.png",potable_water:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/759ced65bb8ab040bd726ef177898396/potable_water.png",
pouch:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/64d1082c34458b69127140c6351dc607/pouch.png",poultry_leg:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/ca4741488b6f5da0cecb1b697bc8324c/poultry_leg.png",pound:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/9e06d52c8dbb4dc46e2855e1e11fb8f6/pound.png",pouting_cat:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/4351ec51799f825cda20db3c275b9f27/pouting_cat.png",pray:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/85aed007f516935008b3b0805fdfcf6d/pray.png",
princess:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/43eb5b6c78a40f98aeb3822c3b1b3892/princess.png",punch:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/0902dded44c402bd7707bcd447dbe33c/punch.png",purple_heart:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/d3bc83d90ed2945042afc3be196b408c/purple_heart.png",purse:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/b17c7b853c4b6cbcd9a0b8897c9e9c4c/purse.png",pushpin:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/dfa27faa78f3f465d951c36e623e14cb/pushpin.png",
put_litter_in_its_place:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/c8cc8331921d14a3facb2cc7b8a0984d/put_litter_in_its_place.png",question:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/ee8d27253348b9d7d7a2d19324b6cd30/question.png",rabbit:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/0e92e27e564a86fde4fdcc31e376887d/rabbit.png",rabbit2:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/8a1c9ab0194c3053dc9775127d4abdbc/rabbit2.png",racehorse:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/3cddf4d88285a1af630a83cf0eec8e26/racehorse.png",
radio:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/a22945426a36edae0077be7382b86413/radio.png",radio_button:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/c194f475ecddd76a3eb73018b7470d97/radio_button.png",rage:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/d45b08290d40d64174c5e31b1d32cb5d/rage.png",rage1:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/99af14cd4602ac04b9f106a6953c4446/rage1.png",rage2:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/b9b041ae30d95826dbf8e7bdc3647993/rage2.png",
rage3:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/ba38f5caeb38b839048349bd40bd0bec/rage3.png",rage4:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/cc3cf42b2362565bf0f456a76e879feb/rage4.png",railway_car:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/cca6ec820134c0aaf652c4088fad5065/railway_car.png",rainbow:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/27846ff7537f3f00734c520c6321998c/rainbow.png",raised_hand:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/cb59e7620a3028058a5ed6c51d1890fa/raised_hand.png",
raised_hands:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/209d64742c31ac9ffe446f7469e7c7b6/raised_hands.png",raising_hand:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/ab19218df270318c8756ba197e166d38/raising_hand.png",ram:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/df6513ef97d0acd33b61b6bf6b43c417/ram.png",ramen:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/487fb3bb0723ff71fa4eeb73b366d390/ramen.png",rat:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/c7dc9b9477e4d0f2651b98e978ba339f/rat.png",
recycle:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/7c1e1793a9e79acceb2173f7d9da1f54/recycle.png",red_car:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/abf1ef7270298b7e4faa51585b584e4f/red_car.png",red_circle:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/153f03a0ad9a4d5a18bfc57059afd636/red_circle.png",registered:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/f7894c9f4446abfc4d37623186ec953c/registered.png",relaxed:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/3f154c14aace003c1fca160133b772ab/relaxed.png",
relieved:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/2c2868a75fe9ad1d75515bc5e717c675/relieved.png",repeat:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/2b115f0853f4546303fa67afc33a8af6/repeat.png",repeat_one:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/e914db414db7e58e60116dea187a6c71/repeat_one.png",restroom:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/c29c5275ef27edf0f14ffe8ae335df4d/restroom.png",revolving_hearts:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/3db37c791c853f199e886bd972edfb96/revolving_hearts.png",
rewind:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/f9460239b03da9344e31ea3ba52746d5/rewind.png",ribbon:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/4f2b6a292ba60d862e40e2ef13e2a62a/ribbon.png",rice:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/35c9a0c0b4830ca3f75de2c85e53c700/rice.png",rice_ball:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/6b9c5b2f0698b31537e43aa93c8438a9/rice_ball.png",rice_cracker:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/cb1b26860f72f23a9709aeac30617e5f/rice_cracker.png",
rice_scene:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/2f97f5bed6acd05d769be29275fa62fe/rice_scene.png",ring:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/2908bc63e660771fc7708c2218fea126/ring.png",rocket:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/be56f079c737a67020cd6994f3f3b13f/rocket.png",roller_coaster:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/f0b7bb125e9cefc573ea3914053c546b/roller_coaster.png",rooster:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/5b3c725ce3eb9c9849b7dd5641328c1b/rooster.png",
rose:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/2e1af2089c900f0ed6fa7bf3a23f4c08/rose.png",rotating_light:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/643ae146ac155d47d60541f9ef96301a/rotating_light.png",round_pushpin:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/35674e63d4925731eb1875e43c541d3b/round_pushpin.png",rowboat:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/6d2517405400de0bdcf73410f819b15a/rowboat.png",ru:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/edc8c0c6b2c2869090606a1882e75f47/ru.png",
rugby_football:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/c3744fb02e7d1f3a4a32fbc6a6943792/rugby_football.png",runner:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/4e3175b51a9c997f085181cfa8da7c36/runner.png",running:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/4e3175b51a9c997f085181cfa8da7c36/running.png",running_shirt_with_sash:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/3181720b903304fa1e2da3766cf62bf0/running_shirt_with_sash.png",sa:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/bd8299075344913c5e923a0702a7f143/sa.png",
sagittarius:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/8debd5e660dde3cad7f2bb4b7a13c9c2/sagittarius.png",sailboat:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/c1c1c4dcaa77f509b36a3a170347c90c/sailboat.png",sake:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/9b07b746a9d397a7200a68e8a2d16a03/sake.png",sandal:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/e215e96ad7a2b296e0fefb3e005bd45f/sandal.png",santa:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/790b6c33d2b13c296bfe4472affb8f50/santa.png",
satellite:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/a016460345a00fe9d93ed067834552d7/satellite.png",satisfied:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/f5f1d1dc4c1737305d7089d46dd996bf/satisfied.png",saxophone:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/79863731d88ccf9dcdd0e110929b59c0/saxophone.png",school:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/cd789b11d96ce09e99b354ae219f2890/school.png",school_satchel:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/b90a70c87a38c0d30b9ff3b0bbe3687b/school_satchel.png",
scissors:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/8ca7f1e5ec3a423e591c77a6c4a059ae/scissors.png",scorpius:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/517b5593aca229b1ea153bd7d886506d/scorpius.png",scream:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/57f9298e911d478258de5d7f2a814f4a/scream.png",scream_cat:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/7800fc2bad7a7c15f627808565478120/scream_cat.png",scroll:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/9934ae517aa1827a8166c9e157b742f1/scroll.png",
seat:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/e54262ec6414ceedc36aa66350d6b905/seat.png",secret:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/400f5564a3036103c18ec3a87a210071/secret.png",see_no_evil:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/e372b8c7f97db8e0dadcc4715c579b3d/see_no_evil.png",seedling:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/a76ebecb541e69df48e734cccf806381/seedling.png",seven:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/6630566add5e4b2910bfa93fcae43056/seven.png",
shaved_ice:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/7d6eb0eb12fd345870f116199f24400e/shaved_ice.png",sheep:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/61346bec218f84bcd3c2ec4a68e4ce29/sheep.png",shell:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/27667826fd1fb9122b34cbee12146446/shell.png",ship:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/da1c239ed3806392f65cfcc048d36c4e/ship.png",shipit:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/0bf1d3de309a89d9ed70ae91f6271a7f/shipit.png",
shirt:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/1866b19c5130fc17b2900229704c9608/shirt.png",shit:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/62d03c1e2d8608f29540b097b7cf1ab1/shit.png",shoe:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/d5161dfe10dd32fcdaeb81a14cad6697/shoe.png",shower:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/c70ad692456e572e23fc067e844e3903/shower.png",signal_strength:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/428a66f5fa6b7f97d343ba1ba6937179/signal_strength.png",
six:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/2c861fa8bd6f03cfcfecb765465f74e5/six.png",six_pointed_star:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/4cfa8ed6a68dc7ac38087ea14d653cab/six_pointed_star.png",ski:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/65886f19620b20a71254f60808691ed3/ski.png",skull:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/ad7bcba8783a07fc4444c6c25b35addc/skull.png",sleeping:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/99a9e3d2172b41efd65cc6c406d4db20/sleeping.png",
sleepy:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/e31e7d8333ab3f2625cbccef6b7410fd/sleepy.png",slot_machine:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/d8ab6936c64111c75fa32f6a789eabff/slot_machine.png",small_blue_diamond:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/53006f4b102d9f9fe4cb6af5b506524b/small_blue_diamond.png",small_orange_diamond:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/45cf6cb9bc145ac734919ac6a4d18c73/small_orange_diamond.png",small_red_triangle:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/9f7504b356189f8839c6387cb048bd2e/small_red_triangle.png",
small_red_triangle_down:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/064d5341cbd34a902a0b8059e0bc2afd/small_red_triangle_down.png",smile:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/5775d67cea2ecad4c070825998771a6e/smile.png",smile_cat:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/95e73996308563e468df6b1c3389594d/smile_cat.png",smiley:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/5fece00c22bedab7e68fe9965257125b/smiley.png",smiley_cat:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/9ff0f77cdf0ba721199a48ac3a7d9a9d/smiley_cat.png",
smiling_imp:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/fad5de08b04e1e37961fc13604599224/smiling_imp.png",smirk:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/ae6679e96d5cfbb2f5e92546869c553d/smirk.png",smirk_cat:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/25298f805ca971c30cc8409938187fd4/smirk_cat.png",smoking:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/d00d7ff8880a8dbe3d0cd2b8750d9750/smoking.png",snail:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/3eccdd2bf9fe2d499f56f85e51559d8b/snail.png",
snake:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/85a978664ce446513cb20e53387498a4/snake.png",snowboarder:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/c7b2a02eeab2d3f318f287945b752ff0/snowboarder.png",snowflake:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/df30263aeb1a565a706e67e2f22b12ac/snowflake.png",snowman:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/a492f35208fc9dc36a13521c2cdeada3/snowman.png",sob:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/81a73de58d64024e1b3383c37084706e/sob.png",
soccer:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/d9427086aeb6ddaeef57112373cc6d90/soccer.png",soon:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/206a1f60b9e323da74d63dda430a63b5/soon.png",sos:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/d1b40a70d2e39cd4285806033c9d3320/sos.png",sound:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/ba2d95d9bc4eb1245d4117f2de12034a/sound.png",space_invader:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/404045d4be25a77fa0f52075b623344f/space_invader.png",
spades:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/90f63f6f53181f5a059f3e7d92ad1688/spades.png",spaghetti:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/e74bd04f2cb78b489d2bab0592b16b5e/spaghetti.png",sparkle:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/d8fc28d64dea0f3b4ddb5d7dc749f919/sparkle.png",sparkler:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/a7ecc1b95d673056032f2979d1221c35/sparkler.png",sparkles:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/8c75ed365b460add98076391364659f0/sparkles.png",
sparkling_heart:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/a3744535f6732553e9c070def252bbee/sparkling_heart.png",speak_no_evil:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/0fb82c9a1d1f0756335cfb28c1992071/speak_no_evil.png",speaker:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/ab3a8634abb65fcd4718a06a20dcb6cb/speaker.png",speech_balloon:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/8a4e6e0a31475cd998bf512fc701d432/speech_balloon.png",speedboat:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/2e278ce36190a1b1cc8febcef84bfa02/speedboat.png",
squirrel:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/0bf1d3de309a89d9ed70ae91f6271a7f/squirrel.png",star:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/f2ba498e88e4b9a73fb7e4e4a558c647/star.png",star2:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/28bcbfd07530922fc075e19d13707308/star2.png",stars:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/16a1589022608f2cb1e689ffa9bcd8bf/stars.png",station:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/7376eef48ff3aeb51fced2e467ab8c6c/station.png",
statue_of_liberty:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/c1a8a8b67bb8cc914ace6ea63b8fcf3d/statue_of_liberty.png",steam_locomotive:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/9711ed6bc30bb5658d15b9a0cbc02578/steam_locomotive.png",stew:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/e0d035b528f38b1b885460c5c638b914/stew.png",straight_ruler:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/38d99cfad89b24d6ca699a5f7a3b945c/straight_ruler.png",strawberry:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/d7a9638f5c3dbd8281738333a1ce65b2/strawberry.png",
stuck_out_tongue:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/627b9f7379294f54c6f6fb62bf779497/stuck_out_tongue.png",stuck_out_tongue_closed_eyes:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/1273fc479bf7656b0ea69f20473f5b60/stuck_out_tongue_closed_eyes.png",stuck_out_tongue_winking_eye:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/490c7380e7c4b7b7f8c8290cad357db4/stuck_out_tongue_winking_eye.png",sun_with_face:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/9bd63acca4a614303285fd5ee647ac36/sun_with_face.png",
sunflower:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/554132252fa931c08fea8e13c977ff29/sunflower.png",sunglasses:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/390ca63b9d9cf84bbabba4b7aaf01849/sunglasses.png",sunny:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/549a15109922d8e5ed86f633da40406e/sunny.png",sunrise:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/4d064e69798287743acc5b49b9b99e03/sunrise.png",sunrise_over_mountains:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/be7d45dc5cd7283878d3373b4865dbda/sunrise_over_mountains.png",
surfer:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/69cca50b4ca7ea90977b2ecfceef1e35/surfer.png",sushi:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/1c873a340c556e04ade1e987b32fcc28/sushi.png",suspect:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/db65956050a52b22a9f5cb63ad3e65e4/suspect.png",suspension_railway:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/d645165583968a5825712a5688c5cf72/suspension_railway.png",sweat:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/34e53931ca583f957cf81a6bfda7a4ff/sweat.png",
sweat_drops:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/5f4be5e62b0f84665428da112871b968/sweat_drops.png",sweat_smile:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/c9d6fa912d567e3da8b418ba48f534f4/sweat_smile.png",sweet_potato:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/1dff26ec90da43620b6f7d3e32eaa81d/sweet_potato.png",swimmer:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/6aa2b26f03ff21df0ee1207a79cbd966/swimmer.png",symbols:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/dbab88d0365a222934a00b2636f5aa6e/symbols.png",
syringe:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/3658598f6e49bc6564dc510c29ff6d1d/syringe.png",tada:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/5c16e39356ee25a426b1bde2bb95c7ed/tada.png",tanabata_tree:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/c021fba2f312c83b032924493613ec3c/tanabata_tree.png",tangerine:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/9794070c5ad8ed629b71afccb83b6999/tangerine.png",taurus:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/679ac7db83dfc87974a2fb069d890208/taurus.png",
taxi:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/5b0c3ffe99c4cd2f0ee33b61952f5a4e/taxi.png",tea:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/7c4d51f8aa1263cb3c7b39fba8c58aa2/tea.png",telephone:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/63303b0721fe2adafa094bcca0e346aa/telephone.png",telephone_receiver:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/a472b9c87f8815d445b8d40f67d20faa/telephone_receiver.png",telescope:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/479cc4ee5f8c7b26c34ba2455eb74ffa/telescope.png",
tennis:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/6e2702957fa61c43a60568e3f5326f3b/tennis.png",tent:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/bebe8125747e06d31dd85418fe9defe2/tent.png",test:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/03413f12d41cfce4ccc5cda97cbe8cbc/test.png",thought_balloon:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/3c4f37563f8d42f1ea9d04472028e819/thought_balloon.png",three:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/bbe5d45683a714b2f65998b7de3f1bdc/three.png",
thumbsdown:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/9155e2acc3925a32e544021a4893ebef/thumbsdown.png",thumbsup:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/a0a5d07f60da887f916b5540f7cc14d4/thumbsup.png",ticket:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/a95bb7de3d822f3ddcfc0604fe6478ef/ticket.png",tiger:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/56645d43216f3fa4b3c534a6db5bebba/tiger.png",tiger2:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/09fb18054f72b37c0a4b1efd7680feff/tiger2.png",
tired_face:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/8cf92ef6a062a0bafa67ac1b93dacdc0/tired_face.png",tm:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/0077f29b078e5330722defa7522779f2/tm.png",toilet:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/fcfec1156ffa738c3a05414b195989f7/toilet.png",tokyo_tower:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/8d46bcc6c5028df07ad07e7a415db044/tokyo_tower.png",tomato:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/b271e89f2aede82ece941a17ea3aebd7/tomato.png",
tongue:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/7a455eb0a18c0e87e2163c109d87ea47/tongue.png",top:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/30d83f9d01bba1989dfcd4c1352c2251/top.png",tophat:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/36fe71ebb25980fa89ca457aa2d63559/tophat.png",tractor:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/1ea4f35288b452593c6376d0a95cc6a0/tractor.png",traffic_light:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/df5246b38a44113d0e32a8e121224a0b/traffic_light.png",
train:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/cca6ec820134c0aaf652c4088fad5065/train.png",train2:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/1acc1187f262982c36c6c5cafccef13e/train2.png",tram:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/0abd978a7dc96b6ee455651ed1f0edb2/tram.png",trello:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/7e5b95544db0fb00888df1f2b84c0db2/trello.png",triangular_flag_on_post:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/477168e101d89cc2eef4e5ccc1b76b30/triangular_flag_on_post.png",
triangular_ruler:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/9ace5dbdbd3157870aef9bfafa8a2c9f/triangular_ruler.png",trident:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/9c001c9bf8f6fed83128fefb47acb8f2/trident.png",triumph:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/7b80feb3faaa633af5ad085792befb51/triumph.png",trolleybus:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/861c78992149c2ca1e8cd1c9bfdf3239/trolleybus.png",trollface:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/93f9726f88efd7f6f8479389e102d935/trollface.png",
trophy:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/1d243a4df44a30152577eb9e33b7f614/trophy.png",tropical_drink:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/ffcfbaea8b297adeeb07db754e2b83e0/tropical_drink.png",tropical_fish:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/62ba4a76b2ea1a69461c8decbb5dbfab/tropical_fish.png",truck:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/12ac0c24b7c1b919339adc6d0abdabc4/truck.png",trumpet:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/b4d97484e9e674c54d01c8c63a150bbe/trumpet.png",
tshirt:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/1866b19c5130fc17b2900229704c9608/tshirt.png",tulip:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/a4ae9efea459037ba4b17a90631a5bd9/tulip.png",turtle:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/a0eab36accde8b29e48e437cd604e0fd/turtle.png",tv:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/4b08354d48edfefab1da03f0e9056969/tv.png",twisted_rightwards_arrows:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/496d24c75e3bd388f8882c047226af32/twisted_rightwards_arrows.png",
two:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/a86c3871b01d888ca0cf11d5ec3ae5b1/two.png",two_hearts:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/107751de07a81c5f39c7e94e833ccaf9/two_hearts.png",two_men_holding_hands:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/9a95cae792c89e28a34894391f7032cc/two_men_holding_hands.png",two_women_holding_hands:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/bc182f077cc5c1ef640100397913222c/two_women_holding_hands.png",u5272:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/6d3ca765b3c2fe5f13912464029ddf7c/u5272.png",
u5408:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/470eada08e8d24dafab0d2ed812ceeae/u5408.png",u55b6:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/fb270596e34e915331a1a226bd2419ba/u55b6.png",u6307:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/1dd2e526123a4782216ebb5f1ca939da/u6307.png",u6708:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/0f55eb63f3485080cf27ad1d29524ae0/u6708.png",u6709:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/b7fde66ea5a96310b97561ee136a4bbe/u6709.png",
u6e80:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/0ad845150281cc80623978f9071a32b1/u6e80.png",u7121:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/68ec1036d9c3b8b26a2b1bacdfb8f0c2/u7121.png",u7533:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/274fc9ee47d010043a572e409cc21974/u7533.png",u7981:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/01e00306dbad69bcf5665e072e82c38f/u7981.png",u7a7a:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/5bb1d2a4be31b3e282dd15b22f23c7c3/u7a7a.png",
uk:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/085a66819b0bbc0133620b7b8688da1d/uk.png",umbrella:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/969e870efe593fc59be4ad0a295ae207/umbrella.png",unamused:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/1276c788d2fad3e5423cfe4c7ef8be08/unamused.png",underage:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/f54553f1b72238d146ce3afcec3220e2/underage.png",unlock:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/954e8e99a860ac6389ab68005e9f7a92/unlock.png",
up:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/3dae50b31b73a42e3fe8a3f83b61ea15/up.png",us:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/f1e97e62423aba4a74ee886bbffbb30e/us.png",v:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/265337288a2e1e0ee5376526efcb71a0/v.png",vertical_traffic_light:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/1a500844d64984f4c97ee0ef22b3dcb0/vertical_traffic_light.png",vhs:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/929b344d9e819467362e4cd5c81e2585/vhs.png",
vibration_mode:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/7db092d9758b28380a947c862943e036/vibration_mode.png",video_camera:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/cacb16494c5f57458ae51bff07c61dde/video_camera.png",video_game:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/90752f7986d347eb97279c2a37c2bd4d/video_game.png",violin:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/14e7c491894adb8f7c4c57f000c634d8/violin.png",virgo:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/0dba6af4e199d839b8a290343c6a5bab/virgo.png",
volcano:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/483647aaa8a1f9cd74c2a75089d26d71/volcano.png",vs:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/cde6b45fe7b3064d80304cf4bd116704/vs.png",walking:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/a2b0b05da920d1875635ed544ae41da8/walking.png",waning_crescent_moon:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/dfff27056486b05662704fe32755c037/waning_crescent_moon.png",waning_gibbous_moon:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/771b7eee2ad90deeb49edf0f1e8afaa3/waning_gibbous_moon.png",
warning:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/98ce0e63a6477613fd5c93e10e721347/warning.png",watch:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/62ac3ef7e2a45a50f73be5ba61c6ab86/watch.png",water_buffalo:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/57d998fe8ff188403cb8ab2d18b944d7/water_buffalo.png",watermelon:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/b50831dff4921536447a33ced3704dad/watermelon.png",wave:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/49af2bc8b93c120a6c78f71190f7ddeb/wave.png",
wavy_dash:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/52f8d90726752ff326a79450a370ebe4/wavy_dash.png",waxing_crescent_moon:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/881b888a50215af333b8af93304c67e5/waxing_crescent_moon.png",waxing_gibbous_moon:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/c1c65fc03c3c8cb9a54b16ec2a408e4e/waxing_gibbous_moon.png",wc:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/d9a415b30a1165a6a0944d286443e01a/wc.png",weary:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/39fb5de7a7ea04f81626d00a859aff5d/weary.png",
wedding:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/4ec62cc9b6d543f6c9aaa71061845862/wedding.png",whale:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/cb70a122ec80e35de873e114102570d9/whale.png",whale2:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/8321f58cc3c1bb348248855be2ddbdd3/whale2.png",wheelchair:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/ffc57fc2b6c5bd3603c5f6ece486afbe/wheelchair.png",white_check_mark:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/52b7898655c0dc2e738e47119c2725ee/white_check_mark.png",
white_circle:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/24414ac269eb83605cb54b8a27543110/white_circle.png",white_flower:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/fcc845d9ed5188b7e37a0ee886563ffc/white_flower.png",white_large_square:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/abe3c5affc70379045f106c921e8902c/white_large_square.png",white_medium_small_square:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/6a9d4eee072764def24da5c67218829b/white_medium_small_square.png",
white_medium_square:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/29ea5ed9b49466266fa460e497c4bca0/white_medium_square.png",white_small_square:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/00b3954259034244db1fac19fd24b67c/white_small_square.png",white_square_button:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/5d936ce92087fdec6aab2c97ffa98ce7/white_square_button.png",wind_chime:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/e041ab21fd38ec8b0849c037cd454919/wind_chime.png",wine_glass:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/23a75834f5d67ae20c697a90bb7d3c20/wine_glass.png",
wink:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/83fff972417765e6f3224e3be0e1522b/wink.png",wolf:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/b96f9a3696bdf4dd1c20f7fb5abd0d63/wolf.png",woman:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/07ff6878b3db138c8e015f637494072e/woman.png",womans_clothes:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/c3221918effc3fe7ea90a5d7fa87e501/womans_clothes.png",womans_hat:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/020d56b5affcb3ce3eb278b3119e5380/womans_hat.png",
womens:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/78c01e391b892354f650d8e410fabb86/womens.png",worried:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/506b4c5bd9355073e5f09c330cd0406c/worried.png",wrench:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/09d2bd1ee197a5d1e40442e35427f31c/wrench.png",x:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/42ab430c65cbcf8df9561ca3ec89a6ec/x.png",yellow_heart:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/890f59007121ead636867c0307873248/yellow_heart.png",
yen:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/d71335520e7df5b0391cfd8f96820050/yen.png",yum:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/d9559425ef6df9d85fcd042968f006b7/yum.png",zap:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/32a6549c8137f1f5a265fab7cd344116/zap.png",zero:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/2910daa978f87df3bb359e78064f65a8/zero.png",zzz:"https://d2k1ftgv7pobq7.cloudfront.net/images/emoji/f21df57a654483f76ca9e22c5edeab1c/zzz.png"};"undefined"!==
typeof module&&null!==module&&(module.exports=Db);var fa,ab;fa={taco:{displayName:"Taco Pack"},pete:{displayName:"Pete the Computer"}};ab={check:{type:"standard",url:"https://d2k1ftgv7pobq7.cloudfront.net/images/stickers/7f8b93da6962dbdbd8ad8ca9725b70d4/check.png",scaled:[{width:100,height:100,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/stickers/7f8b93da6962dbdbd8ad8ca9725b70d4/check.png"},{width:200,height:200,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/stickers/fa8dbd7aacfe2a7210f1d0097f60cb59/check%402x.png"}]},
heart:{type:"standard",url:"https://d2k1ftgv7pobq7.cloudfront.net/images/stickers/040c2a5c2384e6a865a0c3b5826c84dc/heart.png",scaled:[{width:100,height:100,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/stickers/040c2a5c2384e6a865a0c3b5826c84dc/heart.png"},{width:200,height:200,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/stickers/019d22c5e040aae741ee22320e87918c/heart%402x.png"}]},warning:{type:"standard",url:"https://d2k1ftgv7pobq7.cloudfront.net/images/stickers/8d09ca694f4f701c4af7662f1db43bf4/warning.png",
scaled:[{width:100,height:100,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/stickers/8d09ca694f4f701c4af7662f1db43bf4/warning.png"},{width:200,height:200,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/stickers/e6997a499c0fb650e00356a17bdc6ab1/warning%402x.png"}]},clock:{type:"standard",url:"https://d2k1ftgv7pobq7.cloudfront.net/images/stickers/5efd3f442437ce78b55acf1bd871c39c/clock.png",scaled:[{width:100,height:100,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/stickers/5efd3f442437ce78b55acf1bd871c39c/clock.png"},
{width:200,height:200,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/stickers/87b5fbcfe44dc9e169f899a42c2be236/clock%402x.png"}]},smile:{type:"standard",url:"https://d2k1ftgv7pobq7.cloudfront.net/images/stickers/9cb14e79838122328b26afd226ab12ce/smile.png",scaled:[{width:100,height:100,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/stickers/9cb14e79838122328b26afd226ab12ce/smile.png"},{width:200,height:200,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/stickers/998875a36221574672f57f6554961ba8/smile%402x.png"}]},
laugh:{type:"standard",url:"https://d2k1ftgv7pobq7.cloudfront.net/images/stickers/43ce225d4422d0a8389bf1477b5d0ce6/laugh.png",scaled:[{width:100,height:100,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/stickers/43ce225d4422d0a8389bf1477b5d0ce6/laugh.png"},{width:200,height:200,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/stickers/1e13f5e64ace6f8af25079ac1292da6f/laugh%402x.png"}]},huh:{type:"standard",url:"https://d2k1ftgv7pobq7.cloudfront.net/images/stickers/9217db04d28bf20f990f7afe16bd5450/huh.png",
scaled:[{width:100,height:100,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/stickers/9217db04d28bf20f990f7afe16bd5450/huh.png"},{width:200,height:200,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/stickers/1ff113c90b481b17f1c83fe7adb0e0b2/huh%402x.png"}]},frown:{type:"standard",url:"https://d2k1ftgv7pobq7.cloudfront.net/images/stickers/3499b916bb0e55fb9ee349fa920cefb2/frown.png",scaled:[{width:100,height:100,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/stickers/3499b916bb0e55fb9ee349fa920cefb2/frown.png"},
{width:200,height:200,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/stickers/a018fdb9bcc928299c268a3fe7cd77e7/frown%402x.png"}]},thumbsup:{type:"standard",url:"https://d2k1ftgv7pobq7.cloudfront.net/images/stickers/4526d8454c53066ee45a2bdd2669119c/thumbsup.png",scaled:[{width:100,height:100,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/stickers/4526d8454c53066ee45a2bdd2669119c/thumbsup.png"},{width:200,height:200,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/stickers/823c320becd3162e37ef746471ef56b2/thumbsup%402x.png"}]},
thumbsdown:{type:"standard",url:"https://d2k1ftgv7pobq7.cloudfront.net/images/stickers/28a8538f495707e41d1204b3af945e02/thumbsdown.png",scaled:[{width:100,height:100,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/stickers/28a8538f495707e41d1204b3af945e02/thumbsdown.png"},{width:200,height:200,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/stickers/ddb64e7188c37eb55b02aa65002630fc/thumbsdown%402x.png"}]},star:{type:"standard",url:"https://d2k1ftgv7pobq7.cloudfront.net/images/stickers/3ec82cf81a9cb4809919c824f3a51eb6/star.png",
scaled:[{width:100,height:100,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/stickers/3ec82cf81a9cb4809919c824f3a51eb6/star.png"},{width:200,height:200,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/stickers/f73bd3b8454e5eaf399a678f425cc90f/star%402x.png"}]},rocketship:{type:"standard",url:"https://d2k1ftgv7pobq7.cloudfront.net/images/stickers/9ec91c204d89c5439b4f86884be13724/rocketship.png",scaled:[{width:100,height:100,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/stickers/9ec91c204d89c5439b4f86884be13724/rocketship.png"},
{width:200,height:200,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/stickers/0eb0a91e4ede66800bad335ddef2721e/rocketship%402x.png"}]},"taco-love":{type:"premium",pack:fa.taco,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/stickers/c17c5bf93797d71527ee91494fc85e2c/taco-love.png",scaled:[{width:140,height:140,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/stickers/c17c5bf93797d71527ee91494fc85e2c/taco-love.png"},{width:280,height:280,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/stickers/06ddf78e10598774b89e3264d8e414da/taco-love%402x.png"}]},
"taco-confused":{type:"premium",pack:fa.taco,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/stickers/511723ee0c932684ca39cdec005bc2c5/taco-confused.png",scaled:[{width:140,height:140,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/stickers/511723ee0c932684ca39cdec005bc2c5/taco-confused.png"},{width:280,height:280,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/stickers/06668f130b632bf4ba0dc7f492628e00/taco-confused%402x.png"}]},"taco-cool":{type:"premium",pack:fa.taco,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/stickers/f41573409925dd066cb509a465f4b3af/taco-cool.png",
scaled:[{width:100,height:100,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/stickers/f41573409925dd066cb509a465f4b3af/taco-cool.png"},{width:200,height:200,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/stickers/8f4ac7820629d5aac2e2faca5b013e4c/taco-cool%402x.png"}]},"taco-angry":{type:"premium",pack:fa.taco,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/stickers/0787bf33623b40f2263dd9b0194c0066/taco-angry.png",scaled:[{width:100,height:100,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/stickers/0787bf33623b40f2263dd9b0194c0066/taco-angry.png"},
{width:200,height:200,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/stickers/88141aecd4c8fbdc3ff11ef292b4526f/taco-angry%402x.png"}]},"taco-celebrate":{type:"premium",pack:fa.taco,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/stickers/20b0c2f6c78ca34d7c3d00b658f3b3df/taco-celebrate.png",scaled:[{width:140,height:140,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/stickers/20b0c2f6c78ca34d7c3d00b658f3b3df/taco-celebrate.png"},{width:280,height:280,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/stickers/905a89b9fb1f867747130360e6cbb4d4/taco-celebrate%402x.png"}]},
"taco-robot":{type:"premium",pack:fa.taco,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/stickers/c695266748c83f796b9a56ea36f5c2de/taco-robot.png",scaled:[{width:100,height:100,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/stickers/c695266748c83f796b9a56ea36f5c2de/taco-robot.png"},{width:200,height:200,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/stickers/e1ac5a98088053a8b1ae90cd8f3f056e/taco-robot%402x.png"}]},"taco-alert":{type:"premium",pack:fa.taco,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/stickers/ccbcd6ce73f50359e71ad36316c3bcfb/taco-alert.png",
scaled:[{width:140,height:140,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/stickers/ccbcd6ce73f50359e71ad36316c3bcfb/taco-alert.png"},{width:280,height:280,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/stickers/60cf2c2b89c387f8c1ed92f301492b28/taco-alert%402x.png"}]},"taco-active":{type:"premium",pack:fa.taco,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/stickers/e027fa08f49b43a503a1e1dea1b854ea/taco-active.png",scaled:[{width:140,height:140,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/stickers/e027fa08f49b43a503a1e1dea1b854ea/taco-active.png"},
{width:280,height:280,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/stickers/afe6f31288619ede4f82d516cad6a11e/taco-active%402x.png"}]},"taco-money":{type:"premium",pack:fa.taco,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/stickers/60cee75a249b578892938a6a491031e6/taco-money.png",scaled:[{width:100,height:100,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/stickers/60cee75a249b578892938a6a491031e6/taco-money.png"},{width:200,height:200,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/stickers/f0130dd81ed48f6e4626cbdc233b2fda/taco-money%402x.png"}]},
"taco-reading":{type:"premium",pack:fa.taco,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/stickers/d38e25e615cbc0d15bea3fe3277e4a83/taco-reading.png",scaled:[{width:100,height:100,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/stickers/d38e25e615cbc0d15bea3fe3277e4a83/taco-reading.png"},{width:200,height:200,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/stickers/0c3110a4622a680fd4a9b63de14521da/taco-reading%402x.png"}]},"taco-trophy":{type:"premium",pack:fa.taco,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/stickers/77785938bb3566b20d1eccb83001dddc/taco-trophy.png",
scaled:[{width:100,height:100,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/stickers/77785938bb3566b20d1eccb83001dddc/taco-trophy.png"},{width:200,height:200,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/stickers/9143546ce5c8a3e43736be79803ead39/taco-trophy%402x.png"}]},"taco-sleeping":{type:"premium",pack:fa.taco,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/stickers/42698e61c8b85ce46dd08774536b820e/taco-sleeping.png",scaled:[{width:140,height:140,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/stickers/42698e61c8b85ce46dd08774536b820e/taco-sleeping.png"},
{width:280,height:280,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/stickers/9a51d634e8521dc0e19c09db4df95d8e/taco-sleeping%402x.png"}]},"taco-pixel":{type:"premium",pack:fa.taco,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/stickers/9044b8e8153407d9c35176baf4c41780/taco-pixel.png",scaled:[{width:140,height:140,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/stickers/9044b8e8153407d9c35176baf4c41780/taco-pixel.png"},{width:280,height:280,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/stickers/3751a48869a42911093b6eae9d0a7f8c/taco-pixel%402x.png"}]},
"taco-proto":{type:"premium",pack:fa.taco,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/stickers/2e050937d34005636192c415252f1b91/taco-proto.png",scaled:[{width:140,height:140,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/stickers/2e050937d34005636192c415252f1b91/taco-proto.png"},{width:280,height:280,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/stickers/51def85cdcf3c1a58cb1ab2ac3749251/taco-proto%402x.png"}]},"taco-embarrassed":{type:"premium",pack:fa.taco,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/stickers/b84cc7c1ff4c870a78afff5645449883/taco-embarrassed.png",
scaled:[{width:100,height:100,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/stickers/b84cc7c1ff4c870a78afff5645449883/taco-embarrassed.png"},{width:200,height:200,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/stickers/02663f87e33a2c79828098d1f2d9a086/taco-embarrassed%402x.png"}]},"taco-clean":{type:"premium",pack:fa.taco,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/stickers/e6462e51e766dbf494e304ea843856d9/taco-clean.png",scaled:[{width:140,height:140,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/stickers/e6462e51e766dbf494e304ea843856d9/taco-clean.png"},
{width:280,height:280,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/stickers/7c593a77fe481b61a2cad4b74b2f8c1c/taco-clean%402x.png"}]},"pete-happy":{type:"premium",pack:fa.pete,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/stickers/ad61d60483a6bdbea53237330ea1183b/pete-happy.png",scaled:[{width:100,height:100,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/stickers/ad61d60483a6bdbea53237330ea1183b/pete-happy.png"},{width:200,height:200,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/stickers/0663bc183a0cf0d039498cd8c5db8043/pete-happy%402x.png"}]},
"pete-love":{type:"premium",pack:fa.pete,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/stickers/e226d3edc2bc1c9439bc812f96527218/pete-love.png",scaled:[{width:100,height:100,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/stickers/e226d3edc2bc1c9439bc812f96527218/pete-love.png"},{width:200,height:200,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/stickers/6e461f2c1917d10063fb169a33bb1191/pete-love%402x.png"}]},"pete-broken":{type:"premium",pack:fa.pete,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/stickers/e0c1fadd8cdf3173a4cf9bc93da81d97/pete-broken.png",
scaled:[{width:100,height:100,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/stickers/e0c1fadd8cdf3173a4cf9bc93da81d97/pete-broken.png"},{width:200,height:200,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/stickers/6d84909328bf960bdfcab760e46c886f/pete-broken%402x.png"}]},"pete-alert":{type:"premium",pack:fa.pete,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/stickers/90e3c39fb39d5d79e8e2310406620f59/pete-alert.png",scaled:[{width:100,height:100,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/stickers/90e3c39fb39d5d79e8e2310406620f59/pete-alert.png"},
{width:200,height:200,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/stickers/3453c1a26ddd1187e56431940c7aedfc/pete-alert%402x.png"}]},"pete-talk":{type:"premium",pack:fa.pete,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/stickers/ca098514ef3b83d1e5a736817d3a132b/pete-talk.png",scaled:[{width:100,height:100,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/stickers/ca098514ef3b83d1e5a736817d3a132b/pete-talk.png"},{width:200,height:200,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/stickers/217a5d2b04a6dea23726a7949dae9ac7/pete-talk%402x.png"}]},
"pete-vacation":{type:"premium",pack:fa.pete,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/stickers/c50c5371bb78862a587a93df287459c0/pete-vacation.png",scaled:[{width:100,height:100,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/stickers/c50c5371bb78862a587a93df287459c0/pete-vacation.png"},{width:200,height:200,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/stickers/060295310e437200bf334ff7322eede1/pete-vacation%402x.png"}]},"pete-confused":{type:"premium",pack:fa.pete,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/stickers/0d52a88328d4c0196564b207560e953e/pete-confused.png",
scaled:[{width:100,height:100,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/stickers/0d52a88328d4c0196564b207560e953e/pete-confused.png"},{width:200,height:200,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/stickers/7ff61659ad2cd4837aacd999aedcd233/pete-confused%402x.png"}]},"pete-shipped":{type:"premium",pack:fa.pete,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/stickers/13b817ebec2282c5a7abb849056edfff/pete-shipped.png",scaled:[{width:100,height:100,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/stickers/13b817ebec2282c5a7abb849056edfff/pete-shipped.png"},
{width:200,height:200,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/stickers/0d9ff936d513aae5a67c8f9653a5c49e/pete-shipped%402x.png"}]},"pete-busy":{type:"premium",pack:fa.pete,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/stickers/ef0eb59b05378f25bb0cfae516b0615d/pete-busy.png",scaled:[{width:100,height:100,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/stickers/ef0eb59b05378f25bb0cfae516b0615d/pete-busy.png"},{width:200,height:200,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/stickers/35503951628d67da2c8aaabd49aaf769/pete-busy%402x.png"}]},
"pete-completed":{type:"premium",pack:fa.pete,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/stickers/213df9ec14509a7f06281bba7482ae61/pete-completed.png",scaled:[{width:100,height:100,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/stickers/213df9ec14509a7f06281bba7482ae61/pete-completed.png"},{width:200,height:200,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/stickers/3197b9305f52b722df47abdb84c063f8/pete-completed%402x.png"}]},"pete-space":{type:"premium",pack:fa.pete,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/stickers/ee70c40e8a7906f3adf2323d774e8320/pete-space.png",
scaled:[{width:100,height:100,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/stickers/ee70c40e8a7906f3adf2323d774e8320/pete-space.png"},{width:200,height:200,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/stickers/aa9cb8354739fb355a4abd1c977d975a/pete-space%402x.png"}]},"pete-sketch":{type:"premium",pack:fa.pete,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/stickers/6e17baf06870f4bd1c301ede21bc5add/pete-sketch.png",scaled:[{width:100,height:100,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/stickers/6e17baf06870f4bd1c301ede21bc5add/pete-sketch.png"},
{width:200,height:200,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/stickers/3808b148cca5b1ed3da001b7c13d5110/pete-sketch%402x.png"}]},"pete-ghost":{type:"premium",pack:fa.pete,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/stickers/fcb349d429bbaaf873eef3ea64eb570c/pete-ghost.png",scaled:[{width:100,height:100,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/stickers/fcb349d429bbaaf873eef3ea64eb570c/pete-ghost.png"},{width:200,height:200,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/stickers/4a28ad313694864c5a661b964a9510ff/pete-ghost%402x.png"}]},
"pete-award":{type:"premium",pack:fa.pete,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/stickers/eb0782174fdd08d4c76a587db6bc7caf/pete-award.png",scaled:[{width:100,height:100,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/stickers/eb0782174fdd08d4c76a587db6bc7caf/pete-award.png"},{width:200,height:200,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/stickers/43dd35d5e48a876a50fc6c63f53f005e/pete-award%402x.png"}]},"pete-music":{type:"premium",pack:fa.pete,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/stickers/49ddddf5af19ae49ccc9c7aa9517ba62/pete-music.png",
scaled:[{width:100,height:100,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/stickers/49ddddf5af19ae49ccc9c7aa9517ba62/pete-music.png"},{width:200,height:200,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/stickers/df6a7a7b952e8826916f00e69b503af1/pete-music%402x.png"}]}};"undefined"!==typeof module&&null!==module&&(module.exports=ab);var va,Ua;va={photos:{name:"Photos"},patterns:{name:"Patterns and Textures"}};Ua={blue:{type:"default",brightness:"dark",color:"#23719F"},green:{type:"default",
brightness:"dark",color:"#5A966E"},orange:{type:"default",brightness:"dark",color:"#BD6F32"},red:{type:"default",brightness:"dark",color:"#BF4A40"},grey:{type:"default",brightness:"dark",color:"#707070"},purple:{type:"default",brightness:"dark",color:"#6D5798"},mountain:{type:"premium",pack:va.photos,brightness:"light",fullSizeUrl:"https://d2k1ftgv7pobq7.cloudfront.net/images/backgrounds/mountain/171b0c9aea08e21f0020f359408b73e4/full.jpg",scaled:[{width:2400,height:1696,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/backgrounds/mountain/46616ebeae7245d4a16cf00cf1e21e86/large.jpg"},
{width:1024,height:724,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/backgrounds/mountain/07627e0760eb74e7109a82057ac86881/medium.jpg"},{width:320,height:227,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/backgrounds/mountain/da8d70dd70d666361767b9e30acdba65/small.jpg"}],attribution:{url:"http://www.flickr.com/photos/62681247@N00/6575973407/",name:"jqmj (Queralt)",license:"http://creativecommons.org/licenses/by/2.0/deed.en"}},cosmos:{type:"premium",pack:va.photos,brightness:"dark",fullSizeUrl:"https://d2k1ftgv7pobq7.cloudfront.net/images/backgrounds/cosmos/92448e055514fdc92923c9b591aa31df/full.jpg",
scaled:[{width:2047,height:1638,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/backgrounds/cosmos/be5121d350dd3e3ac97e209c3a7fce58/large.jpg"},{width:1600,height:1280,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/backgrounds/cosmos/f95acce485fc44f9a07853aa15965f90/medium.jpg"},{width:320,height:256,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/backgrounds/cosmos/0646808c900b7409dbeb96d36f55e980/small.jpg"}],attribution:{url:"http://www.flickr.com/photos/gsfc/6945160410/",name:"NASA Goddard Space Flight Center",
license:"http://creativecommons.org/licenses/by/2.0/deed.en"}},rain:{type:"premium",pack:va.photos,brightness:"dark",fullSizeUrl:"https://d2k1ftgv7pobq7.cloudfront.net/images/backgrounds/rain/2e8209ee9f21d7147a24cac28ea61358/full.jpg",scaled:[{width:2400,height:1600,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/backgrounds/rain/9de9b88a694019ab77d129f1729b05b7/large.jpg"},{width:1024,height:683,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/backgrounds/rain/b8ac88f9c4e8097c1ef8cc269d66e089/medium.jpg"},
{width:320,height:213,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/backgrounds/rain/e9147244c93e3990f361bc8123cacca9/small.jpg"}],attribution:{url:"http://www.flickr.com/photos/vinothchandar/5243641910/",name:"Vinoth Chandar",license:"http://creativecommons.org/licenses/by/2.0/deed.en"}},dew:{type:"premium",pack:va.photos,brightness:"light",fullSizeUrl:"https://d2k1ftgv7pobq7.cloudfront.net/images/backgrounds/dew/1d638bc56d179d5a8c35177305d4ea09/full.jpg",scaled:[{width:2400,height:1594,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/backgrounds/dew/5b5f4c5cd0d7e144e40168345c8c6075/large.jpg"},
{width:1024,height:680,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/backgrounds/dew/3c8daf991e3132f453ad0c822175b34d/medium.jpg"},{width:320,height:212,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/backgrounds/dew/71633df28ad4038a6fb6f647c1b29b27/small.jpg"}],attribution:{url:"http://www.flickr.com/photos/jenny-pics/5584430423/",name:"Jenny Downing",license:"http://creativecommons.org/licenses/by/2.0/deed.en"}},"snow-bokeh":{type:"premium",pack:va.photos,brightness:"dark",fullSizeUrl:"https://d2k1ftgv7pobq7.cloudfront.net/images/backgrounds/snow-bokeh/75b2ce11e6652e76ad0d3629d9886ca5/full.jpg",
scaled:[{width:2400,height:1596,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/backgrounds/snow-bokeh/11fc1afae97ec97b3b46b149d701e180/large.jpg"},{width:1024,height:681,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/backgrounds/snow-bokeh/9f4c60883dec8b5aa5bc949607081505/medium.jpg"},{width:320,height:213,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/backgrounds/snow-bokeh/d74c2d921e28c822e92b881b3e2cb10b/small.jpg"}],attribution:{url:"http://www.flickr.com/photos/tabor-roeder/5337595458/",
name:"Phil Roeder",license:"http://creativecommons.org/licenses/by/2.0/deed.en"}},city:{type:"premium",pack:va.photos,brightness:"dark",fullSizeUrl:"https://d2k1ftgv7pobq7.cloudfront.net/images/backgrounds/city/1bbbf09d491d444d207e5d8b792a86ba/full.jpg",scaled:[{width:2400,height:1594,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/backgrounds/city/d23508735801f1190b365330eb8ec0a5/large.jpg"},{width:1024,height:680,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/backgrounds/city/a7eea5e35c08388ec3da7dbc814f1da2/medium.jpg"},
{width:320,height:212,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/backgrounds/city/27e00a7bee7a783ae7568a819fa9bb97/small.jpg"}],attribution:{url:"http://www.flickr.com/photos/nosha/2907855809/",name:"Nathan Siemers",license:"http://creativecommons.org/licenses/by/2.0/deed.en"}},canyon:{type:"premium",pack:va.photos,brightness:"light",fullSizeUrl:"https://d2k1ftgv7pobq7.cloudfront.net/images/backgrounds/canyon/0c35d8049641c307de51cac7d449bf4e/full.jpg",scaled:[{width:2400,height:1596,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/backgrounds/canyon/ee79179217e377e332d217cbe10405b4/large.jpg"},
{width:1024,height:681,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/backgrounds/canyon/976ada2d506ebb7c2f8708f2ccc47192/medium.jpg"},{width:320,height:213,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/backgrounds/canyon/1478a9382a5ab8c493685223ff36e6f7/small.jpg"}],attribution:{url:"http://www.flickr.com/photos/wolfgangstaudt/2252688630/",name:"Wolfgang Staudt",license:"http://creativecommons.org/licenses/by/2.0/deed.en"}},ocean:{type:"premium",pack:va.photos,brightness:"dark",fullSizeUrl:"https://d2k1ftgv7pobq7.cloudfront.net/images/backgrounds/ocean/4ce437330ab9d2fe40dd3d8504a143e6/full.jpg",
scaled:[{width:2400,height:1600,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/backgrounds/ocean/ede6927e92b4515102b2d86e919c77fa/large.jpg"},{width:1024,height:683,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/backgrounds/ocean/c8a238f606e3288c461fc7ea3daa36d9/medium.jpg"},{width:320,height:213,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/backgrounds/ocean/2de3527d131722c66ec5315205d64104/small.jpg"}],attribution:{url:"http://www.flickr.com/photos/mattphipps/4635112852/",name:"MattJP",
license:"http://creativecommons.org/licenses/by/2.0/deed.en"}},river:{type:"premium",pack:va.photos,brightness:"dark",fullSizeUrl:"https://d2k1ftgv7pobq7.cloudfront.net/images/backgrounds/river/b031ec422c9048f4b6fb3b53f80eba3c/full.jpg",scaled:[{width:2400,height:1600,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/backgrounds/river/801d937c765a9996d4eccf4aee6bfc36/large.jpg"},{width:1024,height:683,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/backgrounds/river/67c2c39a74a32f383ffd10dc53ffb535/medium.jpg"},
{width:320,height:213,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/backgrounds/river/15967f866d002762d13d20d258140418/small.jpg"}],attribution:{url:"http://www.flickr.com/photos/22746515@N02/3114276532/",name:"Bert Kaufmann",license:"http://creativecommons.org/licenses/by/2.0/deed.en"}},fall:{type:"premium",pack:va.photos,discontinued:!0,fullSizeUrl:"https://d2k1ftgv7pobq7.cloudfront.net/images/backgrounds/fall/72c32b15d265b78e7058896d4bc85c3b/full.jpg",scaled:[{width:2400,height:1596,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/backgrounds/fall/a42f50fe10ff082519a499a2e86be1dc/large.jpg"},
{width:1024,height:681,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/backgrounds/fall/a999e10749c6db57a5acd9960324ed6f/medium.jpg"},{width:320,height:213,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/backgrounds/fall/8c8e3c5c5eebeac446c7e19ee36d23ae/small.jpg"}],attribution:{url:"http://www.flickr.com/photos/mendhak/4107993637/",name:"mendhak",license:"http://creativecommons.org/licenses/by/2.0/deed.en"}},snow:{type:"premium",pack:va.photos,discontinued:!0,fullSizeUrl:"https://d2k1ftgv7pobq7.cloudfront.net/images/backgrounds/snow/d5dd0a98d6b0a7ebcaff02dad1535fab/full.jpg",
scaled:[{width:2400,height:1600,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/backgrounds/snow/149d6adb0c746612aa21ec3c46455583/large.jpg"},{width:1024,height:683,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/backgrounds/snow/147471be1b6fa8858c40febf9702795b/medium.jpg"},{width:320,height:213,url:"https://d2k1ftgv7pobq7.cloudfront.net/images/backgrounds/snow/da5f83eace8c3f4e13f1287cefd07956/small.jpg"}],attribution:{url:"http://www.flickr.com/photos/zachd1_618/5386165480/",name:"Zach Dischner",
license:"http://creativecommons.org/licenses/by/2.0/deed.en"}},purty_wood_dark:{type:"premium",pack:va.patterns,tile:!0,brightness:"dark",fullSizeUrl:"https://d2k1ftgv7pobq7.cloudfront.net/images/backgrounds/7a14a57fef9435b0def0f613d0114334/purty_wood_dark.png",attribution:{url:"http://subtlepatterns.com/purty-wood/",name:"Richard Tabor",license:"http://creativecommons.org/licenses/by/2.0/deed.en"}},"subtle-irongrip":{type:"premium",pack:va.patterns,tile:!0,brightness:"dark",fullSizeUrl:"https://d2k1ftgv7pobq7.cloudfront.net/images/backgrounds/c9f15836db29df79c2a0092a6758d81e/subtle-irongrip.png",
attribution:{url:"http://subtlepatterns.com/iron-grip/",name:"Tony Kinard",license:"http://creativecommons.org/licenses/by/2.0/deed.en"}},"red-sweater":{type:"premium",pack:va.patterns,tile:!0,brightness:"dark",fullSizeUrl:"https://d2k1ftgv7pobq7.cloudfront.net/images/backgrounds/17d3a6bc27bdcd05caeae11f67fa46d6/red-sweater.png",attribution:{url:"http://subtlepatterns.com/wild-oliva/",name:"Badhon Ebrahim",license:"http://creativecommons.org/licenses/by/2.0/deed.en"}},hex:{type:"premium",pack:va.patterns,
tile:!0,brightness:"dark",fullSizeUrl:"https://d2k1ftgv7pobq7.cloudfront.net/images/backgrounds/2e2cb18ce229869faec815b4d8fe2770/hex.png"},wave:{type:"premium",pack:va.patterns,tile:!0,brightness:"dark",fullSizeUrl:"https://d2k1ftgv7pobq7.cloudfront.net/images/backgrounds/bb289a4f00f13e8ca52e67afd11c1648/wave.png"},bricks:{type:"premium",pack:va.patterns,tile:!0,brightness:"dark",fullSizeUrl:"https://d2k1ftgv7pobq7.cloudfront.net/images/backgrounds/5e21dfb838e99d8a7c540a2b90d36f29/bricks.png"},"purple-blur":{type:"premium",
pack:va.patterns,brightness:"dark",fullSizeUrl:"https://d2k1ftgv7pobq7.cloudfront.net/images/backgrounds/3a02eab932195316109bd905d3341323/purple-blur.png"},"orange-blur":{type:"premium",pack:va.patterns,brightness:"dark",fullSizeUrl:"https://d2k1ftgv7pobq7.cloudfront.net/images/backgrounds/07a3436eabfd187ee94ae8c578584d07/orange-blur.png"}};"undefined"!==typeof module&&null!==module&&(module.exports=Ua);var Eb,Ha,G=[].slice,F=[].indexOf||function(c){for(var b=0,d=this.length;b<d;b++)if(b in this&&
this[b]===c)return b;return-1};Ha=function(){function c(b){var d,f;this.options=null!=b?b:{};if(null==(b=this.options).openLinksInNewWindow)b.openLinksInNewWindow=!0;this.lexerBlockRules=this.options.inlineOnly?[c.lexerBlockRules.error]:this._expandRules(c.lexerBlockRules,null!=(d=this.options.restrict)?d.block:void 0);this.lexerInlineRules=this._expandRules(c.lexerInlineRules,null!=(f=this.options.restrict)?f.inline:void 0)}var b,d,f;c.prototype._expandRules=function(b,d){var f,c,q,k,m,I,n;q=_.sortBy(_.keys(b),
function(b){return-b.length});m=RegExp(""+q.join("|"),"g");d=null!=d?d.concat(function(){var d;d=[];for(n in b)I=b[n],(I.required||null==I.token)&&d.push(n);return d}()):function(){var d,f;f=[];for(k in b)I=b[k],null!=(d=I.nondefault)&&d||f.push(k);return f}();b=_.pick(b,_.intersection(_.keys(b),d));f=function(d){return function(d){var e;d=b[d]=_.clone(b[d]);d.compiled=!0;e=d.match.source.replace(m,function(d){var e;e=b[d];null!=(null!=e?e.match:void 0)?(e.compiled||f(d),d=e.match):d=/[]/;return d.source.replace(/(^|[^\[])\^/g,
"$1")});d.match=RegExp(""+e);d.match_i=RegExp(""+e,"i");d.match_gim=RegExp(""+e,"gim");return d}}(this);for(n in b)c=b[n],q=c.match,c=c.compiled,null!=q&&!c&&f(n);return b};c.lexerBlockRules={newline:{match:/^\n/,token:function(b,d,f){b=b[0];return{type:"space",canCondense:!0,children:{text:b,ranges:f.slice(0,b)}}}},code:{match:/^(\x20{4}[^\n]+\n*)+/,token:function(b){return{type:"code",text:b[0].replace(/^ {4}/gm,"").replace(/\n+$/,"")}}},fencedCode:{match:/^\x20*(`{3,}|~{3,})\x20*(\S+)?\x20*\n([\s\S]+?)\s*?\1\x20*(?:\n+|$)/,
token:function(b){return{type:"code",language:b[2],text:b[3]}}},heading:{match:/^(\x20*(\#{1,6})\x20*)([^\n]+?)\x20*\#*\x20*(?:\n+|$)/,token:function(b,d,f){var c;d=b[1];c=b[2];b=b[3];return{type:"heading",depth:c.length,children:{text:b,ranges:f.slice(d.length,b)}}}},lheading:{match:/^([^\n]+)\n\x20*(=|-){3,}\x20*\n*/,token:function(b,d,f){d=b[1];return{type:"heading",depth:"="===b[2]?1:2,children:{text:d,ranges:f.slice(0,d)}}}},hr:{match:/^(?:\x20*[-*_]){3,}\x20*(?:\n|$)/,token:function(){return{type:"hr"}}},
blockquote:{match:/^(\x20*>[^\n]+(\n[^\n]+)*\n*)+/,token:function(b,d,f){var c,q;b=b[0];q=[];c=b.replace(/^ *> ?/gm,function(b,d){var e,c,g,l;l=f.slice(d,b).spans;c=0;for(g=l.length;c<g;c++)e=l[c],q.push(e);return""});b=f.subtract(new Eb(q));return[{type:"blockquote_start"}].concat(G.call(this.blockLex(c,d,b)),[{type:"blockquote_end"}])}},num:{match:/(?:\d+\.)/},dash:{match:/(?:[*+-])/},bullet:{match:/(?:dash|num)/},item:{match:/^(\x20*)(bullet)\x20[^\n]*(?:\n(?!\1bullet\x20)[^\n]*)*/},list:{match:/^(\x20*)(?:(dash)\x20[\s\S]+?(?:\nhr|\n{2,}(?=def|(?!\x20))(?!\1dash\x20)\n*|\s*$)|(num)\x20[\s\S]+?(?:\nhr|\n{2,}(?=def|(?!\x20))(?!\1num\x20)\n*|\s*$))/,
token:function(b,d,f){var c,q,k,m,I,n;c=b[0];b=b[2];I=!1;q=0;m=[];n=null!=b?"ul":"ol";k=c.match(this.lexerBlockRules.item.match_gim).length;c.replace(this.lexerBlockRules.item.match_gim,function(b){return function(){var c,g,l,s,u;c=arguments[0];4<=arguments.length?G.call(arguments,1,u=arguments.length-2):u=1;g=arguments[u++];u++;l=f.slice(g,c);g=I||/\n\n(?!\s*$)/.test(c);q!==k-1&&(I="\n"===c[c.length-1],g||(g=I));u=c.length;c=c.replace(/^\x20*([*+-]|\d+\.)\x20+/,function(b){l=l.subtract(l.slice(0,
b));return""});u-=c.length;s=l.clone();c=c.replace(RegExp("^\\x20{1,"+u+"}","gm"),function(b,d){l=l.subtract(s.slice(d,b));return""});m.push([{type:"list_item_start",tag:n,condense:!g,index:q}].concat(G.call(b.blockLex(c,_.extend({},d,{top:!1}),l)),[{type:"list_item_end"}]));q++;return""}}(this));return[{type:"list_start",tag:n}].concat(G.call(_.flatten(m)),[{type:"list_end"}])}},def:{top:!0,match:/^\x20*\[([^\]]+)\]:\x20*<?([^\s>]+)>?(?:\x20+["(]([^\n]+)[")])?\x20*(?:\n+|$)/,token:function(b,d){var f,
c,q,k;f=b[1];k=b[2];q=b[3];c=d.references;null!=c&&c.set(f,{url:k,title:q});return null}},blockAtMention:{nondefault:!0,match:/^@([a-z0-9_]+)(?=\n|$)/,token:function(b){return{type:"atMention",username:b[1]}}},paragraph:{top:!0,match:/^((?:[^\n]+\n?(?!hr|heading|lheading|blockquote|def|blockAtMention))+)\n*/,token:function(b,d,f){b=b[1].replace(/\n$/,"");return{type:"text",children:{text:b,ranges:f.slice(0,b)}}}},text:{required:!0,match:/^[^\n]+/,token:function(b,d,f){b=b[0];return{type:"text",canCondense:!0,
children:{text:b,ranges:f.slice(0,b)}}}},error:{required:!0,match:/^[\s\S]+/,token:function(b){throw Error("invalid block input "+b[0]);}}};d=function(b){var d,f,c,q;d=b.image;f=b.text;q=b.url;c=b.title;b=b.ranges;c={title:c,url:q};d?(c.type="image",c.text=f):(c.type="link",c.children={text:f,ranges:b.slice(1,f)});return c};c.lexerInlineRules={escape:{required:!0,match:/^\\([\\`*{}\[\]()\#+\-.!_>~|@:])/,token:function(b){return{type:"text",text:b[1]}}},tld:{match:/(?:ac|ad|aero|ae|af|ag|ai|al|am|an|ao|aq|arpa|ar|asia|as|at|au|aw|ax|az|ba|bb|bd|be|bf|bg|bh|biz|bi|bj|bm|bn|bo|br|bs|bt|bv|bw|by|bz|cat|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|cn|coop|com|co|cr|cu|cv|cx|cy|cz|de|dj|dk|dm|do|dz|ec|edu|ee|eg|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gov|gp|gq|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|info|int|in|io|iq|ir|is|it|je|jm|jobs|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mg|mh|mil|mk|ml|mm|mn|mobi|mo|mp|mq|mr|ms|mt|museum|mu|mv|mw|mx|my|mz|name|na|nc|net|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|org|pa|pe|pf|pg|ph|pk|pl|pm|pn|pro|pr|ps|pt|pw|py|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|sk|sl|sm|sn|so|sr|st|su|sv|sy|sz|tc|td|tel|tf|tg|th|tj|tk|tl|tm|tn|to|tp|travel|tr|tt|tv|tw|tz|ua|ug|uk|um|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|xn--0zwm56d|xn--11b5bs3a9aj6g|xn--80akhbyknj4f|xn--9t4b11yi5a|xn--deba0ad|xn--g6w251d|xn--hgbk6aj7f53bba|xn--hlcj6aya9esc7a|xn--jxalpdlp|xn--kgbechtv|xn--zckzah|ye|yt|yu|za|zm|zw)/},
bareLink:{match:/([a-z0-9\-]+\.)+(?:tld)/},autolink:{match:/^<(?:(email)|(url|bareLink))>/,token:function(b){var d;d=b[1];b=b[2];return null!=d?{type:"mailto",email:d}:/^[\w-]+:/.test(b)?{type:"link",url:b}:{type:"link",url:"http://"+b,text:b}}},email:{match:/^[-a-z0-9\+\._'%]+@[a-z0-9-\.]+\.[a-z]{2,}/,token:function(b){return{type:"mailto",email:b[0]}}},inside:{match:/(?:\[[^\]\[]*\]|[^\]\[]|\](?=[^\[]*\]))*/},href:{match:/\s*<?((?:[^\s\(\)]?(?:\([^\s()<>]*\)|\()?)+)>?(?:\s+['"]([\s\S]*?)['"])?\s*/},
emailLink:{match:/^\[(inside)\]\((email)\)/,token:function(b){return{type:"mailto",email:b[2],text:b[1]}}},link:{match:/^\[(inside)\]\(href\)/,token:function(b,f,c){return d({text:b[1],url:b[2],title:b[3],ranges:c})}},image:{match:/^(!)\[(inside)\]\(href\)/,token:function(b,f,c){return d({image:!0,text:b[2],url:b[3],title:b[4],ranges:c})}},reflink:{match:/^(!?)\[(inside)\]\s*\[([^\]]*)\]/,token:function(b,f,c){var l,q,k,m;l=b[1];k=b[2];b=b[3];return null==(q=null!=(m=f.references)?m.get(b||k):void 0)?
!1:d({image:l,text:k,url:q.url,title:q.title,ranges:c})}},nolink:{match:/^(!?)\[((?:\[[^\]]*\]|[^\[\]])*)\]/,token:function(b,f,c){var l,q,k;l=b[1];b=b[2];return null==(q=null!=(k=f.references)?k.get(b):void 0)?!1:d({image:l,text:b,url:q.url,title:q.title,ranges:c})}},url:{match:/^((?:[\w-]+:\/\/|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]|\([^\s()<>]*\))+(?:\([^\s()<>]*\)|[^\s`!()\[\]{};:'".,<>?\u00ab\u00bb\u201c\u201d\u2018\u2019])|(?:bareLink)\b)/,token:function(b){b=b[0];return/^[a-z]+:/.test(b)?
{type:"link",url:b}:{type:"link",url:"http://"+b,text:b}}},strong:{match:/^__([\s\S]+?)__(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,token:function(b,d,f){var c;c=b[1];b=b[2];c=null!=c?c:b;return[{type:"strong_start"}].concat(G.call(this.inlineLex(c,d,f.slice(2,c))),[{type:"strong_end"}])}},em:{match:/^\b_([\s\S]+?)_\b|^\*([\s\S]+?)\*(?!\*)/,token:function(b,d,f){var c;c=b[1];b=b[2];c=null!=c?c:b;return[{type:"em_start"}].concat(G.call(this.inlineLex(c,d,f.slice(1,c))),[{type:"em_end"}])}},strikethrough:{match:/^~~([\s\S]+?)~~/,
token:function(b,d,f){b=b[1];return[{type:"strikethrough_start"}].concat(G.call(this.inlineLex(b,d,f.slice(2,b))),[{type:"strikethrough_end"}])}},code:{match:/^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/,token:function(b){return{type:"code",text:b[2]}}},"break":{match:/^\x20*\n(?!\s*$)/,token:function(){return{type:"break"}}},atMention:{match:/^@([a-z0-9_]+)/,token:function(b){return{type:"atMention",username:b[1]}}},cardReference:{match:/^\#([\d]+)/,token:function(b){return{type:"cardReference",number:b[1]}}},
emoji:{match:/^:([a-z0-9_+-]+):/,token:function(b){return{type:"emoji",emoji:b[1]}}},hashtag:{nondefault:!0,match:/^\#([\S]+)/,token:function(b){return{type:"text",text:b[0]}}},text:{required:!0,match:/^[\s\S]+?(?:\w[@\#\:][\s\S]+?)?(?=[\\<!\[_*`~]|\x20*\n|[@\#:]|(?:\b(?:url|email))|$)/,token:function(b){return{type:"text",text:b[0]}}},error:{required:!0,match:/^[\s\S]+/,token:function(b){throw Error("invalid inline input "+b[0]);}}};b=function(b){var d,f;f=b.username;return null!=this.options.lookupMember&&
(d=this.options.lookupMember(f,this.state),b=d[0],d=d[1],null!=b)?this.html("span","@"+f,{attrs:{"class":"atMention"+(d?" me":""),title:""+b}}):this.text("@"+f)};c.prototype.parseBlockOutput={space:function(){return""},hr:function(){return this.htmln("hr",null)},heading:function(b){return this.htmln("h"+b.depth,this.children(b.children))},blockquote_start:function(){return this.htmln("blockquote",this.process("blockquote_end"),{newlineAfterTag:!0})},list_start:function(b){return this.htmln(b.tag,
this.process("list_end"),{newlineAfterTag:!0})},list_item_start:function(b){return this.htmln("li",this.process("list_item_end",b.condense))},text:function(b){return this.htmln("p",this.children(b.children))},code:function(b){return this.htmln("code",this.text(b.text),{preTag:"<pre>",postTag:"</pre>"})},atMention:b};c.prototype.parseInlineOutput={text:function(b){return this.text(b.text)},strong_start:function(){return this.html("strong",this.process("strong_end"))},em_start:function(){return this.html("em",
this.process("em_end"))},strikethrough_start:function(){return this.html("del",this.process("strikethrough_end"))},code:function(b){return this.html("code",this.escape(b.text))},"break":function(){return this.html("br",null)},link:function(b){var d,f,c;c=b.url;d=b.text;f=b.title;b=b.children;d=null!=b?this.children(b):this.escape(null!=d?d:c);return this.html("a",d,{attrs:{href:c,title:f,target:this.options.openLinksInNewWindow?"_blank":null}})},mailto:function(b){var d;d=b.email;b=b.text;return this.html("a",
this.escape(null!=b?b:d),{attrs:{href:"mailto:"+d}})},image:function(b){return this.html("img",null,{attrs:{src:b.url,alt:b.text,title:b.title}})},atMention:b,cardReference:function(b){var d,f;d=b.number;b="function"===typeof(f=this.options).lookupCardInfo?f.lookupCardInfo(d,this.state):void 0;return this.html("a","#"+d,{attrs:{href:""+b.url,title:""+b.title}})},emoji:function(b){var d,f;b=b.emoji;d="function"===typeof(f=this.options).lookupEmoji?f.lookupEmoji(b,this.state):void 0;return null!=d?
this.html("img",null,{attrs:{src:d,title:b,"class":"emoji"}}):this.text(":"+b+":")}};c.prototype.parseBlockOutputText={space:function(){return this.plaintextn("")},hr:function(){return this.plaintextn("")},heading:function(b){return this.plaintextn(this.textChildren(b.children))},blockquote_start:function(){return this.plaintext(this.textProcess("blockquote_end"))},list_start:function(b){var d,f,c,q;c=this.textProcess("list_end").split("\n");q=[];d=0;for(f=c.length;d<f;d++)b=c[d],q.push(this.plaintextn(" "+
b));return q.join("")},list_item_start:function(b){var d,f;f=b.tag;d=b.index;return this.plaintextn(""+("ol"===f?""+(d+1)+".":"*")+" "+this.textProcess("list_item_end",b.condense))},text:function(b){return this.plaintextn(""+this.textChildren(b.children)+"\n")},code:function(b){return this.plaintextn(b.text)},atMention:function(b){return this.plaintextn(text)}};c.prototype.parseInlineOutputText={text:function(b){return this.plaintext(b.text)},strong_start:function(){return this.plaintext(this.textProcess("strong_end"))},
em_start:function(){return this.plaintext(this.textProcess("em_end"))},code:function(b){return this.plaintext(b.text)},"break":function(){return this.plaintext("\n")},link:function(b){var d,f;f=b.url;d=b.text;b=b.children;return null!=b?this.plaintext(""+this.textChildren(b)+" ("+f+")"):null!=d?this.plaintext(""+d+" ("+f+")"):this.plaintext(f)},mailto:function(b){var d;d=b.email;b=b.text;return null!=b?this.plaintext(""+b+" ("+d+")"):this.plaintext(d)},image:function(b){b=b.title;return null!=b?this.plaintext(b):
this.plaintext("")},atMention:function(b){return this.plaintext(b.username)},cardReference:function(b){return this.plaintext("#"+b.number)},emoji:function(b){return this.plaintext(":"+b.emoji+":")}};c.prototype.lex=function(b,d,f,c){var q,k,m,I,n,s,u,w,z,A,B;null==f&&(f={});null==f.top&&(f.top=!0);null==f.locations&&(f.locations=[]);n=c.clone();d=d.replace(/^\x20+$/gm,function(b,d){c=c.subtract(n.slice(d,b));return""});k=[];for(I=0;d;)for(s in b)if(w=b[s],q=w.match_i,u=w.token,w=w.top,null!=u&&(null==
w||f.top===w)&&null!=(m=q.exec(d)))if(q=m[0],w=c.slice(I,q),u=u.call(this,m,f,w),!1!==u){if(null!=u){_.isArray(u)||(u=[u]);B=0;for(z=u.length;B<z;B++)A=u[B],k.push(A)}if(0===q.length)throw Error("infinite loop");d=d.substr(q.length);B=w.spans;u=0;for(A=B.length;u<A;u++)z=B[u],w=z[0],z=z[1],f.locations.push({start:w,stop:z,rule:s});I+=q.length;break}return k};c.prototype._expandChildren=function(b,d,f){var c,q,k,m,I,n;if(0!==b.length){if(f){k=b[0];m=2<=b.length?G.call(b,1):[];b=[k];q=function(b,d){return b.canCondense&&
null!=b.children&&b.type===d};c=I=0;for(n=m.length;I<n;c=++I)f=m[c],q(k,"text")&&(q(f,"text")||q(f,"space")&&q(m[c+1],"text"))?k.children={text:k.children.text+f.children.text,ranges:new Eb(G.call(k.children.ranges.spans).concat(G.call(f.children.ranges.spans)))}:(b.push(f),k=f)}k=0;for(q=b.length;k<q;k++)f=b[k],null!=f.children&&(m=f.children,c=m.text,m=m.ranges,c=this.inlineLex(c,d,m),this._expandChildren(c,d),f.children=c)}};c.prototype.blockLex=function(b,d,f,c){null==f&&(f=Eb.fromString(b));
null==d.references&&(d.references={map:{},set:function(b,d){return this.map[b.toLowerCase()]=d},get:function(b){return this.map[b.toLowerCase()]}});b=this.lex(this.lexerBlockRules,b,d,f);c&&this._expandChildren(b,d,!0);return b};c.prototype.inlineLex=function(b,d,f,c){null==f&&(f=Eb.fromString(b));b=this.lex(this.lexerInlineRules,b,d,f);c&&this._expandChildren(b,d,!0);return b};c.prototype.parse=function(b,d,f){var c;c={options:this.options,state:f,index:0,next:function(){return this.current=d[this.index++]},
process:function(d,f){var e,h,k;for(k=[];null!=(h=this.next())&&h.type!==d;)if(f&&"text"===h.type)k.push(c.children(h.children));else if(e=b[h.type],null!=e)k.push(e.call(c,h));else throw Error("invalid token type "+h.type);return k.join("")},textProcess:function(d,f){var e,h,k;for(k=[];null!=(h=this.next())&&h.type!==d;)if(f&&"text"===h.type)k.push(c.textChildren(h.children));else if(e=b[h.type],null!=e)k.push(e.call(c,h));else throw Error("invalid token type "+h.type);return k.join("")},children:function(b){return function(d,
c){return b.parseInline(d,f)}}(this),textChildren:function(b){return function(d,c){return b.parseInlineText(d,f)}}(this),escape:function(b){null==b&&(b="undefined");return b.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")},safeUrl:function(b){return/^\//.test(b)?b:/^[^\/]*:/.test(b)?b.replace(/^[^:]*/,function(b){b=b.toLowerCase().replace(/[^\w-]/g,"");return!b||/script|data/.test(b)?"http":b}):"http://"+b},text:function(b){return this.escape(b)},
plaintext:function(b){return b},plaintextn:function(b){return this.plaintext(b)+"\n"},html:function(b,d,f){var c,e,g,h,l;g=null!=f?f:{};f=g.attrs;e=g.newlineAfterTag;l=g.preTag;h=g.postTag;g="";null!=l&&(g+=l);g+="<"+b;if(null!=f)for(c in f)if(l=f[c],null!=l){if("src"===c||"href"===c)l=this.safeUrl(l);g+=" "+(""+c+'="'+this.escape(l)+'"')}g+=">";e&&(g+="\n");null!=d&&(g+=d+("</"+b+">"),null!=h&&(g+=h));return g},htmln:function(){var b;b=1<=arguments.length?G.call(arguments,0):[];return this.html.apply(this,
b)+"\n"}};return c.process()};c.prototype.parseBlocks=function(b,d){null==d&&(d={});return this.parse(this.parseBlockOutput,b,d)};c.prototype.parseInline=function(b,d){null==d&&(d={});return this.parse(this.parseInlineOutput,b,d)};c.prototype.parseBlocksText=function(b,d){null==d&&(d={});return this.parse(this.parseBlockOutputText,b,d)};c.prototype.parseInlineText=function(b,d){null==d&&(d={});return this.parse(this.parseInlineOutputText,b,d)};f=function(b){return b.replace(/\r\n|\r/g,"\n").replace(/\t/g,
"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n")};c.prototype.format=function(b,d){var c;null==d&&(d={});b=f(b);return{output:this.options.inlineOnly?this.formatInline(b,d):(d=_.extend({top:!0},d),c=this.blockLex(b,d,null,!0),this.parseBlocks(c,d)),locations:d.locations}};c.prototype.formatInline=function(b,d,f){null==d&&(d={});null==f&&(f=null);return this.parseInline(this.inlineLex(b,d,f,!0),d)};c.prototype.text=function(b,d){var c,l;null==d&&(d={});b=f(b);c=this.options.inlineOnly?this.textInline(b,
d):(d=_.extend({top:!0},d),l=this.blockLex(b,d,null,!0),this.parseBlocksText(l,d));c=c.replace(/^\s*|\s*$/g,"").replace(/\n(\x20*\n)+/g,"\n\n");return{output:c,locations:d.locations}};c.prototype.textInline=function(b,d){null==d&&(d={});return this.parseInlineText(this.inlineLex(b,d,ranges,!0),d)};c.prototype.analyze=function(b,d){null==d&&(d={});b=f(b);this.options.inlineOnly?this.inlineLex(b,d):(d=_.extend({top:!0},d),this.blockLex(b,d,null,!0));return d.locations};c.prototype.getMatches=function(b,
d,f){var c,q,k,m,n,s;null==f&&(f={});q=this.analyze(b);m={};for(c in d)m[c]=[];n=0;for(s=q.length;n<s;n++)c=q[n],c.rule in d&&(k=b.slice(c.start,c.stop),k=!(c.rule in f)?k:f[c.rule](k),m[c.rule].push(k));return m};c.prototype.replace=function(b,d,f){var c,q,k,m,n,s,u;c=_.sortBy(this.analyze(b),function(b){return-b.start});q=b.length;s=0;for(u=c.length;s<u;s++)n=c[s],k=n.rule,m=n.start,n=n.stop,0<=F.call(d,k)&&n<=q&&(b=[b.slice(0,m),f(b.slice(m,n),{rule:k,options:this.options}),b.slice(n)].join(""),
q=m);return b};return c}();Eb=function(){function c(b){this.spans=null!=b?b:[]}var b,d,f;c.fromString=function(b){return new c([[0,b.length]])};c.prototype.clone=function(){return new c(_.clone(this.spans))};f=function(b,d){var f,c,q,k,m,n,s,u;f=[];m=_.clone(b);for(s=0;m.length;)c=m.shift(),s>=d.length?f.push(c):(k=c[0],q=c[1],n=d[s],u=n[0],n=n[1],n<=k?(m.unshift(c),s++):u>=q?f.push(c):u<=k&&n<q?(m.unshift([n,q]),s++):u<=k&&n>=q||(u>k&&n<q?(f.push([k,u]),m.unshift([n,q]),s++):u>k&&n>=q&&f.push([k,
u])));return f};c.prototype.subtract=function(b){return new c(f(this.spans,b.spans))};b=function(b,d){var f,c,q,k;q=0;for(k=b.length;q<k;q++){f=b[q];c=f[0];f=f[1];f-=c;if(d<=f)return c+d;d-=f}throw Error("invalid position");};d=function(d,c,h){var l;c=b(d,c);l=b(d,h);h=[0,c];c=[l,_.last(d)[1]];return f(d,[h,c])};c.prototype.slice=function(b,f){return _.isString(f)?this.slice(b,b+f.length):new c(d(this.spans,b,f))};return c}();"undefined"!==typeof module&&null!==module&&(module.exports=Ha);"function"===
typeof require&&(Ha=require("./trelloMarkdown.coffee"),Db=require("./EmojiMap.coffee"));var kd;kd=function(){function c(){var b;b={lookupEmoji:this.lookupEmoji,lookupCardInfo:this.lookupCardInfo,lookupMember:this.lookupMember};this.full=new Ha(b);this.comments=new Ha(_.extend({restrict:{block:"blockquote code fencedCode hr list newline paragraph".split(" "),inline:"atMention autolink cardReference break code em email emailLink emoji link strong strikethrough url".split(" ")}},b));this.checkItems=
new Ha(_.extend({inlineOnly:!0,restrict:{inline:"atMention autolink cardReference code em email emailLink emoji link strong strikethrough url".split(" ")}},b));this.emailSubjects=new Ha({inlineOnly:!0,restrict:{inline:["atMention","hashtag"]}});this.emailBodies=new Ha({restrict:{block:"newline code fencedCode heading lheading hr blockquote list def blockAtMention paragraph text error".split(" "),inline:"escape autolink url link reflink nolink strong em code break hashtag cardReference emoji text error email emailLink strikethrough".split(" ")}})}
c.prototype.lookupEmoji=function(){throw Error("not implemented");};c.prototype.lookupMember=function(){throw Error("not implemented");};c.prototype.lookupCardInfo=function(){throw Error("not implemented");};return c}();"undefined"!==typeof exports&&null!==exports&&(exports.TFM=kd);var wa,k=function(c,b){return function(){return c.apply(b,arguments)}},E={}.hasOwnProperty,s=function(c,b){function d(){this.constructor=c}for(var f in b)E.call(b,f)&&(c[f]=b[f]);d.prototype=b.prototype;c.prototype=new d;
c.__super__=b.prototype;return c};wa=new (function(c){function b(){this.ready=k(this.ready,this);this.percentage=k(this.percentage,this);this.refreshPercentages=k(this.refreshPercentages,this);null!=window._abPercentagesAtLoad?(this._ready=!0,this._percentages=window._abPercentagesAtLoad):(this._ready=!1,this._percentages={});this._pending=[];this._cookie=$.cookie("ab")}s(b,c);b.prototype.getDefaultId=function(){return this.__getDefaultId()};b.prototype.__getDefaultId=function(){if("everything"===
this._cookie)return this._cookie;if(z.isLoggedIn())return z.myId();this._cookie||(this._cookie=this._hasher(""+Math.random()).substr(0,16),$.cookie("ab",this._cookie,{path:"/",expires:60}));return this._cookie};b.prototype.event=function(b,f){null==f&&(f=this.getDefaultId());return $.post("/ab",{id:f,event:b})};b.prototype.tests=function(b){null==b&&(b=this.getDefaultId());return _.mapObj(this._percentages,function(f){return function(c,e){return["AB_"+e,f.inTest(e,b)]}}(this))};b.prototype.refreshPercentages=
function(){return $.ajax("/ab/enabled",{dataType:"json"}).success(function(b){return function(f){var c,e,h,l;b._percentages=f;b._ready=!0;c=b._pending;b._pending=[];l=[];e=0;for(h=c.length;e<h;e++)f=c[e],l.push("function"===typeof f?f():void 0);return l}}(this))};b.prototype.percentage=function(b,f){return"everything"===f?100:this._percentages[b]};b.prototype.ready=function(b){return this._ready?"function"===typeof b?b():void 0:this._pending.push(b)};return b}(jd));wa._ready||wa.refreshPercentages();
G=[].slice;E={}.hasOwnProperty;s=function(c,b){function d(){this.constructor=c}for(var f in b)E.call(b,f)&&(c[f]=b[f]);d.prototype=b.prototype;c.prototype=new d;c.__super__=b.prototype;return c};Ha.lexerInlineRules.url.token=_.wrap(Ha.lexerInlineRules.url.token,function(){var c,b,d;b=arguments[0];c=2<=arguments.length?G.call(arguments,1):[];d=c[0][0];return _.extend(b.apply(null,c),{known:Fb.interpret(d,B.getCurrentModelCache())})});Ha.prototype.parseInlineOutput.link=_.wrap(Ha.prototype.parseInlineOutput.link,
function(c,b){var d;return null!=(d=b.known)?(d=this.html("img",null,{attrs:{src:d.icon,"class":"known-service-icon"}})+this.html("span",this.text(d.text),{attrs:{id:d.id}}),this.html("a",d,{attrs:{href:b.url,title:b.title,target:"_blank","class":"known-service-link"}})):c.call(this,b)});Sa=new (function(c){function b(){b.__super__.constructor.call(this)}s(b,c);b.prototype.lookupEmoji=function(b,f){var c,e,h;b=b.toLowerCase();return null!=(c=null!=(e=f.textData)?null!=(h=e.emoji)?h[b]:void 0:void 0)?
c:Db[b]};b.prototype.lookupMember=function(b,f){var c;return(c=ba.findOne(B.getCurrentModelCache(),function(f){return f.hasAtMe("@"+b)}))?[c.get("fullName"),z.isMe(c)]:[null,!1]};b.prototype.lookupCardInfo=function(b,f){var c,e;b=parseInt(b,10);e=null!=f?null!=(c=f.board)?c.id:void 0:void 0;null==e&&B.onAnyBoardView()&&(e=B.idModel);c=Da.findOne(B.getCurrentModelCache(),function(f){return f.get("idBoard")===e&&f.get("idShort")===b});if(null!=c)return{title:c.get("name"),url:B.getCardUrl(c)};c="Card "+
b;return{title:c,url:B.getCardUrlWithoutModels(e,b,c)}};return b}(kd));"undefined"!==typeof exports&&null!==exports&&(exports.TFM=Sa);"undefined"!==typeof window&&null!==window&&(window.TFM=Sa);(function(){var c,b,d;c=[];b=2;d=null;$(function(){d=_.debounce(function(){if(0<c.length){try{$.post("/err",{errors:c})}catch(b){}return c=[]}},1E3);return d()});window.onerror=function(f,g,e,h,l){var q,k,m;if(RegExp("https?://("+location.host+"|[a-z0-9]+\\.cloudfront\\.net|a.trellocdn.com)/").test(g)&&!(0>=
b))return q={name:null!=l?l.name:void 0,msg:null!=(k=null!=l?l.message:void 0)?k:f,url:g,line:e,col:h,stack:null!=l?l.stack:void 0,ua:"undefined"!==typeof navigator&&null!==navigator?navigator.userAgent:void 0,browser:"undefined"!==typeof ma&&null!==ma?ma.asString:void 0,language:null!=(m=navigator.language)?m:navigator.browserLanguage,clientVersion:clientVersion},"undefined"!==typeof z&&null!==z&&z.isLoggedIn()&&(q.idMember=z.myId()),_.any(c,function(b){return _.isEqual(b,q)})||(b--,c.push(q),"function"===
typeof d&&d()),"function"===typeof n&&n("Client JS Error",f),!1};return window.crashTest=function(){return setTimeout(function(){return thingThatDoesNotExist.crash},1)}})();var nc,Ke,ld,Le,Me,Ne,Oe,md,rb,Pe,Qe,Re,Se,nd,Te,Ue,Ve,We,od,Xe,Ye,pd,Ze,$e,af,bf,cf,df;rb="addAttachmentToCard,addChecklistToCard,addMemberToCard,commentCard,copyCommentCard,convertToCardFromCheckItem,createCard,copyCard,deleteAttachmentFromCard,emailCard,moveCardFromBoard,moveCardToBoard,removeChecklistFromCard,removeMemberFromCard,updateCard:idList,updateCard:closed,updateCheckItemStateOnCard";
nc=[rb,"addMemberToBoard,addToOrganizationBoard,copyBoard,createBoard,createList,deleteCard,disablePowerUp,enablePowerUp,makeAdminOfBoard,makeNormalMemberOfBoard,makeObserverOfBoard,moveListFromBoard,moveListToBoard,removeFromOrganizationBoard,unconfirmedBoardInvitation,unconfirmedOrganizationInvitation,updateBoard,updateList:closed"].join();nd=[nc,"updateMember"].join();ld=["dateLastActivity","dateLastView"];Le={fields:"name,closed,dateLastActivity,dateLastView,idOrganization,prefs,shortLink,shortUrl,url",
organization:!0,organization_fields:"name,displayName,products,prefs,logoHash",myPermLevel:!0};Oe={boards:"open,starred",board_fields:"name,closed,dateLastActivity,dateLastView,idOrganization,prefs,shortLink,shortUrl,url",boardStars:!0,organizations:"all",organization_fields:"name,displayName,products,prefs,logoHash",board_organization:!0,board_organization_fields:"name,displayName,products,prefs,logoHash",board_myPermLevel:!0};Xe={fields:"",boards:"open,starred",board_fields:ld};Ne={fields:ld};md=
{fields:"all",stickers:!0,attachments:!0};rb={actions:rb,action_memberCreator_fields:"fullName,initials,memberType,username,avatarHash,bio,bioData,confirmed,products,idPremOrgsAdmin",members:!0,member_fields:"fullName,initials,memberType,username,avatarHash,bio,bioData,confirmed,products,status",actions_limit:1E3,attachments:!0,fields:"",checklists:"all"};Qe={fields:"idMembersVoted",membersVoted:!0};Pe={members:!0,member_fields:"fullName,initials,memberType,username,avatarHash,bio,bioData,confirmed,products,status",
attachments:!0,stickers:!0,fields:"",checklists:"all"};Re={lists:"all",cards:"visible",card_attachments:"cover",card_stickers:!0,card_fields:"badges,closed,dateLastActivity,desc,descData,due,idAttachmentCover,idList,idBoard,idMembers,idShort,labels,name,pos,shortUrl,shortLink,subscribed,url",card_checklists:"none",members:"all",member_fields:"fullName,initials,memberType,username,avatarHash,bio,bioData,confirmed,products,status",membersInvited:"all",membersInvited_fields:"fullName,initials,memberType,username,avatarHash,bio,bioData,confirmed,products",
checklists:"none",organization:!0,organization_fields:"name,displayName,desc,descData,url,website,prefs,memberships,logoHash,products",myPrefs:!0,fields:"name,closed,dateLastActivity,dateLastView,idOrganization,prefs,shortLink,shortUrl,url,desc,descData,invitations,invited,labelNames,memberships,pinned,powerUps,subscribed"};Me={fields:"",actions:nc,actions_limit:50,action_memberCreator_fields:"fullName,initials,memberType,username,avatarHash,bio,bioData,confirmed,products,idPremOrgsAdmin"};Ke={fields:"",
checklists:"none",cards:"visible",card_fields:"",card_checklists:"all"};Se={tokens:"all",sessions:"all",credentials:"all",paid_account:!0,credits:"invitation,promoCode",logins:!0};We={paid_account:!0};Te={boards:"open,starred",board_fields:"name,closed,dateLastActivity,dateLastView,idOrganization,prefs,shortLink,shortUrl,url,subscribed",boardStars:!0,boardsInvited:"all",boardsInvited_fields:"name,closed,dateLastActivity,dateLastView,idOrganization,prefs,shortLink,shortUrl,url,subscribed",board_organization:!0,
board_organization_fields:"name,displayName,products,prefs,logoHash",credits:"invitation,promoCode",organizations:"all",organization_fields:"name,displayName,products,prefs,logoHash",organizationsInvited:"all",organizationsInvited_fields:"name,displayName,products,prefs,logoHash",paid_account:!0};pd={board:!0,list:!0,fields:"badges,closed,due,idAttachmentCover,idList,idBoard,idMembers,idShort,labels,name,url",attachments:"true",members:"true",stickers:"all",member_fields:"fullName,initials,memberType,username,avatarHash,bio,bioData,confirmed,products"};
Ue={boards:"open",board_fields:"name,closed,idOrganization,prefs",board_lists:"open",board_memberships:"me",cards:"visible",card_fields:"badges,closed,dateLastActivity,desc,descData,due,idAttachmentCover,idList,idBoard,idMembers,idShort,labels,name,pos,shortUrl,shortLink,subscribed,url",card_attachments:"true",card_stickers:!0,card_members:"true",card_member_fields:"fullName,initials,memberType,username,avatarHash,bio,bioData,confirmed,products",organizations:"all",organization_fields:"displayName,name,prefs,products",
organization_memberships:"me",paid_account:!0};Ve={fields:"fullName,initials,memberType,username,avatarHash,bio,bioData,confirmed,products"};od={actions:"all",actions_limit:10,organizations:"all",organization_fields:"name,displayName,products,prefs,logoHash",boards:"open",board_fields:"name,prefs,idOrganization",paid_account:!0};Ze={boards:"open",board_fields:"name,closed,dateLastActivity,dateLastView,idOrganization,prefs,shortLink,shortUrl,url,subscribed",fields:"all",members:"all",member_fields:"fullName,initials,memberType,username,avatarHash,bio,bioData,confirmed,products,status",
membersInvited:"all",membersInvited_fields:"fullName,initials,memberType,username,avatarHash,bio,bioData,confirmed,products",paid_account:!0};$e={boards:"open",board_fields:"name,closed,dateLastActivity,dateLastView,idOrganization,prefs,shortLink,shortUrl,url,subscribed",fields:"all",paid_account:!0};df={paid_account:!0};af={member_activity:!0,boards:"open",board_fields:"name,closed,memberships",fields:"all",members:"all",member_fields:"fullName,initials,memberType,username,avatarHash,bio,bioData,confirmed,products,status",
membersInvited:"all",membersInvited_fields:"fullName,initials,memberType,username,avatarHash,bio,bioData,confirmed,products",paid_account:!0};bf={members:"all"};cf={fields:"all"};Ye={notifications:"all",notifications_limit:5,notification_memberCreator_fields:"fullName,initials,memberType,username,avatarHash,bio,bioData,confirmed,products",organizations:"all",organization_paid_account:!0,organization_fields:"name,displayName",paid_account:!0};var ja;ja=new (function(){function c(){}c.prototype._storage=
window.localStorage;c.prototype.enabled=function(){return null!=this._storage};c.prototype.set=function(b,d){var f;try{return null!=(f=this._storage)?f[b]=JSON.stringify(d):void 0}catch(c){}};c.prototype.get=function(b){var d;if(b=null!=(d=this._storage)?d[b]:void 0)try{return JSON.parse(b)}catch(f){return null}else return null};c.prototype.unset=function(b){var d,f;if(null!=(null!=(d=this._storage)?d[b]:void 0))return null!=(f=this._storage)?delete f[b]:void 0};return c}());var qd,J,k=function(c,
b){return function(){return c.apply(b,arguments)}},G=[].slice;qd=new (function(){function c(){this.log=k(this.log,this);var b;this.enabled=null!=(b=ja.get("loggers"))?b:{};this.historyMap={};this.logHistory=!1;this.timeSpent={};this.timing={}}c.prototype.log=function(){var b,d,f;f=arguments[0];b=2<=arguments.length?G.call(arguments,1):[];if("undefined"!==typeof console&&null!==console&&console.log&&(0===b.length?(d=!0,b.push(f),f="all"):d=this.enabled.all||this.enabled[f],d&&(1===b.length&&_.isArray(b[0])&&
(b=b[0]),b.unshift(f),$("body").is(".chrome")?console.log(b):console.dir(b)),this.logHistory)){if(null==(d=this.historyMap)[f])d[f]=[];this.historyMap[f].push(b)}};c.prototype.enable=function(b){null==b&&(b="all");this.enabled[b]=!0;this.save()};c.prototype.disable=function(b){null==b&&(b="all");delete this.enabled[b];this.save()};c.prototype.disableAll=function(){this.enabled={};this.save()};c.prototype.enableAll=function(){this.enabled.all=!0;this.save()};c.prototype.history=function(b){var d,f,
c;if(b in this.historyMap){c=this.historyMap[b];d=0;for(f=c.length;d<f;d++)b=c[d],"undefined"!==typeof console&&null!==console&&"function"===typeof console.log&&console.log(b)}};c.prototype.list=function(){"undefined"!==typeof console&&null!==console&&"function"===typeof console.log&&console.log(_.keys(this.historyMap))};c.prototype.save=function(){ja.set("loggers",this.enabled)};c.prototype.time=function(b){return this.timing[b]=performance.now()};c.prototype.endTime=function(b){var d,f;d=performance.now()-
this.timing[b];if(null==(f=this.timeSpent)[b])f[b]=0;return this.timeSpent[b]+=d};return c}());J=qd.log;window.Logger=qd;var ma,rd,Gb,ef,k=function(c,b){return function(){return c.apply(b,arguments)}};rd=function(){function c(){this.searchVersion=k(this.searchVersion,this);this.searchString=k(this.searchString,this);this.browser=this.searchString(this.dataBrowser)||"unknown-browser";this.version=this.searchVersion(navigator.userAgent)||this.searchVersion(navigator.appVersion)||"unknown-browser-version";
this.OS=this.searchString(this.dataOS)||"unknown-os"}c.prototype.searchString=function(b){var d,f,c;f=0;for(c=b.length;f<c;f++)if(d=b[f],this.versionSearchString=d.versionSearch||d.identity,d.string&&-1!==d.string.indexOf(d.subString)||d.prop)return d.identity};c.prototype.searchVersion=function(b){var d;d=b.indexOf(this.versionSearchString);if(-1!==d)return parseFloat(b.substring(d+this.versionSearchString.length+1))};c.prototype.dataBrowser=[{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},
{string:navigator.userAgent,subString:"OmniWeb",versionSearch:"OmniWeb/",identity:"OmniWeb"},{string:navigator.vendor,subString:"Apple",identity:"Safari",versionSearch:"Version"},{prop:window.opera,identity:"Opera"},{string:navigator.vendor,subString:"iCab",identity:"iCab"},{string:navigator.vendor,subString:"KDE",identity:"Konqueror"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.vendor,subString:"Camino",identity:"Camino"},{string:navigator.userAgent,subString:"Netscape",
identity:"Netscape"},{string:navigator.userAgent,subString:"MSIE",identity:"Explorer",versionSearch:"MSIE"},{string:navigator.userAgent,subString:"Gecko",identity:"Mozilla",versionSearch:"rv"},{string:navigator.userAgent,subString:"Mozilla",identity:"Netscape",versionSearch:"Mozilla"}];c.prototype.dataOS=[{string:navigator.platform,subString:"Win",identity:"Windows"},{string:navigator.platform,subString:"Mac",identity:"Mac"},{string:navigator.userAgent,subString:"iPhone",identity:"iPhone"},{string:navigator.userAgent,
subString:"iPod",identity:"iPod"},{string:navigator.userAgent,subString:"iPad",identity:"iPad"},{string:navigator.userAgent,subString:"Android",identity:"Android"},{string:navigator.platform,subString:"Linux",identity:"Linux"}];return c}();Gb=ef=new rd;ma=new (function(){function c(){this.hasDownloadAttribute=k(this.hasDownloadAttribute,this);this.allowsDynamicFavicon=k(this.allowsDynamicFavicon,this);this.isHighDPI=k(this.isHighDPI,this);this.isTouch=k(this.isTouch,this);this.browserStr=Gb.browser.toLowerCase();
this.browserVersionStr=(""+Gb.browser+"-"+Gb.version).toLowerCase();this.osStr=Gb.OS.toLowerCase();this.asString=""+this.browserStr+" "+this.browserVersionStr+" "+this.osStr;$(function(b){return function(){return $("body").addClass(b.asString)}}(this))}c.prototype.isTouch=function(){var b;return"ipad"===(b=this.osStr)||"iphone"===b||"android"===b};c.prototype.isHighDPI=function(){return 1<window.devicePixelRatio};c.prototype.allowsDynamicFavicon=function(){var b;return"chrome"===(b=this.browserStr)||
"firefox"===b};c.prototype.hasDownloadAttribute=function(){var b;return"chrome"===(b=this.browserStr)||"firefox"===b||"opera"===b};return c}());var z,F=[].indexOf||function(c){for(var b=0,d=this.length;b<d;b++)if(b in this&&this[b]===c)return b;return-1};z=new (function(){function c(){this.check()}var b,d,f;d=b=null;f="token"+window.location.port;c.prototype.isLoggedIn=function(){return"notLoggedIn"!==b};c.prototype.myId=function(){return b};c.prototype.myUsername=function(){var b;return null!=(b=
this.me())?b.get("username"):void 0};c.prototype.myToken=function(){return d};c.prototype.me=function(){var d,f,c,l,q;f=ba.get("header",b);if(null==f&&!this.isLoggedIn())for(c in d=ModelCacheCache["for"]("header"),f=new ba({id:"notLoggedIn",notLoggedIn:!0},{modelCache:d}),d.add(f),l=ModelCacheCache._caches,l)d=l[c],(q=d.getCacheType(),0<=F.call(sb.fullCacheTypes,q))&&d.add(new ba({id:"notLoggedIn",notLoggedIn:!0},{modelCache:d}));return f};c.prototype.isMe=function(d){return null!=d&&d.id?this.isMe(d.id):
d===b};c.prototype.confirmed=function(){return this.me().get("confirmed")};c.prototype.canLogIn=function(){var b,d;return!_.isEmpty(null!=(b=null!=(d=this.me())?d.get("loginTypes"):void 0)?b:[])};c.prototype.check=function(){this.updateToken();"undefined"!==typeof rpc&&null!==rpc&&rpc.handleLogin()};c.prototype.updateToken=function(){d=$.cookie(f)||"";return b=d.split("/")[0]||"notLoggedIn"};c.prototype.consistencyCheck=function(b){var d;d=!this.isLoggedIn()||this.isMe(this.me());d||($.cookie(f,null,
{path:"/"}),b.reloadOnError&&window.location.reload());return d};return c}());var Hb,sd;sd=[16,17,18,27,20];Hb=[37,39,38,40];var F=[].indexOf||function(c){for(var b=0,d=this.length;b<d;b++)if(b in this&&this[b]===c)return b;return-1},G=[].slice,E={}.hasOwnProperty,m=_.extend(Ra,{stopPropagation:function(c){return null!=c?c.stopPropagation():void 0},preventDefault:function(c){return null!=c?c.preventDefault():void 0},stop:function(c){m.stopPropagation(c);return m.preventDefault(c)},securePage:function(){return"https:"===
document.location.protocol},getNaturalNumber:function(c){var b;_.isString(c)||(c=String(c));if(c){if("1"===c.charAt(c.length-2))return""+c+"th";b=c.charAt(c.length-1);switch(b){case "4":case "5":case "6":case "7":case "8":case "9":case "0":return""+c+"th";case "1":return""+c+"st";case "2":return""+c+"nd";case "3":return""+c+"rd"}}},checkEmail:function(c,b){null==b&&(b="");return RegExp('^[^"@\\s\\[\\]\\(\\),:;<>\\\\]+@[-a-z0-9\\.'+b+"]+\\.[a-z"+b+"]+$","i").test(c)},removeDomainFromEmailAddress:function(c,
b){null==b&&(b="");return c.replace(RegExp("@[-a-z0-9\\."+b+"]+\\.[a-z"+b+"]+$"),"")},validName:function(c){return 3<c.length||1<c.length&&this.hasChineseCharacters(c)},hasChineseCharacters:function(c){return/[\u3400-\u9FBF\s]/.test(c)},spaces:function(c){this.longStr||(this.longStr=" ");for(;this.longStr.length<c;)this.longStr+=this.longStr;return this.longStr.substr(0,c)},_pad:function(c,b,d,f){null==d&&(d=" ");c=c.toString();if(c.length>b)return c.substr(0,b);b-=c.length;d=" "===d?this.spaces(b):
this.times(d,b);return f?d+c:c+d},rpad:function(c,b,d){return this._pad(c,b,d,!1)},lpad:function(c,b,d){return this._pad(c,b,d,!0)},times:function(c,b){var d;return _.map(function(){d=[];for(var f=0;0<=b?f<b:f>b;0<=b?f++:f--)d.push(f);return d}.apply(this),function(){return c}).join("")},truncate:function(c,b){var d;return!(null!=c&&c.length)||c.length<b?c:(d=c.substr(0,c.lastIndexOf(" ",b)))?d:c.substr(0,b)},scrollToTop:function(){return $(window).scrollTop(0)},isSubmitKey:function(c){return null!=
c&&(13===c||10===c||m.isSubmitKey(c.keyCode)||m.isSubmitKey(c.which))},isForceSubmitKey:function(c){return m.isSubmitKey(c)&&(c.ctrlKey||c.metaKey)&&!c.shiftKey},getProtocol:function(c){var b,d;return!c?"":null!=(b=null!=(d=/^([a-z]+):/i.exec(c))?d[1]:void 0)?b:""},makeHttp:function(c){if(!c)return"";c=c.replace(/^[a-z]*:\/*/i,"");return"http://"+c},sanitizeWebAddress:function(c){var b;return"http"!==(b=m.getProtocol(c))&&"https"!==b?m.makeHttp(c):c},isInPosition:function(c,b,d){if(null==(null!=d?
d.id:void 0))return!1;c=b[c];return(null!=c?c.id:void 0)===d.id},calcPos:function(c,b,d,f,g){var e;b=b.select(function(b){return(!(null!=d&&d.id===b.id)||g)&&(!f||f(b))});if(m.isInPosition(c,b,d))return null!=(e=d.pos)?e:d.get("pos");e=Math.min(Math.max(c,0),b.length);c=b[e-1];e=b[e];b=(null!=d?d.get("pos"):void 0)||-1;c=null!=c?c.get("pos"):-1;e=null!=e?e.get("pos"):-1;return-1===e?d&&b>c?b:c+65536:d&&b>c&&b<e?b:0<=c?(e+c)/2:e/2},pushSupport:function(){return!(!window.history||!window.history.pushState||
m.isNonPushstateAndroid())},parseDate:function(c){return H.parse(c)},randomWait:function(c,b){return Math.floor(c+Math.random()*b)},toTitleCase:function(c){return c.replace(/\w\S*/g,function(b){return b.charAt(0).toUpperCase()+b.substr(1).toLowerCase()})},calcBoardLayout:function(){return $(window).trigger("resize")},navMenuList:function(c,b,d){var f,g,e,h,l;e=c.find(b);g=c.find(""+b+".selected:first")[0];l=_.indexOf(e,g);g=e[0];h=e[e.length-1];h=0>l-1?h:e[l-1];e=l+1>e.length?g:e[l+1];40===d&&(f=
e);38===d&&(f=h);return this.selectMenuItem(c,b,f)},selectMenuItem:function(c){return function(b,d,f){b.find(d).removeClass("selected");return $(f).addClass("selected")}}(this),insertSelection:function(c,b,d,f){var g;c=m.getElem(c);g=$(c).val();d||f?(""===g.substring(f)?$(c).val(""+(g.substring(0,d)+b)):$(c).val(""+(g.substring(0,d)+b+g.substring(f))),this.setCaretPosition(c,d+(""+b).length)):($(c).val(""+(g+b)),this.setCaretPosition(c,(""+(g+b)).length));return $(c).focus()},getWordFromCaret:function(c){var b,
d,f;c=m.getElem(c);f=$(c).val();b=this.getCaretPosition(c);d=Math.max(f.lastIndexOf("\n",b-1),f.lastIndexOf(" ",b-1));d+=1;c=Math.max(f.indexOf("\n",b),f.indexOf(" ",b));-1===c&&(c=f.length);" "===f.charAt(c)&&(d=f.lastIndexOf(" ",b-1)+1);b=c-d;f=""+f.slice(d,c);return{start:d,end:c,length:b,str:f}},getCaretPosition:function(c){var b,d;c=m.getElem(c);c.selectionStart?b=c.selectionStart:0<=F.call(document,"selection")&&(c.focus(),b=document.selection.createRange(),d=document.selection.createRange().text.length,
b.moveStart("character",-c.value.length),b=b.text.length-d);return b},setCaretPosition:function(c,b){var d;c=m.getElem(c);if(c.setSelectionRange)return c.focus(),c.setSelectionRange(b,b);if(c.createTextRange)return d=c.createTextRange(),d.collapse(!0),d.moveEnd("character",b),d.moveStart("character",b),d.select()},setCaretAtEnd:function(c){var b;if(c)return b=$(c).val().length,this.setCaretPosition(c,b)},getLastWord:function(c){c=$(c).val().split(" ");return _.last(c)},replaceLastWord:function(c,
b){var d;d=RegExp(""+this.getLastWord(c)+"$");d=$(c).val().replace(d,"");return $(c).val(""+(d+b))},removeWordOnCaret:function(c){var b;b=RegExp(""+m.getWordFromCaret(c).str);b=$(c).val().replace(b,"");$(c).val(""+b)},getMemNameArray:function(c,b){var d,f,g;_.isString(b)&&(b=ba.get(c,b));return null==b?[]:(""+(null!=(d=b.get("username"))?d.toLowerCase():void 0)+" "+(null!=(f=b.get("fullName"))?f.toLowerCase():void 0)+" "+(null!=(g=b.get("initials"))?g.toLowerCase():void 0)).split(" ")},filterMembers:function(c){return function(b,
d,f){var c,e,h,l,q;h=RegExp("^"+m.escapeForRegex(d),"i");d=[];l=0;for(q=f.length;l<q;l++)c=f[l],e=m.getMemNameArray(b,c),_.find(e,function(b){return h.test(b)})&&d.push(c);return d}}(this),filterLabels:function(c){return function(b){var d,f,c,e,h,l;c=RegExp("^"+m.escapeForRegex(b),"i");d=[];l=m.labels;e=0;for(h=l.length;e<h;e++)b=l[e],f=boardView.model.getLabelName(b).split(" "),f.push(b),_.find(f,function(b){return c.test(b)})&&d.push(b);return d}}(this),jqGetActiveElement:function(){try{return $(document.activeElement)}catch(c){return $()}},
getImgHeightAndWidth:function(c,b){var d;d=new Image;d.src=c;return d.onload=function(){return b({height:this.height,width:this.width})}},getQueryParameter:function(c,b){var d,f;null==b&&(b="");d=RegExp("[?&]"+c+"=([^?&]*)");d=null!=(f=d.exec(location.search))?f:d.exec(location.hash);f=null!=d?d[1]:void 0;return null!=f?decodeURIComponent(f.replace(/\+/g," ")):b},validFileSize:function(c,b){null==b&&(b=10485760);return(null!=c?c.size:void 0)<b},validCardUpload:function(c){var b;return null!=(b=z.me())&&
b.isFeatureEnabled("largeAttachments")?this.validFileSize(c,262144E3):this.validFileSize(c,10485760)},uploadFile:function(c,b){var d,f;f=_.uniqueId("iframe");d=$("<iframe>").attr("name",f).css("display","none").appendTo("body").load(function(f){var c;_.defer(function(){return d.remove()});try{c=d.contents().text()}catch(h){return b("File too large")}return/File too large/i.test(c)?b(c):b()});c.closest("form").attr("target",f).find("input[name=token]").val(z.myToken()).end().submit();return _.defer(function(){return c.val("")})},
hasValidInviteTokenFor:function(c,b){var d,f;if(!this.hasInviteTokenFor(b))return!1;d=oa.get(c,b)||Va.get(c,b);f=ba.get(c,m.inviteTokenFor(b).split("-")[0]);return null!=f&&("virtual"===d.getMemberType(f)||d.isMember(f)&&"ghost"===f.get("memberType"))},hasInviteTokenFor:function(c){return null!=c&&null!=$.cookie("invite-token-"+c)},inviteTokenFor:function(c){return $.cookie("invite-token-"+c)},invitationTokens:function(){var c,b,d,f;b=/invite-token-[-a-f0-9]*/g;for(f=[];null!=(c=null!=(d=b.exec(document.cookie))?
d[0]:void 0);)f.push($.cookie(c));return f},flashUnconfirmedWarning:function(){var c;c=$(".header-banner-warning");c.addClass("flash");return _.delay(function(b){return function(){return c.removeClass("flash")}}(this),500)},getElem:function(c){return c instanceof jQuery?c[0]:c},isTrelloAttachment:function(c){return 0===(null!=c?c.indexOf(attachmentsDomain):void 0)},voidDebounced:function(c,b){null==b&&(b=1);return _.debounce(function(){c.apply(this,arguments)},b)},getDebounced:function(c){0<c.length&&
J("getDebounced","used callback that takes arguments");null==c.debounced&&(c.debounced=this.voidDebounced(c));return c.debounced},debounceEvents:function(c){c.ond=function(){var b,d,f,g;d=arguments[0];b=arguments[1];f=3<=arguments.length?G.call(arguments,2):[];return(g=c.on).call.apply(g,[c,d,m.getDebounced(b)].concat(G.call(f)))};return c.offd=function(){var b,d,f,g;d=arguments[0];b=arguments[1];f=3<=arguments.length?G.call(arguments,2):[];return(g=c.off).call.apply(g,[c,d,m.getDebounced(b)].concat(G.call(f)))}},
callDebounced:function(c){return m.getDebounced(c)()},getElemTransformMatrix:function(c){c=c.css("-webkit-transform")||c.css("-moz-transform")||c.css("-ms-transform")||c.css("-o-transform")||c.css("transform");return"none"!==c?c:null},getMatrixDegrees:function(c){c=c.split("(")[1].split(")")[0].split(",");return Math.round(Math.atan2(c[1],c[0])*(180/Math.PI))},getMatrixScale:function(c){var b;b=c.split("(")[1].split(")")[0].split(",");c=b[0];b=b[1];return Math.sqrt(c*c+b*b)},getDegrees:function(c,
b){return Math.round(Math.atan2(c,b)*(180/Math.PI))},calcDistanceFromCenter:function(c,b,d){return Math.floor(Math.sqrt(Math.pow(b-(c.offset().left+c.width()/2),2)+Math.pow(d-(c.offset().top+c.height()/2),2)))},_runShredders:function(){var c,b,d,f,g,e;f=m._shredders;d=new Date;m._shredders=[];g=c=0;for(e=f.length;g<e;g++)b=f[g],d>b.time?(b.fn(),c++):m._shredders.push(b);J("shred","Shred "+c+" objects, "+m._shredders.length+" left");m._shredTimeout=null;return m._startShredTimer()},_startShredTimer:function(){if(!m._shredTimeout&&
0<m._shredders.length)return null!=m._shredTimeout?m._shredTimeout:m._shredTimeout=_.delay(m._runShredders,m.getMs({seconds:3}))},shred:function(c){null==m._shredders&&(m._shredders=[]);m._shredders.push({time:m.dateAfter({seconds:20}),fn:function(b){return function(){var b,f;f=[];for(b in c)E.call(c,b)&&f.push(delete c[b]);return f}}(this)});return m._startShredTimer()},newestId:function(c){return 0<c.length?_.reduce(c,function(b,d){return d.id>b.id?d:b}):null},extendEvents:function(c){return function(){return _.defaults(c,
_.result(this.constructor.__super__,"events"))}},relativeUrl:function(c){return c.replace(RegExp("^"+siteDomain),"")},isTextElement:function(c){var b,d;if(c instanceof HTMLTextAreaElement)return!0;if(!(c instanceof HTMLInputElement))return!1;if("text"===(b=c.type)||"email"===b||"password"===b||"search"===b)return!0;if("submit"===(d=c.type)||"reset"===d||"button"===d||"checkbox"===d)return!1;try{return c.selectionStart,!0}catch(f){return!1}},withoutAlteringSelection:function(c){var b,d,f,g,e,h,l;d=
document.activeElement;b=$(d);e=b.is(":focus");null!=d&&m.isTextElement(d)?(d.selectionStart?(h=d.selectionStart,g=d.selectionEnd,f=d.selectionDirection):l=this.getCaretPosition(d),c(),h?d.setSelectionRange(h,g,f):l&&this.setCaretPosition(d,l),e&&b.focus()):c()},extendParentClassName:function(c){return function(){return _.result(this.constructor.__super__,"className")+(" "+c)}},extendWithModelCacheHelpers:function(c){var b,d,f,g,e;g="Action Board Card Checklist List Member Notification Organization Auth".split(" ");
e=[];d=0;for(f=g.length;d<f;d++)b=g[d],e.push(function(b){return Object.defineProperty(c.prototype,b,{get:function(){return this.modelCache.bound[b]}})}(b));return e},waitForImageLoad:function(c,b){var d;d=new Image;d.onload=function(){return b(d)};return d.src=c},proxyImage:function(c){return/^\/[^\/]/.test(c)?c:"/image-proxy?url="+encodeURIComponent(c)},bugzscout:function(c,b){var d,f,g,e;d=c.area;f=c.description;g=c.extra;e=c.me;return $.ajax({url:"//our.fogbugz.com/ScoutSubmit.asp",type:"POST",
data:{ScoutUserName:"Trello Web Bugzscout",ScoutProject:"Trello Support",ScoutArea:d,Description:f,Extra:g,Email:'"'+e.fullName+'" <'+e.email+">",ForceNewBug:1,FriendlyResponse:0},success:function(){return"function"===typeof b?b():void 0},error:function(d,f){return"function"===typeof b?b(f):void 0}})},sortMembers:function(c){c.sort(function(b,d){var f,c;f=z.isMe(b);c=z.isMe(d);return f&&!c?-1:!f&&c?1:b.fullName<d.fullName?-1:b.fullName>d.fullName?1:0});return c},firstLessThan:function(c,b){var d,
f,g,e;g=0;for(e=b.length;g<e;g++)if(f=b[g],_.isArray(f)){if(d=f[0],f=f[1],c<=d)return _.isFunction(f)?f.call(this,c):f}else return _.isFunction(f)?f.call(this,c):f},hoursLeft:function(c){return(new Date(c)-new Date)/m.getMs({hours:1})},getDueDateBadgeClasses:function(c){return[this.firstLessThan(this.hoursLeft(c),[[-36,"badge-state-due-past"],[0,"badge-state-due-now"],[24,"badge-state-due-soon"],"badge-state-due-future"])]},getDueDateBadgeTitle:function(c){return this.firstLessThan(this.hoursLeft(c),
[[-36,"This card is past due."],[0,"This card is recently overdue!"],[1,"This card is due in less than an hour."],[1.3,"This card is due in about an hour."],[24,function(b){return"This card is due in "+this.firstLessThan(b%1,[[0.3,Math.floor(b).toString()],[0.7,""+Math.floor(b).toString()+" and a half"],Math.ceil(b).toString()])+" hours."}],"This card is due later."])},getDueDateBadgeAdditionalTitle:function(c){return this.firstLessThan(this.hoursLeft(c),[[-36,"past due"],[0,"recently past due!"],
[24,"due soon"],null])},mimeTypeMap:[{"application/vnd.google-apps.spreadsheet":"Google Spreadsheet","application/vnd.google-apps.document":"Google Document","application/vnd.google-apps.presentation":"Google Presentation","application/vnd.google-apps.form":"Google Form","application/vnd.google-apps.drawing":"Google Drawing","application/vnd.openxmlformats-officedocument.wordprocessingml.document":"Microsoft Word File","application/application/vnd.ms-word.document.12":"Microsoft Word File","application/application/vnd.msword":"Microsoft Word File",
"application/vnd.openxmlformats-officedocument.word":"Microsoft Word File","application/msword":"Microsoft Word File","application/doc":"Microsoft Word File","application/vnd.ms-powerpoint.addin.macroEnabled.12":"Microsoft PowerPoint File","application/vnd.ms-powerpoint":"Microsoft PowerPoint File","audio/aiff":"AIFF Audio File","audio/x-midi":"MIDI Audio File","audio/mpeg":"MP3 Audio File","application/ogg":"OGG Audio File","video/mpeg":"MP3 Video File","video/quicktime":"Quicktime Video File","audio/wav":"WAV Audio File",
"text/html":"HTML File","application/xhtml+xml":"HTML File","text/css":"CSS File","application/css-stylesheet":"CSS File","text/javascript":"JavaScript File","text/calendar":"Calendar File","application/rtf":"Rich Text Format File","text/x-python":"Python File","application/json":"JSON File","image/svg+xml":"SVG File","image/bmp":"Bitmap Image","image/png":"PNG Image","image/gif":"GIF Image","image/jpeg":"JPG Image","image/x-ico":"Favicon","application/pdf":"PDF File","application/acrobat":"PDF File",
"application/nappdf":"PDF File","application/x-pdf":"PDF File","application/vnd.pdf":"PDF File","text/pdf":"PDF File","text/x-pdf":"PDF File","application/vnd.oasis.opendocument.text":"Open Document Text File","application/x-iwork-keynote-sffkey":"Apple Keynote","application/postscript":"Postscript","application/illustrator":"Adobe Illustrator File","application/photoshop":"Adobe Photoshop File","text/x-vcard":"vCard File","application/zip":"ZIP Archive File"}],isGDriveUrl:function(c){return/^https:\/\/docs\.google\.com\//.test(c)},
isDropboxUrl:function(c){return/^https:\/\/www\.dropbox\.com\//.test(c)},isOneDriveUrl:function(c){return/^https:\/\/onedrive\.live\.com\//.test(c)},isBoxUrl:function(c){return/^https:\/\/app\.box\.com\//.test(c)},getRawDropboxUrl:function(c){return c.replace(/^https:\/\/www\.dropbox\.com\//,"https://dl.dropboxusercontent.com/")},getAttachmentData:function(c,b){var d,f,g;f=c.toJSON();f.canUseViewer=!0;f.ext=m.fileExt(f.name);f.removeText="Delete";f.openText="Download";f.openIconClass="movedown";f.doDownload=
!0;if((g=f.ext,0<=F.call(this.allViewerableExts(),g))&&!m.hasDownloadAttribute())f.openText="Open in New Tab",f.openIconClass="open",f.doDownload=!1;m.isGDriveUrl(f.url)?(f.isGDriveFile=!0,f.isExternal=!0,d=m.mimeTypeMap[f.mimeType],f.ext=null,f.serviceName="Google Drive",f.meta="Google Drive File",f.openText="Open in Google Drive",f.openIconClass="open",f.removeText="Remove",f.isKnownService=!0,f.previewClass="attachment-thumbnail-preview-google-drive-logo",f.doDownload=!1,d&&(f.meta=""+d)):m.isDropboxUrl(f.url)?
(f.isExternal=!0,f.serviceName="Dropbox",f.meta="Dropbox File",f.openText="Open in Dropbox",f.openIconClass="open",f.removeText="Remove",f.isKnownService=!0,f.previewClass="attachment-thumbnail-preview-dropbox-logo",d=f.url,f.url=m.getRawDropboxUrl(d),f.ext=m.fileExt(d),f.doDownload=!1):m.isOneDriveUrl(f.url)?(f.isExternal=!0,f.serviceName="OneDrive",f.meta="OneDrive File",f.openText="Open in OneDrive",f.openIconClass="open",f.removeText="Remove",f.isKnownService=!0,f.previewClass="attachment-thumbnail-preview-one-drive-logo",
f.doDownload=!1):m.isBoxUrl(f.url)?(f.isExternal=!0,f.serviceName="Box",f.meta="Box File",f.openText="Open in Box",f.openIconClass="open",f.removeText="Remove",f.isKnownService=!0,f.previewClass="attachment-thumbnail-preview-box-logo",f.doDownload=!1):f.isUpload?f.meta=mb.bytes(f.bytes):(g=Fb.interpret(f.url,b),f.openText="Open in New Tab",f.openIconClass="open",f.doDownload=!1,null!=g?(f.meta=g.name,f.isKnownService=!0,f.previewClass=g.previewClass,f.name=g.text,f.idName=g.id):(f.meta="Link",f.ext=
null!=(d=m.fileExt(f.url))?d:"LINK",f.removeText="Remove"));return f},availableExts:function(){var c,b,d,f,g;if(null==this._availableExts){c=[];g=navigator.mimeTypes;d=0;for(f=g.length;d<f;d++)b=g[d],c=c.concat(b.suffixes.split(","));this._availableExts=_.compact(_.uniq(c))}return this._availableExts},imageExts:function(){var c;c="gif jpeg jpg png svg webp".split(" ");return null!=this._imageExts?this._imageExts:this._imageExts=c},audioExts:function(){var c;c="3gp 3gpp aac ac3 adts aif aifc aiff bwf cdda gsm m4a m4p mp3 mpeg4 wav".split(" ");
return null!=this._audioExts?this._audioExts:this._audioExts=_.intersection(c,this.availableExts())},videoExts:function(){var c;c="avi h264 m4v mov mp4 ogg vfw webm".split(" ");return null!=this._videoExts?this._videoExts:this._videoExts=_.intersection(c,this.availableExts())},googleViewerableExts:function(){var c;c="doc docx ppt pptx rtf xls xlsx".split(" ");return null!=this._googleViewerableExts?this._googleViewerableExts:this._googleViewerableExts=c},iFrameableExts:function(){var c,b;c=["css",
"js","txt"];b=["pdf"];return null!=this._iFrameableExts?this._iFrameableExts:this._iFrameableExts=_.intersection(b,this.availableExts()).concat(c)},allViewerableExts:function(){return null!=this._viewerableExts?this._viewerableExts:this._viewerableExts=this.imageExts().concat(this.audioExts()).concat(this.videoExts()).concat(this.googleViewerableExts()).concat(this.iFrameableExts())},isViewerable:function(c){return 0<=F.call(this.allViewerableExts(),c)},hasDownloadAttribute:function(){return"undefined"!==
typeof document.createElement("a").download}}),td,bb,k=function(c,b){return function(){return c.apply(b,arguments)}},G=[].slice;bb=["close","error","message","open"];td=function(){function c(b,d){var f,c,e;this.url=b;f=null!=d?d:{};this.bootedReconnectDelay=f.bootedReconnectDelay;this.reconnectDelay=f.reconnectDelay;this.maxReconnectDelay=f.maxReconnectDelay;this.maxReconnectAttempts=f.maxReconnectAttempts;this.onMessage=k(this.onMessage,this);this.onError=k(this.onError,this);this.onClose=k(this.onClose,
this);this.onOpen=k(this.onOpen,this);this.connect=k(this.connect,this);this._noPing=k(this._noPing,this);_.extend(this,Backbone.Events);this.ws=null;this.resetRetries();c=0;for(e=bb.length;c<e;c++)f=bb[c],this.on(f,this["on"+m.capitalize(f)]);"WebSocket"in window?(this.connect(),this.buffer=[],this.connectedOnce=!1,this.trigger("connecting")):this.trigger("connect_failed")}c.CONNECTING="connecting";c.CONNECTED="connected";c.WAITING_TO_RECONNECT="waiting to reconnect";c.RECONNECTING="reconnecting";
c.CLOSED="closed";c.PING_TIMEOUT=3E4;c.prototype.resetRetries=function(){return this.attempts=0};c.prototype._clearPingTimeout=function(){null!=this._pingTimeout&&clearTimeout(this._pingTimeout);return this._pingTimeout=null};c.prototype._resetPingTimeout=function(){this._clearPingTimeout();return this._pingTimeout=setTimeout(this._noPing,c.PING_TIMEOUT)};c.prototype._noPing=function(){if(!this.state!==c.CONNECTED)return this.disconnect()};c.prototype.connect=function(){var b,d,f,g;if(null!=this.ws){d=
0;for(f=bb.length;d<f;d++)b=bb[d],this.ws["on"+b]=null}this.ws=new WebSocket(this.url);d=function(b){return function(d){return b.ws["on"+d]=function(){return b.trigger.apply(b,[d].concat(G.call(arguments)))}}}(this);f=0;for(g=bb.length;f<g;f++)b=bb[f],d(b);return this.state=c.CONNECTING};c.prototype.onOpen=function(b){this.connectedOnce?this.trigger("reconnect"):this.trigger("connect");this.connectedOnce=!0;this.state=c.CONNECTED;this.flushBuffer();return this.resetRetries()};c.prototype._triggerFailures=
function(){if(this.state===c.CONNECTING)return this.trigger("connect_failed")};c.prototype.onClose=function(b){var d;this.trigger("disconnect",null!=(d=null!=b?b.reason:void 0)?d:"");b="booted"===(null!=b?b.reason:void 0)||1006===(null!=b?b.code:void 0)&&this.state===c.CONNECTED;this._triggerFailures();this._clearPingTimeout();return this.reconnect(b)};c.prototype.onError=function(b){this._triggerFailures();this.disconnect();return this.reconnect()};c.prototype.onMessage=function(b){this._resetPingTimeout();
if(""===b.data)J("socket","responding to ping"),this.ws.send("");else try{return this.trigger("data",JSON.parse(b.data))}catch(d){}};c.prototype.reconnect=function(b){switch(this.state){case c.CONNECTED:this.ws.close();break;case c.RECONNECTING:case c.WAITING_TO_RECONNECT:return}if(this.attempts>=this.maxReconnectAttempts)this.trigger("reconnect_failed"),this.state=c.CLOSED;else return this.state=c.WAITING_TO_RECONNECT,0===this.attempts&&(this.currentReconnectDelay=b?this.bootedReconnectDelay:this.reconnectDelay),
J("socket","attempting reconnect in "+this.currentReconnectDelay+"ms"),this._reconnectTimer=_.delay(function(b){return function(){b._reconnectTimer=null;b.connect();b.state=c.RECONNECTING;return b.trigger("reconnecting")}}(this),this.currentReconnectDelay),this.attempts++,this.currentReconnectDelay=Math.min(2*this.currentReconnectDelay,this.maxReconnectDelay)};c.prototype.disconnect=function(){var b;this._clearPingTimeout();b=this.state;this.state=c.CLOSED;switch(b){case c.CONNECTED:case c.CONNECTING:case c.RECONNECTING:return this.ws.close(),
this.onClose();case c.WAITING_TO_RECONNECT:return clearTimeout(this._reconnectTimer)}};c.prototype.send=function(b){if(this.state===c.CONNECTED)try{return this.ws.send(b)}catch(d){return this.buffer.push(b),this.onError()}else return this.buffer.push(b)};c.prototype.flushBuffer=function(){var b,d,f,c,e;b=this.buffer;this.buffer=[];e=[];f=0;for(c=b.length;f<c;f++)d=b[f],e.push(this.send(d));return e};return c}();var za;za=function(){var c,b,d,f,g,e,h;b=0;f=window.sessionStorage;g=null!=(h=null!=f?
f.status:void 0)?h:"active";e=c=null;"undefined"!==typeof document.hidden?(c="hidden",e="visibilitychange"):"undefined"!==typeof document.mozHidden?(c="mozHidden",e="mozvisibilitychange"):"undefined"!==typeof document.msHidden?(c="msHidden",e="msvisibilitychange"):"undefined"!==typeof document.webkitHidden&&(c="webkitHidden",e="webkitvisibilitychange");return d={init:function(){setInterval(d.check,1E4);$(window).focus(function(){return d.addActivity()});$(document).bind("keydown mousedown",function(){d.addActivity()});
null!=c&&(d.getHidden=function(){return document[c]});null!=e&&$(document).bind(e,function(b){return function(){return $(d).triggerHandler("visibilitychange")}}(this))},addActivity:function(){b=(new Date).getTime();ja.set("lastActivity",b);d.setStatus("active")},check:function(){3E5<(new Date).getTime()-Math.max(b,ja.enabled()?parseInt(ja.get("lastActivity")):0)&&d.setStatus("idle")},setStatus:function(b){b!==g&&(g=b,f&&(f.status=g),$(this).triggerHandler("setStatus",g))},getStatus:function(){return g}}}();
$(za.init);var Ea,k=function(c,b){return function(){return c.apply(b,arguments)}},G=[].slice;Ea=new (function(){function c(){this.ajax=k(this.ajax,this);this.hideUploading=k(this.hideUploading,this);this.showUploading=k(this.showUploading,this);this.hideSending=k(this.hideSending,this);this.showSending=k(this.showSending,this);this.hideRetrying=k(this.hideRetrying,this);this.showRetrying=k(this.showRetrying,this);this.hideFail=k(this.hideFail,this);this.showOutOfRetries=k(this.showOutOfRetries,this);
this.showRealError=k(this.showRealError,this);this.retryNext=k(this.retryNext,this);this.serverAlreadySaw=k(this.serverAlreadySaw,this);this.retryableError=k(this.retryableError,this);this.resetRetries=k(this.resetRetries,this);this.success=k(this.success,this);this.addToQueue=k(this.addToQueue,this);this.removeFromQueue=k(this.removeFromQueue,this);this.inQueue=k(this.inQueue,this);this.hasQueue=k(this.hasQueue,this);this.uniqueReqId=k(this.uniqueReqId,this);this._msBackoffMin=this._msBackoff=100;
this._nTriesMax=this._nTriesLeft=12;this._stopped=this._retrying=!1;this._maxLength=10;this._queue=[];this._queueIdSeq=0}c.prototype.uniqueReqId=function(){var b;return""+(null!=(b=z.me())?b.id:void 0)+"-"+Math.random()};c.prototype.hasQueue=function(){return 0<this._queue.length};c.prototype.inQueue=function(b){return _.find(this._queue,function(d){return d.queueId===b.queueId})};c.prototype.removeFromQueue=function(b){return this._queue=_.filter(this._queue,function(d){return d.queueId!==b.queueId})};
c.prototype.addToQueue=function(b){J("AjaxQueue","addToQueue",b);if(this._queue.length+1>this._maxLength)J("AjaxQueue","maxLength exceeded");else return this._queue.push(b),this.showRetrying()};c.prototype.success=function(b){J("AjaxQueue","success",b);if(this.inQueue(b))return this.removeFromQueue(b),this._retrying=!1,this._msBackoff=this._msBackoffMin,this._nTriesLeft=this._nTriesMax,this.retryNext()};c.prototype.resetRetries=function(){J("AjaxQueue","reset");this.hideFail();this.showRetrying();
this._retrying=this._stopped=!1;this._msBackoff=this._msBackoffMin;this._nTriesLeft=this._nTriesMax;return this.retryNext()};c.prototype.retryableError=function(b){J("AjaxQueue","retryableError",b);Ea.inQueue(b)?this._retrying=!1:Ea.addToQueue(b);return this.retryNext()};c.prototype.serverAlreadySaw=function(b){if(this.inQueue(b))return this.removeFromQueue(b),this.retryNext()};c.prototype.retryNext=function(){var b;if(!this._stopped)if(this.hasQueue()){if(this.showRetrying(),!this._retrying){this._retrying=
!0;b=this._queue[0];if(0<this._nTriesLeft)return J("AjaxQueue","retrying in "+this._msBackoff+"ms",b),setTimeout(function(){return $.ajax(b)},this._msBackoff),this._msBackoff*=2,--this._nTriesLeft;this._stopped=!0;return this.showOutOfRetries()}}else this.hideRetrying()};c.prototype.showRealError=function(b,d,f){var c;J("AjaxQueue","showRealError",f);this.hideRetrying();b="dev"===Oa.version.head?"Error: "+(null!=(c=b.responseText)?c:"Ajax failed"):"Change not saved: failed to sync with the Trello server.";
return O.showHtml(u.fill("connect_failed",{msg:b}),"error","AjaxQueueFail")};c.prototype.showOutOfRetries=function(){J("AjaxQueue","showOutOfRetries");this.hideRetrying();return O.showHtml(u.fill("connect_failed",{msg:"Timed out while trying to sync changes with the server.",allowReset:!0}),"error","AjaxQueueFail")};c.prototype.hideFail=function(){return O.hide("AjaxQueueFail")};c.prototype.showRetrying=function(){return O.show("Connection interrupted. Retrying "+m.formatCount(this._queue.length,
"action",!0)+".","error","AjaxQueueRetry")};c.prototype.hideRetrying=function(){return O.hide("AjaxQueueRetry")};c.prototype.showSending=function(){return O.show("Sending...","warning","AjaxQueueSending")};c.prototype.hideSending=function(){return O.hide("AjaxQueueSending")};c.prototype.showUploading=function(b){return O.show(b,"info","AjaxQueueUpload")};c.prototype.hideUploading=function(){return O.hide("AjaxQueueUpload")};c.prototype.ajax=function(b){var d,f,c,e,h,l;l=_.clone(b);this._stopped||
(null==l.timeout&&(l.timeout=2E4),null==l.showSendingAfter&&(l.showSendingAfter=3E3),l.queueId=this._queueIdSeq++,l.headers={"X-Trello-ReqId":this.uniqueReqId()},l.oldSuccess=l.success,l.oldError=l.error,l.ourComplete=l.complete,delete l.complete,h=l.modelCache,delete l.modelCache,c=d=!1,e=h.lock("AjaxQueue.ajax"),l.success=function(){var b;b=1<=arguments.length?G.call(arguments,0):[];Ea.hideSending();Ea.hideUploading();d=!0;Ea.success(this);"function"===typeof this.oldSuccess&&this.oldSuccess.apply(this,
b);"function"===typeof this.ourComplete&&this.ourComplete();return h.unlock(e)},l.error=function(){var b,f;b=1<=arguments.length?G.call(arguments,0):[];Ea.hideSending();Ea.hideUploading();d=!0;if(0===(f=b[0].status)||408===f||500===f)return Ea.retryableError(this);f=function(){Ea._stopped=!0;return Ea.showRealError.apply(Ea,b)};null!=this.oldError&&l.interceptErrors?this.oldError.apply(this,G.call(b).concat([f])):f();"function"===typeof this.ourComplete&&this.ourComplete();return h.unlock(e)},/^post$/i.test(l.type)&&
(f=function(b){return b.lengthComputable&&65536<b.total},l.xhr=function(b){return function(){var d,e;e=new XMLHttpRequest;d=e.upload;null!=d&&(d.addEventListener("progress",function(d){if(f(d))return c=!0,b.showUploading("Uploading ... "+Math.round(100*d.loaded/d.total)+"%")}),d.addEventListener("load",function(d){if(c)return b.showUploading("Processing Upload...")}));return e}}(this)),this.hasQueue()?Ea.addToQueue(l):(0<=l.showSendingAfter&&setTimeout(function(b){return function(){if(!d&&!c)return Ea.showSending()}}(this),
l.showSendingAfter),$.ajax(l)))};return c}());var ff,gf,ud,k=function(c,b){return function(){return c.apply(b,arguments)}},G=[].slice;ud=function(c,b,d){return c.invoke("getModelUpdatesSince",[c.modelIxUpdate,m.invitationTokens()],function(f){var g,e,h,l,q,k,m,n;try{m=f.messages;q=0;for(k=m.length;q<k;q++)l=m[q],g=JSON.parse(l),$(c).triggerHandler(g.notify.event,_.extend({idModelChannel:g.idModelChannel},g.notify));n=f.modelIxUpdate;for(e in n)h=n[e],null!=c.modelIxUpdate[e]&&(c.modelIxUpdate[e]=
h)}catch(s){return"undefined"!==typeof console&&null!==console&&"function"===typeof console.error&&console.error(["Model sync error on messages:",null!=f?f.messages:void 0]),"undefined"!==typeof console&&null!==console&&"function"===typeof console.error&&console.error(s),"function"===typeof d?d():void 0}"function"===typeof b&&b()},function(b){null!=(null!=b?b.syncError:void 0)&&"undefined"!==typeof B&&null!==B?B.syncError():"function"===typeof d&&d()})};gf=function(){function c(){this.hasSocketTransport=
k(this.hasSocketTransport,this);this.getTransport=k(this.getTransport,this);this.disconnect=k(this.disconnect,this);this.resync=k(this.resync,this);this.invoke=k(this.invoke,this);this.subscribeTo=k(this.subscribeTo,this);this._messageHandler=k(this._messageHandler,this);var b,d,f,c,e;this.fxDefault=function(b){};this.reqid=0;this.dictCallback={};this.dictTime={};this.connectedOnce=!1;this.modelIxUpdate={};b=this.inUse=!1;"undefined"!==typeof z&&null!==z&&("function"===typeof z.myId&&z.myId())&&(b=
parseInt(z.myId().substring(0,8),16),b=b%100<window.websocketPercent);this.transports=[];if(!_.include(["iPod","iPhone","iPad"],ef.OS)&&(b||"yes"===ja.get("useWebsockets")))this.useSockets=!0,this.transports=["websocket"];window.dropTheHammer=function(){ja.set("useWebsockets","yes");return"undefined"!==typeof console&&null!==console?"function"===typeof console.log?console.log("Websockets engaged! Reload the page, please. Use pitStop() to turn sockets off."):void 0:void 0};window.pitStop=function(){ja.set("useWebsockets",
"no");return"undefined"!==typeof console&&null!==console?"function"===typeof console.log?console.log("Shutting Websockets down! Reload the page, please. Use dropTheHammer() to turn sockets back on."):void 0:void 0};this.reconnectDelayForStatus=function(b){return"active"===b?m.randomWait(100,1E3):m.randomWait(2E3,1E4)};this.bootedDelayForStatus=function(b){return"active"===b?m.randomWait(1E4,3E4):m.randomWait(3E4,12E4)};if(this.useSockets&&"WebSocket"in window){(this.useNewSockets=wa.inTest("newSockets"))?
(J("rpc","opening newSocket"),b="http:"===document.location.protocol?"ws:":"wss:",this.socket=new td(""+b+"//"+document.location.host+"/",{bootedReconnectDelay:this.bootedDelayForStatus(za.getStatus()),reconnectDelay:this.reconnectDelayForStatus(za.getStatus()),maxReconnectDelay:32E3,maxReconnectAttempts:100})):(J("rpc","opening socket.io"),this.socket=io.connect(""+document.location.protocol+"//"+document.location.hostname,{transports:this.transports,"max reconnection attempts":100,"max reconnection delay":32E3,
"reconnection delay":this.reconnectDelayForStatus(za.getStatus())}));e="connect reconnect connecting reconnecting disconnect connect_failed reconnect_failed error".split(" ");d=function(b){return function(d){return b.socket.on(d,function(b){return J("rpc","socket event",d,b)})}}(this);f=0;for(c=e.length;f<c;f++)b=e[f],d(b);e=["connecting","reconnecting"];d=function(b){return function(d){return b.socket.on(d,function(){J("rpc","connecting");return $(b).triggerHandler("connecting")})}}(this);f=0;for(c=
e.length;f<c;f++)b=e[f],d(b);this.socket.on("connect_failed",function(b){return function(){var d;J("rpc","connect_failed");if(null!=(d=b.socket))if(null!=(d=d.socket))d.reconnecting=!1;return $(b).triggerHandler("connect_failed")}}(this));this.socket.on("reconnect_failed",function(b){return function(){J("rpc","reconnect_failed");return $(b).triggerHandler("reconnect_failed")}}(this));this.socket.on("connect",function(b){return function(){J("rpc","connect");$(b).triggerHandler("connect");return b.connectedOnce=
!0}}(this));this.socket.on("reconnect",function(b){return function(){J("rpc","reconnect");clearTimeout(b.timeoutInvokeResponse);delete b.timeoutInvokeResponse;return $(b).triggerHandler("reconnect")}}(this));this.socket.on("disconnect",function(b){return function(d){J("rpc","disconnect",d);clearTimeout(b.timeoutInvokeResponse);delete b.timeoutInvokeResponse;if(b.inUse&&"booted"===d&&!b.useNewSockets)return setTimeout(function(){return b.socket.socket.reconnect()},b.bootedDelayForStatus(za.getStatus()))}}(this));
this.socket.on("error",function(b){return function(){var d,f;if(b.connectedOnce&&!(null!=(d=b.socket)&&null!=(f=d.socket)&&f.connected))return $(b).triggerHandler("disconnect")}}(this));if(this.useNewSockets)this.socket.on("data",this._messageHandler);else this.socket.on("message",this._messageHandler);$(za).bind("setStatus",function(b){return function(d,f){var c,e,g;return b.useNewSockets?(b.socket.reconnectDelay=b.reconnectDelayForStatus(f),b.socket.bootedReconnectDelay=b.bootedDelayForStatus(f)):
null!=(c=b.socket)?null!=(e=c.socket)?null!=(g=e.options)?g["reconnection delay"]=b.reconnectDelayForStatus(f):void 0:void 0:void 0}}(this))}}c.prototype._messageHandler=function(b){var d,f;J("rpc","message",b);if(this.useNewSockets&&b.downgrade)O.showHtml(u.fill("connect_failed",{msg:"Connection error: please reload the page."}),"error","AjaxQueueFail");else{clearTimeout(this.timeoutInvokeResponse);delete this.timeoutInvokeResponse;null!=b&&b.version&&Oa.setServerVersion(b);if(b.result){if("function"===
typeof(d=this.dictCallback)[f="fx"+b.reqid])d[f](b.result)}else if(null!=(d=b.notify)&&d.event)null!=b.idModelChannel&&(this.modelIxUpdate[b.idModelChannel]=b.ixLastUpdateChannel),$(this).triggerHandler(b.notify.event,_.extend({idModelChannel:b.idModelChannel},b.notify));else if(b.error){if("function"===typeof(d=this.dictCallback)[f="fxErr"+b.reqid])d[f](b.error)}else this.fxDefault(b);b.reqid&&(d=new Date-this.dictTime[b.reqid],J("timing","message",b.reqid,"time",d),delete this.dictCallback["fx"+
b.reqid],delete this.dictCallback["fxErr"+b.reqid],delete this.dictTime[b.reqid])}};c.prototype.subscribeTo=function(b,d){return this.invoke("subscribeTo"+b,[d,m.invitationTokens()],function(b){return function(c){return b.modelIxUpdate[d]=c.ixLastUpdate}}(this),function(b){return function(b){return J("rpc",b)}}(this))};c.prototype.invoke=function(b,d,f,c){this.dictCallback["fx"+this.reqid]=f;this.dictCallback["fxErr"+this.reqid]=c;this.dictTime[this.reqid]=new Date;b={sFxn:b,rgarg:d,reqid:this.reqid++};
b.token=z.myToken();b=JSON.stringify(b);J("rpc","invoke: "+b);this.socket.send(b);null==this.timeoutInvokeResponse&&(this.timeoutInvokeResponse=setTimeout(function(b){return function(){var d;if(b.socket.state===td.CONNECTED)return J("rpc","No response from the socket.io server in 10 seconds. Disconnecting."),clearTimeout(b.timeoutInvokeResponse),delete b.timeoutInvokeResponse,null!=(d=b.socket)?d.disconnect():void 0}}(this),1E4))};c.prototype.resync=function(){var b,d,f,c,e;d=1<=arguments.length?
G.call(arguments,0):[];f={};c=0;for(e=d.length;c<e;c++)b=d[c],null!=this.modelIxUpdate[b]&&(f[b]=this.modelIxUpdate[b]);this.modelIxUpdate=f;return ud(this)};c.prototype.disconnect=function(){var b;if(!this.secure||"flashsocket"!==(null!=(b=this.getTransport())?b.type:void 0))J("rpc","disconnecting"),this.socket.disconnect()};c.prototype.getTransport=function(){var b,d;return null!=(b=this.socket)?null!=(d=b.socket)?d.getTransport(this.transports):void 0:void 0};c.prototype.hasSocketTransport=function(){return this.useNewSockets||
null!=this.getTransport()};return c}();ff=function(){this.fxDefault=function(c){};this.idBoardToPoll=null;this.modelIxUpdate={};this.msPoll=2E3;this.msPollIdle=1E4;this.ajaxSessionId=Math.random().toString().substring(2);this.failures=0;this.failuresAllowed=1E3;this.invoke=function(c,b,d,f){c=JSON.stringify({sFxn:c,rgarg:b,reqid:this.reqid++});return $.ajax({url:"/rpc",type:"POST",data:{msg:c,memberStatus:za.getStatus(),idBoardPolling:this.idBoardToPoll,ajaxSessionId:this.ajaxSessionId},dataType:"json",
success:function(b){null!=(null!=b?b.result:void 0)&&(null==b.result.messages||0<b.result.messages.length)&&J("rpc","message",b.result);b.version&&Oa.setServerVersion(b);return b.error?"function"===typeof f?f(b.error):void 0:"function"===typeof d?d(b.result):void 0},error:function(b,d,c){return"function"===typeof f?f(d):void 0},timeout:2E4})};this.subscribeTo=function(c){return function(b,d){var f;f="id"+b+"ToPoll";c[f]&&delete c[f];c[f]=d;return c.invoke("setSessionStatus",[za.getStatus()])}}(this);
this.poll=function(c){return function(){var b,d,f,g,e,h,l,q;if(c.failures===c.failuresAllowed)$(c).triggerHandler("connect_failed");else if(d,z.isLoggedIn()&&(d=z.myId()),b=function(){setTimeout(function(){c.poll()},z.isLoggedIn()&&"active"===za.getStatus()?c.msPoll:c.msPollIdle)},null!=c.idBoardToPoll||null!=d||null!=c.idOrganizationToPoll){if(null!=c.idBoardToPoll&&null==(g=c.modelIxUpdate)[l=c.idBoardToPoll])g[l]=-1;if(null!=d&&null==(e=c.modelIxUpdate)[d])e[d]=-1;if(c.idOrganizationToPoll&&null==
(h=c.modelIxUpdate)[q=c.idOrganizationToPoll])h[q]=-1;for(f in c.modelIxUpdate)f===c.idBoardToPoll||(f===d||f===c.idOrganizationToPoll)||(delete c.modelIxUpdate[f],J("rpc","Removing "+f,c.modelIxUpdate));ud(c,function(){0<this.failures&&$(this).triggerHandler("reconnect");this.failures=0;return b()},function(){$(this).triggerHandler("connecting");++this.failures;return b()})}else b()}}(this)};window.rpc=new function(){var c,b,d,f,g,e,h,l,q;q=e=h=null;f=!1;d=[];b={};l=function(b){return function(){var c,
g,l,q;f=!0;h===e&&(h.poll(),$(window).on("beforeunload",function(){h.invoke("setSessionStatus",["disconnected"])}));b.sendStatusConfirm();q=[];g=0;for(l=d.length;g<l;g++)c=d[g],q.push(c());return q}}(this);c=function(b){return function(){var d,f,c,e,g;e="connecting connect reconnect connect_failed reconnect_failed updateModels deleteModels adminAlert".split(" ");g=[];f=0;for(c=e.length;f<c;f++)d=e[f],g.push($(h).bind(d,function(d,f,c){return $(b).triggerHandler(d,f,c)}));return g}}(this);g=function(){if(!h)if(window.rpcSocket=
q=new gf,h=e=new ff,c(),q.hasSocketTransport()){if(!q.connectedOnce)return setTimeout(function(){f||(J("rpc","Socket not responsive. Using AJAX."),q.inUse=!1,q.disconnect(),l())},8E3),q.invoke("ping",[],function(b){f?q.disconnect():(J("rpc","Socket responded to ping in a timely fashion. Using sockets."),q.inUse=!0,h=q,c(),l())})}else return J("rpc","No socket connect. Using AJAX."),l()};this.handleLogin=function(b){return function(){if(z.isLoggedIn())return g()}}(this);this.invoke=function(b){return function(b,
d,f,c){g();0===(null!=b?b.indexOf("subscribeTo"):void 0)||0===(null!=b?b.indexOf("setSessionStatus"):void 0)?h.invoke(b,d,f,c):e.invoke(b,d,f,c)}}(this);this.subscribeTo=function(c){return function(e,l){if((null!=b[e]||null!=l)&&b[e]!==l)g(),f?(b[e]=l,h.subscribeTo(e,l)):(J("rpc","deferring subscribe to "+e+" "+l),d.push(function(){c.subscribeTo(e,l)}))}}(this);this.getIxLastUpdate=function(b){return function(b){return h.modelIxUpdate[b]}}(this);this.setIxLastUpdate=function(b){return function(b,
d){return h.modelIxUpdate[b]=d}}(this);this.resync=function(b){return function(){var b;b=1<=arguments.length?G.call(arguments,0):[];g();return"function"===typeof h.resync?h.resync.apply(h,b):void 0}}(this);this.isUsingSocket=function(){return null!=h&&h===q};this.sendStatusConfirm=function(){var b;b=function(b){return function(){return b.invoke("setSessionStatus",[za.getStatus()])}}(this);setInterval(b,this.isUsingSocket?3E5:6E4);return b()};$(za).bind("setStatus",function(b){return function(d,f){return b.invoke("setSessionStatus",
[f])}}(this));z.isLoggedIn()&&g()};var mb;mb=new (function(){function c(){}c.prototype.textAsHtml=function(b,d){null==d&&(d={});return!b?b:Sa.full.format(b,d).output};c.prototype.markdownAsHtml=function(b,d){null==d&&(d={});return Sa.full.format(b,d).output};c.prototype.bytes=function(b){var d,f,c,e,h;if(null==b)return"Unknown Size";c=["B","KB","MB","GB"];d=b;f=e=0;for(h=c.length;e<h;f=++e){b=c[f];if(1024>d||f===c.length-1)return c=Math.round(100*d)/100,""+c+" "+b;d/=1024}return"unknown"};return c}());
var A,k=function(c,b){return function(){return c.apply(b,arguments)}},E={}.hasOwnProperty,s=function(c,b){function d(){this.constructor=c}for(var f in b)E.call(b,f)&&(c[f]=b[f]);d.prototype=b.prototype;c.prototype=new d;c.__super__=b.prototype;return c},G=[].slice;A=function(c){function b(d){this.handleDOMRemove=k(this.handleDOMRemove,this);this._subviews={};this.modelCache=null!=d?d.modelCache:void 0;b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.subview=function(b,f,c,e){null==
c&&(c={});null==e&&(e=""+b.prototype.uniqueId()+"_"+f.cid);e in this._subviews||(this._subviews[e]=new b(_.extend({model:f,modelCache:this.modelCache},c)));return this._subviews[e]};b.prototype.existingSubview=function(b,f,c){null==c&&(c=""+b.prototype.uniqueId()+"_"+f.cid);if(!(c in this._subviews))throw Error("existingSubview called before subview was created");return this._subviews[c]};b.prototype.existingSubviewOrUndefined=function(b,f,c){null==c&&(c=""+b.prototype.uniqueId()+"_"+f.cid);return this._subviews[c]};
b.prototype.collectionSubview=function(b,f,c,e){var h;null==c&&(c={});null==e&&(e=b.prototype.uniqueId());b=null!=(h=this._subviews)[e]?h[e]:h[e]=new b(_.extend({collection:f,modelCache:this.modelCache},c));null!=c.el&&b.el!==c.el&&b.setElement(c.el);return b};b.prototype.subviewsOfType=function(b){var f,c,e,h;e=this._subviews;h=[];for(f in e)E.call(e,f)&&(c=e[f],c instanceof b&&h.push(c));return h};b.prototype.deleteSubview=function(b,f){null==f&&(f=""+b.constructor.prototype.uniqueId()+"_"+b.model.cid);
if(b!==this._subviews[f])throw Error("incorrect key for subview in deleteSubview");b.remove();return delete this._subviews[f]};b.prototype.remove=function(){var d,f,c,e;c=this._subviews;for(d in c)f=c[d],f.remove();delete this._subviews;if(null!=this._intervals){e=this._intervals;f=0;for(c=e.length;f<c;f++)d=e[f],clearInterval(d)}if(null!=this._timeouts){e=this._timeouts;f=0;for(c=e.length;f<c;f++)d=e[f],clearTimeout(d)}"undefined"!==typeof X&&null!==X&&X.removeHandler(this);return b.__super__.remove.apply(this,
arguments)};b.prototype.removeQueued=function(b){var f,c,e;b||(b=async.cargo(function(b,d){var f,c,e;c=0;for(e=b.length;c<e;c++)f=b[c],f.remove();return _.defer(d)},10),b.push(this));e=this._subviews;for(f in e)c=e[f],b.push(c),c.removeQueued(b);return this._subviews={}};b.prototype.makeDebouncedMethods=function(){var b,f,c,e;f=1<=arguments.length?G.call(arguments,0):[];c=0;for(e=f.length;c<e;c++)b=f[c],this[b+"Debounced"]=m.voidDebounced(this[b])};b.prototype.handleDOMRemove=function(){return this._delegated=
!1};b.prototype.delegateEvents=function(){var d,f,c;if(!this._delegated){this.$el.on("remove",this.handleDOMRemove);b.__super__.delegateEvents.apply(this,arguments);c=this._subviews;for(d in c)f=c[d],f.delegateEvents();this._delegated=!0}};b.prototype.undelegateEvents=function(){var d,f,c;if(this._delegated){this.$el.off("remove",this.handleDOMRemove);b.__super__.undelegateEvents.apply(this,arguments);c=this._subviews;for(d in c)f=c[d],f.undelegateEvents();this._delegated=!1}};b.prototype.appendSubview=
function(b,f){null==f&&(f=this.$el);return this.appendSubviews([b],f)};b.prototype.appendSubviews=function(b,f){var c,e,h;null==f&&(f=this.$el);e=0;for(h=b.length;e<h;e++)c=b[e],c.delegateEvents();return f.append(function(){var f,e,h;h=[];f=0;for(e=b.length;f<e;f++)c=b[f],h.push(c.render().el);return h}())};b.prototype.recursivelyStopListening=function(){var b,f,c;this.stopListening();c=this._subviews;for(b in c)f=c[b],f.recursivelyStopListening()};b.prototype.uniqueId=function(){this.hasOwnProperty("_uniqueId")||
(this._uniqueId=_.uniqueId("view"));return this._uniqueId};b.prototype.destructor=function(){var b,f,c,e,h;this.remove();if(null!=this._using){h=this._using;c=0;for(e=h.length;c<e;c++)f=h[c],"function"===typeof f.destructor&&f.destructor()}this.undelegateEvents();b=0;return async.whilst(function(b){return function(){return b.$el.is(":visible")}}(this),function(f){return function(f){b+=1E3;setTimeout(f,1E3);if(1E4<b)return J("view","Unable to remove a view")}}(this),function(b){return function(d){b.$el.remove();
return m.shred(b)}}(this))};b.prototype.setInterval=function(b,f){null==this._intervals&&(this._intervals=[]);return this._intervals.push(setInterval(b,f))};b.prototype.setTimeout=function(b,f){var c;null==this._timeouts&&(this._timeouts=[]);this._timeouts.push(c=setTimeout(b,f));return c};b.prototype.forceIntoDom=function(){var b;if(0===this.$el.closest("html").length)return b=$("#staging"),0===b.length&&(b=$("<div>").attr("id","staging").css({visibility:"hidden",position:"absolute",left:0,top:-1E5,
width:"100%"}).appendTo("body")),b.append(this.el)};return b}(Backbone.View);"undefined"!==typeof m&&null!==m&&m.extendWithModelCacheHelpers(A);var Pb,E={}.hasOwnProperty,s=function(c,b){function d(){this.constructor=c}for(var f in b)E.call(b,f)&&(c[f]=b[f]);d.prototype=b.prototype;c.prototype=new d;c.__super__=b.prototype;return c},G=[].slice;Pb=function(c){function b(){return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.initialize=function(){this.listenPropagators={};this.listenTo(this.collection,
{sort:this.sort,"change:closed":this.closed,add:this.addModel,remove:this.removeModel,reset:this.reset});return b.__super__.initialize.apply(this,arguments)};b.prototype.getModels=function(){return this.collection.models};b.prototype.subview=function(){var d,f,c;d=b.__super__.subview.apply(this,arguments);if(null==(f=this.listenPropagators)[c=d.cid])f[c]=this.listenTo(d,"all",function(b){return function(){var f,c;c=arguments[0];f=2<=arguments.length?G.call(arguments,1):[];return b.trigger.apply(b,
[c,d].concat(G.call(f)))}}(this));return d};b.prototype.addModel=function(b,f){var c;J("render","adding "+this.collection.model.name+" to "+this.viewType.name);c=this.subview(this.viewType,b);this.el&&this.insertSubview(c,_.indexOf(this.getModels(),b))};b.prototype.removeModel=function(b,f){var c;J("render","removing "+this.collection.model.name+" from "+this.viewType.name);c=this.subview(this.viewType,b);c.$el.hide();c.destructor();this.deleteSubview(c)};b.prototype.closed=function(b,f,c){f?this.removeModel(b,
c):this.addModel(b,c)};b.prototype.reset=function(b,f){var c,e,h,l,q,k;h=f.previousModels;c={};k=b.models;l=0;for(q=k.length;l<q;l++)e=k[l],c[e.cid]=!0;l=0;for(q=h.length;l<q;l++)e=h[l],c[e.cid]||this.removeModel(e);return this.sort()};b.prototype.sort=function(){var b,f,c,e,h;h=this.getModels();b=c=0;for(e=h.length;c<e;b=++c)f=h[b],this.moveSubviewToPosition(this.subview(this.viewType,f),b)};b.prototype.render=function(b){var f;J("render","rendering "+this.getModels().length+" "+this.collection.model.name+
"s into "+this.viewType.name);this.appendSubviews(function(){var b,d,c,l;c=this.getModels();l=[];b=0;for(d=c.length;b<d;b++)f=c[b],l.push(this.subview(this.viewType,f));return l}.call(this));"function"===typeof b&&b();return this};b.prototype.insertSubview=function(b,f,c){null==c&&(c=this.$el);J("render","inserting "+b.$el.find("h2").text()+" at position "+f);"number"===typeof f?f=0>=f?c.children().eq(0):f<c.children().length?c.children().eq(f):void 0:f instanceof A&&(f=f.$el);b.$el.is(":empty")&&
(b.delegateEvents(),b.render());0<(null!=f?f.length:void 0)?b.$el.insertBefore(f):c.append(b.$el)};b.prototype.moveSubviewToPosition=function(b,f,c){var e,h,l,q;null==c&&(c=this.$el);if(b.$el.is(":empty"))this.insertSubview(b,f,c);else{q=c.children(".placeholder,.card-composer");h=0;for(l=q.length;h<l;h++)e=q[h],$(e).index()<=f&&f++;e=b.$el.index();e!==f&&(J("render","moving "+b.$el.find("h2").text()+" into position "+f),0===f?c.prepend(b.$el):f>=c.children().length?c.append(b.$el):b.$el.insertAfter(c.children().eq(f-
1)))}};return b}(A);var oc;oc=function(){function c(){}c.prototype.limit=50;c.prototype.nextPage=1;c.prototype.shortLoad=!1;c.prototype.loading=!1;c.prototype.idModels=null;c.prototype.loadMoreActions=function(){if(!this.loading)return this.loading=!0,this.model.onId(function(b){return function(){var d;return P["for"](b.modelCache).loadMoreActionData(b.model.typeName.toLowerCase(),b.model.id,b.nextPage,b.limit,b.idModels,null!=(d="function"===typeof b.getActionsFilter?b.getActionsFilter():void 0)?
d:"all",function(d,c){b.loading=!1;if(!d)return b.shortLoad=c.length<b.limit,b.renderActions(),++b.nextPage})}}(this))};c.prototype.hasMoreActions=function(){return!this.loading&&!this.shortLoad&&this.getActions().length>=this.limit};c.prototype.getActions=function(){return this.Action.getListForModel(this.model)};return c}();var ha,E={}.hasOwnProperty,s=function(c,b){function d(){this.constructor=c}for(var f in b)E.call(b,f)&&(c[f]=b[f]);d.prototype=b.prototype;c.prototype=new d;c.__super__=b.prototype;
return c};ha=function(c){function b(){return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.allowNewlines=!0;b.prototype._draftKey=function(b){return"draft_"+this.model.id+"_"+b};b.prototype._saveDraft=function(b,f){return ja.set(this._draftKey(b),f)};b.prototype._recallDraft=function(b){return ja.get(this._draftKey(b))};b.prototype._discardDraft=function(b){return ja.unset(this._draftKey(b))};b.prototype.editField=function(b){var f,c,e;f=$(b.target).closest("a");if(!(0<f.length&&
"#"!==f.attr("href"))&&!M.dragging&&!M.sorting&&!("function"===typeof window.getSelection&&null!=(c=window.getSelection())&&c.toString()||null!=(e=document.selection)&&e.createRange().text))return m.stop(b),w.hide(),b=$(b.target).closest(".editable"),b=b.attr("attr"),this.edit(b)};b.prototype.edit=function(b){var f,c,e,h,l,q,k,x;-1<b.indexOf(".")&&(x=b.split("."),b=x[1]);f=this.$("[attr="+b+"]");e=this.$(".js-no-higher-edits [attr="+b+"]");f=f.not(e);0!==f.length&&(qa.cancelEdits(),e=f.find(".edit:first"),
0!==e.length&&(h=f.find(".field:first"),q=h.is("textarea"),l=h.parent().is(".card-detail-edit"),c=f.find(".current"),q&&(k=Math.ceil(parseFloat($(c).css("line-height").slice(0,-2))),q=27*k,c=l?Math.max(7*k,c.height()+k):Math.max(2*k,c.height()+k),c>q&&(c=q),h.height(c+16)),e.append(u.fill("edit_controls")),e.hasClass("delete")||e.find(".delete").remove(),e.hasClass("convert")||e.find(".convert").remove(),e.hasClass("options-menu")||e.find(".options-menu").remove(),f.addClass("editing"),""===h.val()&&
h.val(m.traverse(this.model.attributes,null!=x?x:b)),h.data("draftKey",this._draftKey(b)),J("editable",this.model),h.focus().select()))};b.prototype.recallDrafts=function(){var b,f,c;c=this;b=this.$("[attr]");f=this.$(".js-no-higher-edits [attr]");return b.not(f).each(function(){var b,d;b=$(this).attr("attr");d=c._recallDraft(b);if(null!=d)return b=$(this).find(".field:first"),b.val(d),_.defer(function(b){return function(){return $(b).find(".edits-warning").show()}}(this))})};b.prototype.stopEditing=
function(b){m.stop(b);qa.cancelEdits();return!1};b.prototype.clearEdits=function(b){var f;m.stop(b);b=$(b.target).closest(".editable[attr]");f=b.attr("attr");null!=f&&this._discardDraft(f);b.find(".field").val("");b.find(".edits-warning").hide();b.find(".edits-error").hide();qa.cancelEdits();return!1};b.prototype.validate=function(){var b,f,c,e,h;e=this.$(".editing.non-empty .field");f=0;for(c=e.length;f<c;f++)if(b=e[f],/^\s*$/.test($(b).val()))return!1;e=this.$(".editing .field");f=0;for(c=e.length;f<
c;f++)if(b=e[f],b=null!=(h=$(b).val())?h.length:void 0,16384<b)return $(".editing").find(".edits-error").text("Your text is "+(b-16384)+" characters too long to save").show(),!1;return!0};b.prototype.keydownEvent=function(b){qa.isEditing()&&(w.view instanceof pc||w.view instanceof Qb?"function"===typeof this.checkInsert&&this.checkInsert(b):m.isForceSubmitKey(b)||13===b.keyCode&&(!$(b.target).is("textarea")||$(b.currentTarget).hasClass("single-line"))&&!b.shiftKey?(m.stop(b),this.commitEdits(b)):
13===b.keyCode&&!this.allowNewlines&&m.stop(b))};b.prototype.commitEdits=function(b){var f,c,e;m.stop(b);f=$(b.target).closest(".editable.editing[attr]");f.find(".edits-error").hide();if(this.validate())return e=this,c=this.model,f.remove("input[type=submit]"),f.removeClass("editing").each(function(){var b,d,q,k;d=$(this).attr("attr");q=$(this).find(".field").val();e.allowNewlines||(q=q.replace(/[\r\n]+/g," "));0===jQuery.trim(q).length&&(q="");k={};"function"===typeof e.customSet&&e.customSet(d,
q)?e._discardDraft(d):(k[d]=q,b=$(this).find(".current"),b.hasClass("markeddown")?b.html(Sa.full.format(null!=q?q:"",{textData:c.get("descData")}).output):b.hasClass("js-text-as-html")?b.html(mb.textAsHtml(null!=q?q:"",{convertNewlines:!0})):b.text(q),J("editable","*** Set Data: "),J("editable",k),J("editable",c));return c.get(d)===q?e._discardDraft(d):c.update(k,function(b){return null!=b?f.find(".edits-error").text(b).show():e._discardDraft(d)})}).find(".field").val(""),f.find(".edits-warning").hide(),
!0};b.prototype.clickSetting=function(b){var f,c,e;f=$(b.target);if(!f.hasClass("disabled")&&!f.closest(".js-disabled").length&&(c=f.attr("href"),!(c&&"#"!==c)&&(c=f.closest(".pref").attr("name"))))e=f.attr("value"),e=function(){switch(e){case "true":return!0;case "false":return!1;default:return e}}(),this.model.setPref(c,e),this.model.save(),m.stop(b)};b.prototype.delegateEvents=function(d){var f;f={"click .current":"editField","click .js-cancel-edit":"clearEdits","click .js-discard-edits":"clearEdits",
"click .js-view-edits":"editField","click .js-save-edit":"commitEdits","keydown .field":"keydownEvent","click input":m.stopPropagation,"click textarea":m.stopPropagation};null!=this.model.setPref&&(f["click a"]="clickSetting");return b.__super__.delegateEvents.call(this,_.extend(f,d||this.events))};return b}(A);var pa,k=function(c,b){return function(){return c.apply(b,arguments)}},E={}.hasOwnProperty,s=function(c,b){function d(){this.constructor=c}for(var f in b)E.call(b,f)&&(c[f]=b[f]);d.prototype=
b.prototype;c.prototype=new d;c.__super__=b.prototype;return c};pa=function(c){function b(d){var f,c,e,h,l,q,m;this.model=d.model;m=d.text;this.elem=d.elem;this.top=d.top;e=d.confirmText;c=d.confirmBtnClass;f=d.cancelText;this.title=d.title;this.template=d.template;h=d.data;q=d.fxConfirm;l=d.fxCancel;this.popOnClick=d.popOnClick;this._handleClick=k(this._handleClick,this);this.render=k(this.render,this);this.getViewTitle=k(this.getViewTitle,this);null==this.template&&(this.template="confirm");this.confirm=
this._handleClick(q);this.cancel=l?this._handleClick(l):function(){};this.data=_.extend({text:m,confirmText:e,confirmBtnClass:c,cancelText:f},null!=h?h:{});b.__super__.constructor.apply(this,arguments)}s(b,c);b.toggle=function(b){return w.toggle({elem:b.elem,top:b.top,view:this,options:b})};b.pushView=function(b){return w.pushView({view:this,options:b})};b.prototype.getViewTitle=function(){return this.title};b.prototype.events={"click .js-confirm":"confirm","click .js-cancel":"cancel"};b.prototype.render=
function(){this.$el.html(u.fill(this.template,this.data,{},{member:u.member}));return this};b.prototype._handleClick=function(b){return function(f){return function(c){m.stop(c);f.popOnClick?w.popView():w.hide();"function"===typeof b&&b(c);f.remove();f.unbind();return!1}}(this)};return b}(A);var hf,jf,kf,lf,mf,nf,of,pf,qf,rf,sf,tf,uf,vf,wf,Tb,k=function(c,b){return function(){return c.apply(b,arguments)}},E={}.hasOwnProperty,s=function(c,b){function d(){this.constructor=c}for(var f in b)E.call(b,f)&&
(c[f]=b[f]);d.prototype=b.prototype;c.prototype=new d;c.__super__=b.prototype;return c},F=[].indexOf||function(c){for(var b=0,d=this.length;b<d;b++)if(b in this&&this[b]===c)return b;return-1};pf=function(c){function b(){this.viewChannelPicker=k(this.viewChannelPicker,this);this.showFeedbackButton=k(this.showFeedbackButton,this);this.viewMemberMenu=k(this.viewMemberMenu,this);this.viewNotificationsMenu=k(this.viewNotificationsMenu,this);this.renderUnreadNotifications=k(this.renderUnreadNotifications,
this);this.renderAvatar=k(this.renderAvatar,this);this.renderMemberName=k(this.renderMemberName,this);this.renderUpgradeAvailable=k(this.renderUpgradeAvailable,this);this.initialize=k(this.initialize,this);return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.className="header-user";b.prototype.initialize=function(){var d;this.listenTo(this.modelCache,"add:Notification change:Notification remove:Notification",this.renderUnreadNotifications);this.listenTo(this.model,"change:initials change:avatarHash change:avatarSource change:fullName change:username",
this.renderAvatar);$(Oa).bind("change:serverVersion",this.renderUpgradeAvailable);this.idLastNotification=null!=(d=_.chain(this.Notification.all()).pluck("id").compact().sort().last().value())?d:"";this.modelCache.on("add:Notification",function(b){return function(d){if(d.id>b.idLastNotification)return b.idLastNotification=d.id,new tb(d)}}(this));return b.__super__.initialize.apply(this,arguments)};b.prototype.destructor=function(){$(Oa).unbind("change:serverVersion",this.renderUpgradeAvailable);return b.__super__.destructor.apply(this,
arguments)};b.prototype.events={"click .js-open-header-notifications-menu":"viewNotificationsMenu","click .js-open-header-member-menu":"viewMemberMenu","click .js-open-add-menu":"openAddMenu","click .js-toggle-login-popover":"viewLoginMenu","click .js-open-feedback":"openFeedback",shortcut:"shortcut","click .js-open-channel-picker":"viewChannelPicker"};b.prototype.shortcut=function(b){switch(b){case 66:return this.viewBoardsMenu(),"Header Boards Menu"}};b.prototype.render=function(b){var f;null==
b&&(b=!1);J("render","rendering header");b={hasTrelloGold:this.model.isGold(),is_promo:b,showChannelPicker:1<(null!=(f=window.channels)?f.allowed.length:void 0)};this.$el.html(u.fill("header_user",b,{},{header_signup_login:u.header_signup_login}));this.renderUpgradeAvailable();this.renderUnreadNotifications();this.renderAvatar();this.renderMemberName();return this};b.prototype.renderUpgradeAvailable=function(){J("render","rendering upgrade available");if(B.advertiseUpgrade())return this.$(".upgrade").show()};
b.prototype.renderMemberName=function(){var b;return this.$(".js-member-name").text(null!=(b=this.model.get("fullName"))?b:this.model.get("username"))};b.prototype.renderAvatar=function(){J("render","rendering avatar");this.$(".member").html(u.fill("member",this.model.toJSON()));return this};b.prototype.renderUnreadNotifications=function(){var b,f;b=this.Notification.unreadCount();f=""+m.formatCount(b,"Notification",!0)+". Click to view notifications.";this.$(".js-open-header-notifications-menu").attr("title",
f).toggleClass("new-notifications",0<b);B.title();return this};b.prototype.viewLoginMenu=function(b){m.stop(b);n("Header","Login Menu","Open Login Menu");return w.toggle({elem:this.$(".js-toggle-login-popover"),top:40,view:z.me().getView(uf)})};b.prototype.viewNotificationsMenu=function(b){m.stop(b);n("Header","Notifications Menu","Open Notifications Menu");w.toggle({elem:this.$(".js-open-header-notifications-menu"),top:40,view:xf,hidden:_.bind(this.model.clearAllNotifications,this.model),options:{model:this.model,
modelCache:this.modelCache}})};b.prototype.openAddMenu=function(b){m.stop(b);n("Header","Add Menu","Open");b=z.me().getView(lf);w.toggle({elem:this.$(".js-open-add-menu"),top:40,view:b})};b.prototype.viewMemberMenu=function(b){m.stop(b);n("Header","User Menu","Open User Menu");b=z.me().getView(of);w.toggle({elem:this.$(".js-open-header-member-menu"),top:40,view:b})};b.prototype.showFeedbackButton=function(){this.$(".js-open-feedback").removeClass("hide");return this};b.prototype.openFeedback=function(b){m.stop(b);
W.show({view:new yf({model:this.Auth.me(),modelCache:this.modelCache}),maxWidth:750})};b.prototype.viewChannelPicker=function(b){m.stop(b);w.toggle({elem:this.$(".js-open-channel-picker"),top:41,view:nf})};return b}(A);nf=function(c){function b(){this.showDev=k(this.showDev,this);return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.CHANNELS=["stable","beta","alpha"];b.prototype.getViewTitle=function(){return"Switch Channels"};b.prototype.events={"click .js-select":"selectChannel",
"click .js-select-dev":"showDev","click .js-remove-cookie":"removeCookie"};b.prototype.initialize=function(){var b,f,c,e,h;e=this.CHANNELS;h=[];f=0;for(c=e.length;f<c;f++)b=e[f],0<=F.call(window.channels.allowed,b)&&h.push({name:b,displayName:m.capitalize(b),active:b===window.channels.active});this.channels=h;return this.isDev=window.channels.dev};b.prototype.selectChannel=function(b){var f;f=b.target.name;return T({url:"/1/members/me/channels/active",type:"PUT",data:{value:f},success:function(b){return function(){window.channels.active=
f;w.hide();return document.location.reload()}}(this)})};b.prototype.removeCookie=function(b){m.stop(b);$.cookie("head",null,{path:"/"});return this.render()};b.prototype.render=function(){var b;(b=!!$.cookie("head"))&&this.isDev&&_.defer(this.showDev);this.$el.html(u.fill("header_channel_picker",{channels:this.channels,cookie:b,dev:this.isDev}));return this};b.prototype.showDev=function(){w.pushView({view:qf});return this};return b}(A);qf=function(c){function b(){return b.__super__.constructor.apply(this,
arguments)}s(b,c);b.prototype.getViewTitle=function(){return"Select client version"};b.prototype.events={"change .js-select-head":"updateHead","change .js-select-version":"updateVersion"};b.prototype.initialize=function(){var b,f,c;a:{try{c=JSON.parse($.cookie("head"));break a}catch(e){}c=void 0}this.active=c||{};if(this.active.version)return this.active.version=[null!=(b=this.active.version)?b:0,null!=(f=this.active.patch)?f:0].join(".")};b.prototype.render=function(){this.$el.html(u.fill("header_version_picker",
{active:this.active,heads:[null].concat(this.listHeads()),versions:[null].concat(this.listVersions())}));return this};b.prototype.listHeads=function(){var b,f,c;f=window.clientDeployments;c=[];for(b in f)c.push({displayName:m.capitalize(b),name:b,selected:this.active.name===b});return c};b.prototype.listVersions=function(){var b,f,c,e;c=window.clientDeployments[this.active.name];e=[];for(f in c)b=c[f],e.push({name:f,active:b,selected:f===this.active.version});return e};b.prototype.updateHead=function(b){this.active.name=
$(b.target).val();this.active.version=null;return this.render()};b.prototype.updateVersion=function(b){this.active.version=$(b.target).val();this.render();b=this.active.version.split(".");$.cookie("head",JSON.stringify({name:this.active.name,version:b[0],patch:b[1]}),{path:"/"});return document.location.reload()};return b}(A);uf=function(c){function b(){this.loginPassword=k(this.loginPassword,this);this.loginGoogle=k(this.loginGoogle,this);this.render=k(this.render,this);return b.__super__.constructor.apply(this,
arguments)}s(b,c);b.prototype.getViewTitle=function(){return"Log In"};b.prototype.className="login-popover";b.prototype.initialize=function(){return this.errors={}};b.prototype.events={"click .js-google-login":"loginGoogle","click .js-password-login":"loginPassword"};b.prototype.render=function(){this.$el.html(u.fill("login_popover",{badLogin:this.errors.badLogin,returnUrl:"/"}));return this};b.prototype.loginGoogle=function(b){m.stop(b);n("Header","Log In","Google");TRMixpanel.justLoggedIn();b=$(b.target).closest("form");
b.find('input[name="mode"]').val("popup");b.find('input[name="immediate"]').val(!1);b.find('input[name="returnUrl"]').val(document.location.pathname);return b.submit()};b.prototype.loginPassword=function(b){return TRMixpanel.justLoggedIn()};return b}(A);mf=function(c){function b(){this.toggleBoardsSidebar=k(this.toggleBoardsSidebar,this);return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.className="header-boards-button";b.prototype.events={"click .js-boards-menu":"toggleBoardsSidebar"};
b.prototype.render=function(){this.$el.html(u.fill("header_boards_menu_button"));return this};b.prototype.toggleBoardsSidebar=function(b){m.stop(b);n("Header","Boards Menu","Toggle Boards Menu");aa.getShowSidebar()?aa.hideSidebar():aa.showSidebar()};return b}(A);of=function(c){function b(){this.logout=k(this.logout,this);this.reco=k(this.reco,this);this.account=k(this.account,this);this.billing=k(this.billing,this);this.cards=k(this.cards,this);this.profile=k(this.profile,this);this.render=k(this.render,
this);return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.initialize=function(){return this.model.ond("change:loginTypes",this.render)};b.prototype.getViewTitle=function(){return this.model.getMemberViewTitle()};b.prototype.events={"click .js-profile":"profile","click .js-cards":"cards","click .js-billing":"billing","click .js-account":"account","click .js-platforms":"platforms","click .js-help":"help","click .js-reco":"reco","click .js-logout":"logout"};b.prototype.render=function(){var b,
f;J("render","rendering HeaderMemberMenuView");b=this.model.toJSON();b.cardsUrl=B.getMemberCardsUrl();b.profileUrl=B.getMemberProfileUrl();b.billingUrl=B.getMemberBillingUrl();b.accountUrl=B.getMemberAccountUrl();b.canLogOut=z.canLogIn();b.hasTrelloGold=this.model.isGold();b.hasAccount=Ca.hasAccount(null!=(f=b.paidAccount)?f.standing:void 0);this.$el.html(u.fill("header_member_menu",b));return this};b.prototype.profile=function(){return n("Header","User Menu","Profile")};b.prototype.cards=function(){return n("Header",
"User Menu","Cards")};b.prototype.billing=function(){return n("Header","User Menu","Billing")};b.prototype.account=function(){return n("Header","User Menu","Settings")};b.prototype.platforms=function(){return n("Header","User Menu","Platforms")};b.prototype.help=function(){return n("Header","User Menu","Help")};b.prototype.reco=function(){return n("Header","User Menu","Recommend")};b.prototype.logout=function(b){if(z.canLogIn())return $("<form>").attr({method:"post",action:"/logout"}).css({display:"none"}).appendTo("body").submit(),
n("Header","User Menu","Log Out");w.pushView({view:this.model.getView(Ub)});return m.stop(b)};return b}(A);rf=function(c){function b(){this.openAnnouncement=k(this.openAnnouncement,this);this.renderUnreadAnnouncementCount=k(this.renderUnreadAnnouncementCount,this);this.render=k(this.render,this);return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.initialize=function(){ub.onAddRemove(this.renderUnreadAnnouncementCount);cb.onAddRemove(this.renderUnreadAnnouncementCount);cb.ond("change:unread",
this.renderUnreadAnnouncementCount);this.updateAllAnnouncements=_.debounce(this.updateAllAnnouncements,6E4,!0);return this.setInterval(function(b){return function(){return b.renderUnreadAnnouncementCount()}}(this),3E4)};b.prototype.events={click:"openAnnouncement",mouseover:"updateAllAnnouncements"};b.prototype.render=function(){this.$el.html(u.fill("woof_header"));this.renderUnreadAnnouncementCount();return this};b.prototype.renderUnreadAnnouncementCount=function(){var b,f;f=ub.unreadCount();b=this.$(".header-btn");
0<=F.call(_.pluck(ub.toJSON(),"type"),"downtime")?(b.find(".js-phrase").text("Down for maintenance soon\u2026"),b.addClass("woof-alert")):b.find(".js-phrase").text("New stuff!");z.isLoggedIn()&&0<f?b.removeClass("woof-crouch woof-hide").addClass("woof-up"):z.isLoggedIn()&&ja.get("tacoShow")>(new Date).getTime()?b.removeClass("woof-up woof-hide").addClass("woof-crouch"):b.removeClass("woof-up woof-crouch woof-alert").addClass("woof-hide")};b.prototype.updateAllAnnouncements=function(){return cb.fetch()};
b.prototype.openAnnouncement=function(b){m.stop(b);this.updateAllAnnouncements();w.toggle({elem:this.$(".header-btn"),top:40,view:z.me().getView(hf)});n("Header","Announcement","Unread",ub.unreadCount())};return b}(ha);hf=function(c){function b(){this.openAnnouncementLink=k(this.openAnnouncementLink,this);this.clickGoogle=k(this.clickGoogle,this);this.clickFacebook=k(this.clickFacebook,this);this.clickTwitter=k(this.clickTwitter,this);this.clickBlog=k(this.clickBlog,this);this.render=k(this.render,
this);return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.initialize=function(){return cb.onAddRemove(this.render)};b.prototype.getViewTitle=function(){return"Announcements"};b.prototype.events={"click .js-blog":"clickBlog","click .js-t":"clickTwitter","click .js-fb":"clickFacebook","click .js-g":"clickGoogle","click a":"openAnnouncementLink"};b.prototype.render=function(){var b,f,c,e,h,l;b={announcements:cb.toJSON()};c={announcement:u.announcement};l=cb.getUnread();e=0;for(h=
l.length;e<h;e++)f=l[e],f.markRead();ja.set("tacoShow",(new Date).addMinutes(60).getTime());this.$el.html(u.fill("header_announcements",b,{},c));return this};b.prototype.clickBlog=function(){return n("Header","Announcements Menu","Trello Blog")};b.prototype.clickTwitter=function(){return n("Header","Announcements Menu","Twitter Link")};b.prototype.clickFacebook=function(){return n("Header","Announcements Menu","Facebook Link")};b.prototype.clickGoogle=function(){return n("Header","Announcements Menu",
"Google+ Link")};b.prototype.openAnnouncementLink=function(b){if(!$(b.target).closest("a").is(".js-blog, .js-t, .js-fb, .js-g, .js-close-popover"))return n("Info","Announcements","Open Announcement Link")};return b}(A);Tb=function(c){function b(){return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.className="header-banner header-banner-warning";return b}(A);kf=function(c){function b(){this.render=k(this.render,this);this.initialize=k(this.initialize,this);return b.__super__.constructor.apply(this,
arguments)}s(b,c);b.prototype.initialize=function(){var b,f,c,e;c={gmail:/@(gmail|googlemail).com$/,yahoo:/@(yahoo|ymail).com$/,live:/@(hotmail|live).com$/,mac:/@(me|mac).com$/};b={gmail:"http://gmail.com",yahoo:"http://mail.yahoo.com",live:"http://live.com",mac:"https://www.icloud.com/"};for(f in c)if(e=c[f],e.test(this.model.get("email"))){this.emailInboxUrl=b[f];break}if(null==this.emailInboxUrl)return T({url:"/checkYourEmail",data:{email:this.model.get("email")},dataType:"json",success:function(b){return function(d){if(null==
d.error)return b.emailInboxUrl=d.url,b.render()}}(this)})};b.prototype.render=function(){var b;b=this.model.toJSON();null!=this.emailInboxUrl&&(b.emailInboxUrl=this.emailInboxUrl,b.knownEmailProvider=!0);this.$el.html(u.fill("header_warning_banner",b));return this};return b}(Tb);wf=function(c){function b(){this.render=k(this.render,this);return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.initialize=function(){return this.model.bind("change:loginTypes",function(b){return function(){b.$el.toggle(!z.canLogIn());
return $(window).triggerHandler("resize")}}(this))};b.prototype.events={"click .js-change-password":"changePassword"};b.prototype.render=function(){this.$el.html(u.fill("header_warning_password",this.model.toJSON()));return this};b.prototype.changePassword=function(b){m.stop(b);n("Member View","Account Page","Open Change Password Menu");return w.toggle({elem:this.$(".js-change-password"),top:24,view:this.model.getView(Ub)})};return b}(Tb);vf=function(c){function b(){this.render=k(this.render,this);
return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.initialize=function(){return this.model.ond("change:prefs",this.render)};b.prototype.render=function(){var b,f,c;c=this.model.toJSON();b=this.model.get("prefs");f="public"===b.voting;b="public"===b.comments;c.interactions=f&&b?"subscribe, vote or comment on":f?"subscribe or vote on":b?"subscribe or comments on":"subscribe to";f=encodeURIComponent(B.getBoardUrl(this.modelCache,this.model));c.signupUrl="/signup?returnUrl="+f+"&source=public-board-banner";
c.tourUrl="/tour?board="+f+"&source=public-board-banner";this.$el.html(u.fill("header_public_board",c));return this};return b}(Tb);sf=function(c){function b(){this.showLoginOrSignupDialog=k(this.showLoginOrSignupDialog,this);this.switchAccounts=k(this.switchAccounts,this);this.createNewAccount=k(this.createNewAccount,this);this.ignoreInvite=k(this.ignoreInvite,this);this.hideHeader=k(this.hideHeader,this);this.joinModel=k(this.joinModel,this);this.render=k(this.render,this);this.getGhost=k(this.getGhost,
this);this.getMemberAdder=k(this.getMemberAdder,this);this.getInviteToken=k(this.getInviteToken,this);return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.events={"click .js-join-model":"joinModel","click .js-ignore-invite":"ignoreInvite","click .js-switch-accounts":"switchAccounts","click .js-create-new-account":"createNewAccount"};b.prototype.className="header-banner header-banner-warning header-banner-invited";b.prototype.initialize=function(){this.boardOrOrg=this.options.idBoard?
this.Board.get(this.options.idBoard):this.Organization.get(this.options.idOrganization);return P["for"](this.modelCache).loadMemberEmail(this.getGhost().id,function(b){return function(f,c){null!=(null!=c?c.email:void 0)&&T({url:"/1/search/members/",type:"get",data:{query:c.email},dataType:"json",success:function(f){if(!_.isEmpty(f)&&"normal"===f[0].memberType)return b.hasAccount=!0}});return b.render()}}(this))};b.prototype.getInviteToken=function(){return m.inviteTokenFor(this.boardOrOrg.id)};b.prototype.getMemberAdder=
function(){var b;b=this.getInviteToken().split("-")[1];return this.Member.get(b)};b.prototype.getGhost=function(){var b;b=this.getInviteToken().split("-")[0];return this.Member.get(b)};b.prototype.render=function(){var b,f,c;b=this.model.toJSON();b.isLoggedIn=z.isLoggedIn();b[this.boardOrOrg.typeName.toLowerCase()]=this.boardOrOrg.toJSON();b.modelType=this.boardOrOrg.typeName;f=this.getMemberAdder();null!=f&&(b.memberAdder=f.toJSON(),b.isInviter=z.isMe(f));b.ghost=null!=(c=this.getGhost())?c.toJSON():
void 0;$(this.el).html(u.fill("header_invite",b));return this};b.prototype.joinModel=function(b){var f;m.stop(b);return z.isLoggedIn()?(f=_.extend(this.model.toJSON(),{ghostEmail:this.getGhost().get("email")}),jf.toggle({elem:$(b.target),top:35,model:this.model,title:"Add Email Address?",data:f,confirmText:"Add",fxConfirm:function(b){return function(){var d,f,c;f=b.options.idBoard?"board":"organization";d=null!=(c=b.options.idBoard)?c:b.options.idOrganization;return T({url:"/associate-json/"+f+"/"+
d+"/"+m.inviteTokenFor(d),dataType:"json",type:"post",success:function(d){if(null==d.error)return b.deleteTokenCookie(),b.hideHeader(),O.show("You have joined this board","info",null,5E3)}})}}(this)})):this.showLoginOrSignupDialog()};b.prototype.deleteTokenCookie=function(){var b;return $.cookie("invite-token-"+(null!=(b=this.options.idBoard)?b:this.options.idOrganization),null,{path:"/"})};b.prototype.hideHeader=function(){$(this.el).hide();return m.calcBoardLayout()};b.prototype.ignoreInvite=function(b){m.stop(b);
if(null!=this.getGhost())return this.boardOrOrg.memberList.remove(this.getGhost(),{invite:!0,success:function(b){return function(){b.hideHeader();b.deleteTokenCookie();return O.show("You did not join this board","error",null,5E3)}}(this)})};b.prototype.createNewAccount=function(b){m.stop(b);n("Header","Login/Signup Menu","Open Login/Signup Menu: Create New");return this.showLoginOrSignupDialog(!0)};b.prototype.switchAccounts=function(b){m.stop(b);n("Header","Login/Signup Menu","Open Login/Signup Menu");
return this.showLoginOrSignupDialog()};b.prototype.showLoginOrSignupDialog=function(b){b=b?!1:this.hasAccount;return W.show({view:new tf({model:this.Member.get(z.myId()),modelCache:this.modelCache,idGhost:this.getGhost().id,idModel:this.boardOrOrg.id,hasAccount:b,modelType:this.options.idBoard?"board":"organization"})})};return b}(Tb);jf=function(c){function b(){b.__super__.constructor.apply(this,arguments);this.template="confirm_merge"}s(b,c);b.prototype.render=function(){b.__super__.render.apply(this,
arguments);this.appendSubview(this.subview(db,this.model),this.$(".js-member"));return this};return b}(pa);lf=function(c){function b(){this.newOrg=k(this.newOrg,this);this.newBoard=k(this.newBoard,this);this.newCard=k(this.newCard,this);return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.getViewTitle=function(){return"Add"};b.prototype.events={"click .js-new-card":"newCard","click .js-new-board":"newBoard","click .js-new-org":"newOrg"};b.prototype.render=function(){this.$el.html(u.fill("header_add_menu"));
return this};b.prototype.newCard=function(){n("Header","Add Menu","New Card");return w.pushView({view:new zf({model:this.model,modelCache:this.modelCache})})};b.prototype.newBoard=function(){n("Header","Add Menu","New Board");return w.pushView({view:new vd({model:this.model,modelCache:this.modelCache})})};b.prototype.newOrg=function(){n("Header","Add Menu","New Org");return w.pushView({view:new qc({model:this.model,modelCache:this.modelCache})})};return b}(A);tf=function(c){function b(){this.clickTab=
k(this.clickTab,this);this.setFocusTo=k(this.setFocusTo,this);this.clickFormPart=k(this.clickFormPart,this);this.mouseenterFormPart=k(this.mouseenterFormPart,this);this.loginGoogle=k(this.loginGoogle,this);this.loginPassword=k(this.loginPassword,this);this.createAccount=k(this.createAccount,this);this.addMouseenterFormPartEvent=k(this.addMouseenterFormPartEvent,this);this.setDefaultActive=k(this.setDefaultActive,this);this.render=k(this.render,this);this.remove=k(this.remove,this);return b.__super__.constructor.apply(this,
arguments)}s(b,c);b.prototype.getViewTitle=function(){return"Log In or Sign Up"};b.prototype.className="login-signup-popover";b.prototype.remove=function(){this.$el.remove();return this};b.prototype.events={"mouseenter .js-default-active":"addMouseenterFormPartEvent","click .js-form-part":"clickFormPart","click .js-tabs a":"clickTab","click .js-google-login":"loginGoogle","click .js-password-login":"loginPassword","click .js-create-account":"createAccount"};b.prototype.render=function(){var b;b=this.Member.get(this.options.idGhost).toJSON();
b.hasAccount=this.options.hasAccount;$(this.el).html(u.fill("hybrid_signup_login",b));_.defer(this.setDefaultActive);this.$(".js-insert-tooltip").html(z.me().getView(Af).render().el);return this};b.prototype.setDefaultActive=function(){this.setFocusTo(this.$(".js-default-active"));return this.$(".js-active-box").removeClass("start")};b.prototype.addMouseenterFormPartEvent=function(){this.$(".js-default-active").unbind("mouseenter");return this.$(".js-form-part").bind("mouseenter",this.mouseenterFormPart)};
b.prototype.disableCreateAccount=function(){this.createDisabled=!0;return this.$(".js-create-account").attr("disabled","disabled")};b.prototype.enableCreateAccount=function(){this.createDisabled=!1;return this.$(".js-create-account").removeAttr("disabled")};b.prototype.createAccount=function(b){m.stop(b);if(!this.createDisabled)return n("Invite Header","Create Account"),TRMixpanel.justSignedUp(),this.$(".js-bad-password").hide(),this.$(".js-bad-full-name").hide(),this.$(".js-bad-email").hide(),this.$(".js-used-email").hide(),
b=$(b.target).closest("form"),this.disableCreateAccount(),T({type:"POST",dataType:"json",url:"/signup-invitation",data:{email:b.find('input[name="email"]').val(),idModel:this.options.idModel,type:this.options.modelType,fullName:b.find('input[name="fullName"]').val(),password:b.find('input[name="password"]').val(),inviteToken:m.inviteTokenFor(this.options.idModel)},success:function(b){return function(d){if(d.success||/invalid invitation/.test(d.error))return location.reload();if(/password/.test(d.error))return b.$(".js-bad-password").show(),
b.enableCreateAccount();if(/fullName/.test(d.error))return b.$(".js-bad-full-name").show(),b.enableCreateAccount();if(/email/.test(d.error))return b.enableCreateAccount(),/in use/.test(d.error)?b.$(".js-used-email").show():b.$(".js-bad-email").show()}}(this)})};b.prototype.loginPassword=function(b){m.stop(b);n("Invite Header","Log In","Password");TRMixpanel.justLoggedIn();b=$(b.target).closest("form");b.find('input[name="returnUrl"]').val(document.location.pathname);return b.submit()};b.prototype.loginGoogle=
function(b){m.stop(b);n("Invite Header","Log In","Google");TRMixpanel.justLoggedIn();b=$(b.target).closest("form");b.find('input[name="login"]').val(!0);b.find('input[name="mode"]').val("popup");b.find('input[name="immediate"]').val(!1);b.find('input[name="returnUrl"]').val(document.location.pathname);return b.submit()};b.prototype.mouseenterFormPart=function(b){if(!ma.isTouch()&&0===this.$("*:input:focus").length&&0===this.$(".js-tooltip-content.active").length)return this.setFocusTo($(b.target).closest(".js-form-part"))};
b.prototype.clickFormPart=function(b){if(!ma.isTouch())return this.setFocusTo($(b.target).closest(".js-form-part"))};b.prototype.setFocusTo=function(b){var f,c,e,h,l;b.siblings(".js-form-part").removeClass("active");b.addClass("active");this.$(".js-tab").removeClass("active");this.$(".js-tab[data-content="+this.$(".js-form-part.active").attr("data-id")+"]").addClass("active");h=["js-signup-form-pos","js-login-form-pos"];l=[];c=0;for(e=h.length;c<e;c++)f=h[c],l.push(this.$(".js-active-box").toggleClass(f,
b.hasClass(f)));return l};b.prototype.clickTab=function(b){b=this.$("."+$(b.target).attr("data-content"));return this.setFocusTo(b)};return b}(A);var Ka,Bf,wd,rc,k=function(c,b){return function(){return c.apply(b,arguments)}},E={}.hasOwnProperty,s=function(c,b){function d(){this.constructor=c}for(var f in b)E.call(b,f)&&(c[f]=b[f]);d.prototype=b.prototype;c.prototype=new d;c.__super__=b.prototype;return c},F=[].indexOf||function(c){for(var b=0,d=this.length;b<d;b++)if(b in this&&this[b]===c)return b;
return-1};Ka=function(c){function b(){this.switchSections=k(this.switchSections,this);this.setSectionLabel=k(this.setSectionLabel,this);this.renderArchivedLists=k(this.renderArchivedLists,this);this.loadData=k(this.loadData,this);this.render=k(this.render,this);this.debouncedLoadData=_.debounce(this.loadData,400);this.results={};b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.getViewTitle=function(){return"Archive"};b.viewName="CardAndListArchiveView";b.prototype.displayTypeClass=
"sidebar-display-wide";b.prototype.className="board-widgets-content fancy-scrollbar";b.prototype.initialize=function(){b.__super__.initialize.apply(this,arguments);this.CARDS_PER_PAGE=10;this.section="cards";this.loading=!0;this.isSearching=!1;this.debouncedRenderCards=_.debounce(this.renderArchivedCards,50);this.listenTo(this.modelCache,"add:Card remove:Card reset:Card change:Card:closed",function(b){return function(){return b.debouncedRenderCards()}}(this));return this.modelCache.ond("add:List remove:List reset:List change:List:closed",
this.renderArchivedLists)};b.prototype.events={"click .js-switch-section":"switchSections","click .js-more-archive-cards":"getMoreCards","keyup .js-search":"keyupArchiveEvent"};b.prototype._getArchivedCards=function(){return this.Card.find(function(b){return function(f){return f.get("idBoard")===b.model.id&&f.get("closed")}}(this))};b.prototype._getArchivedLists=function(){return this.List.find(function(b){return function(f){return f.get("idBoard")===b.model.id&&f.get("closed")}}(this))};b.prototype.getMoreCards=
function(){var b,f,c,e,h;b=this.model;if("cards"===this.section)return this.loading=!0,f=this._getArchivedCards(),c={limit:this.CARDS_PER_PAGE,before:null!=(h="function"===typeof(e=_.min(_.map(f,function(b){return H.parse(b.get("dateLastActivity"))}))).getTime?e.getTime():void 0)?h:null},P["for"](this.modelCache).loadClosedCards(b.id,c,function(b){return function(d,f){b.hasMoreCards=f.length===c.limit;b.loading=!1;b.renderArchivedCards()}}(this))};b.prototype.getData=function(){var b,f;b=this.model;
"cards"===this.section&&(this.loading=!0,f={limit:this.CARDS_PER_PAGE},P["for"](this.modelCache).loadClosedCards(b.id,f,function(b){return function(d,c){b.hasMoreCards=c.length===f.limit;b.loading=!1;b.renderArchivedCards()}}(this)))};b.prototype.render=function(){var b,f,c,e,h,l,q;b="lists"===this.section;c=!b;b?(e=this._getArchivedLists(),f=function(b){return b.get("name")}):(e=this._getArchivedCards(),f=function(b){var d;return null!=(d=0-new Date(b.get("dateLastActivity")))?d:0});e=_.sortBy(e,
f);f=this.model.toJSON();b={loading:this.loading,empty:!this.loading&&0===e.length,emptyMessage:"No archived "+(b?"lists":"cards")+".",hasMoreCards:!this.loading&&this.hasMoreCards&&c};h={editable:this.model.editable(),owned:this.model.owned()};f["section_"+this.section]=b["section_"+this.section]=!0;f.content=u.fill("archive_items",b,h);this.$el.html(u.fill("board_archive",f));this.setSectionLabel(this.section);this.$archiveItems=this.$(".js-archive-items");if(c){this.$(".archive-controls").addClass("viewing-cards").removeClass("viewing-lists");
l=0;for(f=e.length;l<f;l++)c=e[l],null!=(q=this.$archiveItems)&&q.append(c.getView(wd,null,{reOpenText:"Send to Board",canDelete:!0}).render().el)}else{this.$(".archive-controls").addClass("viewing-lists").removeClass("viewing-cards");q=0;for(f=e.length;q<f;q++)c=e[q],null!=(l=this.$archiveItems)&&l.append(c.getView(rc,null,{reOpenText:"Send to Board",canDelete:!1}).render().el)}_.defer(function(){return M.refreshCardSortable()});return this};b.prototype.keyupArchiveEvent=function(b){var f,c;if(!(f=
b.keyCode,0<=F.call(Hb,f))&&!(c=b.keyCode,0<=F.call(sd,c)))b=this.$(".js-search").val(),this.$(".js-search-loading").removeClass("hide"),""===b?this.renderArchivedCards("latest"):this.debouncedLoadData()};b.prototype.loadData=function(){var b,f;f="is:archived "+this.$(".js-search").val();b=this.model.id;P["for"](this.modelCache).loadSearchData({query:f,modelTypes:"cards",idBoards:b,partial:!0},function(b){return function(d,f){b.results=f;d||b.renderArchivedCards("searching")}}(this))};b.prototype.renderArchivedLists=
function(){"lists"===this.section&&this.render()};b.prototype.renderArchivedCards=function(b){var f,c,e,h,l,q;null!=b&&(this.isSearching="searching"===b);this.$(".js-search-loading").addClass("hide");this.$(".spinner.loading").toggleClass("hide",!this.loading);this.$(".js-more-archive-cards").toggleClass("hide",this.isSearching);if("cards"===this.section&&this.model.viewState.getCurrentSidebarView()===this){null!=(e=this.$archiveItems)&&e.empty();b=this.isSearching?this.results.cards:this._getArchivedCards();
e=0;for(h=b.length;e<h;e++)f=b[e],f=this.Card.get(f.id),null!=(c=this.$archiveItems)&&c.append(f.getView(wd,null,{reOpenText:"Send to Board",canDelete:!0}).render().el);this.hasMoreCards&&!this.isSearching?null!=(l=this.$archiveItems)&&l.append("<a class='show-more clear js-more-archive-cards' href='#'>Load more cards.</a>"):0===b.length&&(c={message:"No archived cards."},this.isSearching&&(c.message="No archived card results."),null!=(q=this.$archiveItems)&&q.append(u.fill("empty_list",c)))}M.debounceArchivedCardsRefresh()};
b.prototype.setSectionLabel=function(){var b;this.$(".js-current-section").html(""+m.toTitleCase(this.section));b="lists";"lists"===this.section&&(b="cards");this.$(".js-new-section").html(b)};b.prototype.switchSections=function(b){m.stop(b);"cards"===this.section?this.section="lists":(this.isSearching=!1,this.section="cards");this.getData();return this.render()};return b}(A);Bf=function(c){function b(){this.onReopen=k(this.onReopen,this);this.render=k(this.render,this);return b.__super__.constructor.apply(this,
arguments)}s(b,c);b.prototype.initialize=function(){return this.listenTo(this.model.boardList,{"change:closed add remove reset":this.render})};b.prototype.render=function(){var b,f,c;f=this.model.boardList;c={empty:0===f.filter(function(b){return b.get("closed")}).length};this.$el.html(u.fill("closed_boards",c));b=this.$(".js-archive-items");f.forEach(function(f){return function(c){if(c.get("closed"))return c=new rc({model:c,onReopen:f.onReopen}),b.append(c.render().el)}}(this));return this};b.prototype.onReopen=
function(b){return B.displayBoard({idBoard:b.id})};return b}(A);rc=function(c){function b(){this.reopen=k(this.reopen,this);this.render=k(this.render,this);return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.tagName="li";b.prototype.className="clearfix";b.prototype.events={"click .js-reopen":"reopen"};b.prototype.render=function(){var b,f,c,e;b=null!=this.model.owned?this.model.owned():this.model.editable();f=this.model.toJSON();f.reOpenText=null!=(e=this.options.reOpenText)?e:
"Re-open";f.url="function"===typeof(c=this.model).getUrl?c.getUrl():void 0;this.$el.html(u.fill("archive_item",f,{editable:b}));return this};b.prototype.reopen=function(b){m.preventDefault(b);this.model.update({closed:!1},function(b){return function(){var d;n(b.model.typeName,"Reopen","Via Archive");return"function"===typeof(d=b.options).onReopen?d.onReopen(b.model):void 0}}(this));return!1};return b}(A);wd=function(c){function b(){this.deleteModel=k(this.deleteModel,this);this.openCard=k(this.openCard,
this);this.render=k(this.render,this);return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.tagName="div";b.prototype.className="archived-list-card";b.prototype.events={"click .list-card":"openCard","click .js-reopen":"reopen","click .js-delete":"deleteModel"};b.prototype.render=function(){var b,f,c,e;b=null!=this.model.owned?this.model.owned():this.model.editable();c={reOpenText:null!=(f=this.options.reOpenText)?f:"Re-open",canDelete:null!=(e=this.options.canDelete)?e:!1};f=this.model.getView(xa);
this.$el.html(f.render().el).append(u.fill("archived_card_options",c,{editable:b}));return this};b.prototype.openCard=function(b){m.stop(b);B.showCardDetail(this.model);W.calcPos()};b.prototype.deleteModel=function(b){var f;m.stop(b);pa.toggle({elem:null!=(f=$(b.target).closest(".js-delete"))?f[0]:void 0,top:22,model:this.model,title:"Delete Card?",text:"All actions will be removed from the activity feed and you won't be able to re-open the card. There is no undo.",confirmText:"Delete",confirmBtnClass:"negate",
fxConfirm:function(b){return function(d){b.model.destroy();return n("Card","Delete","Via Archive")}}(this)})};return b}(rc);var xd;xd=function(c){return function(b){var d,f;for(d in b)f=b[d],_.isFunction(f)?b[d]=new Ge.Template(f):b[d]=xd(f);return b}}(this);u=xd(u);u.fill=function(c,b,d,f){var g;null==b&&(b={});null==d&&(d={});null==f&&(f={});c=u[c];b=_.extend({__ed:null!=d?d.editable:void 0,__own:null!=d?d.owned:void 0,__loggedIn:"undefined"!==typeof z&&null!==z?z.isLoggedIn():void 0,__siteDomain:siteDomain,
__avatarDomain:avatarDomain,__logoDomain:logoDomain,__gold:"undefined"!==typeof z&&null!==z?null!=(g=z.me())?g.isGold():void 0:void 0},b,"undefined"!==typeof wa&&null!==wa?wa.tests(d.idABTest):void 0);return c.render(b,f)};u.fillFromModel=function(c,b,d,f){var g;null==d&&(d={});null==f&&(f={});g={editable:"function"===typeof b.editable?b.editable():void 0,owned:"function"===typeof b.owned?b.owned():void 0};d=_.extend(b.toJSON(),d);return u.fill(c,d,g,f)};u.fillMenu=function(c,b,d){return u.fill("menu-base",
{content:u.fill(c,b,d)})};var ua;ua=new (function(){function c(){this.profilerEnabled=$.cookie("profiler");this.timeStarts={};this.completed=[];this.profilerEnabled&&setInterval(function(b){return function(){return b.render()}}(this),250);this._getTime=null!=("undefined"!==typeof performance&&null!==performance?performance.now:void 0)?function(){return performance.now()}:function(){return+new Date}}c.prototype.render=function(){var b,d,f,c,e,h,l,q,k;if($("#surface").length){$(".js-profiler").length||
$("#surface").append(u.fill("profiler",{}));$(".js-profiler").empty();c=[];q=this.completed;h=0;for(l=q.length;h<l;h++)b=q[h],e=b.name,f=b.startTime,b=b.endTime,(null!=(k=d=_.last(c))?k.name:void 0)===e?(null==d.count&&(d.count=1),d.count++,d.time+=b-f):c.push({name:e,time:b-f});h=0;for(l=c.length;h<l;h++)f=c[h],f.time=""+Math.floor(100*f.time)/100+"ms";f=this.timeStarts;for(e in f)c.push({name:e,time:"pending..."});l=[];e=0;for(h=c.length;e<h;e++)f=c[e],l.push($(".profiler").append(u.fill("profiler_entry",
f)));return l}};c.prototype.time=function(b){return this.timeStarts[b]=this._getTime()};c.prototype.timeEnd=function(b,d){var f,c,e,h;f=null!=d?d:{};e=f.reportToServer;h=f.serverName;f=f.data;c=this._getTime();if(this.timeStarts[b])return this.completed.push({name:b,startTime:this.timeStarts[b],endTime:c}),e&&wa.inTest("client_profiler_reports")&&$.post("/clientTiming",{name:h,time:c-this.timeStarts[b],data:f,version:Oa.version.toString()}),delete this.timeStarts[b];J("END WITH NO START: "+b)};return c}());
var Af,Cf,yd,Df,k=function(c,b){return function(){return c.apply(b,arguments)}},E={}.hasOwnProperty,s=function(c,b){function d(){this.constructor=c}for(var f in b)E.call(b,f)&&(c[f]=b[f]);d.prototype=b.prototype;c.prototype=new d;c.__super__=b.prototype;return c};Cf=new (function(){function c(){this.hide=k(this.hide,this);this.windowClick=k(this.windowClick,this);this.toggle=k(this.toggle,this);this.show=k(this.show,this);this.tooltip=null;$(window).bind("click",this.windowClick)}c.prototype.show=
function(b,d){var f,c,e,h,l;f=$(u.fill("tooltip-content",{tooltipText:b}));c=$(".tooltip-container");c.html(f);this.tooltip={tooltipText:b,$anchor:d,$elem:f};e=d.offset();h=e.left;l=e.top;e=d.outerHeight();c.css({left:h-5,top:l+e});return f.addClass("active")};c.prototype.toggle=function(b,d){var f;return d.is(null!=(f=this.tooltip)?f.$anchor:void 0)?this.hide():this.show(b,d)};c.prototype.windowClick=function(b){if(0===$(b.target).closest(".js-tooltip-content").length||0!==$(b.target).closest(".js-tooltip-close-button").length)return this.hide()};
c.prototype.hide=function(){var b;this.tooltip=null;b=$(".tooltip-container");b.find(".tooltip-content").removeClass("active");return _.delay(function(d){return function(){return b.empty()}}(this),300)};return c}());yd=function(c){function b(){this.toggleTooltip=k(this.toggleTooltip,this);this.isActive=k(this.isActive,this);this.render=k(this.render,this);return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.className="tooltip";b.prototype.events={"click .js-tooltip-trigger":"toggleTooltip"};
b.prototype.render=function(){this.$el.html(u.fill("tooltip",{linkText:this.linkText,tooltipText:this.tooltipText}));return this};b.prototype.isActive=function(){return!0};b.prototype.toggleTooltip=function(b){m.stop(b);if(this.isActive())return Cf.toggle(this.tooltipText,this.$(".js-tooltip-anchor"))};return b}(A);Af=function(c){function b(){this.isActive=k(this.isActive,this);return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.linkText="How come my info's already there?";b.prototype.tooltipText=
"The person who invited you kindly pre-filled some info to save you time. Wasn't that nice of them?";b.prototype.isActive=function(){return 0!==this.$el.closest(".active").length};return b}(yd);Df=function(c){function b(){return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.linkText="";b.prototype.tooltipText="This user has not yet confirmed that the email address we have on file belongs to them.";return b}(yd);var sc,tc,Aa,uc,vb,vc,wc,zd,xc,Ba,Wa,yc,E={}.hasOwnProperty,s=function(c,
b){function d(){this.constructor=c}for(var f in b)E.call(b,f)&&(c[f]=b[f]);d.prototype=b.prototype;c.prototype=new d;c.__super__=b.prototype;return c},k=function(c,b){return function(){return c.apply(b,arguments)}},F=[].indexOf||function(c){for(var b=0,d=this.length;b<d;b++)if(b in this&&this[b]===c)return b;return-1};Aa=[{name:"voting",description:"Allow people to vote on cards.",imageClass:"power-up-icon-image-voting",aboutTemplate:"power_ups_about_voting",settingsView:function(c){return new xc({model:c})},
backgroundColor:"hsl(82, 25%, 90%)",screenshots:["https://d2k1ftgv7pobq7.cloudfront.net/images/powerups/voting/screenshots/5a3055ee42904ad84ba81830694e4a03/screenshot1.png"]},{name:"cardAging",description:"Cards visibly age with inactivity.",imageClass:"power-up-icon-image-card-aging",aboutTemplate:"power_ups_about_card_aging",settingsView:function(c){return new tc({model:c})},backgroundColor:"hsl(227, 14%, 90%)",screenshots:["https://d2k1ftgv7pobq7.cloudfront.net/images/powerups/card-aging/screenshots/d073fc23fd31de74ff54d5d023e64478/screenshot1.png",
"https://d2k1ftgv7pobq7.cloudfront.net/images/powerups/card-aging/screenshots/c80b3b4586309dc983d6de5c3d1a5607/screenshot2.png"]},{name:"calendar",description:"See your cards with due dates on a calendar.",imageClass:"power-up-icon-image-calendar",aboutTemplate:"power_ups_about_calendar",settingsView:function(c){return new sc({model:c})},backgroundColor:"hsl(204, 30%, 90%)",screenshots:["https://d2k1ftgv7pobq7.cloudfront.net/images/powerups/calendar/screenshots/f6a00a55c883ce90c323f6f4b9d8bc57/screenshot1.png",
"https://d2k1ftgv7pobq7.cloudfront.net/images/powerups/calendar/screenshots/a26f919154bc1834a54f02e485dca9dd/screenshot2.png","https://d2k1ftgv7pobq7.cloudfront.net/images/powerups/calendar/screenshots/b1c5841496fcf25c103ec3951a318a8c/screenshot_mobile1.png"]}];Wa=0;for(yc=Aa.length;Wa<yc;Wa++)Ba=Aa[Wa],Ba.displayName=lb.powerUpNames[Ba.name];zd=function(c){function b(){return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.initialize=function(){var b,f,c;this.listView=new wc({model:this.model});
this.currentMode="list";this.detailViews={};c=[];b=0;for(f=Aa.length;b<f;b++)Ba=Aa[b],c.push(this.detailViews[Ba.name]=new uc({model:this.model,powerUp:Ba}));return c};b.prototype.events={"click .js-back-view":"showListView","click .js-power-up-detail":"showDetailView"};b.prototype.render=function(){this.$el.empty().append(this.listView.render().el);return this};b.prototype.showListView=function(b){m.stop(b);this.$el.empty().append(this.listView.render().el);this.listView.delegateEvents();this.currentMode=
"list";return this.$el.css({background:"",backgroundColor:""})};b.prototype.showDetailView=function(b){var f,c;m.stop(b);if("detail"!==this.currentMode)return f=$(b.target).closest(".js-power-up-detail").find(".js-power-up-name").attr("data-power-up-name"),this.$el.empty().append(this.detailViews[f].render().el),b=null!=(c=_.find(Aa,function(b){return b.name===f}).backgroundColor)?c:"",this.$el.css({backgroundColor:b}),this.detailViews[f].delegateEvents(),this.currentMode="detail"};return b}(A);wc=
function(c){function b(){this.renderPowerUpsLength=k(this.renderPowerUpsLength,this);return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.initialize=function(){var b,f,c,e;this.listenTo(this.model,{"change:powerUps":this.renderPowerUpsLength});this.iconViews=[];e=[];f=0;for(c=Aa.length;f<c;f++)Ba=Aa[f],b={model:this.model,powerUp:Ba,viewType:"list"},e.push(this.iconViews.push(new vb(b)));return e};b.prototype.render=function(){this.$el.html(u.fillFromModel("power_ups_list",this.model));
this.renderPowerUps();this.renderPowerUpsLength();return this};b.prototype.delegateEvents=function(){var d,f,c,e,h;b.__super__.delegateEvents.apply(this,arguments);e=this.iconViews;h=[];f=0;for(c=e.length;f<c;f++)d=e[f],h.push(d.delegateEvents());return h};b.prototype.renderPowerUpsLength=function(){var b,f;f=this.model.get("powerUps").length;b=this.$(".js-power-up-count").empty().addClass("hide");if(0<f)return b.text(""+f+" enabled").removeClass("hide")};b.prototype.renderPowerUps=function(){var b,
f,c,e,h,l;b=this.$(".js-power-up-list").empty();h=this.iconViews;l=[];c=0;for(e=h.length;c<e;c++)f=h[c],l.push(b.append(f.render().el));return l};return b}(A);uc=function(c){function b(){this.renderContent=k(this.renderContent,this);return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.className="power-up-detail";b.prototype.initialize=function(b){this.powerUp=b.powerUp;this.listenTo(this.model,{"change:powerUps":this.renderContent});this.toolbarSelection="settings";this.iconView=
new vb({model:this.model,powerUp:this.powerUp,viewType:"detail"});return this.screenshotsView=new vc({model:this.model,powerUp:this.powerUp})};b.prototype.events={"click .js-toolbar-select":"selectContentSection"};b.prototype.render=function(){this.$el.html(u.fillFromModel("power_up_detail",this.model));this.renderIcon();this.renderContent();return this};b.prototype.delegateEvents=function(){b.__super__.delegateEvents.apply(this,arguments);return this.iconView.delegateEvents()};b.prototype.renderIcon=
function(){return this.$(".js-power-up-icon").empty().append(this.iconView.render().el)};b.prototype.powerUpEnabled=function(){var b;return b=this.powerUp.name,0<=F.call(this.model.get("powerUps"),b)};b.prototype.renderContent=function(){this.renderNavBar();if(this.powerUpEnabled())switch(this.toolbarSelection){case "screenshots":return this.renderScreenshots();default:return this.renderSettings()}else return this.renderScreenshots()};b.prototype.renderNavBar=function(){var b,f;b=this.$(".js-power-up-detail-navbar").empty();
if(this.powerUpEnabled())return f={screenshots:"screenshots"===this.toolbarSelection,settings:"settings"===this.toolbarSelection},b.html(u.fillFromModel("power_ups_detail_navbar",this.model,f))};b.prototype.renderSectionContent=function(b){return this.$(".js-power-up-detail-content").empty().append(b)};b.prototype.renderScreenshots=function(){this.renderSectionContent(this.screenshotsView.render().el);return this.screenshotsView.delegateEvents()};b.prototype.renderSettings=function(){var b;b=this.powerUp.settingsView(this.model);
this.renderSectionContent(b.render().el);return b.delegateEvents()};b.prototype.selectContentSection=function(b){m.stop(b);this.toolbarSelection=$(b.target).attr("name");return this.renderContent()};return b}(A);vc=function(c){function b(){return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.className="power-up-screenshots-wrapper";b.prototype.initialize=function(b){this.powerUp=b.powerUp};b.prototype.render=function(){this.$el.html(u.fill("power_up_detail_screenshots",{screenshots:this.powerUp.screenshots}));
return this};return b}(A);vb=function(c){function b(){this.renderEnabled=k(this.renderEnabled,this);this.render=k(this.render,this);return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.className="power-up-icon js-power-up-detail";b.prototype.initialize=function(b){this.powerUp=b.powerUp;this.viewType=b.viewType;return this.listenTo(this.model,{"change:powerUps":this.renderEnabled})};b.prototype.events={"click .js-toggle-power-up:not(.enabled)":"enablePowerUp","click .js-toggle-power-up.enabled":"disablePowerUp"};
b.prototype.render=function(){var b;b=_.clone(this.powerUp);"detail"===this.viewType?b.powerUpDesc=u.fill(this.powerUp.aboutTemplate):(b.powerUpDesc=this.powerUp.description,b.isListView=!0);this.$el.html(u.fillFromModel("power_up_icon",this.model,b));this.renderEnabled();return this};b.prototype.enablePowerUp=function(){return this.model.addToSet("powerUps",this.powerUp.name)};b.prototype.disablePowerUp=function(){return this.model.pull("powerUps",this.powerUp.name)};b.prototype.renderEnabled=function(){var b,
f;b=(f=this.powerUp.name,0<=F.call(this.model.get("powerUps"),f));this.$(".js-toggle-btn").text(b?"Disable":"Enable").toggleClass("enabled",b).toggleClass("primary",!b);return this.$(".js-enabled-badge").toggleClass("hide",!b)};b.prototype.renderButtonState=function(){var b;b=this.powerUp.name;F.call(this.model.get("powerUps"),b);this.$(".js-toggle-btn").text(txt)};return b}(A);xc=function(c){function b(){this.render=k(this.render,this);return b.__super__.constructor.apply(this,arguments)}s(b,c);
b.prototype.className="fixed-width voting-prefs";b.prototype.initialize=function(){return this.listenTo(this.model,{"change:prefs":this.render})};b.prototype.events={"click .js-voting-select:not(.disabled)":"selectPerm","mouseenter .js-voting-select":"showSoftCheckMarks","mouseleave .js-voting-select":"clearSoftCheckMarks"};b.prototype.render=function(){var b,f,c;b=this.model.toJSON({prefs:!0,url:!0});f=this.model.getOrganization();b.hasOrg=null!=(null!=f?f.id:void 0);b.orgCanSee=b.hasOrg&&("public"===
(c=this.model.getPref("permissionLevel"))||"org"===c);b.premium=null!=f?f.isFeatureEnabled("observers"):void 0;b.voting_showObservers=(b.premium||b.voting_observers)&&b.hasOrg;null!=f&&f.owned()?(b.orgOwner=!0,b.orgName=f.get("displayName"),this.model.owned()||(b.setOrgNull=!0)):this.model.owned()||(b.noEditOrg=!0);this.$el.html(u.fillFromModel("power_ups_voting_prefs",this.model,b));b=this.$(".icon-check");f=this.$(".checked-option")[0];b=b.index(f);this.displayChecksAbove(b,"checked-option");return this};
b.prototype.selectPerm=function(b){m.stop(b);b=$(b.target).closest(".js-voting-select").attr("name");return this.model.setPref("voting",b)};b.prototype.showSoftCheckMarks=function(b){b=$(b.target).closest(".js-voting-select")[0];b=this.$(".js-voting-select").index(b);return this.displayChecksAbove(b,"soft-check")};b.prototype.clearSoftCheckMarks=function(){return this.displayChecksAbove(-1,"soft-check")};b.prototype.displayChecksAbove=function(b,f){return this.$(".js-voting-select").each(function(c,
e){var h;if(!$(e).hasClass("disabled")&&!$(e).children(".icon-check").hasClass("checked-option"))return h=$(e).children("div.icon-check"),c<=b?h.addClass(f):h.removeClass(f)})};return b}(A);tc=function(c){function b(){this.render=k(this.render,this);return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.className="fixed-width card-aging-prefs";b.prototype.initialize=function(){return this.listenTo(this.model,{"change:prefs":this.render})};b.prototype.events={"click .js-select:not(.disabled)":"selectMode"};
b.prototype.render=function(){var b;b=this.model.toJSON({prefs:!0,url:!0}).prefs;this.$el.html(u.fillFromModel("power_ups_card_aging_prefs",this.model,{aging_regular:"regular"===b.cardAging,aging_pirate:"pirate"===b.cardAging}));return this};b.prototype.selectMode=function(b){m.stop(b);b=$(b.target).closest(".js-select").attr("name");return this.model.setPref("cardAging",b)};return b}(A);sc=function(c){function b(){this.render=k(this.render,this);this.generateNewFeedURL=k(this.generateNewFeedURL,
this);this.generationComplete=k(this.generationComplete,this);return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.className="fixed-width calendar-prefs";b.prototype.initialize=function(){this.generating=!1;return this.listenTo(this.model,{"change:prefs":this.render,"change:myPrefs.calendarKey":this.generationComplete})};b.prototype.events={"click .js-calendar-pref-feed:not(.disabled)":"selectFeedEnabled","click .js-calendar-feed-url:not(:disabled)":"focusInput","click .js-regen-calendar-url:not(.disabled)":"generateNewFeedURL"};
b.prototype.generationComplete=function(){this.generating=!1;return this.render()};b.prototype.generateNewFeedURL=function(b){m.stop(b);this.generating=!0;this.model.generateCalendarKey();return this.render()};b.prototype.render=function(){var b,f,c;c=this.model.toJSON({prefs:!0}).prefs;f=this.model.getPref("calendarKey");b="webcal://"+location.host+"/calendar/"+z.me().id+"/"+this.model.id+"/"+f+".ics";f||(this.generating=!0,this.model.generateCalendarKey());this.$el.html(u.fillFromModel("power_ups_calendar_prefs",
this.model,{calendar_feed_enabled:c.calendarFeedEnabled,calendar_feed_generated:null!=f&&!this.generating,calendar_feed_url:b}));return this};b.prototype.focusInput=function(b){return this.$(".js-calendar-feed-url").focus().select()};b.prototype.selectFeedEnabled=function(b){m.stop(b);b="enabled"===$(b.target).closest("a").attr("name");return this.model.setPref("calendarFeedEnabled",b)};return b}(A);var Ad,k=function(c,b){return function(){return c.apply(b,arguments)}},F=[].indexOf||function(c){for(var b=
0,d=this.length;b<d;b++)if(b in this&&this[b]===c)return b;return-1};Ad=function(){function c(){this.removeDropHover=k(this.removeDropHover,this);this.drop=k(this.drop,this);this.dragend=k(this.dragend,this);this.dragexit=k(this.dragexit,this);this.dragleave=k(this.dragleave,this);this.dragover=k(this.dragover,this);this.dragenter=k(this.dragenter,this);this._isDraggingFiles=k(this._isDraggingFiles,this)}c.prototype._files=function(b){var d,f,c;return null!=(d=null!=(f=b.originalEvent)?null!=(c=f.dataTransfer)?
c.files:void 0:void 0)?d:[]};c.prototype._urls=function(b,d){var f,c,e,h;f=null!=(c=b.originalEvent)?c.dataTransfer:void 0;return null!=(null!=f?f.items:void 0)?(f=_.filter(null!=(e=f.items)?e:[],function(b){return"text/uri-list"===b.type}),async.map(f,function(b,d){return b.getAsString(function(b){return d(null,b)})},function(b,f){return d(f)})):(null!=(h=0<=F.call(null!=f?f.types:void 0,"text/x-moz-url"))?h:1)?d([f.getData("text/plain")]):d([])};c.prototype._isDraggingFiles=function(b){var d,f,
c;b=null!=(d=b.originalEvent)?d.dataTransfer:void 0;return null!=b&&(null!=b.items&&_.any(b.items,function(b){return"file"===b.kind||"text/uri-list"===b.type})||null!=b.types&&_.any(b.types,function(b){return"application/x-moz-file"===b||"text/x-moz-url"===b})||0<(null!=(f=b.files)?f.length:void 0)&&("copy"===(c=b.effectAllowed)||"all"===c)||/mac/i.test(navigator.platform)&&/safari/i.test(navigator.userAgent))};c.prototype.dragenter=function(b){if(this._isDraggingFiles(b))return w.hide(),m.stop(b),
this.didEnter=!0,_.defer(function(b){return function(){return b.didEnter=!1}}(this)),this.model.editable()&&this.$el.addClass("drophover"),!1};c.prototype.dragover=function(b){var d;if(this._isDraggingFiles(b)){if(null!=(null!=(d=b.originalEvent)?d.dataTransfer:void 0))b.originalEvent.dataTransfer.dropEffect="copy";m.stop(b);return!1}};c.prototype.dragleave=function(b){if(this._isDraggingFiles(b))return m.stop(b),this.didEnter||this.removeDropHover(),!1};c.prototype.dragexit=function(b){if(this._isDraggingFiles(b))return m.stop(b),
!1};c.prototype.dragend=function(b){if(this._isDraggingFiles(b))return m.stop(b),this.removeDropHover(),!1};c.prototype.drop=function(b){var d,f,c,e;if(this._isDraggingFiles(b)&&this.model.editable()){m.stop(b);this.$el.removeClass("drophover");if(null!=(null!=(c=this.model)?c.upload:void 0))if(d=this._files(b),f=function(){var b;return null!=(b=z.me())&&b.isFeatureEnabled("largeAttachments")?O.show("File size exceeds 250MB limit","error","upload",5E3):O.show("File size exceeds 10MB limit","error",
"upload",5E3)},0<d.length){if(_.any(d,function(b){return!m.validCardUpload(b)})){f();return}async.forEachSeries(d,function(b){return function(d,f){return b.model.upload(d,f)}}(this),function(b){return function(c){O.hide("upload");1<d.length&&O.show("Finished!","info","AjaxQueueUpload",2E3);c&&f();return b.removeDropHover()}}(this));return}if(null!=(null!=(e=this.model)?e.uploadUrl:void 0))return this._urls(b,function(b){return function(d){return async.forEachLimit(d,2,function(d,f){return _.any([siteDomain,
attachmentsDomain,avatarDomain,logoDomain],function(b){return 0===d.indexOf(b)})?f():b.model.uploadUrl(d,"",f)},function(){})}}(this))}};c.prototype.removeDropHover=function(){return $(".drophover").removeClass("drophover")};return c}();var Vb,Qb,nb,pc,Ef,zc,k=function(c,b){return function(){return c.apply(b,arguments)}},E={}.hasOwnProperty,s=function(c,b){function d(){this.constructor=c}for(var f in b)E.call(b,f)&&(c[f]=b[f]);d.prototype=b.prototype;c.prototype=new d;c.__super__=b.prototype;return c},
F=[].indexOf||function(c){for(var b=0,d=this.length;b<d;b++)if(b in this&&this[b]===c)return b;return-1},G=[].slice;Qb=function(c){function b(){this.selectAllCommenters=k(this.selectAllCommenters,this);this.selectAllBoardMembers=k(this.selectAllBoardMembers,this);this.selectAllCardMembers=k(this.selectAllCardMembers,this);this.insertMember=k(this.insertMember,this);this.fillMembers=k(this.fillMembers,this);this.deselectMember=k(this.deselectMember,this);this.hoverItem=k(this.hoverItem,this);this.filterMentionables=
k(this.filterMentionables,this);this.keyupEvent=k(this.keyupEvent,this);this.getMembers=k(this.getMembers,this);this.getTextInput=k(this.getTextInput,this);this.getCard=k(this.getCard,this);this.render=k(this.render,this);return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.getViewTitle=function(){return"Mention..."};b.prototype.events={"mouseenter .js-select-member":"hoverItem","click .js-select-member":"insertMember","click .js-select-all-card-members":"selectAllCardMembers",
"mouseenter .js-select-all-card-members":"deselectMember","click .js-select-all-board-members":"selectAllBoardMembers","mouseenter .js-select-all-board-members":"deselectMember","click .js-select-all-commenters":"selectAllCommenters","mouseenter .js-select-all-commenters":"deselectMember",keydown:"keydownEvent"};b.prototype.render=function(){var b,f,c,e;this.getMembers();b={};this.options.input&&(b.input=!0);this.options.button&&(b.button=!0);b.showAllCardMembers=0<(f=this.idCardMems.length)&&12>
f;b.showAllBoardMembers=0<(c=this.idBoardMems.length)&&12>c;b.showAllCommenters=0<(e=this.idCommenters.length)&&12>e;this.$el.html(u.fill("popover_auto_mentioner",b));this.memsEl=this.$(".js-available-members");b.button&&(this.$(".js-select-all-card-members .mem-count").text("("+this.idCardMems.length+")"),this.$(".js-select-all-board-members .mem-count").text("("+this.idBoardMems.length+")"),this.$(".js-select-all-commenters .mem-count").text("("+this.idCommenters.length+")"),(b.showAllCardMembers||
b.showAllBoardMembers||b.showAllCommenters)&&this.$(".js-select-multiple-options").removeClass("hide"));this.options.button?this.fillMembers(this.idAllMembers):this.options.input&&this.filterMentionables();_.delay(function(b){return function(){return b.$(".js-filter-mentionables").keyup(b.keyupEvent)}}(this),20);return this};b.prototype.getCard=function(){return this.options.card};b.prototype.getTextInput=function(){return $(this.options.target)};b.prototype.getMembers=function(){var b,f,c;c=z.myId();
f=this.getCard();b=f.getBoard();this.idCardMems=_.without(f.getIdCardMems(),c);this.idBoardMems=_.without(b.getIdBoardMems(),c);this.idCommenters=_.without(f.getIdCommenters(),c);this.idAllMembers=_.uniq(this.idCardMems.concat(this.idBoardMems).concat(this.idCommenters))};b.prototype.clearMemberList=function(){return this.memsEl.empty()};b.prototype.keydownEvent=function(b){var f;if(9===(f=b.keyCode)||13===f)m.stop(b),this.memsEl.find(".item.selected:first .js-select-member").click()};b.prototype.keyupEvent=
function(b){var f,c;if(!(9===(f=b.keyCode)||13===f))if(c=b.keyCode,0<=F.call(Hb,c))m.navMenuList(this.memsEl,".item",b.keyCode);else return this.filterMentionables()};b.prototype.filterMentionables=function(b){var f,c,e,h,l,q;this.clearMemberList();this.options.button?f=$(".js-filter-mentionables").val().trim().toLowerCase():this.options.input&&(f=this.getTextInput(),f=m.getWordFromCaret(f),f=f.str.substring(1).toLowerCase());h=RegExp("^"+m.escapeForRegex(f));b=this.idAllMembers;this.idMatchMems=
[];l=0;for(q=b.length;l<q;l++)c=b[l],e=m.getMemNameArray(this.modelCache,c),_.find(e,function(b){return h.test(b)})&&this.idMatchMems.push(c);if(this.options.input&&(1===this.idMatchMems.length&&f===this.Member.get(this.idMatchMems[0]).get("username")||0===this.idMatchMems.length))_.delay(function(){return w.hide()},5);else return this.fillMembers(this.idMatchMems),m.selectMenuItem(this.memsEl,".item",this.memsEl.find(".item").first())};b.prototype.hoverItem=function(b){b=$(b.target).closest(".item");
return m.selectMenuItem(this.memsEl,".item",b)};b.prototype.deselectMember=function(b){return this.memsEl.find(".item").removeClass("selected")};b.prototype._membersFromIds=function(b){return _.compact(_.map(b,function(b){return function(d){return b.Member.get(d)}}(this)))};b.prototype.fillMembers=function(b){var f,c,e;f=this._membersFromIds(b).slice(0,5);c=0;for(e=f.length;c<e;c++)b=f[c],this.appendSubview(this.subview(db,b),this.memsEl);0===f.length&&this.memsEl.html("<p class='quiet' style='padding: 8px 8px 4px;'>No matching members</p>");
w.calcPos()};b.prototype.insertMember=function(b){var f,c;m.stop(b);n("Card Detail","Mention Member Autocomplete","Insert");f=$(b.target).closest(".js-select-member").find(".username").text();b=this.getTextInput();this.options.button?m.insertSelection(b,"@"+f+" "):this.options.input&&(c=m.getWordFromCaret(b),m.insertSelection(b,"@"+f+" ",c.start,c.end));w.hide()};b.prototype.selectAllCardMembers=function(b){var f,c,e,h,l;m.stop(b);n("Card Detail","Mention Member Autocomplete","Insert - All Card Members");
b=this.getTextInput().focus();f="";l=this.idCardMems;e=0;for(h=l.length;e<h;e++)c=l[e],c=this.Member.get(c).get("username"),f+="@"+c+" ";m.insertSelection(b,f);w.hide()};b.prototype.selectAllBoardMembers=function(b){var f,c,e,h,l;m.stop(b);n("Card Detail","Mention Member Autocomplete","Insert - All Board Members");b=this.getTextInput().focus();f="";l=this.idBoardMems;e=0;for(h=l.length;e<h;e++)c=l[e],c=this.Member.get(c).get("username"),f+="@"+c+" ";m.insertSelection(b,f);w.hide()};b.prototype.selectAllCommenters=
function(b){var f,c,e,h,l;m.stop(b);n("Card Detail","Mention Member Autocomplete","Insert - All Commenters");b=this.getTextInput().focus();f="";l=this._membersFromIds(this.idCommenters);e=0;for(h=l.length;e<h;e++)c=l[e],c=c.get("username"),f+="@"+c+" ";m.insertSelection(b,f);w.hide()};return b}(A);pc=function(c){function b(){this.getTextInput=k(this.getTextInput,this);this.keydownEvent=k(this.keydownEvent,this);this.insertEmoji=k(this.insertEmoji,this);this.hoverItem=k(this.hoverItem,this);this.getEmojiSuggestions=
k(this.getEmojiSuggestions,this);this.clearEmojiList=k(this.clearEmojiList,this);this.fillEmojiList=k(this.fillEmojiList,this);this.keyupEvent=k(this.keyupEvent,this);this.filterEmoji=k(this.filterEmoji,this);this.shouldShow=k(this.shouldShow,this);this.getInput=k(this.getInput,this);this.render=k(this.render,this);this.updateCustomEmoji=k(this.updateCustomEmoji,this);return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.getViewTitle=function(){return"Select Emoji\u2026"};b.prototype.events=
{"mouseenter .js-select-emoji":"hoverItem","click .js-select-emoji":"insertEmoji",keydown:"keydownEvent"};b.prototype.initialize=function(){this._customEmoji={};if(z.me().isFeatureEnabled("customEmoji"))return null==z.me().get("customEmoji")&&P["for"](this.modelCache).loadMemberCustomEmoji(z.myId(),this.updateCustomEmoji),this.listenTo(z.me().customEmojiList,"change add remove reset",this.updateCustomEmoji),this.updateCustomEmoji()};b.prototype.updateCustomEmoji=function(){var b,f,c,e;this._customEmoji=
{};e=z.me().customEmojiList.models;f=0;for(c=e.length;f<c;f++)b=e[f],this._customEmoji[b.get("name")]=b.get("url");return this.render()};b.prototype.render=function(){var b;b={};this.options.input&&(b.input=!0);this.options.button&&(b.button=!0);this.$el.html(u.fill("popover_emoji_completer",b));this.emojiList=this.$(".js-available-emoji");this.options.input&&this.filterEmoji(this.getInput());_.delay(function(b){return function(){return b.$(".js-filter-emoji").keyup(b.keyupEvent)}}(this),20);return this};
b.prototype.getInput=function(){var b;if(this.options.button)return this.$(".js-filter-emoji").val().toLowerCase();b=this.getTextInput();return m.getWordFromCaret(b).str.substring(1).toLowerCase()};b.prototype.shouldShow=function(){var b;b=this.getInput();return 0!==this.getEmojiSuggestions(b).length};b.prototype.filterEmoji=function(b){this.clearEmojiList();if(this.fillEmojiList(b))return m.selectMenuItem(this.emojiList,".item",this.emojiList.find(".item").first())};b.prototype.keyupEvent=function(b){var f,
c;if(!(9===(f=b.keyCode)||13===f))if(38===(c=b.keyCode)||39===c||40===c||37===c)m.navMenuList(this.emojiList,".item",b.keyCode);else return b=this.getInput(),this.filterEmoji(b)};b.prototype.fillEmojiList=function(b){var f,c,e,h;if(""===b)return!1;b=this.getEmojiSuggestions(b).slice(0,5);c=0;for(e=b.length;c<e;c++)f=b[c],f={name:f,image:null!=(h=this._customEmoji[f])?h:Db[f]},this.emojiList.append(u.fill("select_emoji",f));w.calcPos();return 0!==b.length};b.prototype.clearEmojiList=function(){return this.emojiList.empty()};
b.prototype.getEmojiSuggestions=function(b){var f,c,e;c=RegExp("^"+m.escapeForRegex(b));b=function(){var b;b=[];for(f in this._customEmoji)c.test(f)&&b.push(f);return b}.call(this);e=function(){var b;b=[];for(f in Db)c.test(f)&&b.push(f);return b}();return _.uniq(G.call(b).concat(G.call(e))).sort()};b.prototype.hoverItem=function(b){b=$(b.target).closest(".item");return m.selectMenuItem(this.emojiList,".item",b)};b.prototype.insertEmoji=function(b){var f,c;m.stop(b);f=$(b.target).closest(".js-select-emoji").find(".emoji-name").text();
b=this.getTextInput();this.options.button?m.insertSelection(b,":"+(""+f).trim()+": "):this.options.input&&(c=m.getWordFromCaret(b),m.insertSelection(b,":"+(""+f).trim()+": ",c.start,c.end));w.hide()};b.prototype.keydownEvent=function(b){var f;if(9===(f=b.keyCode)||13===f)return m.stop(b),this.emojiList.find(".item.selected:first .js-select-emoji").click()};b.prototype.getTextInput=function(){return $(this.options.target)};return b}(A);nb=function(){function c(){this.getEmojiCompleterView=k(this.getEmojiCompleterView,
this);this.getAutoMentionerView=k(this.getAutoMentionerView,this);this.openAutoMentioner=k(this.openAutoMentioner,this);this.openEmojiCompleter=k(this.openEmojiCompleter,this)}c.prototype.openEmojiCompleter=function(b){m.stop(b);return w.pushView({view:this.getEmojiCompleterView("button")})};c.prototype.openAutoMentioner=function(b){m.stop(b);w.pushView({view:this.getAutoMentionerView("button")});return n("Card Detail","Mention Autocomplete","Open Menu - With Click")};c.prototype.getAutoMentionerView=
function(b){var d;d=this.getCard();return new Qb({model:d,button:"button"===b,input:"input"===b,target:this.getTextInput(),card:d,modelCache:this.modelCache})};c.prototype.getEmojiCompleterView=function(b){var d;d=this.getCard();return new pc({model:d,button:"button"===b,input:"input"===b,target:this.getTextInput(),card:d,modelCache:this.modelCache})};return c}();Vb=function(){function c(){this.openEditingMenu=k(this.openEditingMenu,this)}c.prototype.checkInsert=function(b){var d,f,c,e,h,l,q,k;if(w.isVisible&&
!ma.isTouch()&&!(b.shiftKey&&(38===(f=b.keyCode)||40===f)||b.altKey&&(38===(e=b.keyCode)||40===e))){if(27===b.keyCode)return w.hide(),!1;f=[{listClass:".js-available-members",itemClass:".js-select-member"},{listClass:".js-available-emoji",itemClass:".js-select-emoji"}];h=0;for(l=f.length;h<l;h++)if(d=f[h],e=d.listClass,c=d.itemClass,d=$(".pop-over").find(e),0<d.length){if(9===(q=b.keyCode)||13===q)return m.stop(b),d.find(".item:first").hasClass("selected")&&(this.keyAutoMention(b),d=$(".pop-over").find(e)),
d.find(".item.selected:first "+c).first().click(),w.hide(),!1;if(38===(k=b.keyCode)||40===k)return m.stop(b),m.navMenuList(d,".item",b.keyCode),!1}}};c.prototype.keyAutoMention=function(b){var d;if(!ma.isTouch()&&!(16===(d=b.keyCode)||18===d||17===d||38===d||40===d))if(d=m.getWordFromCaret(this.getTextInput()),b=/^@\S/,b.test(d.str.substring(0,2))){if(b=this.getAutoMentionerView("input"),w.load(b),0!==b.idMatchMems.length&&(w.show({elem:this.$(".js-open-editing-menu:visible")[0],top:35,view:b,preloaded:!0,
keepEdits:!0}),!this.getTextInput().is(":focus")))return this.getTextInput().focus()}else if(/^:\S+/.test(d.str.substring(0,2)))if(d.str.substr(1),b=this.getEmojiCompleterView("input"),b.shouldShow()){if(w.load(b),w.show({elem:this.$(".js-open-editing-menu:visible")[0],top:35,view:b,preloaded:!0,keepEdits:!0}),!this.getTextInput().is(":focus"))return this.getTextInput().focus()}else w.hide();else return _.delay(function(){return w.hide()},5)};c.prototype.openEditingMenu=function(b){m.stop(b);return w.toggle({elem:b.target,
top:36,view:this.model.getView(zc,null,{parent:this}),keepEdits:!0})};return c}();zc=ea(nb,function(c){function b(){return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.getViewTitle=function(){return"Options"};b.prototype.events=function(){return{"click .js-open-mention-selector":"openAutoMentioner","click .js-open-emoji-selector":"openEmojiCompleter","click .js-upload-emoji":"openEmojiUploader",keydown:"keydownEvent"}};b.prototype.render=function(){this.$el.html(u.fill("popover_insertion_menu",
{customEmoji:z.me().isFeatureEnabled("customEmoji")}));return this};b.prototype.keydownEvent=function(b){var f,c;if(9===(f=b.keyCode)||13===f)return m.stop(b),this.emojiList.find(".item.selected:first .js-select-emoji").click();if(9===(c=b.keyCode)||13===c)return m.stop(b),this.memsEl.find(".item.selected:first .js-select-member").click()};b.prototype.openEmojiUploader=function(b){m.stop(b);return w.pushView({view:z.me().getView(Ef)})};b.prototype.getCard=function(){return this.model.getCard()};b.prototype.getTextInput=
function(){return this.options.parent.getTextInput()};return b}(A));Ef=function(c){function b(){this.render=k(this.render,this);return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.getViewTitle=function(){return"Upload Emoji\u2026"};b.prototype.events=function(){return{"click .js-upload-emoji":"uploadEmoji","change .js-upload-emoji-file":"fileChange","input .js-emoji-name":"nameChange"}};b.prototype.initialize=function(){};b.prototype.render=function(){var b;b=this.model.toJSON();
this.$el.html(u.fill("popover_emoji_uploader",b));this._validate();return this.renderEmoji()};b.prototype.renderEmoji=function(){var b,f;b=this.$(".js-emoji-name").val()||"???";b=":"+b.toLowerCase().trim().replace(/\s+/g,"_")+":";this.$(".js-emoji-preview-name").text(b);this.$(".js-emoji-preview");b=null!=(f=this.$(".js-upload-emoji-file").prop("files"))?f[0]:void 0;/^image\/.*/.test(null!=b?b.type:void 0)?(f=new FileReader,f.onload=function(b){return function(d){b.$(".js-emoji-conversion").removeClass("hide");
return b.$(".js-emoji-preview").attr("src",d.target.result)}}(this),f.readAsDataURL(b)):this.$(".js-emoji-conversion").addClass("hide");return this};b.prototype.fileChange=function(b){var f,c,e,h,l;c=this.$(".js-emoji-name");f=this.$(".js-upload-emoji-file");""===c.val()&&($(b.target),b=null!=(h=f.prop("files"))?h[0]:void 0,null!=b?e=b.name:f.val()&&(e=null!=(l=/[^\/]+$/.exec(f.val()))?l[0]:void 0),null==e&&(e=""),e=e.split(".")[0],e=e.toLowerCase().replace(/[^a-z0-9_]/g,""),c.val(e),this.$(".js-emoji-name").focus().select());
this.renderEmoji();return this._validate()};b.prototype.nameChange=function(b){this.renderEmoji();return this._validate()};b.prototype._validate=function(b){var f,c,e;b=this.$(".js-emoji-name").val();f=this.$(".js-upload-emoji-file");c=/^[a-zA-Z0-9_\s]+$/.test(b);f=0<(null!=(e=f.prop("files"))?e.length:void 0)||f.val();e=c&&f;this.$(".js-invalid-name").toggleClass("hide",c||""===b);return this.$(".js-upload-emoji").toggleClass("disabled",!e)};b.prototype.uploadEmoji=function(b){var f,c,e,h;m.stop(b);
if(!$(".js-upload-emoji").hasClass("disabled"))if(this.$(".error").addClass("hide"),f=this.$(".js-upload-emoji-file"),b=null!=(h=f.prop("files"))?h[0]:void 0,e=this.$(".js-emoji-name").val().trim().toLowerCase().replace(/\s+/g,"_"),!b&&f.val())m.uploadFile(f,function(){return w.hide()});else if(null!=b&&!m.validFileSize(b))O.flash("File Too Large","error");else if(null!=b&&e)return h=new FileReader,c=new FormData,c.append("token",z.myToken()),c.append("file",b),c.append("name",e),h.onload=function(b){return function(d){return b.model.customEmojiList.create({url:d.target.result,
name:e},{data:c,processData:!1,contentType:!1,success:function(){return w.hide()},error:function(){return this.$(".error").removeClass("hide")}})}}(this),h.readAsDataURL(b)};return b}(A);var eb,Ff,Gf,k=function(c,b){return function(){return c.apply(b,arguments)}},E={}.hasOwnProperty,s=function(c,b){function d(){this.constructor=c}for(var f in b)E.call(b,f)&&(c[f]=b[f]);d.prototype=b.prototype;c.prototype=new d;c.__super__=b.prototype;return c};eb=new (function(){function c(){this._setRawStream=k(this._setRawStream,
this);this.stream=null}c.prototype.supportsGetUserMedia=function(){return null!=navigator.getUserMedia||null!=navigator.webkitGetUserMedia};c.prototype.connected=function(){return null!=this.stream};c.prototype.getStream=function(){return this.stream};c.prototype.getError=function(){var b;return null!=(null!=(b=this.error)?b.PERMISSION_DENIED:void 0)?"Access Denied":this.error};c.prototype.connect=function(b){var d,f;if(null!=this.stream)return b(null,this.stream);this.error=null;d=function(d){return function(f){d.error=
f;d.stream=null;return b("Could not connect")}}(this);f={video:!0};if(null!=navigator.getUserMedia)return navigator.getUserMedia(f,function(d){return function(f){d._setRawStream(f);d.stream=f;return b(null,d.stream)}}(this),d);if(null!=navigator.webkitGetUserMedia)return navigator.webkitGetUserMedia(f,function(d){return function(f){d._setRawStream(f);d.stream=webkitURL.createObjectURL(f);return b(null,d.stream)}}(this),d)};c.prototype._setRawStream=function(b){this.stop();return this.rawStream=b};
c.prototype.stop=function(){var b;null!=(b=this.rawStream)&&"function"===typeof b.stop&&b.stop();return this.rawStream=this.stream=null};return c}());Gf=function(c){function b(){this.snap=k(this.snap,this);this.connectCamera=k(this.connectCamera,this);this.render=k(this.render,this);return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.events={"click .js-connect-camera":"connectCamera","click .js-snap":"snap"};b.prototype.willBePopped=function(){return eb.stop()};b.prototype.getViewTitle=
function(){return"Take a Photo"};b.prototype.render=function(){var b;b={error:eb.getError(),connected:eb.connected()};this.$el.html(u.fill("take_photo",b));eb.connected()&&(b=this.$(".video")[0],b.src=eb.getStream(),b.play());return this};b.prototype.connectCamera=function(){return eb.connect(function(b){return function(f){return b.render()}}(this))};b.prototype.snap=function(){var b,f;f=this.$(".video")[0];b=$("<canvas>").attr({width:640,height:480});b[0].getContext("2d").drawImage(f,0,0,640,480);
f=this.model.getView(Ff);f.setImage(b[0].toDataURL("image/png"));eb.stop();w.pushView({view:f});f.on("done",function(b){return function(d){w.popView();return b.trigger("done",d)}}(this));return f.on("back",function(b){return function(){b.render();return b.connectCamera()}}(this))};return b}(A);Ff=function(c){function b(){this.back=k(this.back,this);this.done=k(this.done,this);this.render=k(this.render,this);return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.getViewTitle=function(){return"Crop Photo"};
b.prototype.events=function(){return{"click .js-done":"done","click .js-back":"back"}};b.prototype.setImage=function(b){return this.url=b};b.prototype.render=function(){this.forceIntoDom();this.$el.html(u.fill("crop_photo"));this.$(".crop-image").attr("src",this.url).css({"max-width":4096,"max-height":4096}).crop({width:270,height:270}).on("mousewheel",function(b){var f;f=$(this).data("crop");return 0>b.originalEvent.wheelDelta?f.zoomIn():f.zoomOut()}).on("crop",function(b){return function(f){b.cropX=
f.cropX;b.cropY=f.cropY;b.cropW=f.cropW;return b.cropH=f.cropH}}(this));return this};b.prototype.done=function(){var b,f;f=this.$(".crop-image")[0];b=$("<canvas>").attr({width:270,height:270});b[0].getContext("2d").drawImage(f,this.cropX,this.cropY,this.cropW,this.cropH,0,0,270,270);w.popView();return this.trigger("done",b[0].toDataURL("image/png"))};b.prototype.back=function(){w.popView();return this.trigger("back")};return b}(A);var Hf,Bd,If,Jf,Cd,Kf,Dd,E={}.hasOwnProperty,s=function(c,b){function d(){this.constructor=
c}for(var f in b)E.call(b,f)&&(c[f]=b[f]);d.prototype=b.prototype;c.prototype=new d;c.__super__=b.prototype;return c},G=[].slice;Hf=function(c){function b(){return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.className="calendar-wrapper";b.prototype.events={"click .js-week-view":"switchToWeekViewFromMonth","click .js-month-view":"switchToMonthViewFromWeek","click .js-left-arrow":"navigatePrevious","click .js-right-arrow":"navigateNext","click .js-today":"navigateToday","click .js-open-card-composer":"openComposer"};
b.prototype.initialize=function(){this.startOfWeek=H.isUS?"sunday":"monday";this.monthView=this.subview(Jf,this.model);this.weekView=this.subview(Dd,this.model);this.composer=new Lf({model:this.model.composer});return this.model.viewState.clearSelectedCard()};b.prototype.render=function(b){var f;null==b&&(b=new Date);f="Sun Mon Tue Wed Thu Fri Sat".split(" ");"monday"===this.startOfWeek&&(f=m.rotateArr(f,-1));this.$el.html(u.fill("calendar_toolbar",{days:f}));this.model.localStorageViewState.getCalendarMode()===
Dd.prototype.VIEWSTATE_PREF_STR?this.showView(this.weekView,b):this.showView(this.monthView,b);return this};b.prototype.remove=function(){this.stopSubscriptions();this.model.viewState.clearSelectedCard();return b.__super__.remove.apply(this,arguments)};b.prototype.openComposer=function(b){var f;m.stop(b);f=$(b.target).closest(".day-cell, .day-column");f=new Date(parseInt(f.attr("name")));this.composer.setDate(f);return w.show({clientx:b.clientX,clienty:b.clientY,top:35,view:this.composer,autoPosition:!0})};
b.prototype.showView=function(b,f){this.currentSubView=b;this.$(".calendar-header").removeClass("week-view month-view").addClass(this.currentSubView.HEADER_CLASS_NAME);this.$(".calendar-content").empty().append(this.currentSubView.render(f).el);this.model.viewState.clearSelectedCard();this.model.localStorageViewState.updateCalendarMode(this.currentSubView.VIEWSTATE_PREF_STR);this.currentSubView.delegateEvents();return this.currentSubView.updateRoute()};b.prototype.switchToWeekViewFromMonth=function(){this.showView(this.weekView,
this.monthView.currentCenterWeek);return this.addedToDOM()};b.prototype.switchToMonthViewFromWeek=function(){this.model.localStorageViewState.updateCalendarMode("month");this.showView(this.monthView,this.weekView.currentWeek);return this.addedToDOM()};b.prototype.setSubscriptions=function(){this.stopSubscriptions();this.currentSubView===this.monthView?this.monthView.setSubscriptions():($(ra).on("windowClassChange."+this.uniqueId(),function(b){return function(){var f;f=1<=arguments.length?G.call(arguments,
0):[];return b.weekSmallWindowResizeCheck.apply(b,f)}}(this)),this.weekView.setSubscriptions())};b.prototype.stopSubscriptions=function(){this.weekView.stopSubscriptions();this.monthView.stopSubscriptions();return $(ra).off("."+this.uniqueId())};b.prototype.delegateEvents=function(){var d;b.__super__.delegateEvents.apply(this,arguments);return null!=(d=this.currentSubView)?d.delegateEvents():void 0};b.prototype.addedToDOM=function(){this.setSubscriptions();return this.currentSubView.addedToDOM()};
b.prototype.navigateToday=function(){return this.currentSubView.navigateToday()};b.prototype.navigatePrevious=function(){return this.currentSubView.navigatePrevious()};b.prototype.navigateNext=function(){return this.currentSubView.navigateNext()};b.prototype.weekSmallWindowResizeCheck=function(b,f){if("small-window"===f.newClass&&this.currentSubView===this.weekView)return this.switchToMonthViewFromWeek()};return b}(A);Cd=function(c){function b(){return b.__super__.constructor.apply(this,arguments)}
s(b,c);b.prototype.className="fancy-scrollbar calendar-drag-area";b.prototype.SCROLL_ANIMATION_TIME=400;b.prototype.initialize=function(){var b;b=this.listenToListChanges.bind(this);this.model.listList.each(b);return this.listenTo(this.model.listList,"add remove",b)};b.prototype.addedToDOM=function(){if(this.model.editable())return _.defer(function(){return M.refreshCalendarCardSortable()})};b.prototype.delegateEvents=function(){var d,f,c,e,h;b.__super__.delegateEvents.apply(this,arguments);e=this.subviewsOfType(this.DAY_VIEW_TYPE);
h=[];f=0;for(c=e.length;f<c;f++)d=e[f],h.push(d.delegateEvents());return h};b.prototype.setSubscriptions=function(){var b,f,c,e,h;e=this.cardSubviews();h=[];f=0;for(c=e.length;f<c;f++)b=e[f],h.push(b.listenToActiveCardChanges());return h};b.prototype.stopSubscriptions=function(){var b,f,c,e,h;e=this.cardSubviews();h=[];f=0;for(c=e.length;f<c;f++)b=e[f],h.push(b.stopListeningToActiveCardChanges());return h};b.prototype.listenToListChanges=function(b){this.listenTo(b.cardList,"add remove",function(b){if(0<
this.cardsWithDueDates([b]).length)return b=new Date(b.get("due")),this.renderCardsOnDates([b])});this.listenTo(b.cardList,"change:due",function(b,d){var c,h,l;l=b.previousAttributes().due;c=b.get("due");h=new Date(null!=l?l:null);d=new Date(null!=c?c:null);if(!h.isSameDay(d)){var q,k;q=[l,c];k=[];h=0;for(l=q.length;h<l;h++)c=q[h],null!=c&&k.push(new Date(c));return this.renderCardsOnDates(k)}});return this.listenTo(b.cardList,"reset",function(b,d){var c,h,l,q;l=b.models;q=d.previousModels;h=_.difference(l,
q).concat(_.difference(q,l));return this.renderCardsOnDates(function(){var b,d,f;f=[];b=0;for(d=h.length;b<d;b++)c=h[b],f.push(new Date(c.get("due")));return f}())})};b.prototype.navigateToday=function(){return this.scrollToDay(this.today,this.SCROLL_ANIMATION_TIME)};b.prototype.getCardView=function(b){return this.subview(Ed,b,b.cid)};b.prototype.cardsWithDueDates=function(b){return _.filter(b,function(b){return null!=b.get("due")})};b.prototype.cardsDueOnDate=function(b,f){b=this.cardsWithDueDates(b);
return _.filter(b,function(b){return f.isSameDay(new Date(b.get("due")))})};b.prototype.cardSubviews=function(){var b,f;f=this.subviewsOfType(this.DAY_VIEW_TYPE);return _.flatten(function(){var c,e,h;h=[];c=0;for(e=f.length;c<e;c++)b=f[c],h.push(b.subviewsOfType(Ed));return h}())};b.prototype.calculateFirstAndLastWeeksFromDOM=function(){var b;b=this.$(".week");this.firstRenderedWeek=new Date(parseInt(b.first().attr("name")));this.lastRenderedWeek=new Date(parseInt(b.last().attr("name")));return this.lastRenderedSaturday=
H.getEndOfWeek(this.lastRenderedWeek)};b.prototype.renderCardsOnDates=function(b){var f,c,e,h,l;if(0<this.$(".week").length){l=[];e=0;for(h=b.length;e<h;e++)c=b[e],this.firstRenderedWeek<c&&c<this.lastRenderedSaturday&&(f=this.cardsDueOnDate(this.model.openCards(),c),c=H.getMidnightInt(c),c=this.existingSubview(this.DAY_VIEW_TYPE,this.model,c),c.cardsDue=f,l.push(c.renderCardsAndHeaders()));return l}};b.prototype.renderDayViews=function(b){var f,c,e,h;h=[];c=0;for(e=b.length;c<e;c++)f=b[c],h.push(this.getDayView(f).render().el);
return h};b.prototype.getDayView=function(b,f){var c;c={day:b,cardsDueOnDate:this.cardsDueOnDate(this.model.openCards(),b)};return this.subview(this.DAY_VIEW_TYPE,this.model,_.extend({data:c,getCardView:this.getCardView.bind(this)},f),H.getMidnightInt(b))};b.prototype.weekRowEl=function(b){var f,c;c=this.renderDayViews(H.getDaysOfWeek(b));f=$(document.createElement(this.WEEK_WRAPPER_ELEMENT));f.attr("name",H.getMidnightInt(H.getStartOfWeek(b))).addClass("week").append(c);return f};return b}(A);Dd=
function(c){function b(){return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.className=m.extendParentClassName("calendar-week");b.prototype.WEEK_WRAPPER_ELEMENT="div";b.prototype.VIEWSTATE_PREF_STR="week";b.prototype.HEADER_CLASS_NAME="week-view";b.prototype.WEEKS_KEPT_IN_DOM=5;b.prototype.initialize=function(){b.__super__.initialize.apply(this,arguments);this.DAY_VIEW_TYPE=Kf;this.today=new Date;return this.scrollLock=!1};b.prototype.render=function(b){null==b&&(b=this.today);
this.$el.html(u.fill("calendar_week"));this.currentWeek=H.getStartOfWeek(b);this.appendWeekEl(this.currentWeek);this.prependWeekEl((new Date(this.currentWeek)).addDays(-7));this.appendWeekEl((new Date(this.currentWeek)).addDays(7));return this};b.prototype.addedToDOM=function(){b.__super__.addedToDOM.apply(this,arguments);this.weekWidth=$(".calendar-content").outerWidth();this.resizeWeekCanvas();this.scrollToDay(this.currentWeek);return this.updateToolbar()};b.prototype.updateRoute=function(){var b,
f,c;b=H.dateToObj(this.currentWeek);c=b.year;f=b.month;b=b.day;f=m.lpad(f,2,"0");b=m.lpad(b,2,"0");return B.setBoardLocation(this.model.id,"calendar",[c,f,b],{replace:!0})};b.prototype.setSubscriptions=function(){b.__super__.setSubscriptions.apply(this,arguments);$(window).on("resize."+this.uniqueId(),function(b){return function(){return b.resizeCheck()}}(this));return $(".board-widgets").on("transitionend."+this.uniqueId()+" webkitTransitionEnd."+this.uniqueId(),function(b){return function(){return b.resizeCheck()}}(this))};
b.prototype.stopSubscriptions=function(){b.__super__.stopSubscriptions.apply(this,arguments);$(window).off("."+this.uniqueId());return $(".board-widgets").off("."+this.uniqueId())};b.prototype.resizeCheck=function(){this.weekWidth=$(".calendar-content").outerWidth();this.resizeWeekCanvas();return this.scrollToDay(this.currentWeek)};b.prototype.resizeWeekCanvas=function(){var b;b=this.$(".week").length;$(".week-horizontal-canvas").width(this.weekWidth*b);return $(".week").width(this.weekWidth)};b.prototype.updateToolbar=
function(){var b,f;f=H.getEndOfWeek(this.currentWeek);b=H.isUS?"MMMM dd, yyyy":"dd MMMM, yyyy";b=""+this.currentWeek.toString(b)+" - "+f.toString(b);$(".js-calendar-header").text(b);b=$(".today-button");f=this.currentWeek.isSameDay(H.getStartOfWeek(this.today));return b.toggleClass("on-today",f)};b.prototype.appendWeekEl=function(b){this.$(".week-horizontal-canvas").append(this.weekRowEl(b));this.resizeWeekCanvas();b=this.$(".week");b.length>this.WEEKS_KEPT_IN_DOM&&(b.first().remove(),this.scrollLeft(-1*
this.weekWidth));return this.calculateFirstAndLastWeeksFromDOM()};b.prototype.prependWeekEl=function(b){this.$(".week-horizontal-canvas").prepend(this.weekRowEl(b));b=this.$(".week");b.length>this.WEEKS_KEPT_IN_DOM&&b.last().remove();this.resizeWeekCanvas();this.scrollLeft(this.weekWidth);return this.calculateFirstAndLastWeeksFromDOM()};b.prototype.navigatePrevious=function(){return this.navigateWeek({backwards:!0})};b.prototype.navigateNext=function(){return this.navigateWeek({backwards:!1})};b.prototype.navigateWeek=
function(b){var f,c;b=(null!=b?b:{}).backwards;if(!this.scrollLock)return c=b?-7:7,f=b?this.$(".week").first():this.$(".week").last(),this.currentWeek.addDays(c),f=f.attr("name"),f=new Date(parseInt(f)),this.currentWeek.isSameDay(f)&&(b?this.prependWeekEl((new Date(this.currentWeek)).addDays(-7)):this.appendWeekEl((new Date(this.currentWeek)).addDays(7)),this.model.editable()&&_.defer(function(){return M.refreshCalendarCardSortable()})),this.scrollToDay(this.currentWeek,this.SCROLL_ANIMATION_TIME)};
b.prototype.scrollLeft=function(b,f){var c;c=$(".calendar-week").prop("scrollLeft");return this.scrollLeftTo(c+b,f)};b.prototype.scrollLeftTo=function(b,f){var c;c=$(".calendar-week");return f?(this.scrollLock=!0,c.animate({scrollLeft:b},{duration:f,complete:function(b){return function(){return b.completeAnimatedScroll()}}(this)})):c.scrollLeft(b)};b.prototype.scrollToDay=function(b,f){var c,e;this.firstRenderedWeek<b&&b<this.lastRenderedSaturday?(e=H.getMidnightInt(H.getStartOfWeek(b)),c=this.$(".week[name='"+
e+"']"),c=c.prop("offsetLeft"),this.scrollLeftTo(c,f),this.currentWeek=new Date(e),this.updateToolbar()):(this.render(b),this.addedToDOM(),this.delegateEvents());return this.updateRoute()};b.prototype.completeAnimatedScroll=function(){return this.scrollLock=!1};return b}(Cd);Jf=function(c){function b(){return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.className=m.extendParentClassName("calendar-month");b.prototype.WEEK_WRAPPER_ELEMENT="tr";b.prototype.VIEWSTATE_PREF_STR="month";
b.prototype.HEADER_CLASS_NAME="month-view";b.prototype.WEEKS_FROM_EDGE_BEFORE_RENDER_NEW_DAYS=5;b.prototype.WEEKS_TO_RENDER_UPON_SCROLL_THRESHHOLD=5;b.prototype.MINIMUM_WEEKS_KEPT_IN_DOM=20;b.prototype.initialize=function(){b.__super__.initialize.apply(this,arguments);this.DAY_VIEW_TYPE=If;this.today=new Date;this.currentMonthCells=[];this.scrollLock=!1;this.weeksKeptInDOM=this.MINIMUM_WEEKS_KEPT_IN_DOM;return this.makeDebouncedMethods("shadeDaysUpdateHeader")};b.prototype.render=function(b){null==
b&&(b=this.today);this.$el.html(u.fill("calendar_month"));this.renderBaseWeek(b);this.currentCenterWeek=b;this.currentMonth=H.getFirstOfMonth(b);b=Math.floor(this.weeksKeptInDOM/2);this.renderWeeks(b);this.renderWeeks(-1*b);this.shadeDays();this.setSubscriptions();return this};b.prototype.getDayView=function(d,f){return b.__super__.getDayView.call(this,d,_.extend({scrollIntoView:this.scrollIntoView.bind(this)},f))};b.prototype.addedToDOM=function(){b.__super__.addedToDOM.apply(this,arguments);this.calculateVariables();
this.windowResizeCheck();this.updateHeader();return this.scrollToDay(this.currentCenterWeek)};b.prototype.updateRoute=function(){var b,f;b=H.dateToObj(this.currentMonth);f=b.year;b=b.month;b=m.lpad(b,2,"0");return B.setBoardLocation(this.model.id,"calendar",[f,b],{replace:!0})};b.prototype.setSubscriptions=function(){this.stopSubscriptions();b.__super__.setSubscriptions.apply(this,arguments);$(ra).on("windowClassChange."+this.uniqueId(),function(b){return function(){return b.windowClassChangeCheck()}}(this));
$(window).on("resize."+this.uniqueId(),function(b){return function(){return b.windowResizeCheck()}}(this));return $(".calendar-month").on("scroll."+this.uniqueId()+" ",function(b){return function(){return b.scrollCheck()}}(this))};b.prototype.stopSubscriptions=function(){b.__super__.stopSubscriptions.apply(this,arguments);$(ra).off("."+this.uniqueId());$(window).off("."+this.uniqueId());return $(".calendar-month").off("."+this.uniqueId())};b.prototype.windowClassChangeCheck=function(b,f){var c;if("small-window"===
f.newClass||"small-window"===f.oldClass)return $(".calendar-day.active").removeClass("active"),c=new Date(this.currentCenterWeek),this.calculateVariables(),this.windowResizeCheck(),this.scrollCheck(),this.scrollToDay(c)};b.prototype.calculateVariables=function(){var b;this.tableSpacing=null!=(b=parseInt(this.$(".calendar-table").css("border-spacing")))?b:5;return this.dayCellHeight=this.$(".day-cell").prop("clientHeight")+this.tableSpacing};b.prototype.windowResizeCheck=function(){var b,f,c,e,h,l,
q,k;l=$(window).outerHeight();c=$("#header").outerHeight();b=$("#board-header").outerHeight();f=$(".calendar-header").outerHeight();this.calendarContentHeight=l-(c+b+f);f=Math.ceil(this.calendarContentHeight/this.dayCellHeight);this.weeksKeptInDOM=Math.max(5*f,this.MINIMUM_WEEKS_KEPT_IN_DOM);f=ra.fSmall?(e=null!=(q=parseInt($(".board-canvas").css("padding-bottom")))?q:12,h=null!=(k=parseInt($(".board-canvas").css("padding-top")))?k:10,l=$(window).outerHeight(),ma.isTouch()?l-(h+e):(c=$("#header").outerHeight(),
b=$("#board-header").outerHeight(),l-(c+b+h+e))):"100%";return $(".calendar-wrapper").height(f)};b.prototype.updateHeader=function(){var b;b=""+this.currentMonth.toString("MMMM yyyy");return $(".js-calendar-header").text(b)};b.prototype.renderBaseWeek=function(b){b=this.weekRowEl(b);$(".calendar-month").off("."+this.uniqueId());this.$(".calendar-table").append(b);return this.calculateFirstAndLastWeeksFromDOM()};b.prototype.renderWeeks=function(b){var f;0<b&&(f=(new Date(this.lastRenderedSaturday)).addDays(7*
b),this.renderUpToDay(f));if(0>b)return b=(new Date(this.firstRenderedWeek)).addDays(7*b),this.renderUpToDay(b)};b.prototype.renderUpToDay=function(b){var f,c,e;f=this.$(".calendar-table");c=H.getEndOfWeek(b);for(e=[];this.lastRenderedSaturday<c;)this.lastRenderedSaturday.addDays(7),e.push(this.weekRowEl(this.lastRenderedSaturday));f.append(e);b=H.getStartOfWeek(b);for(c=[];this.firstRenderedWeek>b;)this.firstRenderedWeek.addDays(-7),c.unshift(this.weekRowEl(this.firstRenderedWeek));f.prepend(c);
this.scroll(this.dayCellHeight*c.length);this.deleteExcessWeeks();return this.calculateFirstAndLastWeeksFromDOM()};b.prototype.deleteExcessWeeks=function(){var b,f,c,e,h,l;b=$(".week");if(b.length>this.weeksKeptInDOM){f=this.$(".calendar-table").outerHeight();c=$(".calendar-month").prop("scrollTop");if(c<f/2){l=[];c=f=e=b.length-1;for(h=this.weeksKeptInDOM;e<=h?f<=h:f>=h;c=e<=h?++f:--f)l.push($(b[c]).remove());return l}f=b.length-this.weeksKeptInDOM;this.scroll(-1*this.dayCellHeight*f);h=[];for(c=
e=0;0<=f?e<f:e>f;c=0<=f?++e:--e)h.push($(b[c]).remove());return h}};b.prototype.scrollToDay=function(b,f){var c,e,h;if(!this.scrollLock)return e=this.calendarContentHeight/2/this.dayCellHeight,h=H.getStartOfWeek(b),c=(new Date(h)).addWeeks(-1*Math.ceil(e)),h=(new Date(h)).addWeeks(Math.ceil(e)),this.firstRenderedWeek<=c&&this.lastRenderedWeek>=h?(c=H.getStartOfWeek(b).addWeeks(-1*Math.floor(e)),c=H.getMidnightInt(c),c=this.$("[name='"+c+"']"),c=c.prop("offsetTop"),this.scrollTo(c-this.tableSpacing+
1,f)):(this.render(b),this.addedToDOM(),this.delegateEvents()),this.updateRoute()};b.prototype.completeAnimatedScroll=function(){return this.enableRenderNewDays()};b.prototype.scrollIntoView=function(b){var f,c,e;e=b.top;b=e+b.height;f=$(".calendar-month");c=f.scrollTop();f=c+f.height();if(e<c)return this.scroll(e-c-this.tableSpacing+1,this.SCROLL_ANIMATION_TIME);if(b>f)return this.scroll(b-f+this.tableSpacing+1,this.SCROLL_ANIMATION_TIME)};b.prototype.scroll=function(b,f){var c;c=$(".calendar-month").prop("scrollTop");
return this.scrollTo(c+b,f)};b.prototype.scrollTo=function(b,f){var c;c=$(".calendar-month");return f?(this.scrollLock=!0,c.animate({scrollTop:b},{duration:f,complete:function(b){return function(){return b.completeAnimatedScroll()}}(this)})):c.scrollTop(b)};b.prototype.navigatePrevious=function(){return this.scrollMonth(-1)};b.prototype.navigateNext=function(){return this.scrollMonth(1)};b.prototype.scrollMonth=function(b){if(!this.scrollLock)return b=(new Date(this.currentMonth)).addMonths(b),b=
H.getFirstOfMonth(b).addDays(15),this.scrollToDay(b,this.SCROLL_ANIMATION_TIME)};b.prototype.enableRenderNewDays=function(){this.checkRenderDays();return this.scrollLock=!1};b.prototype.scrollCheck=function(){var b,f,c,e;w.hide();b=$(".calendar-month");f=b.outerHeight();b=b.prop("scrollTop");this.scrollLock||this.checkRenderDays();f/=2;c=(new Date(this.firstRenderedWeek)).addWeeks(Math.floor((b+f)/this.dayCellHeight));if(!this.currentCenterWeek.isSameDay(c)){this.currentCenterWeek=c;c=H.getEndOfWeek(this.currentCenterWeek);
if(this.currentMonth.getMonth()!==this.currentCenterWeek.getMonth()||this.currentMonth.getMonth()!==c)c.getMonth()===this.today.getMonth()?this.currentMonth=H.getFirstOfMonth(c):this.currentMonth=H.getFirstOfMonth(this.currentCenterWeek),this.shadeDaysUpdateHeaderDebounced();this.updateRoute()}c=H.getMidnightInt(this.today);c=this.$("[name='"+c+"']").prop("offsetTop");b=c<(e=f+b)&&e<c+this.dayCellHeight;return $(".today-button").toggleClass("on-today",b)};b.prototype.shadeDaysUpdateHeader=function(){this.updateHeader();
return this.shadeDays()};b.prototype.checkRenderDays=function(){var b,f,c,e;b=$(".calendar-month");f=b.outerHeight();b=b.prop("scrollTop");f=this.$(".calendar-table").outerHeight()-f-b;e=this.dayCellHeight*this.WEEKS_FROM_EDGE_BEFORE_RENDER_NEW_DAYS;f<e&&(c=!0,this.renderWeeks(this.WEEKS_TO_RENDER_UPON_SCROLL_THRESHHOLD));b<e&&(c=!0,this.renderWeeks(-1*this.WEEKS_TO_RENDER_UPON_SCROLL_THRESHHOLD));if(c&&this.model.editable())return _.defer(function(){return M.refreshCalendarCardSortable()})};b.prototype.shadeDays=
function(){var b,f,c,e,h;b=this.$(".day-cell");h=this.currentMonthCells;c=0;for(e=h.length;c<e;c++)f=h[c],$(f).removeClass("current-month");e=this.currentMonthCells=_.filter(b,this.cellInCurrentMonth,this);h=[];b=0;for(c=e.length;b<c;b++)f=e[b],h.push($(f).addClass("current-month"));return h};b.prototype.cellInCurrentMonth=function(b){b=parseInt($(b).attr("name"));return(new Date(b)).getMonth()===this.currentMonth.getMonth()};return b}(Cd);Bd=function(c){function b(){return b.__super__.constructor.apply(this,
arguments)}s(b,c);b.prototype.events={sortreceive:"sortReceive",sortstop:"sortStop","click .js-expand-day:not(.active)":"expand","click .js-toggle-day":"clickToggleDay"};b.prototype.initialize=function(b){this.data=b.data;this.getCardView=b.getCardView;this.$el.attr("name",H.getMidnightInt(this.data.day));return this.cardsDue=this.data.cardsDueOnDate};b.prototype.remove=function(){delete this.getCardView;return b.__super__.remove.apply(this,arguments)};b.prototype.render=function(b){var f,c;null==
b&&(b={});f=(new Date(this.data.day)).moveToLastDayOfMonth();f=1===this.data.day.getDate()||this.data.day.isSameDay(f);c=this.data.day.toString("MMM");f={date:this.data.day.getDate(),month:f?c:"",fullMonth:this.data.day.toString("MMMM"),isToday:(new Date).isSameDay(this.data.day)};_.extend(b,f);this.$el.html(u.fill("calendar_day",b,{editable:this.model.editable()}));this.renderCardsAndHeaders();return this};b.prototype.renderCardsAndHeaders=function(){this.updateHeader();return this.renderCardsAndListHeaders()};
b.prototype.cardListMap=function(){return _.groupBy(this.cardsDue,function(b){return b.getList().id})};b.prototype.updateHeader=function(){var b;b=this.cardsDue.length;this.$(".day-number-header, .day-cards-header").empty();if(0<b)return this.$(".day-number-header").text(b),this.$(".day-cards-header").text(m.formatNoun(b,"card"))};b.prototype.renderCardsAndListHeaders=function(){var b,f,c,e,h,l,q,k,m,n;b=this.$(".calendar-day-list");b.empty();l=[];n=this.cardListMap();for(q in n)if(E.call(n,q)){h=
n[q];f={listID:q,listName:this.model.getList(q).get("name")};f=u.fill("calendar_day_list_header",f);l.push(f);k=0;for(m=h.length;k<m;k++)f=h[k],c=this.getCardView(f),c.$el.hasClass("ui-sortable-helper")||(e=c.render().el,$(e).attr("name",f.cid),c.delegateEvents(),l.push(e))}b.append(l);if(this.model.editable())return M.refreshIfInitialized(this.$(".js-calendar-sortable"))};b.prototype.sortReceive=function(b,f){if(this.validCardDragDrop(f.position.left,f.position.top))return f.item.trigger("moveToCalendarDay",
[f,this]);$(f.sender).sortable("cancel");return M.refreshIfInitialized(this.$(".js-calendar-sortable"))};b.prototype.sortStop=function(b,f){return f.item.trigger("moveInCalendarDay",[f,this])};b.prototype.clickToggleDay=function(b){return this.$(".calendar-day").hasClass("active")?this.contract(b):this.expand(b)};b.prototype.expand=function(b){m.stop(b);if(!M.sorting)return $(".calendar-day.active").removeClass("active"),this.$(".calendar-day").addClass("active"),w.hide()};b.prototype.contract=function(b){m.stop(b);
this.$(".calendar-day").removeClass("active");return w.hide()};return b}(A);If=function(c){function b(){return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.tagName="td";b.prototype.className="day-cell";b.prototype.initialize=function(d){this.scrollIntoView=d.scrollIntoView;return b.__super__.initialize.apply(this,arguments)};b.prototype.render=function(){return b.__super__.render.call(this,{monthView:!0})};b.prototype.expand=function(){var d;b.__super__.expand.apply(this,arguments);
d=this.$(".calendar-day");return this.scrollIntoView({top:this.$el.prop("offsetTop"),height:d.outerHeight()})};b.prototype.validCardDragDrop=function(b,f){return 0<=f&&f<=$(".calendar-content").outerHeight()};return b}(Bd);Kf=function(c){function b(){return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.className="day-column";b.prototype.validCardDragDrop=function(b,f){return 0<=b&&b<=$(".calendar-content").outerWidth()};return b}(Bd);var T;T=m.queued(function(c,b){var d,f;null==
c.data&&(c.data={});c.data.token=z.myToken();if(null==(f=c.data).invitationTokens)f.invitationTokens=m.invitationTokens().join(",");d=c.complete;null==c.modelCache&&(c.modelCache=B.getCurrentModelCache());c.complete=function(){null!=d&&d.apply(this,arguments);return"function"===typeof b?b():void 0};return Ea.ajax(c)},3);var Fd,Mf,Gd,F=[].indexOf||function(c){for(var b=0,d=this.length;b<d;b++)if(b in this&&this[b]===c)return b;return-1},k=function(c,b){return function(){return c.apply(b,arguments)}},
E={}.hasOwnProperty,s=function(c,b){function d(){this.constructor=c}for(var f in b)E.call(b,f)&&(c[f]=b[f]);d.prototype=b.prototype;c.prototype=new d;c.__super__=b.prototype;return c};Fd=function(){function c(){}c.prototype.events={"click .js-change-cc":"changeCreditCard","click .js-change-billing-contact":"changeBillingContact","click .js-switch-to-yearly-billing":"switchToYearlyBilling","click .js-start-cancel":"startCancel","click .js-cancel-cancel":"cancelCancel","click .js-cancel":"cancel",'change input[type="radio"]':"showFeedbackTextarea",
"click .js-reactivate-monthly":"reactivateMonthly","click .js-reactivate-yearly":"reactivateYearly","click .js-renew":"renew","click .js-resolve-billing-issue":"changeCCProblem","click .js-enter-new-credit-card":"changeCCDenied"};c.prototype.setup=function(){var b;this.pollingStart=new Date;this.getBillingStatement();this.monthlyProductNumber=this.features.productShortNames[this.productPrefix+"Monthly"];this.yearlyProductNumber=this.features.productShortNames[this.productPrefix+"Yearly"];if(da.processing(null!=
(b=this.model.get("paidAccount"))?b.standing:void 0))return this.getPaidAccount()};c.prototype.processBillingStatement=function(b){var d,f,c,e,h;d=0;h=[];c=0;for(e=b.length;c<e;c++)f=b[c],h.push(this.formatBillingStatement(f,d+=f.amount));return h};c.prototype.formatBillingStatement=function(b,d){b.date=H.toShortString(new Date(b.date));b.balance=d.toFixed(2);if(0===b.item.indexOf("Credit."))return b["return"]=Math.abs(b.amount).toFixed(2);if(0===b.item.indexOf("Refund to your"))return b.refund=Math.abs(b.amount).toFixed(2);
b.credit=0<b.amount?b.amount.toFixed(2):"";return b.debit=0>b.amount?(-b.amount).toFixed(2):""};c.prototype.getBillingStatement=function(){return T({url:""+this.model.urlRoot+"/"+this.model.id+"/paidAccount/statement",success:function(b){return function(d){var f,c,e;if(null!=b.model.attributes&&(b.billingStatementData={statement:null!=(c=null!=d?d.statement:void 0)?c:[],balance:null!=(e=null!=d?d.balance:void 0)?e:0,statementUrl:null!=d?d.statementUrl:void 0},b.processBillingStatement(b.billingStatementData.statement),
b.billingStatementData.statement=function(){var b,d,c,e;c=this.billingStatementData.statement;e=[];b=0;for(d=c.length;b<d;b++)f=c[b],0!==f.amount&&e.push(f);return e}.call(b),b.billingStatementData.statement.reverse(),b.renderBillingStatement(),new Date<m.dateAfter({date:b.pollingStart,minutes:10})))return b.setTimeout(_.bind(b.getBillingStatement,b),m.getMs({seconds:5}))}}(this),interceptErrors:!0,error:function(b){return function(d){return b.$("#billing-statement").text(d.responseText)}}(this)})};
c.prototype.getPaidAccount=function(){return this.paidAccountLoader(function(b){return function(d,f){var c;if(!(d||null==f))return da.processing(null!=(c=b.model.get("paidAccount"))?c.standing:void 0)&&new Date<m.dateAfter({date:b.pollingStart,minutes:1})?b.setTimeout(_.bind(b.getPaidAccount,b),1E3):b.renderMainContent}}(this))};c.prototype._urlBase=function(b){var d;return"/"+(null!=(d=this.model.get("name"))?d:this.model.get("username"))};c.prototype.renderMainContent=function(b){var d,f,c,e,h,
l,q,k,x,n,s,D,w,z;null==b&&(b=!1);f=this.model.toJSON();f.urlBase=this._urlBase();f.changeCardUrl=this.changeCardUrl;f.productName=this.productName;f.productIconClass=this.productIconClass;_.extend(f,this.pricing);e=f.paidAccount;for(d in e)c=e[d],f["paidAccount_"+d]=c;if(null!=(null!=(h=f.paidAccount)?null!=(q=h.products)?q[0]:void 0:void 0))f.nextBillingDate=H.toLongDateString(null!=(k=f.paidAccount.billingDates)?k[f.paidAccount.products[0]]:void 0);d=null!=(x=f.paidAccount)?null!=(n=x.products)?
n[0]:void 0:void 0;f.monthlyPrice=this.features.formatPrice(this.pricing.monthlyProduct);f.yearlyPrice=this.features.formatPrice(this.pricing.yearlyProduct);f.yearlyDiscount=this.features.getYearlyDiscount(this.pricing.yearlyProduct,d);f.yearlyIsDiscount=!/^-/.test(f.yearlyDiscount);f.billedMonthly=this.features.isMonthly(d);f.billedYearly=!f.billedMonthly;f.nextChargeAmount=this.features.formatPrice(d);f.activeAccount=da.active(f.paidAccount);f.processingAccount=da.processing(null!=(s=f.paidAccount)?
s.standing:void 0);f.problemAccount=da.problem(null!=(D=f.paidAccount)?D.standing:void 0);null!=f.paidAccount&&(f.willExpire=da.willExpire(f.paidAccount));f.willExpire&&(f.expirationDate=H.toLongDateString(f.paidAccount.expirationDates[null!=f?null!=(w=f.paidAccount)?null!=(z=w.products)?z[0]:void 0:void 0:void 0]));null!=f.accountStanding&&(f.accountStandingDisplay=m.toTitleCase(f.accountStanding));f.cancelledAccount=da.cancelled(f.paidAccount);f.needCC=da.needCC(null!=(l=f.paidAccount)?l.standing:
void 0);b&&(f.processingReactivation=!0);this.$(".js-content").html(u.fill("billing",f));this.setActiveView(".js-billing");this.renderBillingStatement();return this};c.prototype.renderBillingStatement=function(){if(null!=this.billingStatementData)return this.$("#billing-statement").html(u.fill("billing_statement",this.billingStatementData))};c.prototype.changeCreditCard=function(b){return n(""+this.model.typeName+" View","Billing Page","Change CC - Good Standing")};c.prototype.changeBillingContact=
function(b){m.stop(b);n(""+this.model.typeName+" View","Billing Page","Open Change Billing Contact Info");return w.toggle({elem:this.$(".js-change-billing-contact"),top:20,view:this.model.getView(Mf)})};c.prototype.switchToYearlyBilling=function(b){var d;m.stop(b);b=(d=this.model.get("paidAccount").products[0],0<=F.call(this.features.prebilledProducts,d))?"You will be charged immediately for the yearly amount and your contract will be extended by a year.  The billing contact will be notified of the change":
"You will be charged a prorated amount for the remainder of the month and charged immediately for the yearly amount. The billing contact will be notified of the change.";return pa.toggle({elem:this.$(".js-switch-to-yearly-billing"),top:35,model:this.model,title:"Switch to Yearly Billing?",text:b,confirmText:"Sounds good. Switch!",confirmBtnClass:"primary",fxConfirm:function(b){return function(d){return T({url:""+b.model.urlRoot+"/"+b.model.id+"/paidAccount/products",type:"POST",data:{products:[b.yearlyProductNumber]},
success:function(d){n(b.model.typeName,"Successfully Switched "+b.productName+" to Yearly Billing");return b.model.set(d)}})}}(this)})};c.prototype.startCancel=function(b){m.stop(b);this.$(".js-start-cancel").hide();b=this.$(".js-random-reasons");b.html(_.shuffle(b.find("label")));return this.$(".js-cancel-feedback").show()};c.prototype.showFeedbackTextarea=function(b){return this.$(".js-long-feedback").show()};c.prototype.cancelCancel=function(b){m.stop(b);this.$(".js-start-cancel").show();return this.$(".js-cancel-feedback").hide()};
c.prototype.cancel=function(b){var d,f,c,e,h,l,q,k,x,s,u,D;n("Member View","Billing Page","Open Cancel Trello Gold Dialog");b=null!=(c=this.$("input[type='radio']:checked").val())?c:"not specified";c=null!=(h=this.$(".js-long-feedback").val())?h:"none given";l=this.model.toJSON();h=this.Auth.me().toJSON();q=null!=(d=l.paidAccount)?null!=(x=d.products)?x[0]:void 0:void 0;f={};f.ID=l.id;if(null!=(s=l.paidAccount)&&s.ixSubscriber)f.ixSubscriber=null!=(u=l.paidAccount)?u.ixSubscriber:void 0;l.displayName&&
(f["Organization Display Name"]=l.displayName);l.name&&(f["Organization Name"]=l.name);f["Full Name"]=l.fullName?l.fullName:h.fullName;f.Username=l.username?l.username:h.username;l.idBoards&&(f["# Boards"]=l.idBoards.length);l.memberships&&(f["# Members"]=l.memberships.length);null!=q&&(f["Next Billing Date"]=H.toLongDateString(null!=(D=l.paidAccount.billingDates)?D[q]:void 0),f.Interval=q===this.yearlyProductNumber?"Yearly":"Monthly",f.Price=this.features.formatPrice(q));f["Trello Version"]=TrelloVersion.replace(/\s+/g,
" ");d=function(){var b;b=[];for(e in f)k=f[e],b.push(""+e+": "+k);return b}().join("\n");m.bugzscout({me:h,area:"Cancellations",description:"Cancelled "+this.productName+" - "+f.Interval+"\n",extra:""+d+"\n\nReason: "+b+"\n\nDetails:\n\n"+c});T({url:""+this.model.urlRoot+"/"+this.model.id+"/paidAccount/cancel",type:"POST",success:function(b){return function(d){n(b.model.typeName,"Successfully Canceled Paid Account");b.model.set(d);b.$(".js-start-cancel").hide();b.$(".js-cancel-feedback").hide();
return b.$(".js-cancelled").show()}}(this)})};c.prototype.reactivateMonthly=function(b){n(""+this.model.typeName+" View","Billing Page","Reactivate "+this.productName+" - Monthly");this.reactivate(b,this.monthlyProductNumber,"Monthly")};c.prototype.reactivateYearly=function(b){n(""+this.model.typeName+" View","Billing Page","Reactivate "+this.productName+" - Yearly");this.reactivate(b,this.yearlyProductNumber,"Yearly")};c.prototype.reactivate=function(b,d,f){var c;m.stop(b);null==(null!=(c=this.model.get("paidAccount"))?
c.cardType:void 0)?(b=""+this._urlBase()+"/billing/card/"+this.productPrefix+f,B.navigate(b,{trigger:!0})):T({url:""+this.model.urlRoot+"/"+this.model.id+"/paidAccount/reactivate",type:"POST",data:{products:[d]},success:function(b){return function(d){n(b.model.typeName,"Sucessfully Reactivate "+b.productName+" - "+f);return b.renderMainContent(!0)}}(this)})};c.prototype.renew=function(b){n(""+this.model.typeName+" View","Billing Page","Renew Expiring "+this.productName+" Subscription");T({url:""+
this.model.urlRoot+"/"+this.model.id+"/paidAccount/products",type:"POST",data:{products:[this.model.get("paidAccount").products[0]]},success:function(b){return function(f){n(b.model.typeName,"Successfully Renewed Expiring Yearly "+b.productName+" Subscription");return b.model.set(f)}}(this)})};c.prototype.changeCCProblem=function(b){return n(""+this.model.typeName+" View","Billing Page","Change CC - Resolve Overdue Billing Issue")};c.prototype.changeCCDenied=function(b){return n(""+this.model.typeName+
" View","Billing Page","Change CC - Denied")};return c}();Gd=function(c){function b(){this.pollForCCAuth=k(this.pollForCCAuth,this);this.submitPaidForm=k(this.submitPaidForm,this);this.changeCreditCard=k(this.changeCreditCard,this);this.createPaidAccount=k(this.createPaidAccount,this);this.hideAuthorizing=k(this.hideAuthorizing,this);this.delayShowAuthorizing=k(this.delayShowAuthorizing,this);this.render=k(this.render,this);return b.__super__.constructor.apply(this,arguments)}s(b,c);b.pollForCCAuth=
function(){var b,f;null==this._startedPolling&&(this._startedPolling=Date.now());if(this._startedPolling+m.getMs({seconds:60})<Date.now())return this.hideAuthorizing(),B.organizationBillingView(this.model.get("name"));b=function(b){return function(d){return da.active(d)?b.profileView:da.needCC(null!=d?d.standing:void 0)?b.billingView:!1}}(this);if(f=b(this.model.get("paidAccount")))this.hideAuthorizing(),f();else return T({showSendingAfter:-1,url:""+this.model.urlRoot+"/"+this.model.id+"?paid_account=true",
success:function(c){return function(e){return(f=b(e.paidAccount))?(c.model.set(e),c.hideAuthorizing(),f()):_.delay(_.bind(c.pollForCCAuth,c),1E3)}}(this),error:function(b){return function(d){b.hideAuthorizing();return b.billingView()}}(this)})};b.prototype.events={"click .js-submit-create-paid-account":"createPaidAccount","click .js-submit-change-credit-card":"changeCreditCard","change input[name='product']":"changeProduct"};b.prototype.render=function(){var b,f,c,e,h,l,q,k,m;f=this.model.toJSON({prefs:!0});
f.productNumber=this.options.productNumber;f.productName=this.options.productName;c=this.features.productShortNames[this.pricing.monthlyProduct];l=this.features.productShortNames[this.pricing.yearlyProduct];f.productOptions=[{id:c,checked:this.options.productNumber===c,description:"Monthly ("+this.features.formatPrice(c)+" per month)"},{id:l,checked:this.options.productNumber===l,description:"Yearly ("+this.features.formatPrice(l)+" per year)\n(Save "+this.features.getYearlyDiscount(this.pricing.yearlyProduct,
this.pricing.monthlyProduct)+"!)"}];var n,s;c=null!=(e=this.options.products)?e:[];s=[];l=0;for(n=c.length;l<n;l++)e=c[l],s.push(this.features.products[e]);f.productNames=null!=s?s.join(","):void 0;f.billingFullName=null!=(h=null!=(q=f.paidAccount)?q.contactFullName:void 0)?h:z.me().get("fullName");f.billingEmail=null!=(k=null!=(m=f.paidAccount)?m.contactEmail:void 0)?k:z.me().get("email");q=this.options.formAreas;for(b in q)h=q[b],f["formAreas_"+b]=h;f.action=this.options.action;f.showRecommend=
this.pricing.showRecommend;this.$el.html(u.fill("credit_card",f));return this};b.prototype.delayShowAuthorizing=function(){this.finishedAuth=!1;return _.delay(function(b){return function(){if(!b.finishedAuth)return m.scrollToTop(),O.show("Authorizing...","info","authorizing")}}(this),1E3)};b.prototype.hideAuthorizing=function(){this.finishedAuth=!0;return O.hide("authorizing")};b.prototype.changeProduct=function(b){b=$(b.target).val();this.$("input[name='products']").val(b)};b.prototype.createPaidAccount=
function(b){return this.submitPaidForm(b,"js-submit-create-paid-account","paidAccount","products billingContactEmail billingContactFullName name cardNumber expMonth expYear cvv companyName streetAddress1 streetAddress2 city state zipCode country".split(" "))};b.prototype.changeCreditCard=function(b){return this.submitPaidForm(b,"js-submit-change-credit-card","paidAccount/creditCard","products name cardNumber expMonth expYear cvv companyName streetAddress1 streetAddress2 city state zipCode country".split(" "))};
b.prototype.submitPaidForm=function(b,f,c,e){var h,l,q,k,x;q=this.options.productName;l=this.options.productNumber;this.$("input").removeClass("input-error");this.$(".js-tos-error").addClass("hide");m.preventDefault(b);if(this.$("[name=acceptTOS]").is(":checked")){b={};k=0;for(x=e.length;k<x;k++)h=e[k],b[h]=this.$("[name="+h+"]").val(),this.$("label[for="+h+"].form-error").addClass("hide");this.delayShowAuthorizing();this.$("."+f).attr("disabled","disabled");this.$(".error").hide();return T({showSendingAfter:-1,
url:""+this.model.urlRoot+"/"+this.model.id+"/"+c,data:b,type:"POST",success:function(b){return function(d){b.pollForCCAuth();TRMixpanel.trackPurchase(q,l);if("Business Class"===q)return wa.event("Bought BC",b.model.id),n("Business Class","Purchase",wa.inTest("lockInPrice")?"lock in price":"yearly price");if("Trello Gold"===q)return n("Trello Gold","Purchase")}}(this),interceptErrors:!0,error:function(b){return function(d){var c,e,g;if(/^invalid value for /.test(null!=d?d.responseText:void 0)){if(c=
d.responseText.replace("invalid value for ","").split(","),0<(null!=c?c.length:void 0)){e=0;for(g=c.length;e<g;e++)d=c[e],b.$("#"+d).addClass("input-error"),b.$("label[for="+d+"].form-error").removeClass("hide");b.$("#"+c[0]).focus()}}else b.$(".error").text(null!=(c=d.responseText)?c:"error").show(),m.scrollToTop();b.hideAuthorizing();return b.$("."+f).removeAttr("disabled","disabled")}}(this)})}this.$(".js-tos-error").removeClass("hide")};b.prototype.pollForCCAuth=function(){return b.pollForCCAuth.call(this)};
return b}(A);Mf=function(c){function b(){this.changeBillingContact=k(this.changeBillingContact,this);this.render=k(this.render,this);return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.getViewTitle=function(){return"Change Billing Contact"};b.prototype.events={"click .js-submit":"changeBillingContact","submit form":"changeBillingContact"};b.prototype.render=function(){var b,f,c,e,h;b=this.model.toJSON({prefs:!0});b.billingFullName=null!=(f=null!=(c=b.paidAccount)?c.contactFullName:
void 0)?f:z.me().get("fullName");b.billingEmail=null!=(e=null!=(h=b.paidAccount)?h.contactEmail:void 0)?e:z.me().get("email");this.$el.html(u.fill("billing_contact",b));return this};b.prototype.changeBillingContact=function(b){var f,c,e,h;m.stop(b);b={};b.billingContactFullName=this.$("input#billingContactFullName").val();b.billingContactEmail=this.$("input#billingContactEmail").val();this.$(".js-submit").attr("disabled","disabled");h=["billingContactFullName","billingContactEmail"];c=0;for(e=h.length;c<
e;c++)f=h[c],this.$("#"+f).removeClass("input-error");return T({showSendingAfter:-1,url:""+this.model.urlRoot+"/"+this.model.id+"/paidAccount/billingContact",data:b,type:"POST",success:function(b){return function(d){b.model.set(d);return w.hide()}}(this),interceptErrors:!0,error:function(b){return function(d){var f;d=null!=(f=d.responseText)?f:"error";b.$(".js-submit").removeAttr("disabled","disabled");if(/billingContactFullName/.test(d))b.$("#billingContactFullName").addClass("input-error");else if(/email/.test(d))b.$("#billingContactEmail").addClass("input-error");
else return b.$(".error").text(d).show()}}(this)})};return b}(ha);var Wb;Wb=new (function(){function c(){this.settings={};this._update=_.debounce(this._update,100)}var b;b=function(b,f,c,e,h,l,q,k){null==k&&(k=!0);null==l&&(l=5);b.beginPath();b.moveTo(f+l,c);b.lineTo(f+e-l,c);b.quadraticCurveTo(f+e,c,f+e,c+l);b.lineTo(f+e,c+h-l);b.quadraticCurveTo(f+e,c+h,f+e-l,c+h);b.lineTo(f+l,c+h);b.quadraticCurveTo(f,c+h,f,c+h-l);b.lineTo(f,c+l);b.quadraticCurveTo(f,c,f+l,c);b.closePath();k&&b.stroke();if(q)return b.fill()};
c.prototype._update=function(){var d,f,c,e;if(ma.allowsDynamicFavicon()&&(d=document.createElement("canvas"),d.width=d.height=64,null!=(f="function"===typeof d.getContext?d.getContext("2d"):void 0)))return f.save(),this.settings.hasNotifications&&(f.scale(0.9,0.9),f.translate(0,6)),null!=this.settings.img?(b(f,0,0,64,64,12,!1,!1),f.clip(),this.settings.tiled?f.drawImage(this.settings.img,0,0):(e=this.settings.img,c=e.width,e=e.height,c>e?f.drawImage(this.settings.img,0,0,64*c/e,64):f.drawImage(this.settings.img,
0,0,64,64*e/c)),f.stroke()):(f.fillStyle=null!=(c=this.settings.color)?c:Ua.blue.color,b(f,0,0,64,64,12,!0)),c=f.createLinearGradient(0,0,64,64),c.addColorStop(0,"#fff"),c.addColorStop(1,"#e6e6e6"),f.fillStyle=c,b(f,8,8,20,44,4,!0),b(f,36,8,20,28,4,!0),f.restore(),this.settings.hasNotifications&&(f.fillStyle="#fff",b(f,40,0,24,24,12,!0),f.fillStyle="#f44",b(f,42,2,20,20,10,!0)),d=d.toDataURL("image/png"),$("#favicon").remove(),$("<link>").attr({id:"favicon",rel:"icon",type:"image/png",sizes:"64x64",
href:d}).appendTo("head")};c.prototype.setNotifications=function(b){this.settings.hasNotifications=b;return this._update()};c.prototype.setBackground=function(b){var f,c;f=b.img;c=b.tiled;b=b.color;this.settings.img=f;this.settings.tiled=c;this.settings.color=b;return this._update()};return c}());var Nf,Hd,Of,Id,Xa,Jd,k=function(c,b){return function(){return c.apply(b,arguments)}},E={}.hasOwnProperty,s=function(c,b){function d(){this.constructor=c}for(var f in b)E.call(b,f)&&(c[f]=b[f]);d.prototype=
b.prototype;c.prototype=new d;c.__super__=b.prototype;return c},F=[].indexOf||function(c){for(var b=0,d=this.length;b<d;b++)if(b in this&&this[b]===c)return b;return-1};Xa=new (function(){function c(){}c.prototype.getResults=function(b,d,f){var c;c=d.limit;d=d.partial;null==c&&(c=5);null==d&&(d=!0);b={query:b,limit:c,partial:d};B.onAnyBoardView()&&(b.idBoard=B.idModel);return $.post("/api/app/search",{token:z.myToken(),data:b},f)};c.prototype.navigateToSearch=function(b,d){var f;f=(null!=d?d:{trigger:!1}).trigger;
return B.navigate("/search?q="+encodeURIComponent(b),{trigger:f})};c.prototype.init=function(){return this.searchInputView=new Jd};c.prototype.focusInput=function(){return this.searchInputView.focusInput()};return c}());window.Search=Xa;Jd=function(c){function b(){this.doSearch=k(this.doSearch,this);this.updateSearch=k(this.updateSearch,this);this.submitSearch=k(this.submitSearch,this);this.shortcut=k(this.shortcut,this);this.doSearchDebounced=_.debounce(this.doSearch,500);this.submitted=!1;this.resultsView=
new Hd({modelCache:ModelCacheCache["for"]("searchPopover")});X.addHandler(this,{scope:"search_box"});b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.tagName="form";b.prototype.events={"input #search-text":"updateSearch","keydown #search-text":"updateSearch","click #search-submit":"submitSearch","click .js-search-submit":"submitSearch","click .js-show-search":"showSearch",shortcut:"shortcut"};b.prototype.render=function(){this.$el.html(u.fill("header_search",Xa));return this};b.prototype.shortcut=
function(b,f){if(191===b&&!f)return this.focusInput(),"Search"};b.prototype.focusInput=function(){return m.setCaretAtEnd($("#search-text"))};b.prototype.submitSearch=function(b){var f;f=$("#search-text").val();Xa.query=f;m.stop(b);this.submitted=!0;w.hide();if(B.onAnyBoardView()&&m.isShortId(f))b=this.Card.findOne("idShort",parseInt(f,10)),null!=b?B.showCardDetail(b):(f=B.getCardUrlWithoutModels(B.idModel,f,""),B.navigate(f,{trigger:!0}));else return Xa.navigateToSearch(f,{trigger:!0})};b.prototype.updateSearch=
function(b){var f,c;if(m.isSubmitKey(b.keyCode))return"search"===B.viewType?(m.stop(b),this.submitted=!1,this.doSearchDebounced()):this.submitSearch(b);if(!(f=b.keyCode,0<=F.call(Hb,f))&&!(c=b.keyCode,0<=F.call(sd,c)))return this.submitted=!1,this.doSearchDebounced()};b.prototype.doSearch=function(){var b,f,c;if(!this.submitted){b=this.$("#search-text");c=b.val();if(m.isValidSearch(c)){f="search"===B.viewType;this.resultsView.update(c,{partial:!0,cards_limit:f?12:5,isOnSearchPage:f});Xa.query=c;if(f)return Xa.navigateToSearch(c);
w.load(this.resultsView);return w.show({elem:b,top:b.outerHeight()+8,view:this.resultsView,elActive:b,preloaded:!0})}w.hide()}};b.prototype.showSearch=function(b){m.stop(b);$("#header").toggleClass("show-search");return!1};return b}(A);Hd=function(c){function b(){this.render=k(this.render,this);this.update=k(this.update,this);this.results=null;this.serial=0;this.searchStates=["no-results","searching","search-results","err"];this.searchState="no-results";b.__super__.constructor.apply(this,arguments)}
s(b,c);b.prototype.getViewTitle=function(){return"Search Results"};b.prototype.events={"click .js-card-results .js-list .list-card":"trackCardClick","click .js-board-results .js-list .js-open-board":"trackBoardClick","click .js-member-results .js-list .js-select-member":"trackMemClick","click .js-org-results .js-list .list-card":"trackOrgClick"};b.prototype.update=function(b,f){var c,e,h,l;h=f.partial;c=f.cards_limit;e=f.isOnSearchPage;this.err=null;this.results=_.isEmpty(b)?{}:null;++this.serial;
l=this.serial;this.render();if(!_.isEmpty(b))return c={query:b,partial:null!=h?h:!1,modelTypes:"cards,boards,organizations,members",board_fields:"name,url,prefs",cards_limit:null!=c?c:5,card_members:!0,card_board:!0,card_list:!0,card_stickers:!0,card_attachments:"cover",boards_limit:5,members_limit:5,organizations_limit:5},P["for"](this.modelCache).loadSearchData(c,function(b){return function(d,f){var c,g;b.err=d;if(l!==b.serial)c=_.pluck(null!=f?null!=(g=f.options)?g.terms:void 0:void 0,"text"),
J("search","discarding search for "+c+", serial "+l);else if(b.err=d,b.results=f,b.render(),e)return $("#content").html(b.el)}}(this))};b.prototype.render=function(){var b,f,c,e,h,l,k,m,x,n,s,D,w,z,A,N,E,F,G,y,H,J,M,O,P,T,W;this.$el.html(u.fill("search_instant_results",this.results));m=_.pluck(null!=(y=null!=(H=this.results)?H.cards:void 0)?y:[],"id");l=_.pluck(null!=(J=null!=(M=this.results)?M.boards:void 0)?J:[],"id");E=_.pluck(null!=(O=null!=(P=this.results)?P.members:void 0)?O:[],"id");G=_.pluck(null!=
(T=null!=(W=this.results)?W.organizations:void 0)?T:[],"id");this.searchState=function(){var y,H,J;if(null!=this.err)return"err";if(null==this.results)return"searching";if(_.all([m,l,E,G],_.isEmpty))return"no-results";f=this.$(".js-card-results").hide();if(0<m.length){H=_.pluck(null!=(y=this.results.cards)?y:[],"id");y=0;for(J=H.length;y<J;y++)if(w=H[y],k=this.Card.get(w))n=k.getView(Nf).render().el,f.find(".js-list").append(n);f.show()}b=this.$(".js-board-results").hide();if(0<l.length){H=0;for(y=
l.length;H<y;H++)if(D=l[H],h=this.Board.get(D))x=h.getView(Pf).render().el,b.find(".js-list").append(x),"search"!==B.viewType&&$(x).find(".js-boards-list-menu").remove();b.show()}c=this.$(".js-member-results").hide();if(0<E.length){H=0;for(y=E.length;H<y;H++)if(z=E[H],N=this.Member.get(z))s=N.getView(Of).render().el,c.find(".js-list").append(s);c.show()}e=this.$(".js-org-results").hide();if(0<G.length){H=0;for(y=G.length;H<y;H++)A=G[H],(F=this.Organization.get(A))&&e.find(".js-list").append(u.fill("organization_search_list_item",
F.toJSON()));e.show()}return"search-results"}.call(this);M=this.searchStates;H=0;for(J=M.length;H<J;H++)y=M[H],this.$(".js-"+y).toggle(y===this.searchState);return this};b.prototype.trackCardClick=function(){return n("Search","Select Card")};b.prototype.trackBoardClick=function(){return n("Search","Select Board")};b.prototype.trackMemClick=function(){return n("Search","Select Member")};b.prototype.trackOrgClick=function(){return n("Search","Select Organization")};return b}(A);Nf=function(c){function b(){this.openCard=
k(this.openCard,this);this.render=k(this.render,this);return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.tagName="div";b.prototype.className="search-result-card";b.prototype.events={"click .list-card":"openCard"};b.prototype.render=function(){var b,f,c;b=this.model.getBoard();c=this.model.getList();f=this.model.toJSON();f=_.extend(f,{realLink:!0,listName:c.get("name"),boardName:b.get("name"),permLevel:b.getPermLevelIconClass()});this.$el.html(u.fill("search_results_card",f)).prepend(this.model.getView(xa,
"search-card",{viewPrefix:"search_",hideMenu:!0,applyBoardCardFilter:!1}).render().el);return this};b.prototype.openCard=function(b){this.model.showDetail()};return b}(A);Id=function(c){function b(){this.appendMemberToSearchResults=k(this.appendMemberToSearchResults,this);this.renderSearchResults=k(this.renderSearchResults,this);return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.renderSearchResults=function(b,f){var c,e,h,l,k,v,x;this.$(".js-org-members").hide();this.$el.find(".js-error").hide();
c=this.$el.find(".js-search-results");c.find(".js-list").empty();this.$el.find(".js-uninvited-search-results").hide().empty();if(""===b)this.clearSearchResults(),this.loadingEl.hide();else{l=_.isEmpty(f);h=3<=b.trim().length;e=1===f.length&&m.checkEmail(b);this.$el.find(".js-no-results").toggle(l&&h);c.toggle(!l);h||this.renderOrgMembers();this.helperEl.hide();if(!l&&null==f[0].id)this.renderEmailInviteToSearchResults(f[0]),c.hide(),this.loadingEl.hide();else{v=0;for(x=f.length;v<x;v++)l=f[v],h=l.joined,
k=0<l.similarity,delete l.joined,delete l.similarity,this.modelCache.update("Member",l),c={id:l.id},h&&(c.extraText="ghost"===l.memberType?"invited":"joined",c.className="disabled"),c.isKnownMember=k||e,this.appendMemberToSearchResults(c);this.loadingEl.hide();e=this.$(".js-search-results .js-list li.js-autoselect:first");m.selectMenuItem(this.$(".js-search-results .js-list"),"li",e)}w.calcPos()}};b.prototype.appendMemberToSearchResults=function(b){var f,c,e;c=this.Member.get(b.id);f="function"===
typeof(e=this.model).getOrganization?e.getOrganization():void 0;f=null!=f&&f.isPremOrgAdmin(c)?_.compact([b.className,"no-option"]).join(" "):b.className;b=this.subview(db,c,_.extend({showUnconfirmed:!0},b));this.appendSubview(b,this.$(".js-search-results .js-list"));return b.$("li").addClass(f)};return b}(A);Of=function(c){function b(){return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.tagName="li";b.prototype.className="search-result-member";b.prototype.events={"mouseenter .js-select-member":"hoverMember"};
b.prototype.render=function(){this.$el.empty();this.appendSubview(this.subview(db,this.model,{linkName:!0}));return this};b.prototype.hoverMember=function(b){var f;f=$(b.target).closest(".item");m.selectMenuItem($(b.target).closest(".js-list"),".item",f)};return b}(A);$(function(){return Xa.init()});var La,fb,gb,P,na,Kd,G=[].slice,E={}.hasOwnProperty,s=function(c,b){function d(){this.constructor=c}for(var f in b)E.call(b,f)&&(c[f]=b[f]);d.prototype=b.prototype;c.prototype=new d;c.__super__=b.prototype;
return c},k=function(c,b){return function(){return c.apply(b,arguments)}},F=[].indexOf||function(c){for(var b=0,d=this.length;b<d;b++)if(b in this&&this[b]===c)return b;return-1};Kd=function(){function c(b){this.cache=b}c.prototype._loadApiData=function(){var b,d,f,c,e,h,l,k;f=arguments[0];b=arguments[1];h=arguments[2];l=5<=arguments.length?G.call(arguments,3,k=arguments.length-1):(k=3,[]);c=arguments[k++];e=l[0];d=l[1];return async.auto({result:function(d){var c;_.isString(f)||(f=f.prototype.typeName);
c=m.invitationTokens();_.isEmpty(c)||(h.invitationTokens=c.join(","));null==e&&(e=""+m.pluralize(f)+"/"+b);return QuickLoad("/1/"+e+"?"+$.param(h),function(b,f,c){d(null,b);if(null!=(b=null!=c?c.getResponseHeader("X-Server-Time"):void 0))return Xb.updateServerTime(parseInt(b))},function(c){return 0===(null!=c?c.indexOf("invalid token"):void 0)?window.location="/logout":d("Api load error on "+f+", "+b+", "+h+": "+c)})},header:function(b){return d?b():P.waitFor("headerData",b)}},function(b){return function(d,
e){var h;h=e.result;if(d)"function"===typeof c&&c(d);else return null!=b.cache?b.cache.enqueueDelta(f,h,function(b,d){return"function"===typeof c?c(b,d):void 0}):c(d,h)}}(this))};c.prototype.loadHeaderData=function(b){return z.isLoggedIn()?this._loadApiData(ba,"me",Ye,void 0,!0,b):"function"===typeof b?b(null,{}):void 0};c.prototype.loadBoardsMenuData=function(b){return z.isLoggedIn()?this._loadApiData(ba,"me",Oe,b):"function"===typeof b?b(null,{}):void 0};c.prototype.loadBoardData=function(b,d,f){return this._loadApiData(oa,
b,d,f)};c.prototype.loadBoardListData=function(b,d,f){return this._loadApiData(oa,b,d,f)};c.prototype.loadCardData=function(){var b,d,f;b=3<=arguments.length?G.call(arguments,0,f=arguments.length-2):(f=0,[]);d=arguments[f++];f=arguments[f++];b=b[0];return null!=b?this._loadApiData(Da,d,md,"boards/"+b+"/cards/"+d,f):this._loadApiData(Da,d,md,f)};c.prototype.loadCardActions=function(b,d,f){return this._loadApiData(Da,d,rb,"boards/"+b+"/cards/"+d,f)};c.prototype.loadCardVoters=function(b,d){return this._loadApiData(Da,
b,Qe,"cards/"+b,d)};c.prototype.loadCardCopyData=function(b,d,f){return this._loadApiData(Da,d,Pe,"boards/"+b+"/cards/"+d,f)};c.prototype.loadNotificationData=function(b,d){return this._loadApiData(ba,b,{notifications:"all",notifications_limit:10},d)};c.prototype.loadMoreNotificationData=function(b,d,f){return $.get("/1/members/"+b+"/notifications",{filter:"all",limit:10,page:d}).done(function(b){return function(d){return b.cache.enqueueDelta(wb.prototype.typeName,d,f)}}(this)).fail(function(){return"function"===
typeof f?f("error"):void 0})};c.prototype.loadMemberBoardsData=function(b,d){return this._loadApiData(ba,b,Te,d)};c.prototype.loadMemberCardsData=function(b,d){return this._loadApiData(ba,b,Ue,d)};c.prototype.loadMemberEmail=function(b,d){return this._loadApiData(ba,b,{fields:"email",invitationTokens:m.invitationTokens().join(",")},d)};c.prototype.loadOrganizationMemberGhost=function(b,d,f){var c;b=null!=(c=m.inviteTokenFor(b))?c.split("-")[0]:void 0;return null==b?f(null,{}):this._loadApiData(ba,
b,{fields:"fullName,initials,memberType,username,avatarHash,bio,bioData,confirmed,products",invitationTokens:m.invitationTokens().join(",")},function(b,d){return null!=b?f(null,{}):f(null,d)})};c.prototype.loadMyBoardsUnreadData=function(b){return this._loadApiData(ba,"me",Xe,b)};c.prototype.loadMoreActionData=function(){var b,d,f,c,e,h,l;e=arguments[0];f=arguments[1];l=arguments[2];c=arguments[3];b=6<=arguments.length?G.call(arguments,4,d=arguments.length-1):(d=4,[]);h=arguments[d++];d=b[0];b=b[1];
c={filter:"all",limit:c,page:l};null!=d&&(c.idModels=d.join(","));null!=b&&(c.filter=b);return this._loadApiData(Rb,f,c,""+e+"s/"+f+"/actions",h)};c.prototype.loadClosedCards=function(b,d,f){var c,e;c=d.limit;d=d.before;e={stickers:!0};null!=c&&(e.limit=c);null!=d&&(e.before=d);return this._loadApiData(Da,b,e,"boards/"+b+"/cards/closed",f)};c.prototype.loadClosedBoards=function(b){return this._loadApiData(oa,null,{filter:"closed"},"members/me/boards",b)};c.prototype.loadMemberData=function(b,d){return this._loadApiData(ba,
b,{},d)};c.prototype.loadMemberPaidAccount=function(b,d){return this._loadApiData(ba,b,We,d)};c.prototype.loadMemberAccountData=function(b,d){return this._loadApiData(ba,b,Se,d)};c.prototype.loadMemberProfileData=function(b,d){od.action_since=(new Date).addDays(-30).toString();return this._loadApiData(ba,b,od,d)};c.prototype.loadMemberPasswordData=function(b,d){return this._loadApiData(ba,b,{fields:"loginTypes"},d)};c.prototype.loadMemberCustomBackgrounds=function(b,d){return this._loadApiData(ba,
b,{fields:"",boardBackgrounds:"custom"},d)};c.prototype.loadMemberCustomStickers=function(b,d){return this._loadApiData(ba,b,{fields:"",customStickers:"all"},d)};c.prototype.loadMemberCustomEmoji=function(b,d){return this._loadApiData(ba,b,{fields:"",customEmoji:"all"},d)};c.prototype.loadMemberRecommendData=function(b,d){return this._loadApiData(ba,b,{fields:"fullName,username",credits:"invitation,promoCode"},d)};c.prototype._loadOrganizationPayload=function(b,d,f){return this._loadApiData.call(this,
Va,d,b,f)};c.prototype.loadOrganizationData=function(){var b;b=1<=arguments.length?G.call(arguments,0):[];return this._loadOrganizationPayload.apply(this,[Ze].concat(G.call(b)))};c.prototype.loadOrganizationBoardsData=function(){var b;b=1<=arguments.length?G.call(arguments,0):[];return this._loadOrganizationPayload.apply(this,[$e].concat(G.call(b)))};c.prototype.loadOrganizationPaidAccount=function(){var b;b=1<=arguments.length?G.call(arguments,0):[];return this._loadOrganizationPayload.apply(this,
[df].concat(G.call(b)))};c.prototype.loadOrganizationMinimal=function(){var b;b=1<=arguments.length?G.call(arguments,0):[];return this._loadOrganizationPayload.apply(this,[cf].concat(G.call(b)))};c.prototype.loadOrganizationMembersData=function(){var b;b=1<=arguments.length?G.call(arguments,0):[];return this._loadOrganizationPayload.apply(this,[af].concat(G.call(b)))};c.prototype.loadOrganizationMembersMinimal=function(){var b;b=1<=arguments.length?G.call(arguments,0):[];return this._loadOrganizationPayload.apply(this,
[bf].concat(G.call(b)))};c.prototype.loadOrganizationMemberMinimal=function(b,d,f){return this._loadApiData(ba,d,Ve,f)};c.prototype.loadOrgMemberCardData=function(b,d,f){return this._loadApiData(Da,b,pd,"organization/"+b+"/members/"+d+"/cards",f)};c.prototype.loadOrgMemberMinimalData=function(b,d,f){return this._loadApiData(Da,b,pd,"organization/"+b+"/members/"+d+"/cards",f)};c.prototype.loadOrgNameById=function(b,d){return this._loadApiData(Va,b,{fields:"name"},function(b,c){return d(b,null!=c?c.name:
void 0)})};c.prototype.loadCurrentBoardData=function(b,d){return this.loadBoardData(b,Re,d)};c.prototype.loadBoardActions=function(b,d){return this._loadApiData(oa,b,Me,d)};c.prototype.loadBoardChecklists=function(b,d){return this._loadApiData(oa,b,Ke,d)};c.prototype.loadBoardNames=function(b,d){return async.forEach(b,function(b){return function(d,c){return b._loadApiData(oa,d,{fields:"name,closed"},c)}}(this),d)};c.prototype.loadSearchData=function(b,d){wa.inTest("elastic_search")&&(b.elasticsearch=
!0);return this._loadApiData("search",null,b,"search",d)};return c}();P=new (function(c){function b(){this._loaders={};this._waitComplete={};this._waitCallbacks={}}s(b,c);b.prototype.triggerWaits=function(b){var f,c,e,h;this._waitComplete[b]=!0;h=null!=(f=this._waitCallbacks[b])?f:[];c=0;for(e=h.length;c<e;c++)f=h[c],f();return delete this._waitCallbacks[b]};b.prototype.waitFor=function(b,f){var c;return this._waitComplete[b]?f():(null!=(c=this._waitCallbacks)[b]?c[b]:c[b]=[]).push(f)};b.prototype["for"]=
function(b){var f;_.isString(b)||(b=b.name);return null!=(f=this._loaders)[b]?f[b]:f[b]=new Kd(ModelCacheCache["for"](b))};b.prototype.dropLoaderFor=function(b){return delete this._loaders[b.name]};b.prototype.cacheCallback=function(b,f){return function(c,e){var h,l;if(!c)return h=null!=(l="function"===typeof b?b(e):void 0)?l:b,_.isString(h)&&(h=ModelCacheCache["for"](h)),h.enqueueDelta(f,e)}};return b}(Kd));na=function(c){function b(d,f){this.getView=k(this.getView,this);this.clearCache=k(this.clearCache,
this);this.onId=k(this.onId,this);this.toggle=k(this.toggle,this);this.api=k(this.api,this);this.run=k(this.run,this);this.pull=k(this.pull,this);this.addToSet=k(this.addToSet,this);this.update=k(this.update,this);this._handleError=k(this._handleError,this);this.setReady=k(this.setReady,this);this.ready=k(this.ready,this);this.waitForAttrs=k(this.waitForAttrs,this);this.waitForAttr=k(this.waitForAttr,this);var c,e;this._marked={};this._lockQueue={};this.modelCache=null!=f?f.modelCache:void 0;this._apiQueue=
async.queue(function(b,d){return b(d)},1);c=null;this._apiQueue.drain=function(b){return function(){var d;d=c;c=null;return b.modelCache.unlock(d)}}(this);this._apiQueue.saturated=function(b){return function(){return null!=c?c:c=b.modelCache.lock("TrelloModel "+b.id+" saturated")}}(this);m.debounceEvents(this);b.__super__.constructor.apply(this,arguments);null!=(e=this.modelCache)&&e.add(this)}s(b,c);b.prototype._initSubEventsOn=function(b){return this.listenTo(this,"change:"+b,function(f){return function(c,
e){var h,l,k,m;l=null!=(k=c.previousAttributes())?k[b]:void 0;m=[];for(h in e)k=e[h],(null==l||k!==l[h])&&m.push(f.trigger("change:"+b+"."+h));return m}}(this))};b.prototype.waitForLock=function(b,f){var c;c=function(f){return function(){return _.isEmpty(f._lockQueue[b])?delete f._lockQueue[b]:f._lockQueue[b].shift()(c)}}(this);if(null!=this._lockQueue[b])return this._lockQueue[b].push(f);this._lockQueue[b]=[];return f(c)};b.prototype.set=function(d,f){var c,e,h,l,k,m,x,n,s,u,w;_.isArray(d)&&(d=_.find(d,
function(b){return b.id===this.id||b._id===this.id}));if(null!=(null!=d?d._id:void 0))null==d.id&&(d.id=d._id),delete d._id;d=_.clone(d);for(l in d)if(m=d[l],0<=l.indexOf("/")){k=l.split("/");h=k[0];e=3<=k.length?G.call(k,1,x=k.length-1):(x=1,[]);k=k[x++];null==d[h]&&(d[h]=null!=(u=_.clone(this.get(h)))?u:{});h=d[h];c=n=0;for(s=e.length;n<s;c=++n)c=e[c],h=h[c]=null!=(w=_.clone(h[c]))?w:{};h[k]=m;delete d[l]}return b.__super__.set.apply(this,arguments)};b.prototype.destructor=function(){var b,f,c,
e;this.off();if(null!=this._using){e=this._using;f=0;for(c=e.length;f<c;f++)b=e[f],"function"===typeof b.destructor&&b.destructor()}this.clearCache();return m.shred(this)};b.prototype.destroy=function(){b.__super__.destroy.apply(this,arguments);return this.destructor()};b.prototype.destruct=function(b){var f,c,e,h;if(_.isArray(b)){null==this._using&&(this._using=[]);h=[];c=0;for(e=b.length;c<e;c++)f=b[c],h.push(this._using.push(f));return h}return this.destruct([b])};b.prototype.waitForAttr=function(b,
f){var c;return null!=(c=this.get(b))?f(null,c):this.once("change:"+b,function(c){return function(){return c.waitForAttr(b,f)}}(this))};b.prototype.waitForAttrs=function(b,f){return m.mapping(b,this.waitForAttr,function(c,e){return f(c,_.object(b,e))})};b.get=function(b,f,c){var e;if(_.isArray(f)){var h,l,k;k=[];h=0;for(l=f.length;h<l;h++)e=f[h],k.push(this.get(b,e));return null!=c&&c.compact?_.compact(k):k}return ModelCacheCache["for"](b).get(this.prototype.typeName,f)};b.waitFor=function(){var b,
f,c,e,h,l;b=arguments[0];f=arguments[1];h=4<=arguments.length?G.call(arguments,2,l=arguments.length-1):(l=2,[]);c=arguments[l++];e=h[0];return _.isArray(f)?async.map(f,function(f){return function(h){return f.waitFor(b,h,e,c)}}(this),c):ModelCacheCache["for"](b).waitFor(this.prototype.typeName,f,c)};b.all=function(b){return ModelCacheCache["for"](b).all(this.prototype.typeName)};b.find=function(){var b,f,c,e;c=arguments[0];b=2<=arguments.length?G.call(arguments,1):[];if(1===b.length)return b=b[0],
_.filter(this.all(c),b);f=b[0];e=b[1];return this.find(c,function(b){return b.get(f)===e})};b.findOne=function(){var b;b=1<=arguments.length?G.call(arguments,0):[];return _.first(this.find.apply(this,b))};b.prototype.ready=function(b){b&&(this.isReady?b():(this.waitingForReady||(this.waitingForReady=[]),this.waitingForReady.push(b)))};b.prototype.setReady=function(){var b,f,c,e;this.isReady=!0;if(this.waitingForReady){f=this.waitingForReady;this.waitingForReady=null;c=0;for(e=f.length;c<e;c++)b=f[c],
"function"===typeof b&&b()}};b.prototype._handleError=function(b){return function(f,c,e,h){c=f.status;f=f.responseText;return 400===c?("undefined"!==typeof console&&null!==console&&"function"===typeof console.error&&console.error(f),"function"===typeof b?b(f,null):void 0):h()}};b.prototype.update=function(){var b,f,c,e,h;_.isString(arguments[0])?(b=arguments[0],h=arguments[1],c=4<=arguments.length?G.call(arguments,2,e=arguments.length-1):(e=2,[]),c=c[0],f=arguments[e++],e={},e[b]=h):(e=arguments[0],
c=3<=arguments.length?G.call(arguments,1,b=arguments.length-1):(b=1,[]),c=c[0],f=arguments[b++]);null==c&&!_.isFunction(f)&&(c=f,f=null);(null!=c?c:{}).waitForServer||this.set(e);return this._persistUpdate(e,f)};b.prototype._persistUpdate=function(b,f){return this.api({type:"put",data:b},f)};b.prototype.addToSet=function(){var b,f,c,e,h,l,k;b=arguments[0];l=arguments[1];h=4<=arguments.length?G.call(arguments,2,e=arguments.length-1):(e=2,[]);e=arguments[e++];h=h[0];null==h&&!_.isFunction(e)&&(h=e,
e=function(){});f=null!=h?h:{};h=f.waitForServer;f=f.collectionName;c=this;null==f&&(f=b);h||this.set(b,_.uniq((null!=(k=c.get(b))?k:[]).concat(l)));return this.api({method:f,data:{value:l},success:function(f){return function(e,h){var k;k={};k[b]=_.uniq(c.get(b).concat(l));f.modelCache.enqueueDelta(c,k);return"function"===typeof h?h(null,e):void 0}}(this)},e)};b.prototype.pull=function(){var b,f,c,e,h,l,k;b=arguments[0];l=arguments[1];h=4<=arguments.length?G.call(arguments,2,e=arguments.length-1):
(e=2,[]);e=arguments[e++];h=h[0];null==h&&!_.isFunction(e)&&(h=e,e=function(){});f=null!=h?h:{};h=f.waitForServer;f=f.collectionName;c=this;null==f&&(f=b);h||this.set(b,_.without(null!=(k=c.get(b))?k:[],l));return this.api({method:""+f+"/"+l,type:"delete",success:function(f){return function(e,h){var k;k={};k[b]=_.without(c.get(b),l);f.modelCache.enqueueDelta(c,k);return"function"===typeof h?h(null,e):void 0}}(this)},e)};b.prototype.run=function(b,f,c){return this.api({method:b,data:f},c)};b.prototype.api=
function(b,f){var c,e,h,l,k,m;h=b.method;m=b.type;c=b.data;k=b.success;e=b.datatype;l=this;null==e&&(e="");null==h&&(h="");null==m&&(m="post");null==c&&(c={});null==k&&(k=function(b){return function(d,f){var c;d.id===l.id?b.modelCache.enqueueDelta(l,d):_.isArray(d)&&(c=_.find(d,function(b){return b.id===l.id}),null!=c&&b.modelCache.enqueueDelta(l,c));return f(null,d)}}(this));null==f&&(f=function(){});this.onId(function(b){return function(){var d;d=b.url();null!=h&&""!==h&&(d+="/"+h);return b._apiQueue.push(function(f){return T({url:d,
type:m,data:c,datatype:e,success:function(b){return k(b,f)},interceptErrors:!0,error:b._handleError(f)})},f)}}(this));return this};b.prototype.toggle=function(){var b,f,c,e,h;f=arguments[0];e=arguments[1];b=arguments[2];h=5<=arguments.length?G.call(arguments,3,c=arguments.length-1):(c=3,[]);c=arguments[c++];return this[b?"addToSet":"pull"](f,e,h[0],c)};b.prototype.onId=function(b){var f;f=this;if(f.id)b(f.id);else f.once("change:id",function(c){return function(){return b(f.id)}}(this))};b.prototype.clearCache=
function(){var b,f,c;if(this.viewCache){c=this.viewCache;for(b in c)f=c[b],"function"===typeof f.destructor&&f.destructor(),delete this.viewCache[b];return delete this.viewCache}};b.prototype.getView=function(b,f,c){var e,h;h=b.prototype.uniqueId();e=f?h+":"+f:h;null==this.viewCache&&(this.viewCache={});f=this.viewCache;if(!f[e]){if(!b||!_.isFunction(b)){J("render","view does not exist",h);return}c=_.extend({model:this,modelCache:this.modelCache},c);f[e]=new b(c);this.redelegateOnRemove(f[e])}return f[e]};
b.prototype.redelegateOnRemove=function(b){return b.$el.on("remove",function(f){return function(){return _.defer(function(){b.delegateEvents();return f.redelegateOnRemove(b)})}}(this))};return b}(Backbone.Model);m.extendWithModelCacheHelpers(na);La=function(c){function b(d,f){this._update=k(this._update,this);this.modelCache=null!=f?f.modelCache:void 0;m.debounceEvents(this);b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.destructor=function(){var b,f;this.off();null!=(b=this.modelCache)&&
b.off(null,null,this);null!=(f=this.sourceModel)&&f.off(null,null,this);return m.shred(this)};b.prototype.create=function(d,f){var c,e;null==f&&(f={});c=this.modelCache.lock("Collection Create");e=f.success;f.success=function(b){return function(){var d;d=1<=arguments.length?G.call(arguments,0):[];b.modelCache.unlock(c);return"function"===typeof e?e.apply(null,d):void 0}}(this);null==f.modelCache&&(f.modelCache=this.modelCache);return b.__super__.create.call(this,d,f)};b.prototype.onAddRemove=function(b){return this.ond("add remove reset",
b)};b.prototype._update=function(b){var f,c;f=_.sortBy(b,function(b){return b.cid});c=_.sortBy(this.models,function(b){return b.cid});if(!_.isEqual(f,c))return this.reset(b)};b.prototype.owner=function(b){this.owner=b;return this};b.prototype.syncModel=function(b,f,c){var e,h,l,k;this.sourceModel=b;h=(null!=c?c:{}).fxGetIds;this.modelCache=this.sourceModel.modelCache;l=function(b){return function(){var d,c,e;d=b.sourceModel.get(f);return null!=(c=null!=(e="function"===typeof h?h(d):void 0)?e:d)?c:
[]}}(this);e=async.cargo(function(b){return function(b,d){var f;f=_.countBy(l());_.any(b,function(b){return b.id in f})&&k(_.keys(f));return d()}}(this));k=function(b){return function(d){return b._update(b.model.get(b.modelCache.name,d,{compact:!0}))}}(this);this.sync=function(b){return function(){return k(l())}}(this);this.sourceModel.on("change:"+f,this.sync,this);this.modelCache.on("add:"+this.model.prototype.typeName,function(b){return function(d){e.push(d);return b}}(this));this.sync();return this};
b.prototype.syncCache=function(b,f,c){var e,h,l;this.modelCache=b;this.sync=function(b){return function(){return b._update(_.filter(b.model.all(b.modelCache),c))}}(this);e=this.model.prototype.typeName;this.modelCache.on("add:"+e,function(b){return function(d){if(c(d))return b.add(d)}}(this),this);this.modelCache.on("remove:"+e,function(b){return function(d){if(c(d))return b.remove(d)}}(this),this);this.modelCache.on(" reset:"+e,function(b){return function(){return b.sync()}}(this),this);h=0;for(l=
f.length;h<l;h++)b=f[h],this.modelCache.on("change:"+e+":"+b,this.sync,this);this.sync();return this};b.prototype.syncSubModels=function(b,f){this.sourceModel=b;null==this.modelCache&&(this.modelCache=this.sourceModel.modelCache);this.sync=function(b){return function(){var d,c,l,k,m,x,n,s;m=null!=(c=b.sourceModel.get(f))?c:[];l=function(){var b,f,c;c=[];b=0;for(f=m.length;b<f;b++)d=m[b],k=_.find(this.models,function(b){return b.id===d.id}),null!=k?this.modelCache.enqueueDelta(k,d):k=new this.model(d,
{modelCache:this.modelCache,collection:this}),c.push(k);return c}.call(b);s=b.models;x=0;for(n=s.length;x<n;x++)c=s[x],null==c.id&&l.push(c);return b._update(l)}}(this);this.sourceModel.on("change:"+f,this.sync,this);this.sync();return this};return b}(Backbone.Collection);m.extendWithModelCacheHelpers(La);fb=function(c){function b(){return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.addPlaceholder=function(b){var f;f=_.uniqueId("placeholder");_.extend(b,{id:f});this.add(b);return function(b){return function(){return b.remove(f)}}(this)};
return b}(La);gb=function(c){function b(){return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype["default"]=function(){return{}};b.prototype.sync=function(b,f,c){var e,h,l,k;l=c.success;switch(b){case "create":throw Error("not implemented");case "read":return b=null!=(e=ja.get(f.id))?e:{},_.defaults(b,this["default"]()),"function"===typeof l?l(f,b,c):void 0;case "update":b=f.toJSON();e=this["default"]();delete b.id;for(h in b)k=b[h],_.isEqual(k,e[h])&&delete b[h];_.isEmpty(b)?ja.unset(f.id):
ja.set(f.id,b);return"function"===typeof l?l(f,f.toJSON(),c):void 0;case "delete":return ja.unset(f.id),"function"===typeof l?l(f,null,c):void 0}};b.prototype._persistUpdate=function(b,f){var c;ja.set(this.id,_.extend(null!=(c=ja.get(this.id))?c:this["default"](),b));return"function"===typeof f?f(null,this.toJSON()):void 0};b.prototype.toggle=function(b,f){if(this.inSet(b,f))return this.pull(b,f),!1;this.addToSet(b,f);return!0};b.prototype.inSet=function(b,f){var c;return 0<=F.call(null!=(c=this.get(b))?
c:[],f)};b.prototype.addToSet=function(b,f){var c;return this.save(b,(null!=(c=this.get(b))?c:[]).concat(f))};b.prototype.pull=function(b,f){var c;return this.save(b,_.without(null!=(c=this.get(b))?c:[],f))};return b}(na);Backbone.prepareData=function(c,b,d){var f,g;g={token:z.myToken()};f=function(){switch(c){case "create":case "update":return _.extend(b.toJSON(),g);case "delete":return g;default:return{}}}();"read"===c&&_.isArray(d.fields)&&(f.fields=d.fields.join(","));return"read"===c?$.param(f):
JSON.stringify(f)};Backbone.syncOriginal=Backbone.sync;Backbone.sync=function(c,b,d){var f,g,e;switch(c){case "update":return null!=d?"function"===typeof d.success?d.success(b,{},d):void 0:void 0;case "create":d.wait||(f=b.modelCache.lock("Backbone.sync create"),g=_.once(function(){return b.modelCache.unlock(f)}),e=function(b){return function(){"function"===typeof b&&b.apply(null,arguments);return g()}},setTimeout(e(),1E4),d.success=e(d.success),d.error=e(d.error));break;case "delete":if(/^placeholder/.test(b.id))return}return Backbone.syncOriginal.apply(Backbone,
arguments)};var Qf,Ac,E={}.hasOwnProperty,s=function(c,b){function d(){this.constructor=c}for(var f in b)E.call(b,f)&&(c[f]=b[f]);d.prototype=b.prototype;c.prototype=new d;c.__super__=b.prototype;return c},F=[].indexOf||function(c){for(var b=0,d=this.length;b<d;b++)if(b in this&&this[b]===c)return b;return-1};Ac=function(c){function b(){b.__super__.constructor.apply(this,arguments);this._initSubEventsOn("prefs")}s(b,c);b.prototype.prefNames=[];b.prototype.toJSON=function(d){var f,c;null==d&&(d={});
f=b.__super__.toJSON.apply(this,arguments);c=function(b){return function(d,l,k){var m,x,n,s,u,w;w=[];n=0;for(s=d.length;n<s;n++)x=d[n],m=k?""+k+"_"+x:x,x=null!=(u=null!=l?l[x]:void 0)?u:b.getPref(x),_.isObject(x)&&!_.isArray(x)?w.push(c(_.keys(x),x,m)):(f[m]=x,w.push(f[""+m+"_"+x]=!0));return w}}(this);d.prefs&&c(this.prefNames);return f};b.prototype.getPref=function(b){var f;return null!=(f=this.get("prefs"))?f[b]:void 0};b.prototype.setPref=function(b,f){return this.update("prefs/"+b,f)};b.prototype.set=
function(d,f){var c,e,h;d=_.clone(d);if(null!=d.prefs)for(c in e=d.prefs,e)h=e[c],"none"===h&&(h="disabled"),"owners"===h&&(h="admins"),e[c]=h;return b.__super__.set.apply(this,arguments)};return b}(na);Qf=function(c){function b(){b.__super__.constructor.apply(this,arguments);this._initSubEventsOn("myPrefs")}s(b,c);b.prototype.myPrefNames=[];b.prototype.myPrefDefaults={};b.prototype.toJSON=function(d){var f,c,e,h,l,k;null==d&&(d={});f=b.__super__.toJSON.apply(this,arguments);if(d.prefs){k=this.myPrefNames;
h=0;for(l=k.length;h<l;h++)c=k[h],e=this.getPref(c),f[c]=e,f[""+c+"_"+e]=!0}return f};b.prototype.getPref=function(d){var f,c;return 0<=F.call(this.myPrefNames,d)?null!=(f=null!=(c=this.get("myPrefs"))?c[d]:void 0)?f:this.myPrefDefaults[d]:b.__super__.getPref.apply(this,arguments)};b.prototype.setPref=function(d,f){return 0<=F.call(this.myPrefNames,d)?this.setMyPref(d,f):b.__super__.setPref.apply(this,arguments)};b.prototype.setMyPref=function(b,f){var c;this.api({type:"put",method:"myPrefs/"+b,data:{value:f}});
c=_.clone(this.get("myPrefs"));c[b]=f;return this.set({myPrefs:c})};return b}(Ac);var Rf,Sf,Ld,E={}.hasOwnProperty,s=function(c,b){function d(){this.constructor=c}for(var f in b)E.call(b,f)&&(c[f]=b[f]);d.prototype=b.prototype;c.prototype=new d;c.__super__=b.prototype;return c},F=[].indexOf||function(c){for(var b=0,d=this.length;b<d;b++)if(b in this&&this[b]===c)return b;return-1};Rf=function(c){function b(){return b.__super__.constructor.apply(this,arguments)}s(b,c);return b}(na);Sf=function(c){function b(){return b.__super__.constructor.apply(this,
arguments)}s(b,c);b.prototype.model=Rf;b.prototype.initialize=function(){this.memberIndex={};this.on("add",function(b){return this.memberIndex[b.get("idMember")]=b});return this.on("remove",function(b){return delete this.memberIndex[b.get("idMember")]})};b.prototype.reset=function(d,f){return b.__super__.reset.call(this,d,_.extend({},f,{silent:!1}))};b.prototype.getMember=function(b){var f;b=null!=(f=null!=b?b.id:void 0)?f:b;return this.memberIndex[b]};return b}(La);Ld=function(){function c(){}c.prototype.orderedVisibleMembers=
function(){return this.memberList.sortBy(function(b){return function(d){return function(){if(z.isMe(d))return"0";if(this.isDeactivated(d))return"5";if(this.isVirtual(d))return"4";switch(d.get("status")){case "active":return"1";case "idle":return"2";default:return"3"}}.call(b)+d.get("fullName")}}(this)).filter(function(b){return function(d){return(!b.isDeactivated(d)||b.canSeeDeactivated(z.me()))&&!b.isObserver(d)}}(this))};c.prototype.getMemberType=function(b){var d,f;d="function"===typeof this.getOrganization&&
null!=(f=this.getOrganization())&&f.isPremOrgAdmin(b)?"admin":this.getExplicitMemberType(b);"public"!==d&&("function"===typeof this.isVirtual&&this.isVirtual(b))&&(d="virtual");return d};c.prototype._refreshMemberships=function(){return this._memberships.reset(this.get("memberships"))};c.prototype._getMembershipFor=function(b){this._memberships||(this._memberships=new Sf,this._refreshMemberships(),this.on("change:memberships",function(b){return function(){return b._refreshMemberships()}}(this)));
return this._memberships.getMember(b)};c.prototype.getMembershipFor=function(b){var d;return null!=(d=this._getMembershipFor(b))?d.toJSON():void 0};c.prototype.isMember=function(b){return null!=this._getMembershipFor(b)};c.prototype.isVirtual=function(b){return"ghost"===(null!=b?b.get("memberType"):void 0)};c.prototype.isDeactivated=function(b){var d;return!0===(null!=(d=this._getMembershipFor(b))?d.get("deactivated"):void 0)};c.prototype.isUnconfirmed=function(b){var d;return!0===(null!=(d=this._getMembershipFor(b))?
d.get("unconfirmed"):void 0)};c.prototype.isObserver=function(b){return"observer"===this.getExplicitMemberType(b)};c.prototype.isPremOrgAdmin=function(b){var d,f;_.isString(b)&&(b=this.Member.get(b));b=null!=(d=null!=b?"function"===typeof b.get?b.get("idPremOrgsAdmin"):void 0:void 0)?d:[];d=this.getOrganization?null!=(f=this.getOrganization())?f.id:void 0:this.id;return 0<=F.call(b,d)};c.prototype.getExplicitMemberType=function(b){var d,f;return this.isDeactivated(b)?"deactivated":this.isUnconfirmed(b)?
"unconfirmed":(d=this._getMembershipFor(b))?d.get("memberType"):"function"===typeof this.getOrganization&&null!=(f=this.getOrganization())&&f.isMember(b)?"org":"public"};c.prototype.canSeeDeactivated=function(b){var d,f;return this.isMember(b)||(null!=(d=b.organizationList)?d.get(null!=(f=this.getOrganization())?f.id:void 0):void 0)};return c}();var Rb,Ib,Bc,Jb,Cc,Tf,Uf,E={}.hasOwnProperty,s=function(c,b){function d(){this.constructor=c}for(var f in b)E.call(b,f)&&(c[f]=b[f]);d.prototype=b.prototype;
c.prototype=new d;c.__super__=b.prototype;return c},G=[].slice;Rb=function(c){function b(){return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.typeName="Action";b.prototype.urlRoot="/1/actions";b.getListForModel=function(){var b,f,c,e;f=arguments[0];b=2<=arguments.length?G.call(arguments,1):[];if(2===b.length)e=b[0],c=b[1];else if(1===b.length)b=b[0],e=b.typeName,c=b.id;else return;e=e.toLowerCase();return _.filter(this.all(f),function(b){return b.includesModel(e,c)})};b.prototype.getModel=
function(){return this.collection.options.model};b.prototype.triggerCacheEvents=function(b,f){var c,e,h,l;l=this.idModels();e=0;for(h=l.length;e<h;e++)c=l[e],b.trigger(""+f+":"+this.typeName+":"+c)};b.prototype.isMember=function(b){return this.get("idMemberCreator")===b.id};b.prototype.getDate=function(){return H.parse(this.get("date"))};b.prototype.getBoard=function(){var b,f;return this.Board.get(null!=(b=this.get("data"))?null!=(f=b.board)?f.id:void 0:void 0)};b.prototype.getCard=function(){var b,
f;return this.Card.get(null!=(b=this.get("data"))?null!=(f=b.card)?f.id:void 0:void 0)};b.prototype.editable=function(){var b;b=this.get("idMemberCreator");return"commentCard"===this.get("type")&&z.isMe(b)};b.prototype.deletable=function(){var b,f,c;f=this.get("idMemberCreator");return"commentCard"===this.get("type")&&("observer"!==(null!=(c=this.getBoard())?c.getExplicitMemberType(z.me()):void 0)&&z.isMe(f)||null!=(b=this.getBoard())&&0<b.compareMemberType(z.me(),this.Member.get(f),{mode:"commentDelete"})&&
!(!b.isPremOrgAdmin(z.me())&&b.isPremOrgAdmin(f)))};b.prototype.isPlaceholder=function(){return null==this.get("date")};b.prototype.includesModel=function(b,f){var c,e;b=b.toLowerCase();return(null!=(c=this.get("data"))?null!=(e=c[b])?e.id:void 0:void 0)===f||"member"===b&&this.get("idMemberCreator")===f};b.prototype.idModels=function(){var b,f,c,e;e=null!=(c=this.get("data"))?c:{};c=[];for(b in e)f=e[b],null!=(null!=f?f.id:void 0)&&c.push(f.id);b=this.get("idMemberCreator");null!=b&&c.push(b);return c};
b.prototype.takingTooLong=function(){this.isTakingTooLong=!0;return this.trigger("takingTooLong")};return b}(na);Bc=function(c){function b(b){this.modelCache=b}s(b,c);b.getActionListMaker=function(b){var f,c;null==this._makers&&(this._makers={});return null!=(f=this._makers)[c=b.name]?f[c]:f[c]=new this(b)};b.prototype.getCardUrl=function(d,f){var c,e;return null!=(null!=(e=c=this.Card.get(f.id))?e.get("url"):void 0)?B.getCardUrl(c):b.__super__.getCardUrl.apply(this,arguments)};b.prototype.getBoardUrl=
function(d){var f,c;return null!=(null!=(c=f=this.Board.get(d.id))?c.get("url"):void 0)?B.getBoardUrl(this.modelCache,f):b.__super__.getBoardUrl.apply(this,arguments)};b.prototype.getMember=function(b){return this.Member.get(b)};b.prototype.getBoard=function(b){return this.Board.get(b)};b.prototype.attachmentPreviewEntity=function(d){var f;f=b.__super__.attachmentPreviewEntity.call(this,d);ma.isHighDPI()&&null!=d.previewUrl2x&&(f.url=d.previewUrl2x);return f};b.prototype.attachmentEntity=function(d){d=
b.__super__.attachmentEntity.call(this,d);d.known=Fb.interpret(d.url,this.modelCache);return d};return b}(Ob);m.extendWithModelCacheHelpers(Bc);Ib=function(c){function b(){return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.model=Rb;b.prototype.initialize=function(b,f){this.options=f};b.prototype.comparator=function(b){return-b.getDate()||0};b.prototype._getRelatedBoards=function(b){var f,c,e;c=function(){var b,d,c,g,k,m,n;c=this.models;n=[];b=0;for(d=c.length;b<d;b++)if(e=c[b],
"moveCardToBoard"===(g=e.get("type"))||"moveCardFromBoard"===g)f=e.get("data"),n.push((null!=(k=f.boardTarget)?k.id:void 0)||(null!=(m=f.boardSource)?m.id:void 0));return n}.call(this);c=_.compact(_.uniq(c));c=_.reject(c,function(b){return function(d){return null!=b.Board.get(d)}}(this));return 0===c.length?b():P["for"](this.modelCache).loadBoardNames(c,b)};return b}(La);Jb=function(c){function b(){return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.initialize=function(b){this.renderOpts=
b.renderOpts;this.makeDebouncedMethods("render");this.listenTo(this.collection,"add remove reset",this.renderDebounced);return this.actionViews=[]};b.prototype.getActionListMaker=function(){return Bc.getActionListMaker(this.modelCache)};b.prototype.render=function(){return this.collection._getRelatedBoards(function(b){return function(){var f,c,e,h,l,k,m,x,n;c=b.saveEdits();e=c[0];c=c[1];f=b.collection.models;f=_.sortBy(f,function(b){return-H.parse(b.get("date"))});f=b.getActionListMaker().groupActions(f,
{limit:b.renderOpts.limit});(m=!b.$el.html())&&b.removeActionViews();k=x=0;for(n=f.length;x<n;k=++x)if(l=f[k],h=_.first(l),m||b.actionGroupNeedsRerender(l,h,k))h=b.rerenderActionGroup(l,h,k,f,{rerenderAll:m}),b.restoreEdits(e,c,h)}}(this))};b.prototype.saveEdits=function(){var b,f;f=[];b=0;_.each(this.$el.find(".editing textarea"),function(c){return function(c){var g;g=m.getElem(c);f.push(g.val());if(g.is(":focus"))return g.parents(".editing").addClass("focused"),b=m.getCaretPosition(c)}}(this));
null!=f&&f.reverse();return[f,b]};b.prototype.restoreEdits=function(b,f,c){if(c.$el.hasClass("editing"))return c.$("textarea").val(b.pop()),b=m.getElem(c.$("textarea")),c.$el.hasClass("focused")&&m.setCaretPosition(b,f),c.openEditView()};b.prototype.rerenderActionGroup=function(b,f,c,e,h){var l,k;b=1===b.length?/^comment/.test(f.get("type"))?this.subview(Tf,f,this.renderOpts):this.subview(Cc,f,this.renderOpts):this.subview(Uf,f,_.defaults({list:b},this.renderOpts));h.rerenderAll?(this.appendSubview(b),
this.actionViews.push(b)):(this.insertActionView(b,c),1===this.actionViews.length&&1===e.length?(this.actionViews[c].remove(),this.actionViews.splice(c,1,b)):null==this.actionViews[c+1]?this.actionViews.splice(c,1,b):e.length<=this.actionViews.length?this.actionViews[c+1].model.id===(null!=(l=_.first(e[c+1]))?l.id:void 0)?(this.actionViews[c].remove(),this.actionViews.splice(c,1,b)):(this.actionViews.splice(c,0,b),null!=(k=this.actionViews[this.actionViews.length-1])&&k.remove(),this.actionViews=
this.actionViews.splice(0,this.actionViews.length-1)):this.actionViews.splice(c,0,b));return b};b.prototype.actionGroupNeedsRerender=function(b,f,c){var e,h,l;if((null!=(h=this.actionViews[c+1])?null!=(l=h.model)?l.id:void 0:void 0)===f.id)this.actionViews[c].remove(),this.actionViews.splice(c,1);c=this.actionViews[c];if(1===b.length&&(!c||f.id!==c.model.id))return!0;if(1<b.length){if(null==(null!=c?c.list:void 0))return!0;c=c.list;e=h=0;for(l=b.length;h<l;e=++h)if(f=b[e],e=null!=c?c[e]:void 0,(null!=
e?e.id:void 0)!==f.id)return!0}return!1};b.prototype.insertActionView=function(b,f){return this.actionViews[f]?(b.delegateEvents(),b.render().$el.insertBefore(this.actionViews[f].el)):this.appendSubview(b)};b.prototype.removeActionViews=function(){var b,f,c,e;e=this.actionViews;f=0;for(c=e.length;f<c;f++)b=e[f],b.remove();this.actionViews=[]};b.prototype.delegateEvents=function(){var d,f,c,e;b.__super__.delegateEvents.apply(this,arguments);e=this.actionViews;f=0;for(c=e.length;f<c;f++)d=e[f],d.delegateEvents()};
b.prototype.undelegateEvents=function(){var d,f,c,e;b.__super__.undelegateEvents.apply(this,arguments);e=this.actionViews;f=0;for(c=e.length;f<c;f++)d=e[f],d.undelegateEvents()};b.prototype.remove=function(){this.removeActionViews();return b.__super__.remove.apply(this,arguments)};return b}(A);Cc=function(c){function b(){return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.className="phenom clearfix";b.prototype.getActionListMaker=function(){return Bc.getActionListMaker(this.modelCache)};
b.prototype.initialize=function(b){var f;this.context=b.context;this.listenTo(this.model,"takingTooLong change",this.render);b=this.model.get("data");if(null!=(null!=(f=b.card)?f.id:void 0)&&b.board)return this.listenTo(this.modelCache,"remove:Action:"+this.model.get("id"),function(b){return function(){return b.remove()}}(this))};b.prototype.events={"click .js-show-mem-menu":"viewMemberActionMenu","click .js-open-attachment-viewer":"openAttachmentViewer"};b.prototype.destructor=function(){};b.prototype.addAdditionalInfo=
function(b){var f,c,e,h;h=b.entities;c=0;for(e=h.length;c<e;c++)if(f=h[c],f[f.type+"Type"]=!0,f&&(f.id||f.idContext))f.isContext=b.isContext=f.id===this.context.id||f.idContext===this.context.id};b.prototype.addContextData=function(b){var f,c,e,h,l,k,m,x,n,s;this.options.showBoard&&(f=this.Board.get(null!=(c=this.model.get("data"))?null!=(e=c.board)?e.id:void 0:void 0),null!=f&&(b.board=f.toJSON({prefs:!0,url:!0}),b.boardPLevelIconClass=f.getPermLevelIconClass(),b.boardPLevelAltText=f.getPermLevelAltText()));
this.options.showOrganization&&(f=this.Organization.get(null!=(h=this.model.get("data"))?null!=(l=h.organization)?l.id:void 0:void 0),null!=f&&(b.organization=f.toJSON({prefs:!0,url:!0}),b.orgPLevelIconClass=f.getPermLevelIconClass(),b.orgPLevelAltText=f.getPermLevelAltText()));b.showAttachmentPreview=!this.options.compact;b.canDelete=!this.model.isPlaceholder()&&!this.options.compact&&this.model.deletable();b.canEdit=!this.model.isPlaceholder()&&!this.options.compact&&this.model.editable();b.canPromoteToCard=
("4dfa1af85ace37e9f202ad1c"===(k=null!=(m=this.model.getBoard())?m.id:void 0)||"51c323b425899096b700000f"===k)&&"commentCard"===this.model.get("type")&&(null!=(x=this.model.getCard())?x.editable():void 0);b.member=null!=(n=this.Member.get(this.model.get("idMemberCreator")))?n.toJSON():void 0;return null!=(s=b.member)?s.url=B.getMemberProfileUrl(b.member.id):void 0};b.prototype.renderFromData=function(b){var f,c,e,h,l,k,m,x,n,s;this.addContextData(b);f={entity:u.entity,member:u.member};b.entities=
b.entities.slice(1);b.useEmbedly=!this.options.compact&&("commentCard"===(e=this.model.get("type"))||"copyCommentCard"===e);b.usePreviews=!this.options.compact&&"addAttachmentToCard"===this.model.get("type");J("actions",b);this.$el.html(u.fill("action",b,{},f));if(b.useEmbedly){f=this.$(".js-embedly");x=b.entities;k=0;for(m=x.length;k<m;k++)if(e=x[k],"comment"===e.type&&null!=e.embedly)try{for(h in n=JSON.parse(e.embedly),n)l=n[h],l["type_"+l.type]=!0,l.requireHttps=!0,f.show().append(u.fill("embedly",
l))}catch(w){}}if(!b.hasMoreThanOneChild&&"addAttachmentToCard"!==(s=this.model.get("type"))&&"attachmentPreview"!==s&&"commentCard"!==s&&"copyCommentCard"!==s)h=_.last(this.$(".phenom-desc").contents()),n=$.trim(h.nodeValue),l=".",0<n.length&&(l=" "+$.trim(h.nodeValue)+"."),this.$(".phenom-desc").contents().last().remove(),this.$(".phenom-desc").append(_.escape(l));b.usePreviews&&(b=_.filter(b.entities,function(b){return"attachment"===b.type}),_.isEmpty(b)||(c=this.$(".js-previews"),Fb.previewHtml(b[0].url,
function(b,d){c.empty();if(null!=b){if(null!=b.login)return $("<div>").addClass("attachment-extra-info-login").html(b.login).appendTo(c),c.removeClass("hide")}else if(null!=d)return $("<div>").addClass("attachment-extra-info").html(d).appendTo(c),c.removeClass("hide")})));H.update(this.el);this.model.isTakingTooLong?this.$el.addClass("unsent"):this.$el.removeClass("unsent");return this};b.prototype.render=function(){var b,f,c;J("render","rendering action");b={saved:null!=this.model.id,entities:this.getActionListMaker().getEntityList(this.model).entities,
date:this.model.get("date"),hasChildren:!1,dateLastEdited:null!=(f=this.model.get("data"))?f.dateLastEdited:void 0,textData:null!=(c=this.model.get("data"))?c.textData:void 0};this.addAdditionalInfo(b);return this.renderFromData(b)};b.prototype.viewMemberActionMenu=function(b){var f,c;m.stop(b);f=this.Member.get(null!=(c=$(b.target).closest("[idmember]").attr("idmember"))?c:this.model.get("idMemberCreator"));c=22;0<$(b.target).closest(".member").length&&(c=36);w.toggle({elem:this.$(".js-show-mem-menu"),
top:c,view:Yb,options:{model:f,modelCache:this.modelCache}})};b.prototype.openAttachmentViewer=function(b){var f;f=$(b.target);0<f.closest(".window-main-col").length&&(m.stop(b),b=f.closest(".js-open-attachment-viewer").attr("data-idattachment"),(new Dc({model:this.model.getCard(),modelCache:this.modelCache,idAttachment:b})).render())};return b}(A);Uf=function(c){function b(){return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.initialize=function(d){this.opts=d.opts;this.list=
d.list;return b.__super__.initialize.apply(this,arguments)};b.prototype.render=function(){var b,f,c,e,h;J("render","rendering action");b=this.getActionListMaker().getEntityLists(this.list)[0];f=b.entities;b=b.children;f={saved:null!=this.model.id,entities:f,date:this.model.get("date"),hasChildren:!0,dateLastEdited:null!=(c=this.model.get("data"))?c.dateLastEdited:void 0,children:_.sortBy(b,function(b){return b.id}),hasMoreThanOneChild:1<b.length};this.addContextData(f);h=f.children;b=0;for(e=h.length;b<
e;b++)c=h[b],this.addAdditionalInfo(c);this.addAdditionalInfo(f);return this.renderFromData(f)};return b}(Cc);Tf=ea(Vb,nb,function(c){function b(){return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.events=m.extendEvents({"click .action-comment":"clickComment","click .js-confirm-delete-action":"confirmDeleteAction","click .js-promote-to-card":"promoteToCard","click .js-edit-action":"editAction","click .js-save-edit":"saveEdit","keypress .js-text":"saveEdit","click .js-cancel-edit":"cancelEdit",
"click .js-open-editing-menu":"openEditingMenu","keyup .js-text":"keyAutoMention","keydown .js-text":"keydownJsText"});b.prototype.confirmDeleteAction=function(b){m.stop(b);pa.toggle({elem:$(b.target).closest(".js-confirm-delete-action")[0],top:22,model:this.model,title:"Delete Comment?",text:"Deleting a comment is forever. There is no undo.",confirmText:"Delete Comment",confirmBtnClass:"negate",fxConfirm:function(b){return function(d){n("Card","Delete Comment");return b.model.destroy()}}(this)})};
b.prototype.getTextInput=function(){return this.$(".js-text")};b.prototype.editAction=function(b){m.stop(b);if(!this.$el.hasClass("editing"))return this.$el.addClass("editing"),this.$("textarea").focus().select(),this.openEditView()};b.prototype.openEditView=function(){this.$el.append(u.fill("edit_controls"));this.$(".js-text").attr("placeholder","");this.$(".js-open-editing-menu").show()};b.prototype.keydownJsText=function(b){return m.isForceSubmitKey(b)?this.saveEdit(b):this.checkInsert(b)};b.prototype.saveEdit=
function(b){var f;if("keypress"!==b.type||m.isForceSubmitKey(b)||13===b.keyCode&&(!$(b.target).is("textarea")||$(b.currentTarget).hasClass("single-line")))f=this.$(".js-text").val(),/^\s*$/.test(f)?(this.$(".js-text").val("").focus(),this.$(".js-text").attr("placeholder","Must have at least ONE character...")):(m.stop(b),this.$(".js-spinner").show(),this.$(".js-hide-on-sending").hide(),this.$(".current-comment").text(f),qa.cancelEdits(),this.model.set("data",_.extend(this.model.get("data"),{text:f})).update("text",
f),n("Card","Edit Comment"))};b.prototype.showError=function(b){};b.prototype.cancelEdit=function(b){b&&m.stop(b);w.hide();qa.cancelEdits()};b.prototype.clickComment=function(b){"Card"===this.context.typeName||$(b.target).is("a,textarea")||(m.stop(b),b=this.getActionListMaker().getEntityList(this.model).entities,b=_.find(b,function(b){return"card"===b.type}),B.showCardDetail(this.Card.get(b.id)))};b.prototype.promoteToCard=function(){var b,f,c,e;c=this.model.get("idMemberCreator");c=this.Member.get(c);
e=this.model.get("data").text;null!=c?(f="Proposed by ["+c.get("fullName")+"](/"+c.get("username")+")",b="@"+c.get("username")+" Your proposal has been accepted."):(f="Promoted from comment",b=null);return async.waterfall([function(b){return function(d){return b.model.getCard().getList().cardList.create({name:e,desc:f,pos:"bottom"},{success:function(b){return d(null,b)},error:function(){return d("couldn't create card")}})}}(this),function(f){return function(f,c){return null!=b?f.addComment(b):c()}}(this)],
function(){})};b.prototype.getCard=function(){return this.model.getCard()};return b}(Cc));var cb,Vf,ub,Md,E={}.hasOwnProperty,s=function(c,b){function d(){this.constructor=c}for(var f in b)E.call(b,f)&&(c[f]=b[f]);d.prototype=b.prototype;c.prototype=new d;c.__super__=b.prototype;return c},k=function(c,b){return function(){return c.apply(b,arguments)}};Vf=function(c){function b(d){b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.typeName="Announcement";b.prototype._key=function(){return"announcement-"+
this.id+"-read"};b.prototype.isUnread=function(){return!ja.get(this._key())};b.prototype.markRead=function(){$.post("/announcements/dismiss",{id:this.id});ja.set(this._key(),!0);return this.trigger("change:unread")};return b}(na);Md=function(c){function b(d,f){this.requiresLogin=f.requiresLogin;this.dataUrl=f.dataUrl;this.sync=k(this.sync,this);b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.model=Vf;b.prototype.sync=function(b,f,c){if(!this.requiresLogin||z.isLoggedIn())return $.ajax({url:this.dataUrl,
success:function(b){return"function"===typeof c.success?c.success(f,b,c):void 0}})};b.prototype.getUnread=function(){return this.filter(function(b){return b.isUnread()})};b.prototype.unreadCount=function(){return this.filter(function(b){return b.isUnread()}).length};b.prototype.top=function(){return this.detect(function(b){return b.isUnread()})};return b}(La);ub=cb=null;_.defer(function(){var c,b,d,f;ub=new Md([],{requiresLogin:!0,dataUrl:"/announcements"});cb=new Md([],{requiresLogin:!1,dataUrl:"/announcements/all"});
d=m.getMs({minutes:10+5*Math.random()});f=null;b=("function"===typeof document.hasFocus?document.hasFocus():void 0)||!0;c=function(){if(b&&(null==f||Date.now()-f>d))return ub.fetch(),f=Date.now()};$(window).on("focus",function(d){b=!0;return c()});$(window).on("blur",function(d){return b=!1});setInterval(c,d/4);return c()});var Wf,Xf,Pa,Nd,Yf,Zf,$f,ag,bg,cg,dg,eg,k=function(c,b){return function(){return c.apply(b,arguments)}},E={}.hasOwnProperty,s=function(c,b){function d(){this.constructor=c}for(var f in b)E.call(b,
f)&&(c[f]=b[f]);d.prototype=b.prototype;c.prototype=new d;c.__super__=b.prototype;return c};Nd=function(c){function b(){this.render=k(this.render,this);return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.className="badges";b.prototype.initialize=function(b){var f,c,e,h;e=[cg,dg,eg,$f,Zf,Xf,Yf,ag,Wf,bg];h=[];f=0;for(c=e.length;f<c;f++)b=e[f],h.push(new b(this,{modelCache:this.modelCache}));this.badges=h};b.prototype.render=function(){var b;this.$el.append(function(){var f,c,e,h;
e=this.badges;h=[];f=0;for(c=e.length;f<c;f++)b=e[f],b.visible()&&h.push(b.render().$el);return h}.call(this));return this};b.prototype.remove=function(){var d,f,c,e,h;b.__super__.remove.apply(this,arguments);e=this.badges;h=[];f=0;for(c=e.length;f<c;f++)d=e[f],h.push(d.remove());return h};return b}(A);Pa=function(){function c(b,d){var f;this.badgesView=b;this.modelCache=d.modelCache;this.render=k(this.render,this);null==this.$el&&(this.$el=$("<div>"));if(0<this.dependentBadges.length){var c,e,h,
l;h=this.dependentBadges;l=[];c=0;for(e=h.length;c<e;c++)f=h[c],l.push("change:badges."+f);this.badgesView.listenTo(this.badgesView.model,l.join(" "),this.render)}}c.prototype.shouldUpdate=!0;c.prototype.dependentBadges=[];c.prototype.additionalClasses=[];c.prototype.rendered=!1;c.prototype.visible=function(){throw Error("Badge subclasses must specify a `visible` predicate");};c.prototype.update=function(){this.shouldUpdate&&this.$el.attr("title",_.result(this,"title")).find(".badge-text").html(this.text?
_.result(this,"text"):"");return this};c.prototype.remove=function(){var b;null!=(b=this.$el)&&b.detach();return this.rendered=!1};c.prototype.render=function(){var b,d;if(this.rendered)return this.visible()?this.update():this.remove(),this;if(!this.visible())return this;d=this.text?_.result(this,"text"):"";b=_.result(this,"icon");this.$el.attr("title",_.result(this,"title")).attr("class","").addClass("badge").addClass(_.result(this,"additionalClasses").join(" ")).toggleClass("badge-state-image-only",
!d).html(u.fill("badge",{text:d,icon:b}));b=_.find(this.badgesView.badges,function(b){return function(d){return d.rendered&&d.position>b.position}}(this));null==b?this.badgesView.$el.append(this.$el):this.$el.insertBefore(b.$el);this.rendered=!0;return this};c.prototype.badge=function(b){var d;return null!=(d=this.badgesView.model.get("badges"))?d[b]:void 0};return c}();m.extendWithModelCacheHelpers(Pa);cg=function(c){function b(){var d,f;b.__super__.constructor.apply(this,arguments);this._cachedNotificationCount=
null;f=function(){var b,f,c,l;c=["add","remove","change"];l=[];b=0;for(f=c.length;b<f;b++)d=c[b],l.push(""+d+":Notification:"+this.badgesView.model.id);return l}.call(this);this.badgesView.listenTo(this.modelCache,f.join(" "),function(b){return function(){b._cachedNotificationCount=null;return b.render()}}(this))}s(b,c);b.prototype.icon="notification";b.prototype.position=0;b.prototype.visible=function(){return 0<this.notificationCount()};b.prototype.notificationCount=function(){null==this._cachedNotificationCount&&
(this._cachedNotificationCount=this.badgesView.model.id?_.count(this.Notification.all(),function(b){return function(f){var c,e;return f.get("unread")&&(null!=(c=f.get("data"))?null!=(e=c.card)?e.id:void 0:void 0)===b.badgesView.model.id}}(this)):0);return this._cachedNotificationCount};b.prototype.text=function(){return this.notificationCount().toString()};b.prototype.title=function(){return"This card has "+m.formatCount(this.notificationCount(),"unread notification")+"."};b.prototype.additionalClasses=
["badge-state-unread-notification"];return b}(Pa);dg=function(c){function b(){b.__super__.constructor.apply(this,arguments);this.badgesView.listenTo(this.badgesView.model,"change:subscribed",this.render)}s(b,c);b.prototype.shouldUpdate=!1;b.prototype.position=1;b.prototype.icon="follow";b.prototype.visible=function(){return this.badgesView.model.get("subscribed")};b.prototype.title="You are subscribed to this card.";return b}(Pa);eg=function(c){function b(){return b.__super__.constructor.apply(this,
arguments)}s(b,c);b.prototype.position=2;b.prototype.dependentBadges=["votes","viewingMemberVoted"];b.prototype.icon="vote";b.prototype.additionalClasses=function(){var b;b=["badge-state-votes"];this.badge("viewingMemberVoted")&&b.push("badge-state-voted");return b};b.prototype.title=function(){return"This card has "+m.formatCount(this.voteCount(),"vote")+"."};b.prototype.text=function(){return m.formatCount(this.voteCount(),"vote")};b.prototype.visible=function(){return 0<this.voteCount()};b.prototype.voteCount=
function(){var b;return null!=(b=this.badge("votes"))?b:0};b.prototype.update=function(){this.$el.toggleClass("badge-state-voted",this.badge("viewingMemberVoted"));return b.__super__.update.apply(this,arguments)};return b}(Pa);$f=function(c){function b(){return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.shouldUpdate=!1;b.prototype.position=3;b.prototype.dependentBadges=["description"];b.prototype.icon="edit";b.prototype.title="This card has a description.";b.prototype.visible=
function(){return this.badge("description")};return b}(Pa);Zf=function(c){function b(){return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.position=4;b.prototype.dependentBadges=["comments"];b.prototype.icon="comment";b.prototype.title=function(){return"This card has "+m.formatCount(this.commentCount(),"comment")+"."};b.prototype.text=function(){return this.commentCount().toString()};b.prototype.visible=function(){return 0<this.commentCount()};b.prototype.commentCount=function(){var b;
return null!=(b=this.badge("comments"))?b:0};return b}(Pa);Xf=function(c){function b(){return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.position=5;b.prototype.dependentBadges=["attachments"];b.prototype.icon="attachment";b.prototype.attachmentCount=function(){var b;return null!=(b=this.badge("attachments"))?b:0};b.prototype.visible=function(){return 0<this.attachmentCount()};b.prototype.text=function(){return this.attachmentCount().toString()};b.prototype.title=function(){return"This card has "+
m.formatCount(this.attachmentCount(),"attachment")+"."};return b}(Pa);Yf=function(c){function b(){return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.position=6;b.prototype.dependentBadges=["checkItems","checkItemsChecked"];b.prototype.icon="checklist";b.prototype.title=function(){return"This card has "+this.badge("checkItemsChecked")+" of "+this.badge("checkItems")+" checklist items completed."};b.prototype.visible=function(){return this.badge("checkItems")};b.prototype.text=
function(){return""+this.badge("checkItemsChecked")+"/"+this.badge("checkItems")};b.prototype.additionalClasses=function(){return this.isCompleted()?["badge-state-complete"]:[]};b.prototype.isCompleted=function(){return this.badge("checkItemsChecked")===this.badge("checkItems")};b.prototype.update=function(){this.$el.toggleClass("badge-state-complete",this.isCompleted());return b.__super__.update.apply(this,arguments)};return b}(Pa);ag=function(c){function b(){b.__super__.constructor.apply(this,arguments);
this.badgesView.listenTo(this.badgesView.model,"change:due",this.render)}s(b,c);b.prototype.shouldUpdate=!0;b.prototype.position=7;b.prototype.render=function(){b.__super__.render.apply(this,arguments);this.badgesView.stopListening(H,"renderInterval");this.visible()&&this.badgesView.listenTo(H,"renderInterval",this.render);return this};b.prototype.icon="clock";b.prototype.visible=function(){return null!=this.badgesView.model.get("due")};b.prototype.text=function(){return H.toDateString(this.dueDate(),
{smartYear:!0})};b.prototype.dueDate=function(){return H.parse(this.badgesView.model.get("due"))};b.prototype.hoursLeft=function(){return(this.dueDate()-new Date)/m.getMs({hours:1})};b.prototype.classDispatch=[[-36,"badge-state-due-past"],[0,"badge-state-due-now"],[24,"badge-state-due-soon"],"badge-state-due-future"];b.prototype.additionalClasses=function(){return[this.firstLessThan(this.hoursLeft(),this.classDispatch)]};b.prototype.titleDispatch=[[-36,"This card is past due."],[0,"This card is recently overdue!"],
[1,"This card is due in less than an hour."],[1.3,"This card is due in about an hour."],[24,function(b){return"This card is due in "+this.firstLessThan(b%1,[[0.3,Math.floor(b).toString()],[0.7,""+Math.floor(b).toString()+" and a half"],Math.ceil(b).toString()])+" hours."}],"This card is due later."];b.prototype.title=function(){return this.firstLessThan(this.hoursLeft(),this.titleDispatch)};b.prototype.firstLessThan=function(b,f){var c,e,h,l;h=0;for(l=f.length;h<l;h++)if(e=f[h],_.isArray(e)){if(c=
e[0],e=e[1],b<=c)return _.isFunction(e)?e.call(this,b):e}else return _.isFunction(e)?e.call(this,b):e};b.prototype.update=function(){this.$el.removeClass();this.$el.addClass(_.result(this,"additionalClasses").join(" ")).addClass("badge");return b.__super__.update.apply(this,arguments)};return b}(Pa);Wf=function(c){function b(){b.__super__.constructor.apply(this,arguments);this.badgesView.listenTo(this.badgesView.model,"change:closed",this.render)}s(b,c);b.prototype.shouldUpdate=!1;b.prototype.icon=
"archive";b.prototype.text="Archived";b.prototype.title="This card is in the archive.";b.prototype.visible=function(){return this.badgesView.model.get("closed")};return b}(Pa);bg=function(c){function b(){return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.render=function(){b.__super__.render.apply(this,arguments);this.rendered&&this.$el.click(function(b){return function(){return b.openLink()}}(this));return this};b.prototype.dependentBadges=["fogbugz"];b.prototype.icon="kiwi";
b.prototype.title="This card has a FogBugz case.";b.prototype.visible=function(){return this.badge("fogbugz")};b.prototype.openLink=function(b){window.open(this.badge("fogbugz"),"FogBugz");return m.stop(b)};return b}(Pa);var fg,oa,gg,hg,ig,Zb,vd,jg,kg,lg,E={}.hasOwnProperty,s=function(c,b){function d(){this.constructor=c}for(var f in b)E.call(b,f)&&(c[f]=b[f]);d.prototype=b.prototype;c.prototype=new d;c.__super__=b.prototype;return c},k=function(c,b){return function(){return c.apply(b,arguments)}},
F=[].indexOf||function(c){for(var b=0,d=this.length;b<d;b++)if(b in this&&this[b]===c)return b;return-1},G=[].slice;jg=function(c){function b(d){this.board=d;b.__super__.constructor.call(this);this.board.onId(function(b){return function(d){b.set({id:"boardViewState-"+d});return b.fetch()}}(this))}s(b,c);b.prototype["default"]=function(){return{calendarMode:"month"}};b.prototype.getCalendarMode=function(b){return this.get("calendarMode")};b.prototype.updateCalendarMode=function(b){return this.update("calendarMode",
b)};return b}(gb);ig=function(c){function b(d,f){this.board=d;this.setArchiveBottomDropzone=k(this.setArchiveBottomDropzone,this);this.setArchiveSidebarDropzone=k(this.setArchiveSidebarDropzone,this);this.setShowSidebarFromPref=k(this.setShowSidebarFromPref,this);b.__super__.constructor.call(this,null,f);this.board.onId(function(b){return function(d){b.fetch();b.useSidebarPref()?(b.setShowSidebarFromPref(),b.listenTo(b.board,"change:myPrefs",b.setShowSidebarFromPref)):b.set("showSidebar",!ra.fSmall);
b.set("listComposerOpen",!1);return b.viewMap={}}}(this));this.listenTo(this,"change:idActiveCard",function(b){return function(){var d,f;f=b.Card.get(b.previousAttributes().idActiveCard);null!=f&&b.stopListening(f,"change:closed");d=b.getCard();if(null!=d)return b.listenTo(d,"change:closed",function(){return b.selectCardAfter(d)})}}(this))}s(b,c);b.prototype.sync=function(b,f,c){var e;e=c.success;switch(b){case "read":return"function"===typeof e?e(f,this["default"](),c):void 0;default:throw Error("not implemented");
}};b.prototype["default"]=function(){return{idActiveCard:null,sidebarViewArray:[ob.prototype.viewName],archiveSidebarDropzoneVisible:!1,archiveBottomDropzoneVisible:!1,listWidthType:null}};b.prototype.pushSidebarView=function(b){var f;f=this.get("sidebarViewArray");f.push(b.constructor.viewName);return this.setSidebarViewArray(f)};b.prototype.popSidebarView=function(){var b;b=this.get("sidebarViewArray");b.pop();0===b.length&&(b=[ob.viewName]);return this.setSidebarViewArray(b)};b.prototype.clearSidebarViewArray=
function(){return this.setSidebarViewArray([ob.viewName])};b.prototype.setSidebarViewArray=function(b){return this.set("sidebarViewArray",b)};b.prototype._createView=function(b){var f,c,e,h;h=[ob,Ka,Od,Pd,Qd];c=0;for(e=h.length;c<e;c++)if(f=h[c],f.viewName===b)return this.board.getView(f);h=[Ec];c=0;for(e=h.length;c<e;c++)if(f=h[c],f.viewName===b)return this.board.filter.getView(f);return this.board.getView(ob)};b.prototype.getCurrentSidebarView=function(){var b,f;b=_.last(this.get("sidebarViewArray"));
return null!=(f=this.viewMap)[b]?f[b]:f[b]=this._createView(b)};b.prototype.setSidebarDisplayType=function(b){return this.set("sidebarDisplayType",null!=b?b:"")};b.prototype.getSidebarDisplayType=function(){return this.get("sidebarDisplayType")};b.prototype.selectCard=function(b){if(null==b)this.set("idActiveCard",null);else return b.onId(function(f){return function(){f.set("idActiveCard",b.id);return mg.set(b.getFullUrl())}}(this))};b.prototype.isCardSelected=function(b){return null!=b&&this.get("idActiveCard")===
b.id};b.prototype.isListSelected=function(b){var f;return(null!=(f=this.getCard())?f.get("idList"):void 0)===b.id};b.prototype.clearSelectedCard=function(){return this.set("idActiveCard",null)};b.prototype.getCard=function(){return this.Card.get(this.get("idActiveCard"))};b.prototype.getList=function(){var b;return null!=(b=this.getCard())?b.getList():void 0};b.prototype.selectCardAfter=function(b){var f,c;f=b.getList();c=null!=f?f.cardList.openCards():void 0;if(null==f||0===c.length)this.set("idActiveCard",
null);else return f=function(b){return function(b){return function(d){return d!==b&&d.get("pos")>=b.get("pos")}}}(this),b=_.find(c,f(b)),this.selectCard(null!=b?b:_.last(c))};b.prototype.openListComposer=function(){return this.set("listComposerOpen",!0)};b.prototype.closeListComposer=function(){return this.set("listComposerOpen",!1)};b.prototype.useSidebarPref=function(){return z.isLoggedIn()&&(ra.fExtraLarge||ra.fLarge||ra.fMedium)};b.prototype.setShowSidebar=function(b){if(b!==this.get("showSidebar"))return n("Board View",
"Toggle Board Sidebar",b?"Show":"Hide"),this.useSidebarPref()?this.board.setPref("showSidebar",b):this.set("showSidebar",b)};b.prototype.setShowSidebarFromPref=function(){return this.set("showSidebar",this.board.getPref("showSidebar"))};b.prototype.setArchiveSidebarDropzone=function(b){return this.set("archiveSidebarDropzoneVisible",b)};b.prototype.setArchiveBottomDropzone=function(b){};return b}(na);oa=function(c){function b(){this.offPermChange=k(this.offPermChange,this);this.onPermChange=k(this.onPermChange,
this);this.openCards=k(this.openCards,this);this.generateCalendarKey=k(this.generateCalendarKey,this);this.generateEmailKey=k(this.generateEmailKey,this);this._generateKey=k(this._generateKey,this);this.openLists=k(this.openLists,this);this.filterLabels=k(this.filterLabels,this);this.getObserverList=k(this.getObserverList,this);this.getCheckItem=k(this.getCheckItem,this);this.getBoardInvitation=k(this.getBoardInvitation,this);this.getChecklist=k(this.getChecklist,this);this.getShortUrl=k(this.getShortUrl,
this);this.getUrl=k(this.getUrl,this);this.getList=k(this.getList,this);this.getCard=k(this.getCard,this);this.getDisplayInvitePerms=k(this.getDisplayInvitePerms,this);this.getDisplayCommentPerms=k(this.getDisplayCommentPerms,this);this.getDisplayVotePerms=k(this.getDisplayVotePerms,this);this.getPermDisplayText=k(this.getPermDisplayText,this);this.getRoleText=k(this.getRoleText,this);this.getPermLevelIconClass=k(this.getPermLevelIconClass,this);this.getPermLevelAltText=k(this.getPermLevelAltText,
this);this.hasUnseenActivity=k(this.hasUnseenActivity,this);this.isStarred=k(this.isStarred,this);this.subscribe=k(this.subscribe,this);return b.__super__.constructor.apply(this,arguments)}s(b,c);ea(Ld,b);b.prototype.typeName="Board";b.prototype.urlRoot="/1/boards";b.prototype.initialize=function(){b.__super__.initialize.apply(this,arguments);this.destruct([this.listList=(new ng(null,{board:this})).owner(this).syncCache(this.modelCache,["idBoard","closed"],function(b){return function(f){return f.get("idBoard")===
b.id&&!f.get("closed")}}(this)),this.invitationList=new og([],{modelCache:this.modelCache,board:this}),this.checklistList=new Rd([],{modelCache:this.modelCache,board:this}),this.memberList=(new hb).syncModel(this,"memberships",{fxGetIds:function(b){return _.pluck(b,"idMember")}}),this.adminList=(new hb).syncModel(this,"memberships",{fxGetIds:function(b){return function(f){f=_.filter(f,function(f){var c;return null!=(c=b.Member.get(f.idMember))?"admin"===b.getMemberType(c):"admin"===f.memberType});
return _.pluck(f,"idMember")}}(this)}),this.filter=new pg(this,{modelCache:this.modelCache}),this.composer=new qg(this,{modelCache:this.modelCache}),this.listComposer=new rg(this,{modelCache:this.modelCache}),this.viewState=new ig(this,{modelCache:this.modelCache}),this.localStorageViewState=new jg(this,{modelCache:this.modelCache})]);return this.cacheShortLink()};b.get=function(d,f){return m.isShortLink(f)?b.findOne(d,function(b){return b.get("shortLink")===f}):b.__super__.constructor.get.apply(this,
arguments)};b.prototype.cacheShortLink=function(){return this.onId(function(b){return function(){return b.waitForAttr("shortLink",function(){return IdCache.setBoardId(b.get("shortLink"),b.id)})}}(this))};b.prototype.close=function(){this.update({closed:!0})};b.prototype.reopen=function(){this.update({closed:!1})};b.prototype.subscribe=function(b){b!==this.get("subscribed")&&this.update({subscribed:b})};b.prototype.isStarred=function(){return null!=this.Auth.me().boardStarList.getBoardStar(this.id)};
b.prototype.hasUnseenActivity=function(){var b,f;f=this.get("dateLastView");b=this.get("dateLastActivity");return null!=f&&null!=b&&f<b};b.prototype.getPermLevelAltText=function(b,f){var c,e,h,l,k;null==b&&(b=this.getPref("permissionLevel"));null!=this.attributes?k=this.getOrganization():null!=f&&(k=f);e=" Only people added to the board can view and edit it.";h=c=" Only people added to the board can edit.";null!=k&&(l=k.get("displayName"),k.isFeatureEnabled("superAdmins")&&(e=" Board members and admins in the "+
l+" organization will be able to see and edit this board.",c=" Board members and admins in the "+l+" organization will be able to edit this board.",h=" Board members and admins in the "+l+" organization will be able to edit this board."));switch(b){case "private":return"This board is private. "+e;case "org":return"This board is visible to members of "+(l?l:"the organization")+". "+c;case "public":return"This board is public. It's visible to anyone with the link and will show up in search engines like Google. "+
h;default:return""}};b.prototype.getPermLevelIconClass=function(b){var f;null==b&&(b=null!=(f=this.get("prefs"))?f.permissionLevel:void 0);return"org"===b?"org-private":""!==b&&null!=b?b:""};b.prototype.getRoleText=function(b){switch(b){case "admin":return"Can view and edit cards, remove members, and change settings for the board.";case "normal":return"Can view and edit cards. Can't change settings.";case "observer":return"Can view, comment, and vote on cards. Can't move or edit cards or change settings.";
default:return""}};b.prototype.getPermDisplayText=function(b){var f;null==b&&(b=null!=(f=this.get("prefs"))?f.permissionLevel:void 0);switch(b){case "private":return"Private";case "org":return"Org Visible";case "public":return"Public";default:return""}};b.prototype._translatePref=function(b){"none"===b&&(b="disabled");switch(b){case "disabled":case "members":case "public":return m.toTitleCase(b);case "observers":return"Members and observers";case "org":return"Organization members";default:return""}};
b.prototype.getDisplayVotePerms=function(){var b;return this._translatePref(null!=(b=this.get("prefs"))?b.voting:void 0)};b.prototype.getDisplayCommentPerms=function(){var b;return this._translatePref(null!=(b=this.get("prefs"))?b.comments:void 0)};b.prototype.getDisplayInvitePerms=function(){var b,f;b=null!=(f=this.get("prefs"))?f.invitations:void 0;return"members"===b||"admins"===b?m.toTitleCase(b):""};b.prototype.toJSON=function(d){var f,c;null==d&&(d={});f=b.__super__.toJSON.apply(this,arguments);
d.org&&(c=this.getOrganization(),null!=c&&(f.hasOrg=!0,f.org=c.toJSON({url:!0})));d.url&&null==f.url&&(f.url=B.getBoardUrl(this.modelCache,this));d.shortUrl&&null==f.shortUrl&&(f.shortUrl=B.getBoardShortUrl(this.modelCache,this));return f};b.prototype.calcPos=function(b,f){return m.calcPos(b,this.listList,f,function(b){return!b.get("closed")})};b.prototype.getCard=function(b){return m.isShortId(b)?this.Card.findOne("idShort",Number(b)):this.Card.get(b)};b.prototype.getList=function(b){return this.listList.get(b)};
b.prototype.getUrl=function(){return B.getBoardUrl(this.modelCache,this)};b.prototype.getShortUrl=function(){return B.getBoardShortUrl(this.modelCache,this)};b.prototype.getChecklist=function(b){return $b.get(b)};b.prototype.getBoardInvitation=function(b){return this.invitationList.get(b)};b.prototype.getCheckItem=function(b){var f,c,e,h,l;h=this.checklistList.models;c=0;for(e=h.length;c<e;c++)if(f=h[c],f=null!=f?null!=(l=f.checkItemList)?l.get(b):void 0:void 0)return f};b.prototype.editable=function(){var b;
return(b=z.me())&&this.editableByMember(b)};b.prototype.editableByMember=function(b){return this.isMember(b)};b.prototype.isMember=function(b){var f;return"virtual"===(f=this.getMemberType(b))||"normal"===f||"admin"===f};b.prototype.owned=function(){var b;return(b=z.me())&&this.ownedByMember(b)};b.prototype.ownedByMember=function(b){return"admin"===this.getMemberType(b)};b.prototype.canJoin=function(){var b,f,c;return(this.isPremOrgAdmin(z.me())||(null!=(b=this.get("prefs"))?b.selfJoin:void 0)&&(null!=
(f=this.getOrganization())?f.isMember(z.me()):void 0))&&(c=this.id,0>F.call(z.me().get("idBoards"),c))};b.prototype.canJoinFromList=function(){var b,f,c,e,h,l;b=this.getOrganization();return(null!=(f=this.get("prefs"))?f.selfJoin:void 0)&&null!=b&&(c=b.id,0<=F.call(null!=(e=null!=(h=z.me())?h.get("idOrganizations"):void 0)?e:[],c))&&(l=this.id,0>F.call(z.me().get("idBoards"),l))};b.prototype.canInviteMembers=function(){var b,f,c;if(null==this.getOrganization()&&!this.getPref("canInvite"))return!1;
if("admins"===(null!=(f=this.get("prefs"))?f.invitations:void 0))b="admin";else if("members"===(null!=(c=this.get("prefs"))?c.invitations:void 0))b="normal";return"admin"===this.getMemberType(z.me())||b===this.getMemberType(z.me())};b.prototype.compareMemberType=function(b,f,c){return m.compareMemberType(this,b,f,c)};b.prototype.isMemberPublic=function(b){return"public"===this.getMemberType(b)};b.prototype.isMemberOrg=function(b){return"org"===this.getMemberType(b)};b.prototype.isMemberObserver=function(b){return"observer"===
this.getMemberType(b)};b.prototype.memberMatchesSetting=function(b,f){switch(this.getPref(f)){case "public":return z.isLoggedIn();case "org":return this.isMember(b)||this.isMemberOrg(b)||this.isMemberObserver(b);case "observers":return this.isMember(b)||this.isMemberObserver(b);case "members":return this.isMember(b);case "admins":return this.ownedByMember(b);default:return!1}};b.prototype.canVote=function(b){return this.memberMatchesSetting(b,"voting")};b.prototype.canComment=function(b){return this.memberMatchesSetting(b,
"comments")};b.prototype.canInvite=function(b){return this.memberMatchesSetting(b,"invitations")};b.prototype.prefNames="permissionLevel voting comments invitations selfJoin background cardAging calendarFeedEnabled".split(" ");b.prototype.myPrefNames="showSidebar showSidebarMembers showSidebarBoardActions showSidebarActivity emailKey idEmailList emailPosition calendarKey".split(" ");b.prototype.getLabelName=function(b){var f;f=this.get("labelNames");return(null!=f?f[b]:void 0)||""};b.prototype.isPublic=
function(){return"public"===this.getPref("permissionLevel")};b.prototype.getInviteToken=function(){return util.inviteTokenFor(this.id)};b.prototype.getIdBoardMems=function(){return _.map(this.memberList.models,function(b){return function(b){return b.id}}(this))};b.prototype.getOrganization=function(){return this.Organization.get(this.get("idOrganization"))};b.prototype.joinBoard=function(b){var f,c,e,h;c=z.me();e=(f=this.isPremOrgAdmin(c))?"admin":"normal";c.set("idBoards",c.get("idBoards").concat(this.id));
f&&c.set("idPremOrgsAdmin",(null!=(h=c.get("idPremOrgsAdmin"))?h:[]).concat(this.id));return this.addMember(c,e,b)};b.prototype.addMember=function(){var b,f,c;b=arguments[0];f=3<=arguments.length?G.call(arguments,1,c=arguments.length-1):(c=1,[]);c=arguments[c++];f=f[0];null==f&&(f="normal");this.memberList.add(b);this.api({type:"put",method:"members/"+b.id,data:{type:f}},c);return this.set("memberships",this.get("memberships").concat({idMember:b.id,memberType:"normal"}))};b.prototype.removeMember=
function(b){this.memberList.remove(b);return this.set("memberships",_.reject(this.get("memberships"),function(f){return f.idMember===b.id}))};b.prototype.getObserverList=function(){var b,f,c,e,h;e=this.memberList.models;h=[];f=0;for(c=e.length;f<c;f++)b=e[f],this.isObserver(b)&&h.push(b);return h};b.prototype.filterLabels=function(b){var f,c,e,h,l,k;e=RegExp("^"+m.escapeForRegex(b));f=[];k=m.labelNames;h=0;for(l=k.length;h<l;h++)b=k[h],c=this.getLabelName(b).toLowerCase().split(" "),c.push(b),_.find(c,
function(b){return e.test(b)})&&f.push(b);return f};b.prototype.openLists=function(){return this.listList.filter(function(b){return!b.get("closed")})};b.prototype._generateKey=function(b){return this.api({type:"post",method:""+b+"Key/generate"})};b.prototype.generateEmailKey=function(){return this._generateKey("email")};b.prototype.generateCalendarKey=function(){return this._generateKey("calendar")};b.prototype.openCards=function(){var b;return _.flatten(function(){var f,c,e,h;e=this.openLists();
h=[];f=0;for(c=e.length;f<c;f++)b=e[f],h.push(b.cardList.openCards());return h}.call(this))};b.prototype.onPermChange=function(b){var f,c,e;if(null==this._permChangeHandlers){this._permChangeHandlers=[];f=function(b){return function(){var d,f,c;d=z.me();return b.isObserver(d)?"observer":"normal"===(f=b.getMemberType(d))||"admin"===f?"member":m.hasValidInviteTokenFor(b.modelCache,b.id)?"inviteToken":null!=(c=b.getOrganization())&&c.isMember(d)&&"org"===b.get("prefs").permissionLevel?"org":"public"===
b.get("prefs").permissionLevel?"public":"none"}}(this);c=f();e=function(e){return function(){var l,k,m,x;k=f();l=k!==c;c=k;if(l){x=e._permChangeHandlers;l=0;for(m=x.length;l<m;l++)b=x[l],b(k)}}}(this);if("undefined"!==typeof me&&null!==me)me.boardList.onAddRemove(e);if("undefined"!==typeof me&&null!==me)me.organizationList.onAddRemove(e);this.bind("change:memberships",e);this.bind("change:prefs.permissionLevel",e);this.memberList.onAddRemove(e)}return this._permChangeHandlers.push(b)};b.prototype.offPermChange=
function(b){if(null!=this._permChangeHandlers)return this._permChangeHandlers=_.without(this._permChangeHandlers,b)};b.prototype.getClientBackgroundColor=function(b){var f,c;return null!=(f=null!=(c=Ua[b])?c.color:void 0)?f:Ua.blue.color};return b}(Qf);Zb=function(c){function b(){this.scrollListIntoView=k(this.scrollListIntoView,this);this.updateControllerTitle=k(this.updateControllerTitle,this);this.reopen=k(this.reopen,this);this.closeDropzone=k(this.closeDropzone,this);this.openArchive=k(this.openArchive,
this);this.dblClickAddListMenu=k(this.dblClickAddListMenu,this);this.clearFilters=k(this.clearFilters,this);this.openFilter=k(this.openFilter,this);this.openDesc=k(this.openDesc,this);this.changeVis=k(this.changeVis,this);this.sortStop=k(this.sortStop,this);this.droppedInBottomArchive=k(this.droppedInBottomArchive,this);this.renderArchiveBottomDropzone=k(this.renderArchiveBottomDropzone,this);this.renderArchiveSidebarDropzone=k(this.renderArchiveSidebarDropzone,this);this.calcLayout=k(this.calcLayout,
this);this.calcSidebarHeight=k(this.calcSidebarHeight,this);this.renderInlineListComposer=k(this.renderInlineListComposer,this);this.calcListAreaWidth=k(this.calcListAreaWidth,this);this.calcListHeights=k(this.calcListHeights,this);this.reorderLists=k(this.reorderLists,this);this.renderLists=k(this.renderLists,this);this.postListListRender=k(this.postListListRender,this);this.renderBoardHeaderDescription=k(this.renderBoardHeaderDescription,this);this.renderBoardHeaderSubscribed=k(this.renderBoardHeaderSubscribed,
this);this.renderBoardBackground=k(this.renderBoardBackground,this);this.clearBoardBackground=k(this.clearBoardBackground,this);this.renderBoardHeaderCalendar=k(this.renderBoardHeaderCalendar,this);this.toggleStarred=k(this.toggleStarred,this);this.renderBoardHeaderStarred=k(this.renderBoardHeaderStarred,this);this.renderBoardHeader=k(this.renderBoardHeader,this);this.refreshOrganization=k(this.refreshOrganization,this);this.hideSidebar=k(this.hideSidebar,this);this.showSidebar=k(this.showSidebar,
this);this.setSidebarShow=k(this.setSidebarShow,this);this.toggleSidebar=k(this.toggleSidebar,this);this.renderSidebarState=k(this.renderSidebarState,this);this.renderSidebarDisplayType=k(this.renderSidebarDisplayType,this);this.removeSidebarDisplayTypes=k(this.removeSidebarDisplayTypes,this);this.attachVersionTag=k(this.attachVersionTag,this);this.restoreScrolls=k(this.restoreScrolls,this);this.saveScrolls=k(this.saveScrolls,this);this.calcBoardLayout=k(this.calcBoardLayout,this);this.renderFilteringStatus=
k(this.renderFilteringStatus,this);this.render=k(this.render,this);this.moveCard=k(this.moveCard,this);this.permChange=k(this.permChange,this);return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.className="board-wrapper";b.prototype.events={sortstop:"sortStop","click .js-rename-board":"renameBoard","click .js-change-vis":"changeVis","click .js-open-desc":"openDesc","click .js-close-calendar":"toggleCalendar","click .js-calendar":"toggleCalendar","click .js-filter-cards-indicator":"openFilter",
"click .js-filter-card-clear":"clearFilters","click .js-board-header-subscribed":"openUnsubscribe","click .js-star-board":"toggleStarred","click .js-show-sidebar":"setSidebarShow","dblclick #board":"dblClickAddListMenu","click .js-open-archive":"openArchive","click .js-close-dropzone":"closeDropzone","click .js-reopen":"reopen",shortcut:"shortcut"};b.prototype.initialize=function(){var d;b.__super__.initialize.apply(this,arguments);this.model.view=this;this.model.ond("change:closed",this.render).ond("change:name",
this.renderBoardHeader).ond("change:idOrganization",this.refreshOrganization).ond("change:memberships",function(b){return function(){return b.renderPermissionLevel()}}(this)).ond("change:desc",this.renderBoardHeaderDescription).ond("change:prefs.background change:prefs.backgroundTile change:prefs.backgroundBrightness",function(b){return function(){return b.renderBoardBackground(!0)}}(this)).ond("change:name",this.updateControllerTitle).ond("change:powerUps",this.renderBoardHeaderCalendar).ond("change:subscribed",
this.renderBoardHeaderSubscribed);this.model.listList.onAddRemove(this.calcListAreaWidth).ond("add reset",this.calcListHeights);this.model.viewState.on("change:showSidebar",this.renderSidebarState).on("change:sidebarDisplayType",this.renderSidebarDisplayType).on("change:archiveSidebarDropzoneVisible",this.renderArchiveSidebarDropzone);this.model.on("change:prefs.permissionLevel",function(b){return function(){b.renderLists();return b.renderPermissionLevel()}}(this));this.listenTo(this.Auth.me().boardStarList,
"add remove reset",function(b){return function(){return b.renderBoardHeaderStarred()}}(this));this.model.on("change:prefs.cardCovers",this.renderLists);this.memberTypeMe=this.model.getMemberType(z.me());this.refreshOrganization();this.listScrollLeft=null;this.savingScroll=!1;this.calcState={};this.model.filter.ond("change",this.renderFilteringStatus);X.addHandler(this,{scope:"board"});this.model.onPermChange(this.permChange);d=_.debounce(function(b){return function(){b.saveScrolls();b.calcLayout();
return b.restoreScrolls()}}(this),300);$(window).on("resize."+this.uniqueId(),d);this.versionTag=new sg};b.prototype.remove=function(){this.model.offPermChange(this._permChangeHandlers);$(window).off("."+this.uniqueId());return b.__super__.remove.apply(this,arguments)};b.prototype.permChange=function(b){return"none"===b?B.defaultView():this.render()};b.prototype.shortcut=function(b){var f,c,e;f=this.model.editable();c=z.isLoggedIn();switch(b){case 81:if(c)return this.model.filter.toggleQuietMode(),
"Q - My cards";break;case 88:return this.model.filter.clear(),"X - Clear All Filters";case 87:return this.toggleSidebar(),"W - Toggle Board Sidebar";case 40:case 74:return this.moveCard("down"),["Keyboard Nav","Down"];case 38:case 75:return this.moveCard("up"),["Keyboard Nav","Up"];case 39:return this.moveCard("right"),["Keyboard Nav","Right"];case 37:return this.moveCard("left"),["Keyboard Nav","Left"];case 78:if(f&&(b=this.model.viewState.getList(),f=this.model.viewState.getCard(),null!=b&&null!=
f))return f=_.indexOf(b.cardList.openCards(),f),this.model.composer.save({idList:b.id,index:f+1,vis:!0}),"N - Insert Card";break;case 27:if(f)return this.model.viewState.setArchiveBottomDropzone(!1),$("body").hasClass("editing-stickers")||(M.sorting?(b=$(".ui-sortable-helper"),f=$(".js-sortable, .js-archived-cards, .js-list-sortable"),0<b.length&&0<f.length&&(b.data("dragCancel",!0),"function"===typeof f.sortable&&f.sortable("cancel"),b.removeData("dragCancel"))):!qa.isEditing()&&(!w.isVisible&&!W.isVisible&&
!$(".new-comment").hasClass("focus"))&&(this.model.composer.get("vis")?this.model.composer.save("vis",!1):this.model.viewState.get("listComposerOpen")?this.model.viewState.set("listComposerOpen",!1):1<this.model.viewState.get("sidebarViewArray").length&&null!=(e=this.model.getView(Ma))&&e.popWidgetView())),B.showingCalendar(this)&&$(".calendar-day.active").removeClass("active"),!0}};b.prototype.scrollToCard=function(b,f){var c,e,h,l,k,m;m=this.collectionSubview(xb,this.model.listList).subview(ib,
f);c=m.$(".list-cards");k=c.prop("scrollTop");l=c.outerHeight();h=f.cardList.openCards()[b].view.$el[0];e=h.clientHeight;h=h.offsetTop-e;m.scrollIntoView();if(k+l<h+e)return c.scrollTop(h+e-l);if(k>h)return c.scrollTop(h)};b.prototype.moveCard=function(b){var f,c,e,h,l,k,m,x,n,s;this.ignoreMouseCardSelects||(this.ignoreMouseCardSelects=!0,$(document).one("mousemove",function(b){return function(d){return b.ignoreMouseCardSelects=!1}}(this)));c=this.model.viewState.getCard();if(null==c)c=_.find(this.model.openLists(),
function(b){return!_.isEmpty(b.openCards())}),null!=c&&c.selectFirstCardInList();else if(e=c.getList(),l=e.cardList.openCards(),f=_.indexOf(l,c),c=function(b){return function(d,f,c,e){d+=f;if(b.model.filter.isFiltering)for(;0<=d&&d<c&&!e(d);)d+=f;return d}}(this),"up"===b||"down"===b){if(f=c(f,"up"===b?-1:1,l.length,function(b){return function(d){return b.model.filter.satisfiesFilter(l[d])}}(this)),0<=f&&f<l.length)return this.scrollToCard(f,e),this.model.viewState.selectCard(l[f])}else if("left"===
b||"right"===b)if(k=_.filter(this.model.openLists(),function(b){return 0<b.cardList.openCards().length}),e=_.indexOf(k,e),b=c(e,"left"===b?-1:1,k.length,function(b){return function(d){return _.any(k[d].cardList.openCards(),function(d){return b.model.filter.satisfiesFilter(d)})}}(this)),0<=b&&b<k.length){b=k[b];h=b.cardList.openCards();e=Math.min(f,h.length-1);n=[1,-1];s=[];m=0;for(x=n.length;m<x;m++)if(f=n[m],f=c(e-f,f,h.length,function(b){return function(d){return b.model.filter.satisfiesFilter(h[d])}}(this)),
0<=f&&f<h.length){this.model.viewState.selectCard(h[f]);this.scrollToCard(f,b);break}else s.push(void 0);return s}};b.prototype.render=function(){var b,f,c,e,h,l;this.forceIntoDom();f=this.model;if(f.get("closed"))this.$el.html(u.fillFromModel("board_closed",f)),this.clearBoardBackground();else{b={};b.url=B.getBoardUrl(this.modelCache,this.model);l=f.prefNames.concat(f.myPrefNames);e=0;for(h=l.length;e<h;e++)c=l[e],b[""+c+"_"+f.getPref(c)]=!0;b.canJoin=f.canJoin();b.canInviteMembers=f.canInviteMembers();
b.confirmed=z.me().get("confirmed");this.$el.html(u.fillFromModel("board",f));this.renderBoardHeader();this.renderBoardBackground();this.$(".board-widgets").html(this.model.getView(Ma).render().el);this.renderSidebarState();this.calcListAreaWidth();this.calcBoardLayout();this.renderLists();B.setLocation({title:b.name});_.defer(function(b){return function(){b.$(".list-area-wrapper:first").dragscrollable({fxIgnore:function(b){var d;d=$(b.target).closest("#board");d=b.offsetY>d.height()-11;b=0<$(b.target).closest(".list").length;
return d||b}});return M.refreshListSortable()}}(this))}return this};b.prototype.renderFilteringStatus=function(){var b;b=this.model.filter.isFiltering();this.$(".js-filter-cards-indicator").toggleClass("hide",!b);this.$(".js-num-cards").toggleClass("hide",!b);return this.$("#board").toggleClass("filtering",b)};b.prototype.calcBoardLayout=function(){var b,f,c,e,h;h=$(window).height();e=$("#header").outerHeight();f=$(".header-banner:visible").outerHeight();c=this.$(".board-header").outerHeight();b=
$("body");b=b.hasClass("firefox")||b.hasClass("explorer")?10:20;this.$(".board-canvas").height(h-(e+f+c+b));this.calcSidebarHeight()};b.prototype.saveScrolls=function(){if(this.hasScrolled&&!this.savingScroll)return this.savingScroll=!0,this.listScrollLeft=this.$(".list-area").scrollLeft()};b.prototype.restoreScrolls=function(){if(this.hasScrolled)return this.$(".list-area").scrollLeft(this.listScrollLeft),this.savingScroll=!1};b.prototype.attachVersionTag=function(){return $(".list-area").append(this.versionTag.$el)};
b.prototype.removeSidebarDisplayTypes=function(){this.$el.removeClass("sidebar-display-wide")};b.prototype.renderSidebarDisplayType=function(){var b;this.removeSidebarDisplayTypes();b=this.model.viewState.getSidebarDisplayType();this.$el.addClass(b)};b.prototype.renderSidebarState=function(){this.renderSidebarDisplayType();this.$(".board-header-name-text").css("max-width",""+($(".board-header").parent().width()-160)+"px");$(".board-widgets").one("transitionend webkitTransitionEnd",function(b){return function(f){b.calcListAreaWidth();
return b.restoreScrolls()}}(this));this.saveScrolls();this.model.viewState.get("showSidebar")?this.showSidebar():this.hideSidebar()};b.prototype.toggleSidebar=function(){return this.model.viewState.setShowSidebar(!this.model.viewState.get("showSidebar"))};b.prototype.setSidebarShow=function(){this.model.viewState.setShowSidebar(!0)};b.prototype.showSidebar=function(){ra.fSmall&&$("body").addClass("overflow-hidden");this.renderSidebarDisplayType();this.$el.removeClass("disabled-all-widgets")};b.prototype.hideSidebar=
function(){$("body").removeClass("overflow-hidden");this.removeSidebarDisplayTypes();this.$el.addClass("disabled-all-widgets")};b.prototype.refreshOrganization=function(){var b,f,c,e,h;c=["name","logoHash","displayName"];b=this.Organization.get(this.model.previous("idOrganization"));f=this.model.getOrganization();null!=b&&b.unbind(null,this.renderBoardHeader);if(null!=f){e=0;for(h=c.length;e<h;e++)b=c[e],f.ond("change:"+b,this.renderBoardHeader)}return this.renderBoardHeader()};b.prototype.renderBoardHeader=
function(){var b,f,c,e;f=this.model;b={};b.isPremOrgAdmin=f.isPremOrgAdmin(z.me());b.canRename=b.isPremOrgAdmin||f.owned();c=f.getOrganization();if(null!=c){b.orgDisplayName=c.get("displayName");b.orgName=c.get("name");if(e=c.get("logoHash"))b.orgLogoUrl=""+logoDomain+"/"+e+"/30.png";b.hasBusinessClass=c.isPremium()}b.hasCalendar=0<=F.call(this.model.get("powerUps"),"calendar");this.$(".js-board-header").html(u.fillFromModel("board_header",f,b));this.renderPermissionLevel();this.renderBoardHeaderDescription();
this.renderBoardHeaderCalendar();this.renderBoardHeaderSubscribed();this.renderFilteringStatus();this.renderBoardHeaderStarred();return this};b.prototype.renderBoardHeaderStarred=function(){this.$(".js-star-board").toggleClass("board-header-btn-enabled",this.model.isStarred());return this};b.prototype.toggleStarred=function(){var b;b=this.Auth.me().boardStarList;null!=b.getBoardStar(this.model.id)?b.unstarBoard(this.model.id):b.starBoard(this.model.id);return this};b.prototype.renderBoardHeaderCalendar=
function(){var b;b=0<=F.call(this.model.get("powerUps"),"calendar");this.$(".js-calendar").toggleClass("hide",!b);return this};b.prototype.getAllBackgroundClasses=function(){return"body-custom-board-background body-custom-board-background-tiled body-light-board-background body-dark-board-background"};b.prototype.clearBoardBackground=function(){var b;this.model.get("prefs");b=this.getAllBackgroundClasses();$("body").removeClass(b).css({"background-image":""}).css({"background-color":""})};b.prototype.renderBoardBackground=
function(b){var f,c,e,h,l,k,v,x;null==b&&(b=!1);this.clearBoardBackground();e=this.model.get("prefs");f=$("body");if(null!=e.backgroundColor)return b=this.model.getClientBackgroundColor(e.background),f.css({"background-color":b}),Wb.setBackground({color:b});e.backgroundTile?h=l=e.backgroundImage:(l=null!=(c=null!=(k=m.smallestPreviewBiggerThan(e.backgroundImageScaled,$(window).width(),$(window).height()))?k.url:void 0)?c:e.backgroundImage,h=null!=(v=null!=(x=m.smallestPreviewBiggerThan(e.backgroundImageScaled,
64,64))?x.url:void 0)?v:e.backgroundImage);c=function(b){return function(){f.addClass("body-custom-board-background");e.backgroundTile&&f.addClass("body-custom-board-background-tiled");switch(e.backgroundBrightness){case "light":f.addClass("body-light-board-background");break;case "dark":f.addClass("body-dark-board-background")}f.css({"background-image":'url("'+l+'")'});return m.waitForImageLoad(m.proxyImage(h),function(b){return Wb.setBackground({img:b,tiled:e.backgroundTile})})}}(this);return b?
m.waitForImageLoad(l,c):c()};b.prototype.renderBoardHeaderSubscribed=function(){var b;b=this.model.get("subscribed");this.$(".js-board-header-subscribed").toggleClass("hide",!b);return this};b.prototype.renderBoardHeaderDescription=function(){var b,f,c;b=this.$(".js-fill-desc");f=this.model.get("desc");if(!f)return b.addClass("hide"),this;f?c=f:this.model.editable()&&(c="Click to add a description...");b.attr("title",c);b.removeClass("hide");return this};b.prototype.renameBoard=function(b){m.stop(b);
n("Board View","Board Header","Open Rename Board From Title");w.toggle({elem:$(b.target).closest("a"),top:35,view:this.model.getView(Sd)})};b.prototype.renderPermissionLevel=function(){var b,f;b=this.$("#permission-level");f={};f.permissionLevel=this.model.getPermLevelIconClass();f.permText=this.model.getPermDisplayText();b.html(u.fillFromModel("board_header_permissions",this.model,f));b.attr("title",this.model.getPermLevelAltText());b=this.model.canInvite(z.me());this.$(".js-manage-board-members").toggle(b);
return this};b.prototype.postListListRender=function(){J("render","rendering inline composer and calculating list layout");this.renderInlineListComposer();this.restoreScrolls();this.attachVersionTag();return this.renderFilteringStatus()};b.prototype.renderLists=function(){var b,f;this.saveScrolls();b=this.$(".list-area").empty();f=this.$(".list-area-wrapper");if(!this.hasScrolled)f.one("scroll",function(b){return function(){return b.hasScrolled=!0}}(this));this.collectionSubview(xb,this.model.listList,
{el:b,resetCallback:this.postListListRender}).render();this.calcListHeights();_.defer(function(b){return function(){b.postListListRender();return M.refreshListCardSortable()}}(this));return this};b.prototype.reorderLists=function(b){var f,c,e,h,l;J("render","reordering lists");b=this.$(".list-area");this.$(".list-area-wrapper");l=this.model.openLists();f=e=0;for(h=l.length;e<h;f=++e)c=l[f],c=this.existingSubview(ib,c),this.moveSubviewToPosition(c,f,b);postListListRender();return this};b.prototype.calcListHeights=
function(){var b,f,c;c=$(window).height();b=this.$("#board").width();f=this.$(".board-header").outerHeight()+$("#header").outerHeight()+36;this.$(".list-area").width()>b&&(f+=23);this.model.editable()&&(f+=$(".js-open-card-composer:first").outerHeight());f+=$(".header-banner").outerHeight();f+=$(".bottom-archive-dropzone").outerHeight();this.collectionSubview(xb,this.model.listList).setListHeights(c,f)};b.prototype.calcListAreaWidth=function(){var b;b=this.model.listList.openLists().length;this.model.editable()&&
(b+=1);this.$(".list-area").width(266*b+10)};b.prototype.renderInlineListComposer=function(){var b,f;this.$(".list.add-list").remove();this.model.editable()&&(f=this.model.getView(tg),b=this.$(".list-area"),b.append(f.render().el))};b.prototype.calcSidebarHeight=function(){var b,f;null!=(b=this.model.getView(ob))&&b.calcActionsHeight();return null!=(f=this.model.getView(Ma))?f.setSidebarContentHeight():void 0};b.prototype.calcLayout=function(){var b,f,c;c=$(window).width();f=$(window).height();b=
this.$("#board").find(".list-area .list").length;b=[c,f,b].join();return b!==this.calcState?(this.calcState=b,J("layout","calc"),this.calcBoardLayout(),this.calcListHeights(),this.calcListAreaWidth()):J("layout","calc (ignored)")};b.prototype.renderArchiveSidebarDropzone=function(b){this.model.viewState.get("archiveSidebarDropzoneVisible")?(this.$el.addClass("active-sidebar-archive-dropzone"),clearTimeout(this.dropzoneTimeoutId)):(this.$el.removeClass("active-sidebar-archive-dropzone"),this.$(".js-sidebar-archive-dropzone").removeClass("hover-state"))};
b.prototype.renderArchiveBottomDropzone=function(b){var f,c,e,h;if(this.model.viewState.get("archiveBottomDropzoneVisible")){this.$(".list-area-wrapper").height(this.$(".list-area-wrapper").height()-100);f=this.model.openLists();e=0;for(h=f.length;e<h;e++)b=f[e],b=$(this.subview(ib,b).el),c=parseInt(b.find(".list-cards").css("max-height"))-100,b.find(".list-cards").css({"max-height":c});_.defer(function(b){return function(){b.$(".js-bottom-archive-dropzone").html(u.fill("archive_dropzone_text"));
return b.$el.addClass("active-bottom-archive-dropzone")}}(this))}else this.$el.removeClass("active-bottom-archive-dropzone"),this.$(".js-bottom-archive-dropzone").removeClass("hover-state"),_.defer(function(b){return function(){b.calcListHeights();return b.calcBoardLayout()}}(this));clearTimeout(this.dropzoneTimeoutId)};b.prototype.droppedInBottomArchive=function(b){this.model.viewState.get("archiveSidebarDropzoneVisible")?(this.model.viewState.setArchiveBottomDropzone(!1),clearTimeout(this.dropzoneTimeoutId)):
(this.$(".js-bottom-archive-dropzone").html(u.fill("archive_dropzone_dropped")),this.dropzoneTimeoutId=_.delay(function(b){return function(){return b.model.viewState.setArchiveBottomDropzone(!1)}}(this),4E3))};b.prototype.sortStop=function(b,f){m.stopPropagation(b);!f.item.data("dragCancel")&&!$(f.item).hasClass("list-card")&&f.item.trigger("movelist",[f])};b.prototype.changeVis=function(b){m.stop(b);n("Board View","Board Header","Open Change Visibilty via Header");w.toggle({elem:this.$(".js-change-vis"),
top:35,view:Td,options:{model:this.model}})};b.prototype.openDesc=function(b){m.stop(b);n("Board View","Board Header","Edit Description Button via Header");W.show({view:this.model.getView(gg),displayType:"slim"})};b.prototype.toggleCalendar=function(){return this.calendarView?this.navigateToBoard():this.navigateToCalendar()};b.prototype.navigateToCalendar=function(){var b;n("Board View","Board Header","Open Calendar View via Header");b=B.getBoardUrl(this.modelCache,this.model.id,"calendar");return B.navigate(b,
{trigger:!0})};b.prototype.navigateToBoard=function(){var b;n("Board View","Board Header","Close Calendar View via Header");b=B.getBoardUrl(this.modelCache,this.model.id);return B.navigate(b,{trigger:!0})};b.prototype.showCalendar=function(b){var f,c,e,h;this.$(".calendar-btn").addClass("board-header-btn-enabled");this.$("#board").addClass("hide");h=this.getCardViews();c=0;for(e=h.length;c<e;c++)f=h[c],f.stopListeningToActiveCardChanges();this.calendarView=new Hf({model:this.model,modelCache:this.modelCache});
this.$(".board-canvas").append(this.calendarView.render(b).el);return this.calendarView.addedToDOM()};b.prototype.closeCalendar=function(){var b,f,c,e;this.calendarView.remove();this.calendarView=null;this.$(".calendar-btn").removeClass("board-header-btn-enabled");this.$("#board").removeClass("hide");this.calcListHeights();e=this.getCardViews();f=0;for(c=e.length;f<c;f++)b=e[f],b.listenToActiveCardChanges();return M.refreshListCardSortable()};b.prototype.getCardViews=function(){var b,f,c,e,h,l,k,
m;c=this.collectionSubview(xb,this.model.listList);f=[];k=c.subviewsOfType(ib);c=0;for(h=k.length;c<h;c++){b=k[c];b=b.collectionSubview(Ud,b.model.cardList);m=b.subviewsOfType(xa);e=0;for(l=m.length;e<l;e++)b=m[e],f.push(b)}return f};b.prototype.openFilter=function(b){var f;m.stop(b);n("Board View","Board Header","Open Filtering via Header");null!=(f=this.model.getView(Ma))&&f.openCardFilter()};b.prototype.clearFilters=function(b){m.stop(b);n("Board View","Board Header","Clear Filtering via Header");
this.model.filter.clear()};b.prototype.openUnsubscribe=function(b){m.stop(b);pa.toggle({elem:$(b.target).closest(".js-board-header-subscribed")[0],top:22,model:this.model,title:"Unsubscribe?",text:"You can re-subscribe via the board menu",confirmText:"Unsubscribe",confirmBtnClass:"negate",fxConfirm:function(b){return function(d){n("Board View","Board header","Unsubscribe");return b.model.subscribe(!1)}}(this)})};b.prototype.dblClickAddListMenu=function(b){m.stop(b);this.model.isMember(z.me())&&0===
$(b.target).closest(".list").length&&(n("Board View","Open Add List Menu via Double Click"),w.show({clientx:b.clientX,clienty:b.clientY,top:35,view:this.model.getView(fg,"dblClick",{dblClick:!0})}))};b.prototype.openArchive=function(b){m.stop(b);n("Board View","Open Archive from Bottom Dropzone");this.model.getView(Ma).openArchivedItems();this.model.viewState.setArchiveBottomDropzone(!1)};b.prototype.closeDropzone=function(b){m.stop(b);n("Board View","Close Bottom Dropzone");this.model.viewState.setArchiveBottomDropzone(!1)};
b.prototype.reopen=function(){return this.model.reopen()};b.prototype.updateControllerTitle=function(){return B.title(this.model.get("name"))};b.prototype.scrollListIntoView=function(b){return this.collectionSubview(xb,this.listList).subview(ib,b).scrollIntoView()};return b}(A);hg=function(c){function b(){this.showMemberMenu=k(this.showMemberMenu,this);this.deselectMembers=k(this.deselectMembers,this);this.hoverItem=k(this.hoverItem,this);this.render=k(this.render,this);return b.__super__.constructor.apply(this,
arguments)}s(b,c);b.prototype.getViewTitle=function(){return"Observers"};b.prototype.events={"click .js-select-member":"showMemberMenu","mouseenter .js-select-member":"hoverItem","mouseleave .js-list":"deselectMembers"};b.prototype.render=function(){this.$el.html(u.fillFromModel("observer_list",this.model));this.renderObservers();return this};b.prototype.hoverItem=function(b){this.deselectMembers();b=$(b.target).closest(".item");return m.selectMenuItem(this.$(".js-list"),".item",b)};b.prototype.deselectMembers=
function(b){return this.$(".js-list .item").removeClass("selected")};b.prototype.showMemberMenu=function(b){m.stop(b);n("Board View","Show Observer Menu");b=$(b.target).closest("a").attr("idmember");b=this.Member.get(b);w.pushView({view:new Fc({board:this.model,model:b})})};b.prototype.renderObservers=function(){var b,f;b=this.$(".js-list");var c,e,h,l;h=this.model.getObserverList();l=[];c=0;for(e=h.length;c<e;c++)f=h[c],l.push(this.subview(db,f,{showStatus:!0,showUnconfirmed:!0}));this.appendSubviews(l,
b);return this};return b}(A);fg=function(c){function b(){this.cancel=k(this.cancel,this);this.addList=k(this.addList,this);this.renderValue=k(this.renderValue,this);this.updateListList=k(this.updateListList,this);this.getClosestListPos=k(this.getClosestListPos,this);this.render=k(this.render,this);return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.getViewTitle=function(){return"Add List"};b.prototype.events={"change .js-select-list-pos":"renderValue","click .js-add-list":"addList",
"submit form":"addList","click .js-cancel":"cancel"};b.prototype.getLists=function(){this.lists=this.model.openLists();return this.listsLength=this.lists.length+1};b.prototype.render=function(){this.$el.html(u.fill("popover_add_list"));_.delay(function(b){return function(){b.options.dblClick&&b.getClosestListPos();b.getLists();return b.updateListList()}}(this),10);return this};b.prototype.getClosestListPos=function(){var b,f,c;f=$(".list");c=[];this.closestListIdx=0;f.each(function(b){return function(b){b=
parseInt(Math.abs($(f[b]).offset().left+$(f[b]).width()/2-w.el_left),10);return c.push(b)}}(this));this.closestListIdx=_.indexOf(c,_.min(c));b=$(f[this.closestListIdx]);if(0<b.length&&w.el_left>b.offset().left+b.width()/2&&this.closestListIdx<f.length-1)return this.closestListIdx+=1};b.prototype.updateListList=function(){var b,f,c,e;f=$(this.el).find(".js-select-list-pos");b=c=0;for(e=this.listsLength;0<=e?c<e:c>e;b=0<=e?++c:--c)$("<option>").val(b).text(b+1).appendTo(f);b=f.find("option:last");this.options.dblClick&&
(b=f.find("option:eq("+this.closestListIdx+")"));b.attr("selected","selected");return this.renderValue()};b.prototype.renderValue=function(){var b;b=parseInt(this.$(".js-select-list-pos").val(),10)+1;$(".js-pos-value").text(m.getNaturalNumber(b))};b.prototype.addList=function(b){var f,c,e;m.stop(b);b=this.$(".js-list-name").val().trim();""===b?this.$(".js-list-name").focus().select():(f=this.$(".js-select-list-pos"),f=parseInt(f.find("option:selected").val(),10),e=f===this.listsLength-1?!1:!0,c="List"===
b?!1:!0,w.hide(),this.model.listList.create({name:b,pos:this.model.calcPos(f),closed:!1},{success:function(b){return function(d){c&&e?n("Board","Add List","Successfully Add List - Changed Name, Changed Position"):c?n("Board","Add List","Successfully Add List - Changed Name, Default Position"):e?n("Board","Add List","Successfully Add List - Default Name, Changed Position"):n("Board","Add List","Successfully Add List - Default Name, Default Position");return b.model.view.scrollListIntoView(d)}}(this)}))};
b.prototype.cancel=function(b){m.stop(b);w.hide();n("Board Menu","Add List Menu","Click Cancel Button")};return b}(ha);gg=function(c){function b(){this.render=k(this.render,this);return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.initialize=function(){this.model.ond("change:name change:desc",this.render)};b.prototype.events={"click .js-edit-desc":"editDesc"};b.prototype.render=function(){var b,f,c;f=this.model.get("desc");c=this.model.get("descData");b={hasDesc:!!f};this.$el.html(u.fillFromModel("board_desc",
this.model,b));b.hasDesc&&$(this.el).find(".board-description>div.current").html(mb.markdownAsHtml(f,{textData:c}));return this};b.prototype.editDesc=function(b){m.stop(b);this.edit("desc")};return b}(ha);lg=function(c){function b(){this.exportJSON=k(this.exportJSON,this);this.printModel=k(this.printModel,this);this.cancel=k(this.cancel,this);this.focusUrl=k(this.focusUrl,this);this.render=k(this.render,this);return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.getViewTitle=function(){return"Share, Print, and Export"};
b.prototype.events={"click .js-print":"printModel","click .js-export-json":"exportJSON","click input[type='text']":"focusUrl","submit form":"cancel"};b.prototype.render=function(){var b;b=this.model.toJSON();b.jsonURL="/"+this.model.typeName.toLowerCase()+"/"+this.model.id+"/"+m.makeSlug(this.model.get("name"))+".json";b.pLevelClass=this.model.getPermLevelIconClass();b.pLevelAltText=this.model.getPermLevelAltText();"org"===this.model.get("prefs").permissionLevel?b.helperText="visible to org":"private"===
this.model.get("prefs").permissionLevel&&(b.helperText="private");this.$el.html(u.fill("popover_share",b));return this};b.prototype.focusUrl=function(b){this.$(".js-url").focus().select();return!1};b.prototype.cancel=function(b){m.stop(b);return!1};b.prototype.printModel=function(b){m.stop(b);n("Board Menu","Share, Print, and Export Menu","Print");w.hide();_.defer(function(){return window.print()})};b.prototype.exportJSON=function(b){return n("Board Menu","Share, Print, and Export Menu","Export JSON")};
return b}(A);vd=function(c){function b(){this.newOrg=k(this.newOrg,this);this.submit=k(this.submit,this);this.helperAddOrg=k(this.helperAddOrg,this);this.changeOrg=k(this.changeOrg,this);this.canChangeOrg=k(this.canChangeOrg,this);this.setPermissionLevel=k(this.setPermissionLevel,this);this.selectVis=k(this.selectVis,this);this.openChangeVis=k(this.openChangeVis,this);this.getAdditionalVisPermissions=k(this.getAdditionalVisPermissions,this);this.disableSubmitDueToVisRestrictions=k(this.disableSubmitDueToVisRestrictions,
this);this.resetVisChooser=k(this.resetVisChooser,this);this._renderBoardVisChooser=k(this._renderBoardVisChooser,this);this.disableSubmit=k(this.disableSubmit,this);this.enableSubmit=k(this.enableSubmit,this);this.renderBoardVisChooser=k(this.renderBoardVisChooser,this);this.renderBoardVisDisplay=k(this.renderBoardVisDisplay,this);this.render=k(this.render,this);return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.getViewTitle=function(){return this.options.copyBoard?"Copy Board":
"Create Board"};b.prototype.events={"change select[name='org-id']":"changeOrg","click .js-helper-add-org":"helperAddOrg","submit form":"submit","click .js-submit":"submit","click .js-create-org":"newOrg","click .js-change-vis":"openChangeVis","click .js-select":"selectVis"};b.prototype.getOrganization=function(){switch(this.model.typeName){case "Organization":return this.model;case "Board":return this.model.getOrganization();default:return null}};b.prototype.render=function(){var b,f,c,e,h,l;b=_.map(z.me().organizationList.models,
function(b){return b.toJSON()});f=null!=(c=this.getOrganization())?c.id:void 0;e=0;for(h=b.length;e<h;e++)c=b[e],c.selectOrg=c.id===f?!0:!1;f=null!=f;b={orgs:b,hasOrg:f,canAddToOrgs:0!==b.length,isCopyBoard:this.options.copyBoard,isNewBoard:this.options.newBoard,pLevel:"private"};this.options.copyBoard&&this.model.owned()?b.pLevel=this.model.get("prefs").permissionLevel:f&&(b.pLevel="org");if(null!=(l=this.options)&&l.newOrgBoard)b.hideOrg=!0;this.$el.html(u.fill("board_new",b));this.renderBoardVisChooser();
return this};b.prototype.renderBoardVisDisplay=function(b){var f;f=this.getPermissionLevel();b?b="<p>Checking visibility permissions\u2026</p>":""!==f?(b={visIconClass:oa.prototype.getPermLevelIconClass(f),visDisplayText:oa.prototype.getPermDisplayText(f).toLowerCase()},b=u.fill("board_new_vis",b)):b="<p>There was an error setting the visibility.</p>";this.$(".js-vis-display").html(b);return this};b.prototype.renderBoardVisChooser=function(b){var f,c,e,h,l,k,m;f=(c=this.$("select[name='org-id']").val())&&
""!==c?this.Organization.get(c):null;h={};m=["private","org","public"];l=0;for(k=m.length;l<k;l++)e=m[l],h["permText_"+e]=oa.prototype.getPermLevelAltText(e,f),h["iconClass_"+e]=oa.prototype.getPermLevelIconClass(e,f);h.visRestrictionText="You can not create a board with this visibility due to a restriction created by an org admin.";h.hasOrg=null!=f;null==f?(h.disabledVis_org=!0,c="private","private"===b||"public"===b?c=b:this.options.copyBoard&&this.model.owned()&&(c=this.model.get("prefs").permissionLevel),
h["permissionLevel_"+c]=!0,this.setPermissionLevel(c),this.enableSubmit(),this._renderBoardVisChooser(h),this.renderBoardVisDisplay()):null!=f&&!(null!=f&&f.isFeatureEnabled("restrictVis"))?(c="org",null!=b?c=b:this.options.copyBoard&&this.model.owned()&&(c=this.model.get("prefs").permissionLevel),h["permissionLevel_"+c]=!0,this.setPermissionLevel(c),this.enableSubmit(),this._renderBoardVisChooser(h),this.renderBoardVisDisplay()):null!=f&&null!=f.get("memberships")&&null!=f.get("products")&&null!=
f&&f.isFeatureEnabled("restrictVis")?(this.disableSubmit(),h=_.extend(h,this.getAdditionalVisPermissions(b,f)),this._renderBoardVisChooser(h),this.renderBoardVisDisplay()):(this.disableSubmit(),this.renderBoardVisDisplay(!0),P["for"](this.modelCache).loadOrganizationMinimal(c,function(c){return function(e){if(null==e)return h=_.extend(h,c.getAdditionalVisPermissions(b,f)),c._renderBoardVisChooser(h),c.renderBoardVisDisplay()}}(this)));return this};b.prototype.enableSubmit=function(){return this.$(".js-submit").removeClass("disabled")};
b.prototype.disableSubmit=function(){return this.$(".js-submit").addClass("disabled")};b.prototype._renderBoardVisChooser=function(b){this.$(".js-vis-chooser").html(u.fill("board_menu_vis",b));return this};b.prototype.resetVisChooser=function(){this.$(".js-no-valid-org-privs").addClass("hide")};b.prototype.disableSubmitDueToVisRestrictions=function(b){b.owned()?(this.$(".js-org-account-url").attr("href","/"+b.get("name")+"/account"),this.$(".js-not-admin-text").addClass("hide"),this.$(".js-admin-text").removeClass("hide")):
(this.$(".js-not-admin-text").removeClass("hide"),this.$(".js-admin-text").addClass("hide"));this.$(".js-no-valid-org-privs").removeClass("hide");this.$(".js-vis-chooser").addClass("hide");this.$(".js-vis-display").addClass("hide")};b.prototype.getAdditionalVisPermissions=function(b,f){var c,e,h;c={};h="org";if(null!=f&&f.isFeatureEnabled("restrictVis")){e=[];_.each(["private","org","public"],function(b){return function(d){if(b.canChangeOrg(f,d))return e.push(d);c["disabledVis_"+d]=!0;return c["showVisRestriction_"+
d]=!0}}(this));if(0===e.length){this.setPermissionLevel("");this.disableSubmitDueToVisRestrictions(f);return}h=0<=F.call(e,b)?b:0<=F.call(e,"org")?"org":_.first(e);this.enableSubmit()}else null!=b?h=b:this.options.copyBoard&&this.model.owned()&&(h=this.model.get("prefs").permissionLevel);this.setPermissionLevel(h);c["permissionLevel_"+h]=!0;return c};b.prototype.openChangeVis=function(b){m.stop(b);this.$(".js-vis-display").addClass("hide");this.$(".js-vis-chooser").removeClass("hide")};b.prototype.selectVis=
function(b){m.stop(b);b=$(b.target).closest(".js-select");b.hasClass("disabled")||(this.$(".js-vis-display").removeClass("hide"),this.$(".js-vis-chooser").addClass("hide"),b=b.attr("name"),this.renderBoardVisChooser(b),n("New Board","Change Visibility",b))};b.prototype.setPermissionLevel=function(b){return this.$("input[name='permissionLevel']").val(b)};b.prototype.getPermissionLevel=function(){var b;return null!=(b=this.$('input[name="permissionLevel"]').val())?b:""};b.prototype.canChangeOrg=function(b,
f){var c,e;c=z.me();if(!(null!=b&&b.isFeatureEnabled("restrictVis")))return!0;a:{switch(b.getMembershipFor(c).memberType){case "admin":c=2;break a;case "normal":c=1;break a}c=void 0}e=function(){var c,e;switch(null!=(c=b.get("prefs"))?null!=(e=c.boardVisibilityRestrict)?e[f]:void 0:void 0){case "none":return 3;case "admin":return 2;default:return 1}}();return c>=e};b.prototype.changeOrg=function(b){this.resetVisChooser();this.$(".js-vis-display").removeClass("hide");this.$(".js-vis-chooser").addClass("hide");
return this.renderBoardVisChooser()};b.prototype.helperAddOrg=function(b){m.stop(b);w.pushView({view:this.model.getView(kg)})};b.prototype.submit=function(b){var f;m.stop(b);b={name:this.$('input[name="name"]').val().trim(),idOrganization:null!=(f=this.$('select[name="org-id"]').val())?f:"",prefs_permissionLevel:this.$('input[name="permissionLevel"]').val()};if(!this.$(".js-submit").hasClass("disabled"))if(""===b.name)this.$('input[name="name"]').focus().select();else return this.options.copyBoard&&
(b.idBoardSource=this.model.id,b.keepFromSource=this.$("input:checkbox:checked").map(function(){return this.name}).get().join()),this.options.newBoard?n("New Board","New"):this.options.copyBoard&&n("New Board","Copy"),b.idOrganization&&"private"!==b.prefs_permissionLevel&&(b.prefs_selfJoin=!0),z.me().boardList.create(b,{modelCache:this.modelCache,silent:!0,success:function(b){return function(d){b.options.copyBoard&&O.hide("copying");B.displayBoard({idBoard:d.id})}}(this)}),this.options.copyBoard&&
O.show("Copying...","info","copying"),w.hide()};b.prototype.newOrg=function(b){m.stop(b);return w.pushView({view:new qc({model:this.model,modelCache:this.modelCache})})};return b}(ha);kg=function(c){function b(){this.newOrg=k(this.newOrg,this);this.render=k(this.render,this);return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.getViewTitle=function(){return"Add an Organization"};b.prototype.events={"click .js-create-org":"newOrg"};b.prototype.render=function(){this.$el.html(u.fill("popover_helper_new_board_add_org"));
return this};b.prototype.newOrg=function(b){m.stop(b);return w.pushView({view:new qc({model:this.model,modelCache:this.modelCache})})};return b}(ha);var Vd,ug,E={}.hasOwnProperty,s=function(c,b){function d(){this.constructor=c}for(var f in b)E.call(b,f)&&(c[f]=b[f]);d.prototype=b.prototype;c.prototype=new d;c.__super__=b.prototype;return c};Vd=function(c){function b(){return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.typename="CustomBoardBackground";return b}(na);ug=function(c){function b(){return b.__super__.constructor.apply(this,
arguments)}s(b,c);b.prototype.model=Vd;b.prototype.url=function(){return"/1/member/"+this.member.id+"/boardBackgrounds"};b.prototype.initialize=function(b,f){this.member=f.member};return b}(fb);var Wd,Ed,Da,Gc,vg,wg,Hc,xg,Ud,Ic,Xd,yg,zg,Yd,xa,Zd,Ag,Jc,$d,Bg,k=function(c,b){return function(){return c.apply(b,arguments)}},E={}.hasOwnProperty,s=function(c,b){function d(){this.constructor=c}for(var f in b)E.call(b,f)&&(c[f]=b[f]);d.prototype=b.prototype;c.prototype=new d;c.__super__=b.prototype;return c},
G=[].slice,F=[].indexOf||function(c){for(var b=0,d=this.length;b<d;b++)if(b in this&&this[b]===c)return b;return-1};Da=function(c){function b(){this.uploadUrl=k(this.uploadUrl,this);this.unbindMarkRead=k(this.unbindMarkRead,this);this.markRelatedNotificationsRead=k(this.markRelatedNotificationsRead,this);this.markRelatedNotificationsReadNow=k(this.markRelatedNotificationsReadNow,this);this.getCheckItem=k(this.getCheckItem,this);this.subscribe=k(this.subscribe,this);this.getVoterDisplayData=k(this.getVoterDisplayData,
this);this.vote=k(this.vote,this);this.addComment=k(this.addComment,this);this.getFullUrl=k(this.getFullUrl,this);this.getUrl=k(this.getUrl,this);this.getList=k(this.getList,this);this.getIndexInList=k(this.getIndexInList,this);this.getBoard=k(this.getBoard,this);this.reopen=k(this.reopen,this);this.close=k(this.close,this);this.hasChecklist=k(this.hasChecklist,this);this.hasMember=k(this.hasMember,this);this.removeMember=k(this.removeMember,this);this.addMember=k(this.addMember,this);this.toggleMember=
k(this.toggleMember,this);this.moveToList=k(this.moveToList,this);return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.typeName="Card";b.prototype.urlRoot="/1/cards";b.prototype.initialize=function(){this.destruct([this.memberList=(new hb).syncModel(this,"idMembers"),this.memberVotedList=(new hb).syncModel(this,"idMembersVoted"),this.checklistList=(new Rd).syncCache(this.modelCache,["idCard"],function(b){return function(f){return f.get("idCard")===b.id}}(this)),this.attachmentList=
(new Cg).syncSubModels(this,"attachments"),this.actionList=(new Ib).syncCache(this.modelCache,[],function(b){return function(f){var c,e,h;return f.includesModel(b.typeName,b.id)?(c=f.get("data"),(null!=(e=c.board)?e.id:void 0)===b.get("idBoard")||"commentCard"===(h=f.get("type"))||"copyCommentCard"===h):!1}}(this)),this.stickerList=(new Dg(this.get("stickers"),{card:this,modelCache:this.modelCache})).syncSubModels(this,"stickers"),this.memberEditingList=new hb]);this.bind("change:id",this.actionList.sync);
this._initSubEventsOn("badges");this.cacheShortLink();return this.cacheBoardId()};b.prototype.cacheShortLink=function(){return this.onId(function(b){return function(){return b.waitForAttr("shortLink",function(){return IdCache.setCardId(b.get("shortLink"),b.id)})}}(this))};b.prototype.cacheBoardId=function(){return this.onId(function(b){return function(){return b.waitForAttr("idBoard",function(){return IdCache.setBoardIdForCard(b.id,b.get("idBoard"))})}}(this))};b.get=function(d,f){return m.isShortLink(f)?
b.findOne(d,function(b){return b.get("shortLink")===f}):b.__super__.constructor.get.apply(this,arguments)};b.prototype.updateEditing=function(b){null==this._editingTimeout&&(this._editingTimeout={});this.memberEditingList.add(b);null!=this._editingTimeout[b.id]&&(clearTimeout(this._editingTimeout[b.id]),delete this._editingTimeout[b.id]);return this._editingTimeout[b.id]=setTimeout(function(f){return function(){return f.memberEditingList.remove(b)}}(this),ae)};b.prototype.sync=function(d,f,c){return"create"===
d&&!(null!=this.get("idBoard")&&null!=this.get("idList"))?(this.waitForAttrs(["idBoard","idList"],function(e){return function(h){e.set(h);return b.__super__.sync.call(e,d,f,c)}}(this)),this.getBoard().onId(function(b){return function(d){return b.set("idBoard",d)}}(this)),this.getList().onId(function(b){return function(d){return b.set("idList",d)}}(this))):b.__super__.sync.apply(this,arguments)};b.prototype.set=function(d,f){var c;if(null!=d&&d.labels){var e=d,h,l,k,m,x;k=d.labels;x=[];h=0;for(l=k.length;h<
l;h++)c=k[h],x.push(null!=(m=c.color)?m:c);e.labels=x}null!=d&&d.badges&&(d.badges=_.extend({},this.get("badges"),d.badges));return b.__super__.set.apply(this,arguments)};b.prototype.moveToList=function(b,f){var c;c=this;return b.onId(function(e){return function(e){var l,k,m,x,n;l=b.calcPos(f,c);l===c.pos&&c.get("idList")===e||(x=c.get("idList"),n=c.getIndexInList(),c.update({pos:l,idList:e,closed:!1}),l=b.getBoard().composer,null!=l&&l.get("vis")&&(k=m=l.get("index"),e===x&&x===l.get("idList")&&
n===f?m===f?k++:k--:(l.get("idList")===e&&l.get("index")>=f&&k++,l.get("idList")===x&&l.get("index")>n&&k--),l.set("index",k)))}}(this))};b.prototype.moveToNextList=function(){var b,f;f=this.getBoard().openLists();b=_.indexOf(f,this.getList());b<f.length-1&&this.moveToList(f[b+1],1E9)};b.prototype.moveToPrevList=function(){var b,f;f=this.getBoard().openLists();b=_.indexOf(f,this.getList());0<b&&this.moveToList(f[b-1],1E9)};b.prototype.toggleMember=function(){var b,f,c;b=arguments[0];f=3<=arguments.length?
G.call(arguments,1,c=arguments.length-1):(c=1,[]);c=arguments[c++];f=f[0];null==f&&(f=!this.hasMember(b));f&&z.isMe(b)&&this.set("subscribed",!0);return this.toggle("idMembers",b,f,c)};b.prototype.addMember=function(b,f){return this.toggleMember(b,!0,f)};b.prototype.removeMember=function(b,f){return this.toggleMember(b,!1,f)};b.prototype.hasMember=function(b){return this.memberList.get(b)};b.prototype.getIdCardMems=function(){return _.map(this.memberList.models,function(b){return function(b){return b.id}}(this))};
b.prototype.getIdCommenters=function(){var b;b=[];_.each(this.Action.getListForModel(this),function(f){return function(f){if("commentCard"===f.get("type"))return f=f.get("idMemberCreator"),b.push(f)}}(this));return this.idCommenters=_.uniq(b)};b.prototype.hasChecklist=function(b){return this.checklistList.get(b)};b.prototype.close=function(b){this.update({closed:!0},b)};b.prototype.reopen=function(){var b;b=this.getList();null!=b&&this.update({closed:!1,pos:b.calcPos(b.cardList.length,this)})};b.prototype.getBoard=
function(){var b,f;return null!=(b=this.Board.get(this.get("idBoard")))?b:null!=(f=this.getList())?f.getBoard():void 0};b.prototype.getIndexInList=function(){return _.indexOf(this.getList().cardList.models,this)};b.prototype.getList=function(){var b,f;return null!=(b=this.List.get(this.get("idList")))?b:null!=(f=this.collection)?f.owner:void 0};b.prototype.getUrl=function(){return B.getCardUrl(this)};b.prototype.getFullUrl=function(){return""+siteDomain+this.getUrl()};b.prototype.editable=function(){return this.getBoard().editable()};
b.prototype.addComment=function(b){var f,c,e;f=this;c=_.max([new Date,null!=(e=f.actionList.sort().first())?e.getDate().addSeconds(1):void 0]).toISOString();if(""!==b)f.onId(function(e){return function(l){var k,m;l=f.getBoard();k=new Rb({type:"commentCard",date:c,data:{text:b,card:{id:f.id,name:f.get("name")},board:{id:l.id,name:l.get("name")},textData:{emoji:z.me().allCustomEmoji()}},idMemberCreator:z.myId()},{modelCache:e.modelCache});m=setTimeout(function(){return k.takingTooLong()},2E3);return T({url:"/1/cards/"+
f.id+"/actions/comments",type:"post",data:{text:b},dataType:"json",success:function(b){clearTimeout(m);k.isTakingTooLong=!1;return e.modelCache.enqueueDelta(k,b)}})}}(this))};b.prototype.changeDueDateMaintainTime=function(b){var f,c;f=null!=(c=new Date(this.get("due")))?c:(new Date).setHours(12,0,0,0);b=H.getDateWithSpecificTime(f,b);return this.update({due:b})};b.prototype.vote=function(b){if(this.getBoard().canVote(z.me()))return this.waitForLock("vote",function(f){return function(c){var e,h;if(b===
f.voted())return c();e=null!=(h=_.clone(f.get("badges")))?h:{};b?(e.votes++,e.viewingMemberVoted=!0):(e.votes--,e.viewingMemberVoted=!1);f.set("badges",e);f.toggle("idMembersVoted",z.myId(),b,{collectionName:"membersVoted"},c)}}(this))};b.prototype.voted=function(){var b,f;return null!=(b=null!=(f=this.get("badges"))?f.viewingMemberVoted:void 0)?b:!1};b.prototype.getVoterDisplayData=function(b){return this.onId(function(f){return function(){return P["for"](f.modelCache).loadCardVoters(f.id,b)}}(this))};
b.prototype.getAllAgingClasses=function(){return"aging-level-0 aging-level-1 aging-level-2 aging-level-3 aging-pirate aging-regular"};b.prototype.getAgingData=function(){var b,f;b=this.getBoard();f=Date.now()-new Date(this.get("dateLastActivity"));b={level:function(){switch(!1){case !(f<m.getMs({days:7})):return 0;case !(f<m.getMs({days:14})):return 1;case !(f<m.getMs({days:28})):return 2;default:return 3}}(),mode:b.get("prefs").cardAging};b.agingClassesToAdd="aging-level-"+b.level+" aging-"+b.mode;
/64$/.test(this.id)&&(b.agingClassesToAdd+=" aging-treasure");return b};b.prototype.toggleVote=function(){this.vote(!this.voted())};b.prototype.subscribe=function(b){var f;b!==this.get("subscribed")&&(f=this.get("badges"),f.subscribed=b,this.update({subscribed:b}))};b.prototype.getCheckItem=function(b){var f,c,e,h;f=c=0;for(e=this.checklistList.length-1;0<=e?c<=e:c>=e;f=0<=e?++c:--c)if(f=this.checklistList.at(f),f=null!=f?null!=(h=f.checkItemList)?h.get(b):void 0:void 0)return f;return null};b.prototype.getLabels=
function(){var b,f,c,e,h;e=m.labelNames;h=[];f=0;for(c=e.length;f<c;f++)b=e[f],h.push(this.getLabel(b));return h};b.prototype.getActiveLabels=function(){var b,f,c,e,h;e=this.getLabels();h=[];f=0;for(c=e.length;f<c;f++)b=e[f],b.isActive&&h.push(b);return h};b.prototype.getCard=function(){return this};b.prototype.hasLabel=function(b){var f;f=this.get("labels");null==f&&(f=[]);return 0<=F.call(f,b)};b.prototype.setLabel=function(b,f){this.toggle("labels",b,f)};b.prototype.getLabel=function(b){return{shortcut:String.fromCharCode(49+
_.indexOf(m.labelNames,b)),color:b,name:this.getBoard().getLabelName(b),isActive:this.hasLabel(b)}};b.prototype.toggleLabel=function(b){this.setLabel(b,!this.hasLabel(b))};b.prototype.markRelatedNotificationsReadNow=function(){var b,f,c,e,h,l;f=function(b){return function(d){var f,c;return d.get("unread")&&(null!=(f=d.get("data"))?null!=(c=f.card)?c.id:void 0:void 0)===b.id}}(this);h=wb.all("header");l=[];c=0;for(e=h.length;c<e;c++)b=h[c],f(b)&&l.push(b.markRead());return l};b.prototype.markRelatedNotificationsRead=
function(){return"active"!==za.getStatus()||"function"===typeof za.getHidden&&za.getHidden()?$(za).one("setStatus."+this.id+" visibilitychange."+this.id,this.markRelatedNotificationsRead):m.callDebounced(this.markRelatedNotificationsReadNow)};b.prototype.unbindMarkRead=function(){return $(za).off("setStatus."+this.id+" visibilitychange."+this.id,this.markRelatedNotificationsRead)};b.prototype.toJSON=function(d){var f;null==d&&(d={});f=b.__super__.toJSON.apply(this,arguments);d.url&&(f.url=B.getCardUrl(this));
return f};b.prototype.upload=function(){var b,f,c,e,h;f=arguments[0];b=3<=arguments.length?G.call(arguments,1,h=arguments.length-1):(h=1,[]);e=arguments[h++];c=b[0];Fa.addProcessingAttachment();b=new FormData;b.append("token",z.myToken());null!=c?b.append("file",f,c):b.append("file",f);return T({url:"/1/cards/"+this.id+"/attachments",data:b,type:"post",processData:!1,contentType:!1,interceptErrors:!0,error:function(b){return function(b,d,h,l){var k;return 413===b.status?e("Error uploading "+(null!=
(k=f.name)?k:c)):l()}}(this),success:function(b){return e()},complete:function(b){return Fa.removeProcessingAttachment()},timeout:m.getMs({hours:6})})};b.prototype.uploadUrl=function(b,f,c){Fa.addProcessingAttachment();return T({url:"/1/cards/"+this.id+"/attachments",type:"post",data:{url:b,name:f},interceptErrors:!0,error:function(b){return function(b,d,f,e){return c(d)}}(this),success:function(b){return c()},complete:function(b){return Fa.removeProcessingAttachment()}})};b.prototype.removeCover=
function(){return this.update({idAttachmentCover:""})};b.prototype.makeCover=function(b){return this.update({idAttachmentCover:b.id})};b.prototype.calcChecklistPos=function(b,f){return m.calcPos(b,this.checklistList,f)};b.prototype._neighbor=function(b){var f,c,e;c=this.getList().openCards();e=this.getBoard().filter;f=_.indexOf(c,this);if(0<=f){for(f+=b;null!=c[f]&&!e.satisfiesFilter(c[f]);)f+=b;return c[f]}return null};b.prototype.prevCard=function(){return this._neighbor(-1)};b.prototype.nextCard=
function(){return this._neighbor(1)};return b}(na);xg=function(c){function b(){return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.model=Da;b.prototype.initialize=function(b,f){this.bind("change:pos",this.sort);this.list=f.list};b.prototype.url="/1/cards";b.prototype.comparator=function(b){return b.get("pos")||0};b.prototype.openCards=function(){return this.filter(function(b){return!b.get("closed")})};return b}(La);Zd=function(){function c(){this.getMemberOnCardHtml=k(this.getMemberOnCardHtml,
this)}c.prototype.openMemberOnCardMenu=function(b){var d,f;m.stop(b);b=this.$(b.target).closest(".member");d=b.attr("data-idmem");f=this.Member.get(d);d=this.model;w.toggle({elem:b,top:b.hasClass("member")?35:16,view:Eg,options:{model:f,modelCache:this.modelCache,card:d}})};c.prototype.getMemberOnCardHtml=function(b){var d,f,c;d=b.toJSON();f=this.model.getBoard().getOrganization();d.isVirtual=(null!=f?f.isVirtual(b):void 0)||(null!=(c=this.model.getBoard())?c.isVirtual(b):void 0);null!=f&&(d.isDeactivated=
f.isDeactivated(b));return u.fill("member_on_card",d,"",{member:u.member})};return c}();xa=ea(Ad,Zd,function(c){function b(){this.doClicks=k(this.doClicks,this);this.dropFront=k(this.dropFront,this);this.dragenterFront=k(this.dragenterFront,this);this.showDetail=k(this.showDetail,this);this.deselectCard=k(this.deselectCard,this);this.mouseLeaveEvent=k(this.mouseLeaveEvent,this);this.mouseEnterEvent=k(this.mouseEnterEvent,this);this.selectCard=k(this.selectCard,this);this.moveIn=k(this.moveIn,this);
this.moveTo=k(this.moveTo,this);this.moveInCalendarDay=k(this.moveInCalendarDay,this);this.moveToCalendarDay=k(this.moveToCalendarDay,this);this.editStickers=k(this.editStickers,this);this.openCardMenu=k(this.openCardMenu,this);this.renderPowerUpEffects=k(this.renderPowerUpEffects,this);this.renderFiltered=k(this.renderFiltered,this);this.renderCover=k(this.renderCover,this);this.showCover=k(this.showCover,this);this.renderLabels=k(this.renderLabels,this);this.renderLink=k(this.renderLink,this);this.renderName=
k(this.renderName,this);this.renderStickers=k(this.renderStickers,this);this.showStickers=k(this.showStickers,this);this.addNewStickerToList=k(this.addNewStickerToList,this);this.hookDroppable=k(this.hookDroppable,this);this.render=k(this.render,this);this.paste=k(this.paste,this);this.shortcut=k(this.shortcut,this);this.setActiveCard=k(this.setActiveCard,this);return b.__super__.constructor.apply(this,arguments)}s(b,c);b.HOOK_DROPPABLE_QUEUE=new async.queue(function(b,f){return b.hookDroppable(_.defer(f))},
1);b.prototype.className="list-card js-member-droppable";b.prototype.filterDeactivated=!0;b.prototype.showMemberStatus=!1;b.prototype.applyBoardCardFilter=!0;b.prototype.events={moveto:"moveTo",movein:"moveIn",moveToCalendarDay:"moveToCalendarDay",moveInCalendarDay:"moveInCalendarDay","click .js-card-menu":"openCardMenu","click .js-member-on-card-menu":"openMemberOnCardMenu",click:"showDetail",mouseover:"selectCard",mouseenter:"mouseEnterEvent",mouseleave:"mouseLeaveEvent",dragenter:"dragenterFront",
dragover:"dragover",dragleave:"dragleave",dragexit:"dragexit",dragend:"dragend",drop:"dropFront",mousedown:"mousedown",mouseup:"mouseup",shortcut:"shortcut",paste:"paste"};b.prototype.initialize=function(){var b,f,c,e;this.onCalendar||(this.model.view=this);e=["filterDeactivated","showMemberStatus","applyBoardCardFilter"];f=0;for(c=e.length;f<c;f++)b=e[f],null!=this.options[b]&&(this[b]=this.options[b]);this.makeDebouncedMethods("renderName","renderLabels","renderCover","renderFiltered","renderPowerUpEffects",
"renderStickers");return Qa.enqueue("initialize_"+this.cid,function(b){return function(){var d,f;b.listenTo(b.model,{"change:name":b.renderNameDebounced,"change:labels":b.renderLabelsDebounced,"change:idAttachmentCover":b.renderCoverDebounced,"change:name change:labels change:due":b.renderFilteredDebounced,"change:dateLastActivity":b.renderPowerUpEffectsDebounced});b.listenTo(b.model.memberList,"add remove reset",function(){b.renderMembers();return b.renderFiltered()});b.listenTo(b.model.stickerList,
{"add remove reset change sort":b.renderStickersDebounced});d=b.model.getBoard();b.listenTo(d,"change:powerUps change:prefs.cardAging",b.renderPowerUpEffectsDebounced);b.listenTo(d.filter,"change",b.renderFilteredDebounced);f=d.viewState;b.listenTo(f,"change:cardMode",function(){if(f.get("idActiveCard")===b.model.id&&"editStickers"===f.get("cardMode"))return b.editStickers()});return b.listenToActiveCardChanges()}}(this))};b.prototype.destructor=function(){var d;d=this.model.getBoard();null!=d&&(d.offd("change:prefs",
this.render),d.filter.offd("change",this.renderFiltered),this.stopListeningToActiveCardChanges());this.subview(Nd,this.model).recursivelyStopListening();return b.__super__.destructor.apply(this,arguments)};b.prototype.listenToActiveCardChanges=function(){var b;b=this.model.getBoard().viewState;return this.listenTo(b,"change:idActiveCard",this.setActiveCard)};b.prototype.stopListeningToActiveCardChanges=function(){var b;b=this.model.getBoard().viewState;return this.stopListening(b,"change:idActiveCard",
this.setActiveCard)};b.prototype.setActiveCard=function(){var b;if(this.model.getBoard().viewState.isCardSelected(this.model))return X.addHandler(this,{scope:"card"}),$(".list-card.active-card").removeClass("active-card"),null!=(b=this.$el)?b.addClass("active-card"):void 0};b.prototype.getKeyScope=function(){return"cardView"};b.prototype.shortcut=function(b){var f,c,e;c=z.isLoggedIn();f=this.model.editable();e=this.onCalendar;switch(b){case 13:return this.showDetail(),"Enter - Open Card";case 69:return B.showCardDetail(this.model,
"editDesc"),"E - Open Card and Edit Description";case 84:return B.showCardDetail(this.model,"editTitle"),"T - Open Card and Edit Title";case 68:if(f)return this.showPopOver(ac),["D - Due Dates","On Board View"];break;case 76:if(f)return this.showPopOver(Hc),["L - Edit Labels","On Board View"];break;case 49:case 50:case 51:case 52:case 53:case 54:case 97:case 98:case 99:case 100:case 101:case 102:return b-=49<=b&&54>=b?49:97,this.model.toggleLabel(m.labelNames[b]),"1-6 - Toggle Specific Label";case 65:case 77:if(f)return this.showPopOver(Ic),
["A - Assign Members","Board View"];break;case 32:if(f)return this.model.toggleMember(z.myId()),"Space - Toggle Assigning Self";break;case 67:case 46:if(f)return this.model.close(),"C / Delete - Archive Card";break;case 190:if(f&&!e)return this.model.moveToNextList(),"> - Move to Next List";break;case 188:if(f&&!e)return this.model.moveToPrevList(),"< - Move to Previous List";break;case 86:if(c)return this.model.toggleVote(),"V - Vote";break;case 83:if(c)return b=this.model.get("subscribed"),this.model.subscribe(!b),
["S - Subscribe",b?"Unsubscribe":"Subscribe"]}};b.prototype.paste=function(b,f){var c;if("image"===b)return c=new Date,this.model.upload(f,"upload "+c.toString("yyyy-MM-dd")+" at "+c.toString("h.mm.ss tt").toLowerCase()+".png",function(){}),["Paste - Upload Image From Clipboard","Card"]};b.prototype.showPopOver=function(b){return w.toggle({elem:this.$(".js-card-menu"),view:b,options:{model:this.model,showShortcuts:!0,hideOnSelect:!0}})};b.prototype.render=function(){var b,f,c,e,h,l,k,m;J("render",
"rendering card "+this.model.get("name"));f=this.model.toJSON();f.showCover=this.showCover();f.showMenu=this.model.editable()&&!this.options.hideMenu;0<this.model.stickerList.length&&(f.hasStickers=!0);f.labels=this.model.getActiveLabels();h=this.model.getBoard().getOrganization();f.members=[];m=this.model.memberList.models.reverse();l=0;for(k=m.length;l<k;l++)c=m[l],e=c.toJSON(),e.isVirtual=(null!=h?h.isVirtual(c):void 0)||this.model.getBoard().isVirtual(c),null!=h&&(e.isDeactivated=h.isDeactivated(c)),
f.members.push(e);this.$el.toggleClass("js-archive-card",this.model.get("closed"));this.showCover()&&(b=this.model.attachmentList.get(this.model.get("idAttachmentCover")));this.$el.toggleClass("has-cover",null!=b);0<this.model.stickerList.length&&this.$el.addClass("has-stickers");b={label:u.label,member_on_card:u.member_on_card,member:u.member};this.el.innerHTML=u.fill("card_in_list",f,{editable:this.model.editable()},b);this.setActiveCard();this.renderFiltered();this.renderBadges();Qa.enqueue("render_"+
this.cid,function(b){return function(){b.renderCover();b.renderStickers();b.renderPowerUpEffects();b.model.onId(b.renderLink);b._droppableHookedSinceRender=!1;if(!ma.isTouch())return xa.HOOK_DROPPABLE_QUEUE.push(b)}}(this));return this};b.prototype.hookDroppable=function(b){if(null==this.$el||this._droppableHookedSinceRender)return"function"===typeof b?b():void 0;this._droppableHookedSinceRender=!0;ma.isTouch()||this.$el.droppable({refreshPositions:!0,inBounds:function(b){return function(b){var d,
f,c,k,m;c=M.boardOffset;d=M.boardHeight;f=M.boardWidth;return c.left<(k=b.pageX)&&k<c.left+f&&c.top<(m=b.pageY)&&m<c.top+d}}(this),accept:".js-list-draggable-board-members .member, .js-draggable-sticker",hoverClass:"active-card",drop:function(b){return function(d,c){var h,l,k,v,x,s;c.draggable.hasClass("member")?(k=c.draggable.data("id"),c.draggable.clone(),v=b.model.memberList.detect(function(b){return b.id===k}),v||(b.model.addMember(k),n("Card","Add Member by Board Sidebar"))):c.draggable.hasClass("js-draggable-sticker")&&
(v=c.draggable.data("sticker"),s=c.helper.offset(),h=b.$el.offset().top+1,l=b.$el.offset().left+1,x=b.$el.outerWidth()-1-1,l=s.left-l,h=s.top-h,x=100*(l/x),l=b.$(".js-card-stickers").height(),h=b.$el.hasClass("has-stickers")||b.$el.hasClass("has-cover")?100*(h/l):0,h>l&&(h=l),l=m.getElemTransformMatrix(c.helper.find(".sticker-select-fixed")),l=null!=l?m.getMatrixDegrees(l)%360:0,b.addNewStickerToList(v,x,h,l))}}(this)});return"function"===typeof b?b():void 0};b.prototype.addNewStickerToList=function(b,
f,c,e){var h,l;h=null!=(l=b.id)?l:b.get("image");n("Card","Sticker",h);this.model.stickerList.create({image:h,left:f,top:c,rotate:e,zIndex:this.model.stickerList.nextZIndex(),imageUrl:b.get("url"),imageScaled:b.get("scaled")},{modelCache:this.modelCache})};b.prototype.showStickers=function(){return!this.onCalendar};b.prototype.renderStickers=function(b){var f,c;if(this.showStickers()){f=this.$(".list-card-stickers-area");b=this.$(".js-card-stickers").empty();if(c=0<this.model.stickerList.length){this.$el.addClass("has-stickers");
f.removeClass("hide");var e,h,l;h=this.model.stickerList.models;l=[];c=0;for(e=h.length;c<e;c++)f=h[c],l.push(this.subview(bc,f));this.appendSubviews(l,b)}else this.$el.removeClass("has-stickers"),f.addClass("hide");return this}this.$el.removeClass("has-stickers")};b.prototype.renderName=function(){var b;b=this.model.toJSON();b=u.fill("card_title_on_card_front",b);this.$(".js-card-name").html(b);return this};b.prototype.renderLink=function(){var b;b=B.getCardUrl(this.model);this.$(".js-card-name").attr("href",
b);return this};b.prototype.renderLabels=function(){var b,f,c,e,h;e=this.model.getActiveLabels();h=[];f=0;for(c=e.length;f<c;f++)b=e[f],h.push(u.fill("label",b));b=h.join("");this.$(".js-card-labels").empty().append(b);return this};b.prototype.showCover=function(){return this.model.getBoard().getPref("cardCovers")&&this.model.get("idAttachmentCover")&&!this.onCalendar};b.prototype.renderCover=function(){var b,f,c,e,h;this.showCover()&&(c=this.model.attachmentList.get(this.model.get("idAttachmentCover")));
null!=c?(e=ma.isHighDPI()?600:300,e=null!=(b=c.smallestPreviewBiggerThan(e))?b:c.biggestPreview(),h=null!=e?e.url:c.get("url"),b=this.$(".js-card-cover"),b.css({"background-color":null!=(f=c.get("edgeColor"))?f:"transparent","background-image":'url("'+h+'")'}).removeClass("hide").toggleClass("no-preview-size",null==e),null!=e&&(f=this.$(".js-card-stickers"),h=Math.min(e.height,250),e=217*e.height/e.width,e<=h?(b.css({height:e,"background-size":"cover"}),f.css("height",e)):(b.css({height:h,"background-size":"contain"}),
f.css("height",h)))):this.$(".js-card-cover").css({"background-image":""}).addClass("hide").removeClass("no-preview-size");this.$el.toggleClass("has-cover",null!=c);return this};b.prototype.renderFiltered=function(b){null==this._visible&&(this._visible=!0);b=this.model.getBoard();b=null==b||!B.onBoardView(b.id)||!this.applyBoardCardFilter||b.filter.satisfiesFilter(this.model);this._visible!==b&&(this.$el.toggleClass("hide",!b).height(b?"":0),this._visible=b);return this};b.prototype.renderBadges=
function(){var b;b=this.subview(Nd,this.model);this.$(".badges").replaceWith(b.render().el);return this};b.prototype.renderMembers=function(b){var f;this.model.getBoard().getOrganization();f=this.model.memberList.models.reverse();var c,e,h;h=[];c=0;for(e=f.length;c<e;c++)b=f[c],h.push(this.getMemberOnCardHtml(b));b=h.join("");this.$(".js-list-card-members").empty().append(b);return this};b.prototype.renderPowerUpEffects=function(){var b,f;b=this.model.getBoard();this.$el.removeClass(this.model.getAllAgingClasses());
if(0<=F.call(null!=(f=b.get("powerUps"))?f:[],"cardAging")&&!this.model.get("closed"))return b=this.model.getAgingData(),this.$el.addClass(b.agingClassesToAdd)};b.prototype.openCardMenu=function(b){m.stop(b);w.toggle({elem:b.target,top:23,view:this.model.getView(yg)});n("Card Front","Open Card Menu")};b.prototype.editStickers=function(b){var f,c,e;m.stop(b);n("Card Front","Edit Card Stickers");c=this.$el.offset();e={width:this.$el.width(),left:c.left,top:c.top};f=this.$el.find(".sticker.hover");0<
f.length&&(c=this.model.stickerList.find(function(b){return b.getView(bc).el===f[0]}),null!=c&&(e.idSticker=c.id));this.model.getView(Fg).show(b,e);this._endStickerMousemove()};b.prototype.moveToCalendarDay=function(b,f,c){var e;if(f.sender.hasClass("js-archive-items"))return c=c.data.day,b=null!=(e=new Date(this.model.get("due")))?e:(new Date).setHours(12,0,0,0),e=H.getDateWithSpecificTime(b,c),this.model.update({due:e,closed:!1});c.getCardView(this.model).delegateEvents();if(M.isInBottomArchiveDropzone||
M.isInSidebarArchiveDropzone){if(!this.model.get("closed"))return this.model.close(),c.renderCardsAndListHeaders()}else return e=new Date(c.data.day),this.model.changeDueDateMaintainTime(e),c.updateHeader(),c.renderCardsAndListHeaders()};b.prototype.moveInCalendarDay=function(b,f,c){c.getCardView(this.model).delegateEvents();if(M.isInBottomArchiveDropzone||M.isInSidebarArchiveDropzone)this.model.get("closed")||this.model.close();return c.renderCardsAndListHeaders()};b.prototype.moveTo=function(b,
f,c,e){var h,l,k;0===f.item.parents(".list").length?(m.callDebounced(null!=(h=c.renderCards)?h:function(){}),m.callDebounced(null!=(l=null!=(k=this.model.getList())?k.view.renderCards:void 0)?l:function(){})):(h=this.model.get("closed"),(b=M.isInBottomArchiveDropzone||M.isInSidebarArchiveDropzone)?(h||this.model.update("closed",!0),M.isInBottomArchiveDropzone&&!M.isInSidebarArchiveDropzone?this.model.getBoard().view.droppedInBottomArchive():this.model.getBoard().viewState.setArchiveBottomDropzone(!1)):
(b=f.item.parents(".list").find(".list-card:not(.placeholder,.js-composer)"),b=b.index(f.item),e||f.item.remove(),this.model.moveToList(c.model,b),this.model.getBoard().viewState.setArchiveBottomDropzone(!1)))};b.prototype.moveIn=function(b,f,c){c.model.id===this.model.get("idList")&&this.moveTo(b,f,c,!0)};b.prototype.selectCard=function(b){var f,c;!w.isVisible&&!(M.sorting||null!=(f=this.model.getBoard())&&null!=(c=f.view)&&c.ignoreMouseCardSelects)&&this.model.getBoard().viewState.selectCard(this.model)};
b.prototype._eventDomain=function(){return".card-stickers-"+this.cid};b.prototype.mouseEnterEvent=function(){var b,f,c;xa.HOOK_DROPPABLE_QUEUE.push(this);if(this.model.editable()&&0<this.model.stickerList.length)return b=$("#edit-sticker"),f=!0,c=null,setTimeout(function(){return f=!1},100),$(document).off(this._eventDomain()).on("mousewheel"+this._eventDomain(),function(e){return function(h){b.hide();e.$el.find(".sticker").removeClass("hover");f=!0;clearTimeout(c);return c=setTimeout(function(){return f=
!1},100)}}(this)).on("mousemove"+this._eventDomain(),_.throttle(function(c){return function(g){var l,k,m,x;if(!f)if($(g.target).closest(".list-card")[0]!==c.el&&0===$(g.target).closest("#edit-sticker").length)f=!0,c._endStickerMousemove();else if(l=c.$el.find(".sticker.hover"),!(0<l.length&&0<=(m=g.pageX-l.offset().left)&&m<=l.width()&&0<=(x=g.pageY-l.offset().top)&&x<=l.height()))if(c.$el.find(".sticker").removeClass("hover"),k=$(g.target).closest(".sticker"),0<k.length){if(!c.$el.hasClass("ui-sortable-helper"))return _.delay(function(){if(!f)return b.css({left:k.offset().left,
top:k.offset().top+k.height()-b.outerHeight()}).show().off("mousedown").on("mousedown",function(b){if(!(null!=b&&1!==b.which))return c.editStickers(b)}),k.addClass("hover")},25)}else return b.hide()}}(this),25,!0))};b.prototype._endEditTimeout=function(){return clearTimeout(this._startEditTimeout)};b.prototype._endStickerMousemove=function(){this._endEditTimeout();this.$el.find(".sticker").removeClass("hover");$(document).off(this._eventDomain());return $("#edit-sticker").hide()};b.prototype.mouseLeaveEvent=
function(b){b=document.elementFromPoint(b.pageX,b.pageY);null!=b&&0<$(b).closest("#edit-sticker").length||(this.deselectCard(),xa.HOOK_DROPPABLE_QUEUE.push(this))};b.prototype.deselectCard=function(){var b,f;if(!w.isVisible&&!(M.sorting||null!=(b=this.model.getBoard())&&null!=(f=b.view)&&f.ignoreMouseCardSelects))$(".list-card.active-card").removeClass("active-card"),this.model.getBoard().viewState.selectCard(null)};b.prototype.showDetail=function(b){if((!b||!b.ctrlKey&&!b.metaKey&&!b.shiftKey)&&
this.doClicks()&&!this._wasLongPress)return m.stop(b),B.showCardDetail(this.model)};b.prototype.dragenterFront=function(b){var f;f=this.$el.outerHeight();this.$(".list-card-dropzone").css({height:""+f+"px","line-height":""+f+"px"});return this.dragenter(b)};b.prototype.dropFront=function(b){n("Card Front","Drop Attachment Upload");return this.drop(b)};b.prototype.doClicks=function(){return!M.sorting};b.prototype._cancelLongPress=function(){clearTimeout(this._longPressTimeout);this._longPressTimeout=
null;if(this._wasLongPress)return _.defer(function(b){return function(){return b._wasLongPress=!1}}(this))};b.prototype.mousedown=function(b){var f,c;if(this.model.editable()&&(this._cancelLongPress(),b=null!=(c=this._longPressHandler(b))?c:{},f=b.handler,c=b.timeout,null!=f))return this._longPressTimeout=setTimeout(function(b){return function(){b._cancelLongPress();if(!b.$el.hasClass("ui-sortable-helper"))return b._wasLongPress=!0,$(document).unbind(".sortable"),f()}}(this),c)};b.prototype.mouseup=
function(b){return this._cancelLongPress()};b.prototype._longPressHandler=function(b){return 0<$(b.target).closest(".sticker").length?{handler:function(f){return function(){return f.editStickers(b)}}(this),timeout:500}:null};return b}(A));Ud=function(c){function b(){return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.viewType=xa;b.prototype.getModels=function(){return this.collection.openCards()};b.prototype.render=function(){var b,f,c,e,h;J("render","rendering "+this.getModels().length+
" "+this.collection.model.name+"s into "+this.viewType.name);c=new async.queue(function(b){return function(d,f){var c;b.appendSubviews(function(){var b,f,e;e=[];b=0;for(f=d.length;b<f;b++)c=d[b],e.push(this.subview(this.viewType,c));return e}.call(b));return _.defer(f)}}(this),1);f=this.getModels();for(b=[];0<f.length;)b.push(f.splice(0,20));e=0;for(h=b.length;e<h;e++)f=b[e],c.push([f]);return this};b.prototype.insertSubview=function(b,f,c){var e;null==c&&(c=this.$el);J("render","inserting "+b.$el.find("h2").text()+
" at position "+f);"number"===typeof f?f=0>=f?c.children().eq(0):f<c.children().length?c.children().eq(f):void 0:f instanceof A&&(f=f.$el);e=b.model;b.$el.is(":empty")?(b.delegateEvents(),b.render()):!c.hasClass("hide")&&!e.getBoard().filter.satisfiesFilter(e)&&b.renderFiltered();0<(null!=f?f.length:void 0)?b.$el.insertBefore(f):c.append(b.$el);return M.refreshIfInitialized(this.$el)};return b}(Pb);Ed=function(c){function b(){return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.onCalendar=
!0;return b}(xa);Jc=function(c){function b(){this.render=k(this.render,this);return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.initialize=function(){return this.cardView=this.subview(xa,this.model,{filterDeactivated:!1,showMemberStatus:!1})};b.prototype.className="list-card-container";b.prototype.render=function(){var b;b={listName:this.model.getList().get("name"),boardName:this.model.getBoard().get("name"),showBoard:this.options.dateSort};this.$el.html(u.fill("member_cards_card",
b));this.appendSubview(this.cardView,this.$(".js-card"));return this};return b}(A);Wd=function(c){function b(){this.openBoxFilePicker=k(this.openBoxFilePicker,this);this.openOneDriveFilePicker=k(this.openOneDriveFilePicker,this);this.openDropboxFilePicker=k(this.openDropboxFilePicker,this);this.openGoogleDriveFilePicker=k(this.openGoogleDriveFilePicker,this);this._loadOnce=k(this._loadOnce,this);this.startUpload=k(this.startUpload,this);this.render=k(this.render,this);this.getViewTitle=k(this.getViewTitle,
this);return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.getViewTitle=function(){return"Attach From..."};b.prototype.initialize=function(){return this.listenTo(Kb,"loaded",this.render)};b.prototype.events={"click .js-google-drive-attachment":"openGoogleDriveFilePicker","click .js-dropbox-attachment":"openDropboxFilePicker","click .js-one-drive-attachment":"openOneDriveFilePicker","click .js-box-attachment":"openBoxFilePicker","change .js-attach-file":"startUpload","click .js-gold-promo":"openPromo",
"click .js-add-attachment-url":"addUrl","keydown .js-attachment-url":"keydown"};b.prototype._scripts={dropbox:"https://www.dropbox.com/static/api/1/dropbox.js",box:"https://app.box.com/js/static/select.js",oneDrive:"https://js.live.net/v5.0/wl.js"};b.prototype.getData=function(){return async.forEach([this._scripts.dropbox,this._scripts.oneDrive,this._scripts.box],function(b){return function(f,c){return b._loadOnce(f,c)}}(this))};b.prototype.render=function(){var b,f;b=this.model.toJSON();b.hasLargeAttachments=
null!=(f=z.me())?f.isFeatureEnabled("largeAttachments"):void 0;b.googleDriveReady=Kb.loaded;this.$el.html(u.fill("attachment_type_picker",b));return this};b.prototype.startUpload=function(b){var f,c,e;e=$(b.target);f=this.$(".js-file-too-large").hide();c=e[0].files;b=function(b){if(b)return f.show(),n("Card Detail","Attachment","Upload Error - File Too Large");n("Card Detail","Upload Attachment Complete - Via Picker");1<c.length&&O.show("Finished!","info","AjaxQueueUpload",2E3);return w.hide()};0<
(null!=c?c.length:void 0)?_.any(c,function(b){return!m.validCardUpload(b)})?b("too large"):async.forEachSeries(c,function(b){return function(d,f){return b.model.upload(d,f)}}(this),b):m.uploadFile(e,b)};b.prototype._loadOnce=function(b,f){null==this._loadedScripts&&(this._loadedScripts={});return this._loadedScripts[b]?f():$.getScript(b,function(c){return function(){c._loadedScripts[b]=!0;return f()}}(this))};b.prototype.openGoogleDriveFilePicker=function(b){m.stop(b);return async.auto({picker:function(b){return gapi.load("picker",
b)},oauthToken:function(b){return Kb.authorize(null!=Kb.oauthToken,b)},open:["picker","oauthToken",function(b){return function(d,c){var h,l;l=c.oauthToken;h=new google.picker.DocsView;h.setIncludeFolders(!0);(new google.picker.PickerBuilder).enableFeature(google.picker.Feature.MULTISELECT_ENABLED).addView(h).setOAuthToken(l).setDeveloperKey(window.googleDrive.publicAPIKey).setCallback(function(d){null!=d.docs&&async.forEachSeries(d.docs,function(d,c){return T({url:"/1/cards/"+b.model.id+"/attachments",
type:"post",data:{url:d.url,name:d.name,mimeType:d.mimeType},success:function(){c();n("Card Detail","Upload Google Drive File");return w.hide()}})},function(){})}).build().setVisible(!0);return $("iframe.picker-frame[src*=authserviceid]").attr("src",function(){return $(this).attr("src").replace(/authserviceid/g,"fixgoogle")})}}(this)]},function(b){if(b)throw b;})};b.prototype.openDropboxFilePicker=function(b){m.stop(b);return this._loadOnce(this._scripts.dropbox,function(b){return function(){Dropbox.init({appKey:"c1ezquoytg5upju"});
return Dropbox.choose({linkType:"preview",iframe:!0,success:function(d){async.forEachSeries(d,function(d,c){return T({url:"/1/cards/"+b.model.id+"/attachments",type:"post",data:{url:d.link,name:d.name},success:function(){c();n("Card Detail","Upload Dropbox File");return w.hide()}})},function(){})}})}}(this))};b.prototype.openOneDriveFilePicker=function(b){m.stop(b);return this._loadOnce(this._scripts.oneDrive,function(b){return function(){WL.init({client_id:"0000000040119A6B",redirect_uri:""+siteDomain+
"/onedrive_callback.html"});return WL.login({scope:"wl.skydrive wl.signin"}).then(function(d){return WL.fileDialog({mode:"open",select:"single"}).then(function(d){var c;async.forEachSeries(_.toArray(null!=d?null!=(c=d.data)?c.files:void 0:void 0),function(d,c){return T({url:"/1/cards/"+b.model.id+"/attachments",type:"post",data:{url:d.link,name:d.name},success:function(){c();n("Card Detail","Upload OneDrive File");return w.hide()}})},function(){})})})}}(this))};b.prototype.openBoxFilePicker=function(b){m.stop(b);
return this._loadOnce(this._scripts.box,function(b){return function(){var d,c;d=new BoxSelect({clientId:"zclwcvudmddhz0cscz3w6awtcfs8bne3",linkType:"shared",multiselect:!0});c=function(h){d.unregister(d.SUCCESS_EVENT_TYPE,c);async.forEachSeries(h,function(d,c){return T({url:"/1/cards/"+b.model.id+"/attachments",type:"post",data:{url:d.url,name:d.name},success:function(){c();n("Card Detail","Upload Box File");return w.hide()}})},function(){})};d.success(c);return d.launchPopup()}}(this))};b.prototype.openPromo=
function(b){var c;m.stop(b);return W.show({view:null!=(c=z.me())?c.getView(Kc):void 0})};b.prototype.keydown=function(b){if(m.isSubmitKey(b))return this.addUrl()};b.prototype.addUrl=function(b){b=this.$(".js-attachment-url").val().split(/\s+/);b=_.filter(b,function(b){return/\S/.test(b)});if(!_.isEmpty(b)&&10>b.length)return w.pushView({view:Bg}),async.forEach(b,function(b){return function(d,c){return T({url:"/1/cards/"+b.model.id+"/attachments",type:"post",data:{url:d},success:function(){return n("Card Detail",
"Upload link")},complete:function(){return c()}})}}(this),function(){return w.hide()})};return b}(A);Bg=function(c){function b(){return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.getViewTitle=function(){return"Sending Links\u2026"};b.prototype.render=function(){this.$el.html('<div class="spinner loading"></div>');return this};return b}(A);wg=ea(Ad,Vb,nb,Zd,function(c){function b(){return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.className="clearfix";b.prototype.defaultActionLimit=
50;b.prototype.maximumCommentLength=16384;b.prototype.initialize=function(){this.makeDebouncedMethods("render","renderCover","renderStickers","renderName","renderDescription","renderArchived","renderLabels","renderList","renderVotes","renderDueDate","renderSubscribe","renderAttachments","renderMembers","renderAging");this.listenTo(this.model,{"change:name":this.renderNameDebounced,"change:desc":this.renderDescriptionDebounced,"change:closed":this.renderArchivedDebounced,"change:labels":this.renderLabelsDebounced,
"change:idList":this.renderListDebounced,"change:idMembersVoted":this.renderVotesDebounced,"change:due":this.renderDueDateDebounced,"change:subscribed":this.renderSubscribeDebounced,"change:dateLastActivity":this.renderAgingDebounced,"change:idAttachmentCover":function(){this.renderAttachmentsDebounced();return this.renderCoverDebounced()},remove:this.closeDialog});this.listenTo(this.model.memberList,{"add remove reset":this.renderMembersDebounced});this.listenTo(this.model.memberVotedList,{"add remove reset":this.renderVotesDebounced});
this.listenTo(this.model.checklistList,{"add remove reset":this.renderChecklists,sort:this.sortChecklists});this.listenTo(this.model.attachmentList,{"add remove reset":this.renderAttachmentsDebounced});this.listenTo(this.model.stickerList,{"add remove reset change sort":this.renderStickersDebounced});this.listenTo(this.model.memberEditingList,{"add remove reset change:action":this.renderEditing});this.listenTo(this.model.getBoard(),{"change:labelNames":this.renderLabelsDebounced,"change:prefs":this.renderDebounced});
this.getData();this.listenTo(Fa,"change:processingAttachmentsLength",function(){return this.renderProcessingAttachments()});return this.actionListView=this.collectionSubview(Jb,this.model.actionList,{renderOpts:{context:this.model,compact:!1}})};b.prototype.events={"click .js-edit-labels":"editLabelsSidebar","click .js-change-card-members":"changeMembersSidebar","click .js-add-checklist-menu":"addChecklistSidebar","click .js-add-due-date":"dueDateSidebar","click .js-attach":"openAttachPicker","click .js-move-card":"moveCard",
"click .js-copy-card":"copyCard","click .js-subscribe":"subscribe","click .js-unsubscribe":"unsubscribe","click .js-vote":"vote","click .js-unvote":"unvote","click .js-archive-card":"archiveCard","click .js-unarchive-card":"unarchiveCard","click .js-delete-card":"deleteCardSidebar","click .js-more-menu":"showMoreMenu","click .js-open-card-cover-in-viewer":"openCoverInViewer","click .js-open-move-from-header":"openMoveFromHeader","click .js-details-edit-members":"editMembersMain","click .js-details-edit-labels":"editLabelsMain",
"click .js-edit-label .card-label":"editLabelsMainSingleLabel","click .js-details-edit-due-date":"showDueDateBadgeMenu","click .js-show-votes":"showVotes","click .js-edit-desc":"editDesc","click .js-member-on-card-menu":"openMemberOnCardMenu","click .js-view-some-attachments":"showFewerAttachments","click .js-view-all-attachments":"showMoreAttachments","click .js-show-all-actions":"showAllActions","keydown .js-new-comment-input":"keydownCommentEvent","input .js-new-comment-input":"checkLength","click .js-add-comment:not(:disabled)":"submitComment",
"click .js-attach-comment":"attachComment","click .js-truncate-comment":"truncateComment","click .js-cancel-comment":"clearComment","click .js-new-comment":"inputComment","focus .js-new-comment-input":"inputComment","click .js-open-editing-menu":"openEditingMenu","keyup .js-new-comment-input":"keyAutoMention","click .js-format-help":"openFormatHelp",dragenter:"dragenterBack",dragover:"dragover",dragleave:"dragleave",dragexit:"dragexit",dragend:"dragend",drop:"dropBack","sortstop .js-checklist-list":"sortStop",
shortcut:"shortcut"};b.prototype.shortcut=function(b){var c,g,e;c=this.model.getBoard();g=this.model.editable();e=z.isLoggedIn();switch(b){case 32:if(g)return this.model.toggleMember(z.myId()),["Space - Toggle Assigning Self","Card Detail"];break;case 65:case 77:if(g)return this.changeMembersSidebar(),["A - Assign Members","Card Detail"];break;case 69:if(g)return this.editDesc(),["E - Edit Description","Card Detail"];break;case 76:if(g)return this.editLabelsSidebar(),["L - Edit Labels","Card Detail"];
break;case 68:if(g)return null!=this.model.get("due")?this.showDueDateBadgeMenu():this.dueDateSidebar(),["D - Due Dates","Card Detail"];break;case 67:case 46:if(g)return this.archiveCard(),["C / Delete - Archive Card"];break;case 84:if(g)return this.editTitle(),"T - Edit Title";break;case 190:if(g)return this.model.moveToNextList(),"> - Move to Next List";break;case 188:if(g)return this.model.moveToPrevList(),"< - Move to Previous List";break;case 9:if(g)return this.clickNextTabbable(),"Tab - Open Editable";
break;case 49:case 50:case 51:case 52:case 53:case 54:case 97:case 98:case 99:case 100:case 101:case 102:if(g)return b-=49<=b&&54>=b?49:97,this.model.toggleLabel(m.labelNames[b]),"1-6 - Toggle Specific Label";break;case 86:if(c.canVote(z.me()))return this.model.toggleVote(),"V - Vote";break;case 83:if(e)return b=this.model.get("subscribed"),this.model.subscribe(!b),["S - Subscribe",b?"Unsubscribe":"Subscribe"];break;case 74:if(null!=(b=this.model.nextCard()))return B.showCardDetail(b,null,!0),"J - Down";
break;case 75:if(null!=(b=this.model.prevCard()))return B.showCardDetail(b,null,!0),"K - Up"}};b.prototype.paste=function(b,c){var g;if("image"===b)return g=new Date,this.model.upload(c,"upload "+g.toString("yyyy-MM-dd")+" at "+g.toString("h.mm.ss tt").toLowerCase()+".png",function(){}),["Paste - Upload Image From Clipboard","Card Detail"]};b.prototype.getData=function(){this.loading=!0;this.model.onId(function(b){return function(){return async.series([function(c){return P["for"](b.modelCache).loadCardActions(b.model.get("idBoard"),
b.model.id,c)}],function(c){b.loading=!1;return b.$(".js-loading-card-actions").hide()})}}(this))};b.prototype.render=function(){var b;this.fShowAllActions=this.fShowAllAttachments=!1;b={canComment:this.model.getBoard().canComment(z.me()),canVote:this.model.getBoard().canVote(z.me()),hasVoted:this.model.voted(),canSubscribe:z.isLoggedIn(),hasAttachments:0<this.model.attachmentList.length,dateAdded:null!=this.model.id?m.idToDate(this.model.id):new Date,me:z.me().toJSON(),loading:this.loading};b.showActions=
b.canVote||b.canSubscribe;this.$el.toggleClass("editable",this.model.editable()).html(u.fillFromModel("card_detail",this.model,b,{member:u.member}));this.actionListView.setElement(this.$(".list-actions")[0]);this.commentInput=this.$(".new-comment-input")[0];this.renderCover().renderStickers().renderName().renderDescription().renderList().renderActionList().renderMembers().renderArchived().renderChecklists().renderSubscribe().renderVotes().renderDueDate().renderAttachments().renderLabels().renderAging().renderEditing();
this.recallDrafts();_.defer(_.bind(this.fixSidebar,this));H.update(this.el);return this};b.prototype.getSidebarLeft=function(){return parseFloat($(".window").css("left"))+$(".window").width()-this.$(".window-sidebar").outerWidth()};b.prototype.resetSidebarPos=function(){return this.$(".window-sidebar").css({left:"",top:"",position:"relative"})};b.prototype.fixSidebarPos=function(){return this.$(".window-sidebar").css({left:this.getSidebarLeft(),top:0,position:"fixed"})};b.prototype.forceUpdateSidebarPos=
function(){return $(".window-overlay").scrollTop()<=this.sidebarScrollTop||ra.fSmall?this.resetSidebarPos():this.fixSidebarPos()};b.prototype.fixSidebar=function(){var b,c,g,e;b=$(".window-overlay").off("scroll.fixSidebar");this.sidebarScrollTop=this.$(".window-sidebar").offset().top;g=c=!1;e=function(e){return function(){b.scrollTop()<=e.sidebarScrollTop||ra.fSmall?g||(e.resetSidebarPos(),c=!1,g=!0):c||(e.fixSidebarPos(),c=!0,g=!1)}}(this);b.on("scroll.fixSidebar",function(){return requestAnimationFrame(e)})};
b.prototype.editDesc=function(b){m.stop(b);this.edit("desc")};b.prototype.editTitle=function(b){this.$(".card-detail-title .current").click()};b.prototype.archiveCard=function(b){this.model.close();n("Card Detail","Sidebar","Archive Button")};b.prototype.unarchiveCard=function(b){n("Card Detail","Sidebar","Re-Open Button");this.model.reopen()};b.prototype.deleteCardSidebar=function(b){pa.toggle({elem:this.$(".js-delete-card"),model:this.model,top:35,title:"Delete Card?",text:"All actions will be removed from the activity feed and you won't be able to re-open the card. There is no undo. You can archive a card to remove it from the board and preserve the activity.",
confirmText:"Delete",confirmBtnClass:"negate",fxConfirm:function(b){return function(d){W.hide();b.model.destroy();return n("Card","Delete")}}(this)});n("Card Detail","Sidebar","Open Delete Confirm")};b.prototype.showMoreMenu=function(b){m.stop(b);w.toggle({elem:this.$(".js-more-menu"),top:30,view:vg,options:{model:this.model,modelCache:this.modelCache}});n("Card Detail","Sidebar","Open More Menu")};b.prototype.openCoverInViewer=function(b){m.stop(b);b=this.model.attachmentList.get(this.model.get("idAttachmentCover"));
(new Dc({model:this.model,modelCache:this.modelCache,attachmentModel:b})).render();n("Card Detail","Open Attachment Viewer via Cover",this.model.getType())};b.prototype.openMoveMenu=function(b,c){w.toggle({elem:b,top:c,view:Yd,options:{model:this.model,modelCache:this.modelCache}})};b.prototype.openMoveFromHeader=function(b){m.stop(b);this.openMoveMenu(this.$(".js-open-move-from-header"),20);n("Card Detail","Move Button (via Header)")};b.prototype.moveCard=function(b){m.stop(b);this.openMoveMenu(this.$(".js-move-card"),
35);n("Card Detail","Sidebar","Open Move Menu")};b.prototype.copyCard=function(b){m.stop(b);w.toggle({elem:this.$(".js-copy-card"),top:35,view:Gc,options:{model:this.model,modelCache:this.modelCache}});n("Card Detail","Sidebar","Open Copy Menu")};b.prototype.openLabelsPopOver=function(b,c){w.toggle({elem:b,top:c,view:Hc,options:{model:this.model,modelCache:this.modelCache}})};b.prototype.editLabelsMainSingleLabel=function(b){m.stop(b);this.openLabelsPopOver(this.$(b.target).closest(".card-label"),
35);n("Card Detail","Edit Labels Main Column - Single Label")};b.prototype.editLabelsMain=function(b){m.stop(b);this.openLabelsPopOver(this.$(".js-details-edit-labels"),35);n("Card Detail","Edit Labels Main Column - Plus Button")};b.prototype.editLabelsSidebar=function(b){m.stop(b);this.openLabelsPopOver(this.$(".js-edit-labels"),35);n("Card Detail","Sidebar","Edit Labels Button")};b.prototype.showVotes=function(b){m.stop(b);this.model.getVoterDisplayData();w.toggle({elem:this.$(".js-show-votes"),
top:35,view:Gg,options:{model:this.model,modelCache:this.modelCache}});n("Card Detail","Header Vote Button")};b.prototype.doClicks=function(){return!M.sorting};b.prototype.showCover=function(){return this.model.getBoard().getPref("cardCovers")&&null!=this.model.attachmentList.get(this.model.get("idAttachmentCover"))};b.prototype.checkShowCover=function(){var b,c;b=this.showCover();c=0<this.model.stickerList.length;b?this.$(".js-card-cover-box").removeClass("hide window-cover-stickers-only"):c?this.$(".js-card-cover-box").removeClass("hide").addClass("window-cover-stickers-only"):
this.$(".js-card-cover-box").addClass("hide");this.sidebarScrollTop=this.$(".window-sidebar").offset().top};b.prototype.clearCover=function(){this.$(".js-card-cover-box").css({"background-color":"","background-image":""});return $(".dialog-close-button").removeClass("dialog-close-button-transparent dialog-close-button-light dialog-close-button-dark")};b.prototype.renderCover=function(){var b,c,g,e,h,l,k,v,x;this.clearCover();this.showCover()&&(c=this.model.attachmentList.get(this.model.get("idAttachmentCover")),
null!=c&&(h=ma.isHighDPI()?1400:700,l=c.get("previews"),h=null!=(g=m.smallestPreviewBiggerThan(l,h))?g:m.biggestPreview(l),g=null!=h?h.url:c.get("url"),k=null!=(e=null!=(v=m.smallestPreviewBiggerThan(c.get("previews"),100,100))?v.url:void 0)?e:c.get("url"),b=this.$(".js-card-cover-box"),async.assembly([function(e){var g,h,l,v;if(null!=(l=c.get("edgeColor")))return h=l.match(/[0-9a-f]{2}/ig),e(null,function(){var b,d,c;c=[];b=0;for(d=h.length;b<d;b++)v=h[b],c.push(parseInt(v,16));return c}());g=new dd;
b.addClass("window-cover-async");return m.waitForImageLoad(m.proxyImage(k),function(b){return function(b){return e(null,g.getColor(b))}}(this))},function(c,f){var e,g,h,l;l=f[0];h=f[1];e=f[2];b.css("background-color","rgb("+l+", "+h+", "+e+")");e=(l+h+e)/3;150<e?g="dark":105>e&&(g="light");null!=g&&$(".dialog-close-button").addClass("dialog-close-button-"+g)}],function(){}),e=Math.max(40,Math.min(null!=(x=null!=h?h.height:void 0)?x:160,160)),this.$(".js-card-cover-box").css({"background-image":'url("'+
g+'")',height:e,"background-size":(null!=h?h.height:void 0)<e?"initial":"contain"})),$(".dialog-close-button").toggleClass("dialog-close-button-transparent",null!=c));this.checkShowCover();return this};b.prototype.renderStickers=function(){var b,c,g;b=this.$(".js-display-stickers").empty();g=this.model.stickerList.models;if(0<g.length){var e,h,l;l=[];e=0;for(h=g.length;e<h;e++)c=g[e],l.push(this.subview(bc,c,{board:this.model}));this.appendSubviews(l,b)}this.checkShowCover();return this};b.prototype.renderName=
function(){var b;b=this.model.get("name");this.$(".js-card-title").text(b);B.title(""+b+" on "+this.model.getBoard().get("name"));return this};b.prototype.renderDescription=function(){var b,c;b=this.model.get("desc");c=Sa.full.format(null!=b?b:"",{textData:this.model.get("descData")}).output;this.$(".js-card-desc").empty().append(c).data("unmarkeddown",b);b=!/^\s*$/.test(c);this.$(".js-show-with-desc").toggleClass("hide",!b);this.$(".js-hide-with-desc").toggleClass("hide",b);return this};b.prototype.renderList=
function(){var b;b=this.model.getList();null!=b&&this.$(".js-current-list").removeClass("hide").html(u.fill("card_detail_list",{listName:b.get("name")},{editable:this.model.editable()}));return this};b.prototype.renderArchived=function(){var b;b=!0===this.model.get("closed");this.$(".js-archive-banner").toggleClass("hide",!b);this.$(".js-archive-card").toggleClass("hide",b);this.$(".js-unarchive-card").toggleClass("hide",!b);this.$(".js-delete-card").toggleClass("hide",!b);return this};b.prototype.showAllActions=
function(b){this.fShowAllActions=!0;this.renderActionList()};b.prototype.renderActionList=function(){this.fShowAllActions||this.model.actionList.length<=this.defaultActionLimit?(this.$(".js-show-all-actions").addClass("hide"),this.actionListView.renderOpts.limit=null):(this.$(".js-show-all-actions").removeClass("hide"),this.actionListView.renderOpts.limit=this.defaultActionLimit);this.model.onId(function(b){return function(){return b.actionListView.render()}}(this));return this};b.prototype.renderMembers=
function(b){var c,g;b=this.$(".js-card-detail-members-list").empty();g=this.model.memberList.filterDeactivated({model:this.model.getBoard()}).models;var e,h,l;l=[];e=0;for(h=g.length;e<h;e++)c=g[e],l.push(this.getMemberOnCardHtml(c));c=l.join("");b.html(c);this.model.editable()&&(c={classes:"js-details-edit-members"},b.append(u.fill("card_detail_add_button",c)));this.$(".js-card-detail-members").toggleClass("hide",0===g.length);return this};b.prototype.renderLabels=function(){var b,c,g;c=this.model.getActiveLabels();
b=this.$(".js-card-detail-labels-list").empty();var e,h,l;l=[];e=0;for(h=c.length;e<h;e++)g=c[e],l.push(u.fill("label",g));g=l.join("");b.append(g);this.model.editable()&&(g={classes:"js-details-edit-labels"},b.append(u.fill("card_detail_add_button",g)).addClass("editable-labels js-edit-label"));this.$(".js-card-detail-labels").toggleClass("hide",0===c.length);return this};b.prototype.renderSubscribe=function(){var b,c,g;b=this.$(".js-subscribe-sidebar-button");c={subscribed:this.model.get("subscribed")||
(null!=(g=this.model.get("badges"))?g.subscribed:void 0)};b.html(u.fill("card_detail_subscribe",c));this.$(".js-subscribed-indicator-header").toggleClass("hide",!c.subscribed);return this};b.prototype.renderAging=function(){var b,c,g;c=this.model.getBoard();c=0<=F.call(null!=(b=c.get("powerUps"))?b:[],"cardAging");b=this.$(".js-card-detail-age-badge").removeClass(this.model.getAllAgingClasses());c&&(g=this.model.getAgingData(),b.removeData("date").attr("dt",this.model.get("dateLastActivity")),"pirate"===
g.mode&&b.addClass(g.agingClassesToAdd),H.update(this.$(".js-card-detail-age")));this.$(".js-card-detail-age").toggleClass("hide",!c);return this};b.prototype.renderDueDate=function(){var b,c,g,e;c=null!=(g=this.model.get("due"))?g:null;null!=c?(g=this.model.editable(),e=H.toLongString(new Date(c)),b=m.getDueDateBadgeAdditionalTitle(c),null!=b&&(e+=" ("+b+")"),b=[],b.push(m.getDueDateBadgeClasses(c)),g&&b.push("js-details-edit-due-date","badge-state-clickable"),this.$(".js-card-detail-due-date-badge").removeClass(function(b,
d){return(d.match(/badge-state-\S+/g)||[]).join(" ")}).addClass(b.join(" ")).attr("title",m.getDueDateBadgeTitle(c)).html(e),this.$(".js-card-detail-due-date").removeClass("hide")):this.$(".js-card-detail-due-date").addClass("hide");return this};b.prototype.renderVotes=function(){var b,c,g,e,h,l;c=this.model.toJSON();c.voted=this.model.voted();c.canVote=this.model.getBoard().canVote(z.me());this.$(".js-vote-sidebar-button").html(u.fill("card_detail_vote_btn_sidebar",c));if(b=null!=(g=null!=(e=c.badges)?
e.votes:void 0)?g:0)this.$(".js-card-detail-votes-badge").html(m.formatCount(b,"vote")).toggleClass("badge-state-voted",null!=(h=null!=(l=c.badges)?l.viewingMemberVoted:void 0)?h:!1);this.$(".js-card-detail-votes").toggleClass("hide",0===b);return this};b.prototype.sortChecklists=function(){var b;b=this.$(".js-checklist-list");m.withoutAlteringSelection(function(c){return function(){return c.model.checklistList.forEach(function(g){g=c.existingSubview(Lc,g);return b.append(g.el)})}}(this));return this};
b.prototype.renderChecklists=function(){var b,c,g,e;J("render","rendering checklists");b=this.$(".js-checklist-list").empty();g=function(){var b,d,e,g;e=this.model.checklistList.models;g=[];b=0;for(d=e.length;b<d;b++)c=e[b],g.push(this.subview(Lc,c,{card:this.model}));return g}.call(this);this.appendSubviews(g,b);M.refreshIfInitialized(b);null!=(e=this.model)&&e.editable()&&this.$(".js-checklist-list").sortable({axis:"y",containment:".window-main-col",handle:".window-module-title",delay:"75",distance:"7",
tolerance:"pointer",placeholder:"checklist placeholder",items:".checklist",start:function(b,d){var c;c=$(d.helper).outerHeight();return $(d.placeholder).height(c)}});return this};b.prototype.showFewerAttachments=function(b){m.stop(b);this.fShowAllAttachments=!1;this.renderAttachments()};b.prototype.showMoreAttachments=function(b){m.stop(b);this.fShowAllAttachments=!0;this.renderAttachments()};b.prototype.renderAttachments=function(){var b,c,g,e,h,l,k;h=0<(null!=(b=this.model.attachmentList)?b.length:
void 0);l=this.model.attachmentList.models.slice(0,6);k=6<=this.model.attachmentList.length;c=this.$(".js-attachments-section");b=c.find(".js-attachment-list").empty();c.find(".js-num-attachments").text(this.model.attachmentList.length-6);g=c.find(".js-show-fewer-attachments").addClass("hide");e=c.find(".js-show-more-attachments").addClass("hide");c.toggleClass("hide",!h);if(h){k&&(this.fShowAllAttachments?(g.removeClass("hide"),l=this.model.attachmentList.models):e.removeClass("hide"));e=[];c=0;
for(g=l.length;c<g;c++)h=l[c],e.push(this.subview(Hg,h));this.appendSubviews(e,b)}return this};b.prototype.renderProcessingAttachments=function(){var b;this.$(".js-attachment-thumb-processing").remove();b=Fa.getProcessingAttachmentsLength();return _.times(b,this.addProcessingAttachmentElement)};b.prototype.addProcessingAttachmentElement=function(){this.$(".js-attachments-section .js-attachment-list").prepend(u.fill("attachment_thumb_processing"))};b.prototype.renderEditing=function(){var b,c,g,e;
e=this.model.memberEditingList.models;b={members:function(){var b,d,k;k=[];b=0;for(d=e.length;b<d;b++)c=e[b],z.isMe(c)||null==c.get("editing")||(g=c.toJSON(),g.icon=function(){switch(c.get("editing").action){case "commenting":return"comment";case "editing":return"edit";default:return"edit"}}(),k.push(g));return k}()};return this.$(".js-editing-members").empty().append(u.fill("edit_in_progress",b)).toggleClass("hide",0===b.members.length)};b.prototype.sortStop=function(b,c){m.stopPropagation(b);c.item.trigger("movechecklist",
[c])};b.prototype.keydownEvent=function(d){b.__super__.keydownEvent.apply(this,arguments);return z.me().editing({idBoard:this.model.getBoard().id,idCard:this.model.id,action:"editing"})};b.prototype.keydownCommentEvent=function(b){z.me().editing({idBoard:this.model.getBoard().id,idCard:this.model.id,action:"commenting"});9===b.keyCode&&($(b.target).hasClass("new-comment-input")&&this.model.editable()&&!(w.view instanceof Qb)&&""===$(b.target).val())&&(m.stop(b),this.submitComment(b));return m.isForceSubmitKey(b)?
this.submitComment(b):this.checkInsert(b)};b.prototype.checkLength=function(b){b=this.$(".new-comment-input").val().length>this.maximumCommentLength;this.$(".js-add-comment").prop("disabled",b);this.$(".too-long").toggleClass("hide",!b);return this.$(".too-long").find(".js-attach-comment").toggle("undefined"!==typeof Blob&&null!==Blob)};b.prototype._cancelEditing=function(){return z.me().editing({idBoard:this.model.getBoard().id})};b.prototype.submitComment=function(b){var c;n("Card Detail","Comment",
"Submit Comment");m.stop(b);b=$(this.commentInput);c=$.trim(b.val());b.val("").css("height","");this._cancelEditing();this.model.addComment(c);qa.cancelEdits();this.clearComment();return!1};b.prototype.clearEdits=function(){this._cancelEditing();return b.__super__.clearEdits.apply(this,arguments)};b.prototype.commitEdits=function(){this._cancelEditing();return b.__super__.commitEdits.apply(this,arguments)};b.prototype.stopEditing=function(){this._cancelEditing();return b.__super__.stopEditing.apply(this,
arguments)};b.prototype.truncateComment=function(b){b=this.$(".new-comment-input");b.val(b.val().substr(0,this.maximumCommentLength));return this.checkLength()};b.prototype.attachComment=function(b){b=new Blob([this.$(".new-comment-input").val()],{type:"text/plain"});this.model.upload(b,"comment.txt",function(){});qa.cancelEdits();return this.clearComment()};b.prototype.inputComment=function(b){m.stopPropagation(b);b=this.$(".new-comment");qa.cancelEdits(this.commentInput);b.addClass("focus")};b.prototype.clearComment=
function(b){m.stop(b);this.stopEditing(b);$(this.commentInput).val("").focus().blur();this.checkLength();$(".new-comment").removeClass("focus");return w.hide()};b.prototype.getCard=function(){return this.model};b.prototype.getTextInput=function(){return this.$(".new-comment-input")};b.prototype.openEditMembersPopOver=function(b,c){w.toggle({elem:b,top:c,view:Ic,options:{model:this.model,modelCache:this.modelCache}})};b.prototype.editMembersMain=function(b){m.stop(b);this.openEditMembersPopOver(this.$(".js-details-edit-members"),
35);n("Card Detail","Edit Members via Main Column")};b.prototype.changeMembersSidebar=function(b){m.stop(b);this.openEditMembersPopOver(this.$(".js-change-card-members"),35);n("Card Detail","Sidebar","Open Manage Member Menu")};b.prototype.addChecklistSidebar=function(b){m.preventDefault(b);w.toggle({elem:b.target,top:35,view:Ig,options:{model:this.model,modelCache:this.modelCache,cardView:this}});n("Card Detail","Add Checklist Button","Open Add Checklist Menu");return!1};b.prototype.showDueDateBadgeMenu=
function(b){m.stop(b);w.toggle({elem:this.$(".js-details-edit-due-date"),top:35,view:ac,options:{model:this.model,modelCache:this.modelCache}});n("Card Detail","Due Date Badge","Open Due Date Menu")};b.prototype.openAttachPicker=function(b){var c,g;m.stop(b);b=$(b.target).closest(".js-attach");$(b).hasClass("inline")?(c=26,g="Via Inline Button"):(c=35,g="Via Sidebar Button");w.toggle({elem:b,top:c,view:Wd,options:{model:this.model,modelCache:this.modelCache}});n("Card Detail","Open Attachment Type Picker",
g);return!1};b.prototype.dueDateSidebar=function(b){m.preventDefault(b);w.toggle({elem:this.$(".js-add-due-date"),top:35,view:ac,options:{model:this.model,modelCache:this.modelCache}});n("Card Detail","Sidebar","Open Due Date Menu");return!1};b.prototype.subscribe=function(b){this.model.subscribe(!0);n("Card Detail","Sidebar","Subscribe");return!1};b.prototype.unsubscribe=function(b){this.model.subscribe(!1);n("Card Detail","Sidebar","Unsubscribe");return!1};b.prototype.vote=function(b){m.preventDefault(b);
this.model.vote(!0);n("Card Detail","Sidebar","Vote");return!1};b.prototype.unvote=function(b){m.preventDefault(b);n("Card Detail","Sidebar","Unvote");this.model.vote(!1);return!1};b.prototype.openFormatHelp=function(b){n("Card Detail","Formatting Help");w.toggle({elem:this.$(".js-format-help"),top:30,view:Ag,options:{model:this.model},keepEdits:!0});return!1};b.prototype.dragenterBack=function(b){var c;c=$(".window-overlay").scrollTop()+200;this.$(".dropzone").css({"padding-top":""+c+"px"});return this.dragenter(b)};
b.prototype.dropBack=function(b){n("Card Detail","Drop Attachment Upload");return this.drop(b)};b.prototype.focusChecklistAdd=function(b){return this.existingSubview(Lc,b).focusNewTaskInput()};b.prototype.closeDialog=function(){return W.hide()};b.prototype.clickNextTabbable=function(){return $(".card-detail-title .edit").is(":visible")?$(".new-comment-input").focus():$(".card-detail-title .current").click()};return b}(ha));Ic=function(c){function b(){this.selectMem=k(this.selectMem,this);this.keyupEvent=
k(this.keyupEvent,this);this.hoverMemberSelect=k(this.hoverMemberSelect,this);this.fillMems=k(this.fillMems,this);this.filterMembers=k(this.filterMembers,this);this.render=k(this.render,this);return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.getViewTitle=function(){return"Members"};b.prototype.events={"click .js-select-member":"selectMem","mouseenter .pop-over-member-list .item":"hoverMemberSelect",keyup:"keyupEvent",keydown:"keydownEvent"};b.prototype.render=function(){$(this.el).html(u.fill("popover_select_members",
{},{}));this.memListEl=this.$(".js-mem-list");this.allMembers=m.sortMembers(this.model.getBoard().memberList.filterDeactivated({force:!0}).models);this.fillMems(this.allMembers);return this};b.prototype.filterMembers=function(b){var c,g,e,h,l,k;if(""===b)return this.allMembers;e=RegExp("^"+m.escapeForRegex(b.toLowerCase()));c=[];k=this.allMembers;h=0;for(l=k.length;h<l;h++)b=k[h],g=m.getMemNameArray(this.modelCache,b.id),_.find(g,function(b){return e.test(b)})&&c.push(b);return c.slice(0,8)};b.prototype.fillMems=
function(b){var c,g,e,h;this.memListEl.empty();c=9<b.length;g=!1;c!==this.memListEl.hasClass("collapsed")&&(g=!0,this.memListEl.toggleClass("collapsed",c));if(0===b.length)this.memListEl.append("<p class='empty' style='padding: 24px 6px;'>No results</p>");else{e=0;for(h=b.length;e<h;e++)c=b[e],this.appendSubview(this.subview(be,c,{showUnconfirmed:!0,card:this.model}),this.memListEl);g&&w.calcPos({notNew:!0})}};b.prototype.hoverMemberSelect=function(b){b=$(b.target).closest(".item");return m.selectMenuItem(this.memListEl,
".item",b)};b.prototype.keydownEvent=function(b){var c;if(9===(c=b.keyCode)||13===c)m.stop(b),this.$(".js-mem-list .item.selected:first .js-select-member").first().click(),$(".js-search-mem").val("").focus(),this.fillMems(this.allMembers)};b.prototype.keyupEvent=function(b){var c,g;if(!(9===(c=b.keyCode)||13===c||16===c||17===c||18===c||20===c||27===c)){if(38===(g=b.keyCode)||40===g)return m.navMenuList(this.memListEl,".item",b.keyCode);b=$(".js-search-mem").val().trim();b=this.filterMembers(b);this.fillMems(b);
this.focusSearch();if(b.length<this.allMembers.length)return b=this.memListEl.find(".item").first(),m.selectMenuItem(this.memListEl,".item",b)}};b.prototype.selectMem=function(b){var c,g;m.preventDefault(b);g=this.model;c=$(b.target).closest(".js-select-member");b=c.closest(".item");c=c.attr("idMember");b.hasClass("active")?(g.removeMember(c),b.removeClass("active"),n("Card","Change Member","Remove Member")):(g.addMember(c),b.addClass("active"),n("Card","Change Member","Add Member"));this.focusSearch();
return!1};b.prototype.focusSearch=function(){return $(".js-search-mem").focus()};return b}(A);Ag=function(c){function b(){return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.getViewTitle=function(){return"Formatting Help"};b.prototype.render=function(){this.$el.html(u.fill("formatting_help"));return this};return b}(A);Xd=function(c){function b(){return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.events={"click .js-copy-card":"copyCard","click .js-delete":"deleteCard",
"click .js-url":"focusUrl"};b.prototype.initialize=function(){return this.listenTo(this.model,"change:shortUrl",function(b){return function(){b.render();return b.focusUrl()}}(this))};b.prototype.copyCard=function(b){n("Card Detail","Card Copy Button","Via More Menu");w.pushView({view:Gc,options:{model:this.model,modelCache:this.modelCache}})};b.prototype.focusUrl=function(b){return this.$(".js-url").focus().select()};b.prototype.getShortLinkData=function(){null==this.model.get("shortUrl")&&this.model.fetch({fields:["shortUrl"]})};
b.prototype.deleteCardConfirm=function(b){pa.pushView({model:this.model,title:"Delete Card?",text:"All actions will be removed from the activity feed and you won't be able to re-open the card. There is no undo. You can archive a card to remove it from the board and preserve the activity.",confirmText:"Delete",confirmBtnClass:"negate",fxConfirm:function(b){return function(d){W.hide();b.model.destroy();return n("Card","Delete")}}(this)})};b.prototype.render=function(){var b,c,g;b=_.extend({dateAdded:m.idToDate(this.model.id),
pLevelClass:null!=(c=this.model.board)?c.getPermLevelIconClass():void 0,pLevelAltText:null!=(g=this.model.board)?g.getPermLevelAltText():void 0},this.templateData());this.$el.html(u.fillFromModel(this.templateName,this.model,b,{meta:u.card_menu_meta}));this.getShortLinkData();H.update(this.el);return this};b.prototype.deleteCard=function(b){m.stop(b);n("Card Detail","Delete Button","Via More Menu");this.deleteCardConfirm()};return b}(A);vg=function(c){function b(){return b.__super__.constructor.apply(this,
arguments)}s(b,c);b.prototype.getViewTitle=function(){return"More"};b.prototype.events=m.extendEvents({"click .js-print":"printModel","click .js-export-json":"exportJSON"});b.prototype.templateName="card_detail_more_menu";b.prototype.templateData=function(){return{jsonURL:"/"+this.model.typeName.toLowerCase()+"/"+this.model.id+"/"+m.makeSlug(this.model.get("name"))+".json"}};b.prototype.printModel=function(b){m.stop(b);w.hide();n("Card Detail","Print","Via More Menu");_.defer(function(){return window.print()})};
b.prototype.exportJSON=function(b){return n("Card Detail","Export JSON")};return b}(Xd);yg=function(c){function b(){return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.getViewTitle=function(){return"Card Actions"};b.prototype.initialize=function(){return this.listenTo(this.model,"change:subscribed",this.render)};b.prototype.events={"click .js-edit-labels":"editLabels","click .js-change-card-members":"changeMembers","click .js-due-date":"changeDueDate","click .js-move-card":"moveCard",
"click .js-edit-stickers":"editStickers","click .js-subscribe":"toggleSubscribe","click .js-more":"showMore","click .js-archive-card":"archive"};b.prototype.render=function(){var b;b={isSubscribed:this.model.get("subscribed"),showMore:!1,hasStickers:0<this.model.stickerList.length};this.$el.html(u.fill("card_menu",b));return this};b.prototype.doClicks=function(){return!M.sorting};b.prototype.editLabels=function(b){m.stop(b);n("Card Menu","Open Edit Labels Menu");w.pushView({view:this.model.getView(Hc)})};
b.prototype.changeMembers=function(b){n("Card Menu","Open Change Members Menu");m.preventDefault(b);if(!this.doClicks())return!1;m.stopPropagation(b);w.pushView({view:Ic,options:{model:this.model}})};b.prototype.changeDueDate=function(b){m.stop(b);n("Card Menu","Open Due Date Menu");w.pushView({view:this.model.getView(ac)})};b.prototype.moveCard=function(b){m.stop(b);n("Card Menu","Open Move Card Menu");w.pushView({view:this.model.getView(Yd)})};b.prototype.editStickers=function(b){m.stop(b);w.hide();
return this.model.getBoard().viewState.set("cardMode","editStickers")};b.prototype.toggleSubscribe=function(b){m.preventDefault(b);this.model.get("subscribed")?(n("Card Menu","Subscribe","Subscribe"),this.model.subscribe(!1)):(n("Card Menu","Subscribe","Unsubscribe"),this.model.subscribe(!0))};b.prototype.archive=function(){n("Card Menu","Archive Card");this.model.close();w.hide()};b.prototype.showMore=function(b){m.stop(b);n("Card Menu","Open More Menu");w.pushView({view:this.model.getView(zg)});
return!1};return b}(ha);zg=function(c){function b(){return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.getViewTitle=function(){return"More Actions"};b.prototype.initialize=function(){return this.listenTo(this.model,"change:idMembersVoted",function(b){return function(){b.render();return b.focusUrl()}}(this))};b.prototype.events=m.extendEvents({"click .js-attach":"openAttachPicker","click .js-vote":"vote"});b.prototype.templateName="card_menu";b.prototype.templateData=function(){return{hasVoted:this.model.voted(),
canVote:this.model.getBoard().canVote(z.me()),showMore:!0}};b.prototype.openAttachPicker=function(b){m.stop(b);n("Card Menu","Open Attachment Type Picker");w.pushView({view:this.model.getView(Wd)});return!1};b.prototype.vote=function(b){m.preventDefault(b);n("Card Menu","Vote");this.model.toggleVote();this.render();return!1};return b}(Xd);$d=function(){function c(){}c.prototype.renderValues=function(){var b,d,c,g;d=this.$(".js-select-board option:selected").val();c=this.$(".js-select-list option:selected").val();
g=parseInt(this.$(".js-select-position option:selected").prop("index"),10)+1;b=this.Board.get(d);d=b.get("name");b=_.find(b.listList.models,function(b){return function(b){return b.id===c}}(this));this.$(".js-board-value").text(d);null!=b?(d=b.get("name"),g=m.getNaturalNumber(g),this.$(".js-list-value").text(d),this.$(".js-pos-value").text(g),this.$(".js-select-list,.js-select-position,.js-commit-position").removeAttr("disabled")):(this.$(".js-list-value").html("<i>No Lists</i>"),this.$(".js-pos-value").html("<i>N/A</i>"),
this.$(".js-select-list,.js-select-position,.js-commit-position").attr("disabled","disabled"))};c.prototype.updateBoardData=function(){var b,d,c,g,e,h;d=this.$(".js-select-board").find("option:selected").val();if(d===this.model.getBoard().id){this._boardData=this.model.getBoard();h=this._boardData.listList.models;g=0;for(e=h.length;g<e;g++)c=h[g],c.cardCount=this._boardData.listList.get(c.id).cardList.openCards().length;return this.updateListList()}if(null!=d)return this.$(".js-submit").attr("disabled",
"disabled"),b=this.$(".select-list,.select-position"),b.attr("disabled","disabled"),P["for"](this.modelCache).loadBoardListData(d,{lists:"open",list_fields:"name,pos,idBoard",cards:"visible",card_fields:"idList,idBoard,pos"},function(c){return function(){c._boardData=c.Board.get(d);c.updateListList();b.removeAttr("disabled");return c.$(".js-submit").removeAttr("disabled")}}(this))};c.prototype.updateListList=function(){var b,d,c,g,e,h,l,k;d=this.$(".js-select-board");c=this.$(".js-select-list").empty();
g=d.find("option:selected").val();d=this.model.getList().id;g=g===this.model.getBoard().id?d:null!=(e=this._boardData.listList.at(0))?e.id:void 0;k=this._boardData.openLists();h=0;for(l=k.length;h<l;h++)e=k[h],b=e.get("name"),e.id===d&&(b+=" (current)"),b=$("<option>").val(e.id).text(b).appendTo(c),e.id===g&&b.attr("selected","selected");return this.updatePositionList()};c.prototype.updatePositionList=function(){var b,d,c,g,e,h,l,k,v,x;d=this.$(".js-select-list");c=this.$(".js-select-position").empty();
h=d.find("option:selected").val();if(null!=h){d=null!=(g=this._boardData.listList.get(h))?g:this._boardData.listList.at(0);g=(null!=d?d.id:void 0)===this.model.getList().id;h=this._boardData.listList.get(h).cardList.length;g?(v=g=_.indexOf(this.model.getList().cardList.openCards(),this.model),this.showCurrentPosition||(h-=1)):(g=-1,v=h);for(e=x=0;0<=h?x<=h:x>=h;e=0<=h?++x:--x)b=l=String(e+1),e===g?b+=" (current)":0<h&&(0===e?b+=" (top)":e===h&&(b+=" (bottom)")),k=0===e?"top":e===h?"bottom":d.calcPos(e),
b=$("<option>").val(k).text(b).appendTo(c),e===v&&(this.$(".js-pos-value").html(m.getNaturalNumber(l)),b.attr("selected","selected"))}this.renderValues()};return c}();Gc=ea($d,function(c){function b(){return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.getViewTitle=function(){return"Copy Card"};b.prototype.showCurrentPosition=!0;b.prototype.events={"change .js-select-position":"renderValues","change .js-select-list":"updatePositionList","change .js-select-board":"updateBoardData",
"keydown textarea[name='name']":"keydownEvent","click .js-submit":"submit","submit form":"submit"};b.prototype.render=function(){var b,c,g,e,h,l,k,m;c=this.model.toJSON();c.numChecklists=this.model.checklistList.length;c.numMembers=c.idMembers.length;c.numLabels=c.labels.length;c.numAttachments=c.badges.attachments;c.numComments=c.badges.comments;c.numStickers=c.stickers.length;c.hasChecklists=0<c.numChecklists;c.hasMembers=0<c.idMembers.length;c.hasLabels=0<c.labels.length;c.hasAttachments=0<c.badges.attachments;
c.hasComments=0<c.badges.comments;c.hasStickers=0<c.stickers.length;c.hasStuff=0<c.numChecklists+c.idMembers.length+c.labels.length+c.badges.attachments+c.badges.comments+c.stickers.length;c.loading=this.loading;c.organizations=z.me().getOpenBoardsByOrg(!0);k=c.organizations;g=0;for(h=k.length;g<h;g++){b=k[g];m=b.boards;e=0;for(l=m.length;e<l;e++)b=m[e],b.id===this.model.get("idBoard")&&(b.selected=!0)}g={move_card_controls:u.move_card_controls};this.$el.html(u.fill("card_copy",c,{editable:this.model.editable()},
g));w.calcPos();this.updateBoardData();return this};b.prototype.getData=function(){this.loading=!0;return P["for"](this.modelCache).loadCardCopyData(this.model.get("idBoard"),this.model.id,function(b){return function(c){b.loading=!1;return b.render()}}(this))};b.prototype.keydownEvent=function(b){13===b.keyCode&&(m.stop(b),this.submit(b))};b.prototype.submit=function(b){var c,g,e,h,l;m.stop(b);e=this.$('textarea[name="name"]');""===e.val().trim()?e.focus().select():(c=this.$(".js-select-board"),g=
this.$(".js-select-list"),b=this.$(".js-select-position"),h=c.find("option:selected").val(),l=g.find("option:selected").val(),c=b.find("option:selected").val(),parseInt(b.find("option:selected").prop("index"),10),b={idCardSource:this.model.get("id"),idBoard:h,idList:l,pos:c,name:e.val().trim(),closed:!1,keepFromSource:this.$("input:checkbox:checked").map(function(b){return function(b,d){return d.name}}(this)).get().join(),badges:{}},e=this.Auth.me().boardList.find(function(b){return b.id===h}),e=
e.listList.find(function(b){return b.id===l}),e.cardList.create(b,{success:function(b){return function(b){w.hide();return n("Card","Copy Card")}}(this)}))};return b}(A));Yd=ea($d,function(c){function b(){return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.getViewTitle=function(){return"Move Card"};b.prototype.initialize=function(){return this.listenTo(z.me().boardList,"add remove reset",this.render)};b.prototype.events={"change .js-select-position":"renderValues","change .js-select-list":"updatePositionList",
"change .js-select-board":"updateBoardData","click .js-submit":"commitChange"};b.prototype.render=function(){var b,c,g,e,h,l,k,m;c={organizations:z.me().getOpenBoardsByOrg(!0)};k=c.organizations;g=0;for(h=k.length;g<h;g++){b=k[g];m=b.boards;e=0;for(l=m.length;e<l;e++)b=m[e],b.id===this.model.get("idBoard")&&(b.selected=!0)}this.$el.html(u.fill("popover_move_card",c,{},{move_card_controls:u.move_card_controls}));this.updateBoardData();return this};b.prototype.commitChange=function(b){var c,g,e;c=this.$(".js-select-board");
g=this.$(".js-select-list");b=this.$(".js-select-position");c=c.find("option:selected").val();g=g.find("option:selected").val();e=b.find("option:selected").val();b=parseInt(b.find("option:selected").prop("index"),10);c===this.model.getBoard().id?(c=this.model.getBoard().listList.get(g),this.model.moveToList(c,b),n("Card","Move Menu","Same Board")):null!=c&&(null!=g&&null!=e)&&(n("Card","Move Menu","Changed Board"),this.model.getList().cardList.remove(this.model),W.hide(),T({url:"/1/cards/"+this.model.id,
type:"put",data:{idList:g,idBoard:c,pos:e},success:function(b){return function(d){b.model.board=null;b.model.set("idBoard",d.idBoard);b.model.set("idList",d.idList);b.model.set("pos",d.pos);return IdCache.setBoardIdForCard(b.model.id,d.idBoard)}}(this)}));w.hide()};return b}(A));Hc=function(c){function b(){return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.getViewTitle=function(){return"Change Labels"};b.prototype.initialize=function(){this.listenTo(z.me(),"change:prefs",this.render);
this.listenTo(this.model.getBoard(),"change:labelNames",this.render);return this.listenTo(this.model,"change:labels",this.render)};b.prototype.events={"click .card-label":"toggleLabel","click .js-edit-label-titles":"openEditLabelTitles","click .js-toggle-color-blind-mode":"toggleColorBlindMode",shortcut:"shortcut"};b.prototype.shortcut=function(b){switch(b){case 49:case 50:case 51:case 52:case 53:case 54:case 97:case 98:case 99:case 100:case 101:case 102:return b-=49<=b&&54>=b?49:97,this.$(".card-label").eq(b).click(),
"1-6 - Toggle Specific Label"}};b.prototype.render=function(){var b,c;b={labels:this.model.getLabels(),showShortcuts:this.options.showShortcuts};c={editable:this.model.editable()};b.cbModeEnabled=z.me().get("prefs").colorBlind;b.cbToggleText="Enable";b.cbModeEnabled&&(b.cbToggleText="Disable");this.$el.html(u.fill("popover_change_labels",b,c));return this};b.prototype.toggleLabel=function(b){var c;b=$(b.target).closest(".card-label");if(c=b.attr("label"))n("Card","Labels Menu","Change Label"),this.model.toggleLabel(c),
this.options.hideOnSelect?w.hide():(c=b.hasClass("active"),b.toggleClass("active",!c))};b.prototype.openEditLabelTitles=function(b){m.stop(b);n("Card","Labels Menu","Open Edit Label Titles");w.pushView({view:this.model.getBoard().getView(Jg)})};b.prototype.toggleColorBlindMode=function(b){z.me().toggleColorBlindMode();n("Card","Labels Menu","Toggle Color Blind Friendly Mode.")};return b}(ha);var Ig,Kg,Lg,Mg,ce,$b,Rd,Ng,Lc,k=function(c,b){return function(){return c.apply(b,arguments)}},E={}.hasOwnProperty,
s=function(c,b){function d(){this.constructor=c}for(var f in b)E.call(b,f)&&(c[f]=b[f]);d.prototype=b.prototype;c.prototype=new d;c.__super__=b.prototype;return c};$b=function(c){function b(){this.editable=k(this.editable,this);return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.typeName="Checklist";b.prototype.urlRoot=function(){return"/1/checklists"};b.prototype.initialize=function(){return this.destruct([this.checkItemList=(new Lg).syncSubModels(this,"checkItems")])};b.prototype.sync=
function(d,c,g){return"create"===d&&!(null!=this.get("idBoard")&&null!=this.get("idCard"))?(this.waitForAttrs(["idBoard","idCard"],function(e){return function(h){e.set(h);return b.__super__.sync.call(e,d,c,g)}}(this)),this.getBoard().onId(function(b){return function(d){return b.set("idBoard",d)}}(this)),this.getCard().onId(function(b){return function(d){return b.set("idCard",d)}}(this))):b.__super__.sync.apply(this,arguments)};b.prototype.getCard=function(){var b;return null!=(b=this.Card.get(this.get("idCard")))?
b:this.collection.sourceModel};b.prototype.getBoard=function(){var b;return null!=(b=this.getCard())?b.getBoard():void 0};b.prototype.getCompletedCount=function(b){var c;c=0;this.checkItemList.each(function(b){if(null!=b.get("state")&&"complete"===b.get("state"))return c++});return c};b.prototype.getCheckItem=function(b){return this.checkItemList.get(b)};b.prototype.editable=function(){return this.getBoard().editable()};b.prototype.calcPos=function(b,c){return m.calcPos(b,this.checkItemList,c)};return b}(na);
Rd=function(c){function b(){return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.model=$b;b.prototype.initialize=function(){return this.listenTo(this,"change:pos",this.sort)};b.prototype.comparator=function(b){return b.get("pos")};b.prototype.idList=function(){return this.pluck("id")};return b}(fb);Ig=function(c){function b(){return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.getViewTitle=function(){return"Add Checklist"};b.prototype.initialize=function(b){this.cardView=
b.cardView};b.prototype.events={"click .js-add-checklist":"addChecklist","submit form":"addChecklist"};b.prototype.render=function(){var b,c,g,e,h,l;g=[];g.checklistCards=[];l=this.Card.find(function(b){return function(d){return d.get("idBoard")===b.model.getBoard().id&&!d.get("closed")}}(this));e=0;for(h=l.length;e<h;e++)c=l[e],b=c.toJSON(),b.checklists=[],c.checklistList.forEach(function(c){return function(c){var f,e;if(0<(null!=(f=c.checkItemList)?f.length:void 0))return f=m.formatCount(null!=
(e=c.checkItemList)?e.length:void 0,"Item"),b.checklists.push(_.extend(c.toJSON(),{length:f}))}}(this)),0<b.checklists.length&&g.checklistCards.push(b);0<g.checklistCards.length&&(g.hasChecklistCards=!0);this.$el.html(u.fill("checklist_add_menu",g));return this};b.prototype.addChecklist=function(b){var c,g;m.stop(b);g=this.$(".js-checklist-title").val();c=this.$(".js-checklist-copy-source").val();0===g.length?this.$(".js-checklist-title").focus().select():(b=""!==c?"Copied Checklist Items":"No Checklist Items Copied",
n("Checklist","Create",""+("Checklist"===g?"Default Title (Checklist), "+b+")":"Renamed Title, "+b+")")),b=this.model.checklistList.create({name:g,idChecklistSource:c,idCard:this.model.id}),this.cardView.focusChecklistAdd(b),w.hide())};return b}(ha);Kg=function(c){function b(){this.getCard=k(this.getCard,this);return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.typeName="CheckItem";b.prototype.urlRoot=function(){var b;b=this.getChecklist();return""+b.getCard().url()+"/checklist/"+
b.id+"/checkItem"};b.prototype.sync=function(d,c,g){var e;return null!=(e=this.getChecklist())?e.onId(function(){return b.__super__.sync.call(this,d,c,g)}):void 0};b.prototype.getChecklist=function(){return this.collection.sourceModel};b.prototype.getCard=function(){return this.getChecklist().getCard()};b.prototype.editable=function(){return this.getChecklist().editable()};b.prototype.getContext=function(){return this.getChecklist()};b.prototype.move=function(b){this.update("pos",this.getChecklist().calcPos(b,
this));this.collection.sort({silent:!0})};return b}(na);Lg=function(c){function b(){return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.model=Kg;b.prototype.initialize=function(){return this.listenTo(this,"change:pos",this.sort)};b.prototype.comparator=function(b){return b.get("pos")};return b}(fb);ce=ea(Vb,nb,function(c){function b(){return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.className="checklist-item";b.prototype.allowNewlines=!1;b.prototype.initialize=
function(){this.listenTo(this.model,{"change:name":this.render,"change:state":this.renderItemState});return b.__super__.initialize.apply(this,arguments)};b.prototype.events={"keyup .js-checkitem-input":"keyAutoMention","click .js-toggle-checklist-item":"toggleState","click .js-delete-item":"delete","click .js-convert-item-to-card":"convertToCard","click .js-open-editing-menu":"openEditingMenu",movecheckitem:"moveCheckItem"};b.prototype.getCard=function(){return this.model.getCard()};b.prototype.render=
function(){var b;b=this.model.toJSON();b.checked="complete"===b.state;b.nameHtml=Sa.checkItems.format(b.name,{textData:b.nameData}).output;$(this.el).html(u.fill("checklist_item",b,{editable:this.model.editable()}));this.renderItemState();this.recallDrafts();return this};b.prototype.getTextInput=function(){return this.$(".js-checkitem-input")};b.prototype.renderItemState=function(b){b=this.model.toJSON();b.checked="complete"===b.state;this.$el.toggleClass("checklist-item-state-complete",b.checked)};
b.prototype.toggleState=function(b){this.model.editable()&&(b=(b="complete"===this.model.get("state"))?"incomplete":"complete",this.model.update("state",b),n("Checklist","Toggle Checklist Item State",b))};b.prototype["delete"]=function(b){m.stop(b);this.model.destroy();n("Checklist","Delete Single Checklist Item")};b.prototype.convertToCard=function(b){m.stop(b);this.model.run("convertToCard");this.model.getChecklist().checkItemList.remove(this.model);n("Checklist","Convert Checklist Item to Card")};
b.prototype.moveCheckItem=function(b,c,g,e){if(e||this.model.getChecklist()===g)return b=c.item.parent().children(),c=b.index(c.item),c=g.calcPos(c,this.model),e?(this.model.update({pos:c,idChecklist:g.id}),this.model.collection.remove(this.model),g.checkItemList.add(this.model)):this.model.update("pos",c),g.checkItemList.sort({silent:!0}),n("Checklist","Reorder Checklist Item")};b.prototype.openEditingMenu=function(b){m.stop(b);return w.toggle({elem:b.target,top:36,view:zc,options:{model:this.model,
parent:this},keepEdits:!0})};return b}(ha));Lc=ea(Vb,nb,function(c){function b(){return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.className="checklist clearfix";b.prototype.initialize=function(){this.listenTo(this.model.checkItemList,{"add remove reset change:state":this.renderProgress});return this.listenTo(this.model,{"change:name":this.renderName})};b.prototype.events={"keydown .js-new-checklist-item-input":"keydownChecklistEvent","click .js-add-checklist-item":"submitTask",
"click .js-cancel-checklist-item":"cancelItemEditing","click .js-new-checklist-item-input":"focusNewTaskInput","click .js-open-checklist-menu":"openChecklistMenu","sortstop .js-checklist-items-list":"sortStop","sortreceive .js-checklist-items-list":"sortReceive",movechecklist:"moveChecklist","click .js-open-editing-menu":"openEditingMenu","keyup .js-new-checklist-item-input":"keyAutoMention"};b.prototype.render=function(){var b,c;J("render","rendering checklist state "+this.model.get("name"));this.$el.html(u.fillFromModel("checklist",
this.model));b=this.$(".js-checklist-items-list");null!=(c=this.getCard())&&c.editable()&&b.sortable({axis:"y",delay:"75",distance:"7",tolerance:"pointer",placeholder:"checklist-item placeholder",items:".checklist-item",connectWith:".js-checklist-items-list",start:function(b,d){var c;M.sorting=!0;c=$(d.helper).outerHeight();return $(d.placeholder).height(c)},stop:function(){return _.defer(function(){return M.sorting=!1})}});this.newCheckItemInput=this.$(".js-new-checklist-item-input");this.newCheckItemInput.fixPlaceholder();
this.renderName();return this.renderCheckItems()};b.prototype.renderName=function(){this.$("div.checklist-title[attr=name] .current").text(this.model.get("name"));return this};b.prototype.sortCheckItems=function(){var b;b=this.$(".js-checklist-items-list");m.withoutAlteringSelection(function(c){return function(){return c.model.checkItemList.each(function(g,e){var h;h=c.existingSubview(ce,g);return b.append(h.el)})}}(this));return this};b.prototype.renderProgress=function(){var b,c;b=this.model.getCompletedCount(this.getCard());
c=this.model.checkItemList.length;b=0<c?Math.round(100*b/c):0;this.$(".js-checklist-progress-bar").width(b+"%");this.$(".js-checklist-progress-percent").text(b+"%");return this};b.prototype.renderCheckItems=function(){var b;b=this.$(".js-checklist-items-list");this.collectionSubview(Mg,this.model.checkItemList,{el:b}).render();M.refreshIfInitialized(b);this.renderProgress();return this};b.prototype.getCard=function(){return this.options.card};b.prototype.cancelItemEditing=function(b){$(b.target).closest(".js-new-checklist-item").find(".js-new-checklist-item-input").val("");
qa.cancelEdits();return!1};b.prototype.focusNewTaskInput=function(b){var c;this.$(".js-new-checklist-item").hasClass("focus")||(qa.cancelEdits(this.newCheckItemInput),null!=(c=this.newCheckItemInput)&&c.focus().select(),this.$(".js-new-checklist-item").addClass("focus"))};b.prototype.keydownChecklistEvent=function(b){if($(b.target).hasClass("js-new-checklist-item-input")){if(w.view instanceof pc||w.view instanceof Qb)return this.checkInsert(b);if(m.isSubmitKey(b))return this.submitTask(b),this.focusNewTaskInput()}};
b.prototype.getTextInput=function(){return this.$(".js-new-checklist-item-input")};b.prototype.submitTask=function(b){var c,g;m.stop(b);g=this.newCheckItemInput.val().trim();if(/^\s*$/.test(g))return m.stop(b),this.focusNewTaskInput(),!1;b=_.compact(g.split(/\r\n|\r|\n/));c=this.model;async.forEachSeries(b,function(b){return function(b,d){var e;e=0<c.checkItemList.length?c.checkItemList.at(c.checkItemList.length-1).get("pos")+m.spacing:m.spacing;e+=Math.floor(1024*Math.random());e={name:b.trim(),
pos:e,nameData:{emoji:z.me().allCustomEmoji()}};return c.checkItemList.create(e,{success:function(){return d()}})}}(this),function(b){return function(b){}}(this));this.newCheckItemInput.val("");this.focusNewTaskInput();n("Checklist","Add Checklist Item",1===b.length?"Single Item":"Multiple Items")};b.prototype.sortStop=function(b,c){m.stopPropagation(b);c.item.trigger("movecheckitem",[c,this.model,!1])};b.prototype.sortReceive=function(b,c){m.stopPropagation(b);c.item.trigger("movecheckitem",[c,this.model,
!0])};b.prototype.openChecklistMenu=function(b){m.stop(b);w.toggle({elem:this.$(".js-open-checklist-menu"),top:35,view:Ng,options:{model:this.model,card:this.getCard()}});return n("Checklist","Open Checklist Menu")};b.prototype.moveChecklist=function(b,c){var g,e;g=this.model.getCard();null!=g&&(e=c.item.parent().children(),e=e.index(c.item),this.model.update("pos",g.calcChecklistPos(e,this.model)),this.model.collection.sort({silent:!0}),n("Checklist","Reorder Checklist"))};b.prototype.openEditingMenu=
function(b){m.stop(b);return w.toggle({elem:b.target,top:36,view:zc,options:{model:this.model,parent:this},keepEdits:!0})};return b}(ha));Mg=function(c){function b(){return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.viewType=ce;return b}(Pb);Ng=function(c){function b(){return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.getViewTitle=function(){return this.model.get("name")};b.prototype.initialize=function(){return this.card=this.options.card};b.prototype.events=
{"click .js-delete-all-checklist-items":"confirmDeleteChecklistItems","click .js-delete-checklist":"confirmDeleteChecklist"};b.prototype.render=function(){this.$el.html(u.fill("popover_checklist_menu",{}));return this};b.prototype.confirmDeleteChecklistItems=function(b){m.stop(b);b=this.model.get("name");pa.pushView({model:this.model,title:"Delete All Items in "+b+"?",text:"Deleting checklist items is permanent and there is no way to get them back.",confirmText:"Delete All Items",confirmBtnClass:"negate",
fxConfirm:function(b){return function(d){var c,h,l,k;n("Checklist","Delete All Checklist Items");c=[];b.model.checkItemList.each(function(b){return c.push(b)});k=[];h=0;for(l=c.length;h<l;h++)d=c[h],k.push(d.destroy());return k}}(this)})};b.prototype.confirmDeleteChecklist=function(b){m.stop(b);b=this.model.get("name");pa.pushView({model:this.model,title:"Delete "+b+"?",text:"Deleting a checklist is permanent and there is no way to get it back.",confirmText:"Delete Checklist",confirmBtnClass:"negate",
fxConfirm:function(b){return function(d){n("Checklist","Delete Checklist");return b.model.destroy()}}(this)})};return b}(ha);var Og,Pg,E={}.hasOwnProperty,s=function(c,b){function d(){this.constructor=c}for(var f in b)E.call(b,f)&&(c[f]=b[f]);d.prototype=b.prototype;c.prototype=new d;c.__super__=b.prototype;return c};Og=function(c){function b(){return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.typename="CustomEmoji";return b}(na);Pg=function(c){function b(){return b.__super__.constructor.apply(this,
arguments)}s(b,c);b.prototype.model=Og;b.prototype.url=function(){return"/1/member/"+this.member.id+"/customEmoji"};b.prototype.initialize=function(b,c){this.member=c.member};return b}(fb);var Qg,Rg,E={}.hasOwnProperty,s=function(c,b){function d(){this.constructor=c}for(var f in b)E.call(b,f)&&(c[f]=b[f]);d.prototype=b.prototype;c.prototype=new d;c.__super__=b.prototype;return c};Qg=function(c){function b(){return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.typename="CustomSticker";
return b}(na);Rg=function(c){function b(){return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.model=Qg;b.prototype.url=function(){return"/1/member/"+z.me().id+"/customStickers"};b.prototype.initialize=function(b,c){this.member=c.member};return b}(fb);var tg,Mc,Sg,rg,Tg,ng,xb,Ug,Vg,ib,k=function(c,b){return function(){return c.apply(b,arguments)}},E={}.hasOwnProperty,s=function(c,b){function d(){this.constructor=c}for(var f in b)E.call(b,f)&&(c[f]=b[f]);d.prototype=b.prototype;
c.prototype=new d;c.__super__=b.prototype;return c};Mc=function(c){function b(){this.openCards=k(this.openCards,this);this.getIndexInList=k(this.getIndexInList,this);this.selectLastCardInList=k(this.selectLastCardInList,this);this.selectFirstCardInList=k(this.selectFirstCardInList,this);this.selectCardInList=k(this.selectCardInList,this);this.getPrevList=k(this.getPrevList,this);this.getNextList=k(this.getNextList,this);this.getAdjacentList=k(this.getAdjacentList,this);this.getBoard=k(this.getBoard,
this);this.reopen=k(this.reopen,this);this.subscribe=k(this.subscribe,this);return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.typeName="List";b.prototype.urlRoot="/1/lists";b.prototype.initialize=function(){return this.destruct([this.cardList=(new xg(null,{list:this})).owner(this).syncCache(this.modelCache,["idList","closed"],function(b){return function(c){return b.id&&c.get("idList")===b.id&&!c.get("closed")}}(this))])};b.prototype.sync=function(d,c,g){return"create"===d&&null==
this.get("idBoard")?(this.waitForAttrs(["idBoard"],function(e){return function(h){e.set(h);return b.__super__.sync.call(e,d,c,g)}}(this)),this.getBoard().onId(function(b){return function(d){return b.set("idBoard",d)}}(this))):b.__super__.sync.apply(this,arguments)};b.prototype.subscribe=function(b){b!==this.get("subscribed")&&this.update({subscribed:b})};b.prototype.move=function(b){this.update({pos:this.getBoard().calcPos(b,this)});this.collection.sort({silent:!0})};b.prototype.close=function(){this.update({closed:!0})};
b.prototype.reopen=function(){this.update({closed:!1,pos:this.getBoard().calcPos(this.collection.length,this)})};b.prototype.onChange=function(){};b.prototype.calcPos=function(b,c,g){return m.calcPos(b,this.cardList,c,function(b){return!b.get("closed")},g)};b.prototype.getBoard=function(){var b,c;return null!=(b=this.Board.get(this.get("idBoard")))?b:null!=(c=this.collection)?c.owner:void 0};b.prototype.getAdjacentList=function(b){var c,g;g=this.getBoard().openLists();c=this.getIndexInList();return g[(c+
b+g.length)%g.length]};b.prototype.getNextList=function(){return this.getAdjacentList(1)};b.prototype.getPrevList=function(){return this.getAdjacentList(-1)};b.prototype.selectCardInList=function(b){b=this.cardList.openCards()[b];null!=b&&this.getBoard().viewState.selectCard(b)};b.prototype.selectFirstCardInList=function(){return this.selectCardInList(0)};b.prototype.selectLastCardInList=function(){return this.selectCardInList(this.cardList.openCards().length-1)};b.prototype.editable=function(){return this.getBoard().editable()};
b.prototype.getIndexInList=function(){return _.indexOf(this.getBoard().openLists(),this)};b.prototype.openCards=function(){return this.cardList.filter(function(b){return!b.get("closed")})};return b}(na);ng=function(c){function b(){return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.model=Mc;b.prototype.initialize=function(b,c){this.bind("change:pos",this.sort);this.board=c.board};b.prototype.comparator=function(b){return b.get("pos")||0};b.prototype.calcPos=function(b,c,g){return m.calcPos(b,
this,c,function(b){return!b.get("closed")},g)};b.prototype.url=function(){return"/1/boards/"+this.board.id+"/lists"};b.prototype.openLists=function(){return this.filter(function(b){return!b.get("closed")})};return b}(La);ib=function(c){function b(){this.scrollIntoView=k(this.scrollIntoView,this);this.eventStopPropagation=k(this.eventStopPropagation,this);this.moveList=k(this.moveList,this);this.openMenu=k(this.openMenu,this);this.sortStop=k(this.sortStop,this);this.sortReceive=k(this.sortReceive,
this);this.triggerOnItem=k(this.triggerOnItem,this);this.editTitle=k(this.editTitle,this);this.composerOpen=k(this.composerOpen,this);this.toggleComposerLink=k(this.toggleComposerLink,this);this.renderEditable=k(this.renderEditable,this);this.renderSubscribed=k(this.renderSubscribed,this);this.renderName=k(this.renderName,this);this.render=k(this.render,this);return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.className="list";b.prototype.events={"click .js-open-list-menu":"openMenu",
"mousedown .list-cards":"eventStopPropagation",dblclick:"eventStopPropagation","click .js-open-card-composer":"openCardComposer",movelist:"moveList",sortreceive:"sortReceive",sortstop:"sortStop"};b.prototype.initialize=function(){b.__super__.initialize.apply(this,arguments);this.makeDebouncedMethods("toggleComposerLink","renderComposer","renderCardCount");this.listenTo(this.model,{"change:name":this.renderName,"change:subscribed":this.renderSubscribed});this.listenTo(this.model.cardList,{"add remove change:idList change:closed reset":this.renderCardCountDebounced});
this.listenTo(this.model.getBoard().composer,{"change:idList change:index change:vis":this.renderComposerDebounced,"change:idList change:vis":this.toggleComposerLinkDebounced});this.model.getBoard().onPermChange(this.renderEditable)};b.prototype.remove=function(){var d;null!=(d=this.model.getBoard())&&d.offPermChange(this.renderEditable);return b.__super__.remove.apply(this,arguments)};b.prototype.render=function(){var b;J("render","rendering list "+this.model.get("name"));this.$el.html(u.fill("list",
this.model.toJSON(),{editable:this.model.editable()}));b=this.$(".js-list-cards");this.cardListView=this.collectionSubview(Ud,this.model.cardList,{el:b});this.cardListView.render();this.toggleComposerLinkDebounced();this.renderComposerDebounced();this.renderCardCount();this.renderEditable();return this};b.prototype.renderName=function(){this.$(".js-list-name").text(this.model.get("name"));return this};b.prototype.renderSubscribed=function(){this.$(".js-list-subscribed").toggleClass("hide",!this.model.get("subscribed"));
return this};b.prototype.renderEditable=function(){var b;b=this.model.editable();this.$(".js-list-cards").toggleClass("js-sortable",b);this.$(".js-list-header").toggleClass("editable",b);this.$(".js-open-card-composer").toggleClass("hide",!b);return this};b.prototype.toggleComposerLink=function(){return this.$(".js-open-card-composer").toggleClass("hide",this.composerOpen()||!this.model.editable())};b.prototype.composerOpen=function(){var b,c;b=null!=(c=this.model.getBoard())?c.composer:void 0;return null!=
b&&b.get("vis")&&b.get("idList")===this.model.id};b.prototype.renderComposer=function(){var b,c;this.composerOpen()&&(b=this.model.getBoard().composer,c=B.getCurrentBoardView().subview(Wg,b),this.insertComposerAtIndex(b.get("index"),c),c.scrollIntoView());return this};b.prototype.insertComposerAtIndex=function(b,c){return 0===b?this.$(".list-cards").prepend(c.render().el):this.$(".list-card").not(".js-composer").eq(b-1).after(c.render().el)};b.prototype.renderCardCount=function(){return this.$(".js-num-cards").text(m.formatCount(this.model.cardList.openCards().length,
"card"))};b.prototype.editTitle=function(b){if(this.model.editable())return this.$(".js-list-name").click()};b.prototype.openCardComposer=function(b){m.stop(b);w.hide();this.model.getBoard().composer.save({idList:this.model.id,index:this.model.cardList.openCards().length,vis:!0});n("Card Composer","Open","Via Bottom of List")};b.prototype.triggerOnItem=function(b,c,g){m.stopPropagation(b);c.item.data("dragCancel")||_.defer(function(b){return function(){return c.item.trigger(g,[c,b])}}(this))};b.prototype.sortReceive=
function(b,c){this.triggerOnItem(b,c,"moveto")};b.prototype.sortStop=function(b,c){this.triggerOnItem(b,c,"movein")};b.prototype.openMenu=function(b){var c;c=this.model;if(!M.sorting)return m.preventDefault(b),n("List Menu","Open List Menu"),w.toggle({elem:b.target,top:24,view:c.getView(Ug)}),!1};b.prototype.moveList=function(b,c){var g;g=c.item.parent().children().index(c.item);this.model.move(g)};b.prototype.eventStopPropagation=function(b){m.stopPropagation(b)};b.prototype.scrollIntoView=function(){var b,
c,g,e;c=this.$el.offset().left;g=c+this.$el.width();e=this.$el.closest(".list-area-wrapper");b=e.scrollLeft();if(0>c)return e.scrollLeft(b+c-16);if(g>e.width())return e.scrollLeft(b+(g-e.width()))};return b}(ha);xb=function(c){function b(){return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.viewType=ib;b.prototype.initialize=function(){arguments[0].resetCallback&&(this.resetCallback=arguments[0].resetCallback);b.__super__.initialize.apply(this,arguments);if(this.resetCallback)return this.listenTo(this.collection,
{reset:this.resetCollection,"change:idBoard":this.boardChange})};b.prototype.getModels=function(){return this.collection.openLists()};b.prototype.boardChange=function(b,c){if(c!==this.collection.board.get("id"))return this.collection.remove(b),M.refreshIfInitialized(this.$el)};b.prototype.resetListHeights=function(){var b,c,g,e,h;e=this.getModels();h=[];c=0;for(g=e.length;c<g;c++)b=e[c],b=this.existingSubview(ib,b).$el,h.push(b.find(".list-cards").css({"max-height":""}));return h};b.prototype.setListHeights=
function(b,c){var g,e,h,l,k,m;k=this.getModels();m=[];h=0;for(l=k.length;h<l;h++)g=k[h],g=this.existingSubview(ib,g).$el,e=g.find(".list-header").height(),e=b-e-c,m.push(g.find(".list-cards").css({"max-height":e}));return m};b.prototype.resetCollection=function(){return"function"===typeof this.resetCallback?this.resetCallback():void 0};b.prototype.addModel=function(){b.__super__.addModel.apply(this,arguments);return"function"===typeof this.resetCallback?this.resetCallback():void 0};b.prototype.insertSubview=
function(d){b.__super__.insertSubview.apply(this,arguments);0<d.$el.find(".ui-sortable").length?M.refreshIfInitialized(this.$el):M.refreshListCardSortable()};return b}(Pb);rg=function(c){function b(d,c){this.board=d;b.__super__.constructor.call(this,null,c);this.board.onId(function(b){return function(d){b.set({id:"boardListComposerSettings-"+d});return b.fetch()}}(this))}s(b,c);b.prototype["default"]=function(){return{title:null,vis:!1}};b.prototype.clear=function(){return this.save(this["default"]())};
b.prototype.clearItems=function(){this.save({title:""})};b.prototype.getBoard=function(){return this.board};b.prototype.toJSON=function(d){var c,g;c=(null!=d?d:{}).board;g=b.__super__.toJSON.apply(this,arguments);c&&(g.board=this.getBoard().toJSON());return g};return b}(gb);tg=function(c){function b(){this.addList=k(this.addList,this);this.renderClose=k(this.renderClose,this);this.renderOpen=k(this.renderOpen,this);this.renderListComposer=k(this.renderListComposer,this);this.setClose=k(this.setClose,
this);this.setOpen=k(this.setOpen,this);this.render=k(this.render,this);return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.className="list add-list idle";b.prototype.initialize=function(){return this.model.viewState.ond("change:listComposerOpen",this.renderListComposer)};b.prototype.events={"click .js-open-add-list":"setOpen","click .js-cancel-edit":"setClose","click .js-save-edit":"addList",submit:"addList"};b.prototype.render=function(){var b;b=this.model.toJSON({board:!0});
this.$el.html(u.fill("list_add",b));this.renderListComposer();this.model.editable()&&this.$el.removeClass("fade hide");return this};b.prototype.setOpen=function(b){m.stop(b);this.model.viewState.set("listComposerOpen",!0)};b.prototype.setClose=function(b){m.stop(b);this.model.viewState.set("listComposerOpen",!1)};b.prototype.renderListComposer=function(){return this.model.viewState.get("listComposerOpen")?this.renderOpen():this.renderClose()};b.prototype.renderOpen=function(b){m.stop(b);this.$el.hasClass("idle")&&
(this.$el.removeClass("idle"),$(".list-area-wrapper").scrollLeft($(".list-area").outerWidth()+100),_.defer(function(b){return function(){return b.$(".list-name-input").select()}}(this)));w.hide()};b.prototype.renderClose=function(b){m.stop(b);this.$el.addClass("idle")};b.prototype.addList=function(b){var c,g;m.stop(b);b=this.$(".list-name-input");g=this.model.openLists().length+1;c=b.val().trim();""===c?b.focus().select():(this.setClose(),_.defer(function(b){return function(){return b.model.listList.create({name:c,
pos:b.model.calcPos(g),closed:!1},{success:function(b){return n("Board","Add List - via Inline List Composer")}})}}(this)))};return b}(A);Ug=function(c){function b(){this.closeList=k(this.closeList,this);this.archiveCards=k(this.archiveCards,this);this.moveCards=k(this.moveCards,this);this.toggleSubscribe=k(this.toggleSubscribe,this);this.copyList=k(this.copyList,this);this.moveList=k(this.moveList,this);this.addCard=k(this.addCard,this);this.render=k(this.render,this);this.initialize=k(this.initialize,
this);return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.getViewTitle=function(){return"List Actions"};b.prototype.initialize=function(){return this.model.ond("change:subscribed",this.render)};b.prototype.events={"click .js-add-card":"addCard","click .js-move-list":"moveList","click .js-copy-list":"copyList","click .js-list-subscribe":"toggleSubscribe","click .js-move-cards":"moveCards","click .js-archive-cards":"archiveCards","click .js-close-list":"closeList"};b.prototype.render=
function(){var b;b=this.model.toJSON();this.$el.html(u.fill("list_menu",b,{editable:this.model.editable()}));return this};b.prototype.addCard=function(b){m.stop(b);w.hide();this.model.getBoard().composer.save({idList:this.model.id,index:0,vis:!0});n("List Menu","Add Card");n("Card Composer","Open","Via List Menu")};b.prototype.moveList=function(b){m.stop(b);n("List Menu","Open Move List Popover");w.pushView({view:this.model.getView(Vg)})};b.prototype.copyList=function(b){m.stop(b);n("List Menu","Open Copy List Popover");
w.pushView({view:this.model.getView(Tg)})};b.prototype.toggleSubscribe=function(b){m.preventDefault(b);this.model.get("subscribed")?(this.model.subscribe(!1),n("List Menu","Subscribe","Unsubscribe")):(this.model.subscribe(!0),n("List Menu","Subscribe","Subscribe"))};b.prototype.moveCards=function(b){m.stop(b);n("List Menu","Open Move All Cards in List");w.pushView({view:this.model.getView(Sg)})};b.prototype.archiveCards=function(b){m.stop(b);n("List Menu","Open Archive All Cards in List");pa.pushView({model:this.model,
title:"Archive All Cards in this List?",text:'This will remove all the cards in this list from the board. To view archived cards and bring them back to the board, click "Menu" > "Archived Items".',confirmText:"Archive All",confirmBtnClass:"negate",fxConfirm:function(b){return function(d){var c,h,l;w.hide();c=b.model.openCards();h=0;for(l=c.length;h<l;h++)d=c[h],d.set({closed:!0});return b.model.run("archiveAllCards",{},b.listViewListen)}}(this)})};b.prototype.closeList=function(b){m.stop(b);b=this.model;
n("List Menu","Archive List");w.hide();b.close();return!1};return b}(A);Sg=function(c){function b(){this.selectList=k(this.selectList,this);this.render=k(this.render,this);return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.getViewTitle=function(){return"Move All Cards in List"};b.prototype.events={"click .js-select-list":"selectList"};b.prototype.render=function(){var b,c,g,e,h;b=this.model.toJSON();b.lists=[];g=this.model.getBoard().openLists();e=0;for(h=g.length;e<h;e++)c=g[e],
c=_.clone(c.toJSON()),c.id===this.model.id&&(c.current=!0),b.lists.push(c);this.$el.html(u.fill("list_bulk_card_move",b));return this};b.prototype.selectList=function(b){var c,g,e,h;b=$(b.target).closest(".js-select-list");c=b.attr("name");if(!b.hasClass("disabled")){c=this.List.get(c);n("Card","Moved in Bulk via List Menu");h=this.model.cardList.openCards();g=0;for(e=h.length;g<e;g++)b=h[g],b.moveToList(c,1E3);w.hide()}};return b}(A);Tg=function(c){function b(){this.submit=k(this.submit,this);this.keydownEvent=
k(this.keydownEvent,this);this.render=k(this.render,this);return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.getViewTitle=function(){return"Copy List"};b.prototype.tagName="form";b.prototype.events={"click .js-submit":"submit",submit:"submit","keydown textarea[name='name']":"keydownEvent"};b.prototype.render=function(){var b;b=this.model.toJSON();this.$el.html(u.fill("list_copy",b,{editable:this.model.editable()}));return this};b.prototype.keydownEvent=function(b){13===b.keyCode&&
(m.stop(b),this.submit(b))};b.prototype.submit=function(b){var c,g;m.stop(b);g=this.$('textarea[name="name"]');""===g.val().trim()?g.focus().select():(b=this.model.getBoard(),c=b.listList.calcPos(this.model.getIndexInList()+1,this.model,!0),c={idListSource:this.model.id,idBoard:this.model.get("idBoard"),pos:c,name:g.val().trim(),closed:!1},b.listList.create(c),w.hide(),n("List","Copy List"))};return b}(ha);Vg=function(c){function b(){this.commitChange=k(this.commitChange,this);this.updateListList=
k(this.updateListList,this);this.updateBoardData=k(this.updateBoardData,this);this.renderValues=k(this.renderValues,this);this.render=k(this.render,this);return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.getViewTitle=function(){return"Move List"};b.prototype.tagName="form";b.prototype.events={"change .js-select-list-pos":"renderValues","change .js-select-board":"updateBoardData","click .js-commit-position":"commitChange",submit:"commitChange"};b.prototype.render=function(){var b,
c,g,e,h,l,k,m,x;g=this.model;c={organizations:z.me().getOpenBoardsByOrg(!0)};m=c.organizations;e=0;for(l=m.length;e<l;e++){b=m[e];x=b.boards;h=0;for(k=x.length;h<k;h++)b=x[h],b.id===g.get("idBoard")&&(b.selected=!0)}this.$el.html(u.fill("popover_move_list",c));this.updateBoardData();return this};b.prototype.renderValues=function(){var b,c,g;b=$(this.el);c=b.find(".js-select-board option:selected").val();g=parseInt(b.find(".js-select-list-pos option:selected").text(),10);c=this.Board.get(c).get("name");
g=m.getNaturalNumber(g);b.find(".js-board-value").text(c);b.find(".js-pos-value").text(g)};b.prototype.updateBoardData=function(){var b,c,g,e,h,l;b=$(this.el);g=b.find(".js-select-board").find("option:selected").val();if(g===this.model.getBoard().id){this._boardData=this.model.getBoard();l=this._boardData.listList.models;e=0;for(h=l.length;e<h;e++)b=l[e],b.cardCount=this._boardData.listList.get(b.id).cardList.openCards().length;return this.updateListList()}c=b.find(".select-list,.select-position");
c.attr("disabled","disabled");return P["for"](this.modelCache).loadBoardListData(g,{lists:"open",list_fields:"name,pos,idBoard"},function(b){return function(){b._boardData=b.Board.get(g);b.updateListList();return c.removeAttr("disabled")}}(this))};b.prototype.updateListList=function(){var b,c,g,e,h,l,k,m;l=this.model;c=this.$(".js-select-list-pos");c.empty();g=this._boardData.openLists();this._boardData.id===this.model.getBoard().id?(e=_.indexOf(g,this.model),g=g.length):(e=-1,g=g.length+1);for(h=
m=0;0<=g?m<g:m>g;h=0<=g?++m:--m)b=h+1,h===e&&(b+=" (current)"),k=this._boardData.listList.calcPos(h,l),b=$("<option>").val(k).text(b).appendTo(c),h===e&&b.attr("selected","selected");parseInt(this.$(".js-select-list-pos").val(),10);return this.renderValues()};b.prototype.commitChange=function(b){var c;m.stop(b);b=this.$(".js-select-list-pos");c=parseInt(b.find("option:selected").val(),10);b=this.$(".js-select-board option:selected").val();this.model.getBoard().composer.save("vis",!1);b===this.model.getBoard().id?
(this.model.update({pos:c}),n("List Menu","Move Menu","Successfully Moved")):null!=b&&null!=c&&(this.model.update({idBoard:b,pos:c}),n("List Menu","Move Menu","Changed Board"));w.hide()};return b}(ha);var Nc,de,Xg,ee,Ub,fe,ae,yf,Yg,ba,Zg,Oc,$g,ah,ge,bh,ch,dh,eh,fh,gh,hh,ih,cc,hb,jh,kh,he,ie,lh,mh,Lb,Gg,nh,be,db,oh,ph,k=function(c,b){return function(){return c.apply(b,arguments)}},E={}.hasOwnProperty,s=function(c,b){function d(){this.constructor=c}for(var f in b)E.call(b,f)&&(c[f]=b[f]);d.prototype=
b.prototype;c.prototype=new d;c.__super__=b.prototype;return c},F=[].indexOf||function(c){for(var b=0,d=this.length;b<d;b++)if(b in this&&this[b]===c)return b;return-1},G=[].slice;ae=1E4;ba=function(c){function b(){this.isFeatureEnabled=k(this.isFeatureEnabled,this);return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.typeName="Member";b.prototype.nameAttr="fullName";b.prototype.urlRoot="/1/members";b.prototype.initialize=function(){b.__super__.initialize.apply(this,arguments);
this.destruct([this.boardList=(new je).syncModel(this,"idBoards"),this.organizationList=(new qh).syncModel(this,"idOrganizations")]);z.isMe(this)&&(this.destruct([this.boardStarList=(new rh([],{member:this})).syncSubModels(this,"boardStars"),this.customStickerList=(new Rg([],{member:this})).syncSubModels(this,"customStickers"),this.boardBackgroundList=(new ug([],{member:this})).syncSubModels(this,"boardBackgrounds"),this.customEmojiList=(new Pg([],{member:this})).syncSubModels(this,"customEmoji"),
this.loginList=(new sh([],{member:this})).syncSubModels(this,"logins")]),this.isFeatureEnabled("customEmoji")&&P["for"](this.modelCache).loadMemberCustomEmoji(this.get("id")));this.on("change:editing",function(b){var c,g;return null!=(c=this.Card.get(null!=(g=b.get("editing"))?g.idCard:void 0))?c.updateEditing(b):void 0})};b.prototype.isLoggedIn=function(){return!this.get("notLoggedIn")};b.prototype.hasAtMe=function(b){var c;if(!this.isLoggedIn()||null==this.get("username")||null==this.get("fullName"))return!1;
c=_.compact([this.get("username")].concat(this.get("fullName").split(/\s+/)));return _.find(c,function(c){return 2<=c.length&&RegExp("(^|\\W)@"+m.escapeForRegex(c)+"($|\\W)","i").test(b)})};b.prototype.viewBoardProfile=function(b){var c;null!=b&&b.id&&(b=b.id);c=new bh({model:this,board:this.Board.get(b),modelCache:this.modelCache});B.saveMemberBoardProfileLocation(this,b);return W.show({view:c,displayType:"slim",hide:function(c){return function(){return B.setBoardLocation(b)}}(this)})};b.prototype.getMembershipData=
function(b){var c,g,e,h,l,k,v,x,n,s,u,w,C,A,N;A=m.toTitleCase(b.typeName);k="Board"===A;(s="Organization"===A)&&("function"===typeof b.isFeatureEnabled&&b.isFeatureEnabled("orgCards"))&&(N=B.getOrganizationMemberCardsUrl(b.get("name"),this.get("username")));c=b.adminList.models;v=z.isMe(this);h=_.some(c,function(b){return function(d){return d.id!==b.id}}(this));x=2<=c.length;n=1<b.memberList.length;u="admin"===b.getExplicitMemberType(this);C="observer"===b.getExplicitMemberType(this);w=!(u||C);l=
b.owned();g=!w&&h&&l;e=!C&&h&&l;c=!u&&l;h=v&&h&&"org"!==b.getExplicitMemberType(this)||l&&!v&&(!u||x);b=s&&l&&!b.isDeactivated(this)&&!b.isVirtual(this);return{object:A,isBoard:k,isOrg:s,orgCardsUrl:N,canRemove:h,canDeactivate:b,isMe:v,canChangeRole:l,memberIsAdmin:u,memberIsObserver:C,memberIsNormal:w,canMakeMember:g,canMakeObserver:e,canMakeAdmin:c,isMoreThanOneAdmin:x,isMoreThanOneMember:n}};b.prototype.isDismissed=function(b){var c;return 0<=F.call(null!=(c=this.get("oneTimeMessagesDismissed"))?
c:[],b)};b.prototype.dismiss=function(b){return this.addToSet("oneTimeMessagesDismissed",b)};b.prototype.owned=function(){return z.isMe(this)};b.prototype.prefNames=["minutesBetweenSummaries"];b.prototype.getMemberViewTitle=function(){var b;b=this.get("username");return""+this.get("fullName")+" ("+b+")"};b.prototype.toggleColorBlindMode=function(){null!=this.get("prefs")&&(this.get("prefs").colorBlind?this.setPref("colorBlind",!1).save():this.setPref("colorBlind",!0).save(),$("body").toggleClass("color-blind-mode-enabled",
this.get("prefs").colorBlind))};b.prototype.getOpenBoardsByOrg=function(b){var c,g,e,h,l,k,m,x;e={};k=this.boardList.models;h=0;for(l=k.length;h<l;h++)c=k[h],!c.get("closed")&&!(b&&"observer"===c.get("myPermLevel"))&&(g=c.toJSON(),c=null!=(m=g.idOrganization)?m:"",null==e[c]&&(e[c]={boards:[],displayName:""===c?"Boards":null!=(x=this.Organization.get(c))?x.get("displayName"):void 0}),e[c].boards.push(g));b=_.sortBy(_.keys(e),function(b){return""===b?"":e[b].displayName});k=[];h=0;for(l=b.length;h<
l;h++)c=b[h],k.push(e[c]);return k};b.prototype.checkColorBlindMode=function(){var b;return $("body").toggleClass("color-blind-mode-enabled",!0===(null!=(b=this.get("prefs"))?b.colorBlind:void 0))};b.prototype.isFeatureEnabled=function(b){return Ca.isFeatureEnabled(b,this.get("products"))};b.prototype.isGold=function(){return Ca.hasProduct(this.get("products"))};b.prototype.allCustomEmoji=function(){var b,c,g,e,h;b={};if(this.isFeatureEnabled("customEmoji")){h=this.customEmojiList.models;g=0;for(e=
h.length;g<e;g++)c=h[g],b[c.get("name")]=c.get("url")}return b};b.prototype.toJSON=function(d){var c,g;null==d&&(d={});c=b.__super__.toJSON.apply(this,arguments);d.hasPassword&&(c.hasPassword=0<=F.call(c.loginTypes,"password"));c.accountStanding=Ca.standingName(null!=(g=this.get("paidAccount"))?g.standing:void 0);return c};b.prototype.editing=function(b){null==b&&(b={});if(!_.isEqual(b,this.lastMessage))return this.lastMessage=b,clearTimeout(this.clearLastTimeout),this.clearLastTimeout=setTimeout(function(b){return function(){return b.lastMessage=
null}}(this),ae/2),this.run("editing",_.clone(b))};b.prototype.removeMembershipConfirmation=function(b){var c,g,e,h;g=this.getMemberViewTitle();c="Organization"===b.typeName;e=b.get(c?"displayName":"name");z.isMe(this)?(h="Leave "+b.typeName+"?",g="Leave "+e+"?",g=c?g+" You will remain on all your boards in this organization.":g+" You will be removed from all cards on this board.",b="Leave "+b.typeName):(h="Remove Member?",g="Remove "+g+" from "+e+"?",g=c?g+" The member will remain on all their boards in this organization. They will receive a notification.":
g+" The member will be removed from all cards on this board. They will receive a notification.",b="Remove Member");return{title:h,text:g,confirmText:b,confirmBtnClass:"negate"}};b.prototype.clearAllNotifications=function(){T({url:"/1/notifications/all/read",type:"post"})};return b}(Ac);hb=function(c){function b(){this.remove=k(this.remove,this);this.idList=k(this.idList,this);return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.model=ba;b.prototype.sortField="fullName";b.prototype.idList=
function(){return this.pluck("id")};b.prototype.remove=function(d,c){var g;if(null==this.sourceModel)return b.__super__.remove.apply(this,arguments);b.__super__.remove.call(this,d);g=null!=c&&c.invite?"/1/"+this.sourceModel.typeName+"/"+this.sourceModel.id+"/ghost/"+d.id:"/1/"+this.sourceModel.typeName+"/"+this.sourceModel.id+"/members/"+d.id;null!=c&&c.mass&&(g+="/all");return T({url:g,type:"delete",success:function(b){null!=b&&b.unreadable&&B.displayErrorPage({errorType:"notFound"});return null!=
c?"function"===typeof c.success?c.success():void 0:void 0}})};b.prototype.filterDeactivated=function(d){var c,g,e;d=null!=d?d:{};e=d.model;c=d.force;null==e&&(e=this.sourceModel);null==c&&(c=!1);g=z.me();return new b(this.filter(function(b){return((null!=e?e.isMember(b):void 0)||(null!=e?e.isMemberObserver(b):void 0))&&!(null!=e&&e.isDeactivated(b))||(null!=e?e.canSeeDeactivated(g):void 0)&&!c},this.options))};b.prototype.comparator=function(b){return b.get(this.sortField)};return b}(La);Lb=function(c){function b(){return b.__super__.constructor.apply(this,
arguments)}s(b,c);b.prototype.initialize=function(){this.listenTo(this.model,"change:initials change:avatarHash change:avatarSource change:fullName change:username change:bio change:prefs change:paidAccount",this.render);this.listenTo(this.model,"change:initials change:fullName change:username change:bio",this.renderDetails)};b.prototype.events={"click .js-change-avatar-profile":"changeAvInProfile","click .js-edit-profile":"editProfile","click .js-submit-profile":"submitProfile","submit .js-profile-form":"submitProfile",
"click .js-cancel-edit-profile":"cancelEditProfile","click .js-member-profile":"clickProfile","click .js-member-cards":"clickCards","click .js-member-billing":"clickBilling","click .js-member-account":"clickAccount","click .js-gold-ad":"clickGoldAd"};b.prototype.delegateEvents=function(d){return b.__super__.delegateEvents.call(this,_.extend({},b.prototype.events,d||this.events))};b.prototype.render=function(){var b,c,g,e;c=z.isMe(this.model);b=this.model.toJSON();0<this.model.organizationList.models.length&&
(b.showOrgs=!0);c&&(g=null!=(e=b.paidAccount)?e.standing:void 0,b.hasAccount=Ca.hasAccount(g),b.accountProblem=Ca.problem(g),b.isMe=!0);b.hasGold=this.model.isGold();this.$el.html(u.fill("member_detail",b,{editable:c}));this.renderDetails();c&&this.renderAd();this.renderMainContent();return this};b.prototype.renderDetails=function(){var b,c;c=z.isMe(this.model);b=this.model.toJSON();b.bioHtml=mb.textAsHtml(b.bio,{convertNewlines:!0,textData:b.bioData});b.hasGold=this.model.isGold();this.$(".js-current-details").empty().append(u.fill("member_detail_profile_info",
b,{editable:c}));c&&this.$(".js-profile-form").empty().append(u.fill("member_detail_profile_edit",b,{editable:c}));return this};b.prototype.renderAd=function(){var b,c,g;c={};this.$el.removeClass("has-ad");b=this.$(".js-header-ad").empty();if(!(null!=(g=z.me())&&g.isGold()))this.$el.addClass("has-ad"),b.append(u.fill("ad_gold_banner",c))};b.prototype.setActiveView=function(b){this.$(".tabbed-pane-nav-item-button").removeClass("active");this.$(b).addClass("active")};b.prototype.changeAvInProfile=function(b){m.stop(b);
n("Member View","Header","Change Avatar Menu");w.toggle({elem:this.$(".js-change-avatar-profile"),top:93,view:this.model.getView(Nc)})};b.prototype.editProfile=function(b){m.stop(b);this.$(".js-current-details").addClass("hide");this.$(".js-profile-form").removeClass("hide");n("Member View","Click Edit Profile")};b.prototype.cancelEditProfile=function(b){m.stop(b);this.$(".js-current-details").removeClass("hide");this.$(".js-profile-form").addClass("hide")};b.prototype.submitProfile=function(b){var c,
g,e,h;m.stop(b);if(!this.disabled){b={};h=["fullName","username","bio","initials"];g=0;for(e=h.length;g<e;g++)c=h[g],b[c]=this.$(".js-profile-form [name="+c+"]").val();b.username=b.username.toLowerCase().replace(/[^a-z0-9_]/g,"");b.initials=b.initials.toUpperCase();this.disableSubmit();this.model.update(b,{waitForServer:!0},function(b){return function(d){b.disabled=!1;b.$(".js-submit-profile").removeAttr("disabled");if(d)return b.$(".js-profile-form-error").removeClass("hide").text(d);b.$(".js-profile-form-error").addClass("hide");
b.cancelEditProfile();return n("Member","Successfully Change User Info")}}(this))}};b.prototype.disableSubmit=function(){this.disabled=!0;this.$(".js-submit-profile").attr("disabled","disabled")};b.prototype.loadSection=function(){this.$(".js-content").addClass("hide").detach();this.$(".js-loading-page").removeClass("hide")};b.prototype.clickProfile=function(){this.setActiveView(".js-member-profile");this.loadSection();return n("Member View","Nav","Open Profile")};b.prototype.clickCards=function(){this.setActiveView(".js-member-cards");
this.loadSection();return n("Member View","Nav","Open Cards")};b.prototype.clickBilling=function(){this.setActiveView(".js-member-billing");this.loadSection();return n("Member View","Nav","Open Billing")};b.prototype.clickAccount=function(){this.setActiveView(".js-member-account");this.loadSection();return n("Member View","Nav","Open Account")};b.prototype.clickGoldAd=function(b){return n("Member View","Clicked Gold Ad (in Profile Header)")};return b}(A);lh=ea(oc,function(c){function b(){this.clickAndroidTrophyLink=
k(this.clickAndroidTrophyLink,this);this.clickiOSTrophyLink=k(this.clickiOSTrophyLink,this);this.clickBCTrophyLink=k(this.clickBCTrophyLink,this);this.clickGoldTrophyLink=k(this.clickGoldTrophyLink,this);this.getActionsFilter=k(this.getActionsFilter,this);this.loadMoreActionsAndRemoveDateLimit=k(this.loadMoreActionsAndRemoveDateLimit,this);this.hasMoreActionsOrDateLimited=k(this.hasMoreActionsOrDateLimited,this);this.renderActions=k(this.renderActions,this);this.renderMainContent=k(this.renderMainContent,
this);return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.events={"click .js-more-actions":"loadMoreActionsAndRemoveDateLimit","click .js-gold-trophy":"clickGoldTrophyLink","click .js-bc-trophy-link":"clickBCTrophyLink","click .js-ios-app-trophy":"clickiOSTrophyLink","click .js-android-app-trophy":"clickAndroidTrophyLink"};b.prototype.initialize=function(){b.__super__.initialize.apply(this,arguments);this.limit=10;this.daysBack=30;this.actionListView=this.collectionSubview(Jb,
new Ib(this.getActions(),{modelCache:this.modelCache}),{renderOpts:{context:this.model,showBoard:!0,showOrganization:!0}});this.model.organizationList.onAddRemove(this.renderMainContent);return this.listenTo(this.modelCache,"add:Action:"+this.model.id,function(b){return function(){b.actionListView.collection.reset(b.getActions(),{silent:!0});return b.renderActions()}}(this))};b.prototype.renderMainContent=function(){var b,c,g,e;g=z.isMe(this.model);b=function(){var b,d,c;c=[];b=0;for(d=dc.length;b<
d;b++)e=dc[b],null!=e.available&&c.push(e);return c}();c=this.model.toJSON();c=_.extend(c,{isMe:g,trophyData:function(){var b,d,g,k,m;m=[];b=0;for(d=dc.length;b<d;b++)e=dc[b],((g=e.id,0<=F.call(null!=(k=c.trophies)?k:[],g))||"function"===typeof e.fx&&e.fx(this.modelCache,c))&&m.push(e);return m}.call(this)});g&&(c.availableTrophyData=_.difference(b,c.trophyData));this.setActiveView(".js-member-profile");this.$(".js-content").html(u.fill("member_profile",c,{editable:z.isMe(this.model)}));_.defer(function(b){return function(){var d;
0<b.model.organizationList.length?(d=new th({model:b.model}),b.$(".js-list-orgs").html(d.render().el)):b.$(".js-list-orgs").closest(".window-module").hide();b.actionListView.setElement(b.$(".list-actions")[0]);return b.renderActions()}}(this));return this};b.prototype.renderActions=function(){0===this.actionListView.collection.length?this.actionListView.$el.html(u.fill("actions_empty",{daysBack:this.daysBack})):this.actionListView.render();this.$(".js-more-actions").toggleClass("hide",!this.hasMoreActionsOrDateLimited());
return this};b.prototype.hasMoreActionsOrDateLimited=function(){return null!=this.daysBack||this.hasMoreActions()};b.prototype.loadMoreActionsAndRemoveDateLimit=function(){this.daysBack=null;return this.loadMoreActions()};b.prototype.getActionsFilter=function(){return nd};b.prototype.clickGoldTrophyLink=function(b){return n("Member View","Clicked Gold Trophy Link")};b.prototype.clickBCTrophyLink=function(b){return n("Member View","Clicked BC Trophy Link")};b.prototype.clickiOSTrophyLink=function(b){return n("Member View",
"Clicked iOS Trophy Link")};b.prototype.clickAndroidTrophyLink=function(b){return n("Member View","Clicked Android Trophy Link")};return b}(Lb));kh=function(c){function b(){this.loadMoreNotifications=k(this.loadMoreNotifications,this);this.destructor=k(this.destructor,this);this.renderNotificationList=k(this.renderNotificationList,this);this.render=k(this.render,this);this.initialize=k(this.initialize,this);return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.events={"click .js-more-notifications":"loadMoreNotifications"};
b.prototype.className="member-notifications-view";b.prototype.initialize=function(){this.nextPage=1;this.isMore=!0;return this.modelCache.ond("add:Notification remove:Notification change:Notification",this.renderNotificationList)};b.prototype.render=function(){var b;b=this.model.toJSON({prefs:!0});b.empty=0===this.Notification.all().length;this.$el.html(u.fill("member_notifications",b));this.isMore||this.$(".js-more-notifications").hide();this.renderNotificationList();return this};b.prototype.renderNotificationList=
function(){var b,c,g,e,h;b=this.$(".js-list-notifications");b.empty();h=this.Notification.sortedByDateDescending();g=0;for(e=h.length;g<e;g++)c=h[g],c=c.getView(uh),b.append(c.render().el);return this};b.prototype.destructor=function(){this.model.clearAllNotifications();return b.__super__.destructor.apply(this,arguments)};b.prototype.loadMoreNotifications=function(){return P["for"](this.modelCache).loadMoreNotificationData(this.model.get("username"),this.nextPage,function(b){return function(c,g){if(!c&&
(b.nextPage++,b.renderNotificationList(),10>g.length))return b.isMore=!1,b.$(".js-more-notifications").hide()}}(this))};return b}(A);ch=function(c){function b(){return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.initialize=function(){return this.model.organizationList.onAddRemove(this.render)};b.prototype.className="member-boards-view";b.prototype.render=function(){var b,c,g,e,h,l;g=new async.queue(function(b){return function(d,c){b.$el.append(d.render().el);return _.defer(c)}}(this),
1);this.$el.empty().prepend(this.subview(cc,this.model,{allowDismiss:!0}).render().el);g.push(this.subview(vh,this.model));g.push(this.subview(wh,this.model));l=_.sortBy(this.model.organizationList.models,function(b){return b.get("displayName")});e=0;for(h=l.length;e<h;e++)c=l[e],b="orgboardlistview-"+c.id,b=this.subview(xh,this.model,{organization:c},b),g.push(b);return this};return b}(A);hh=function(c){function b(){return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.initialize=
function(){b.__super__.initialize.apply(this,arguments);this.listenTo(this.model.boardList,"add remove reset",function(){return this.renderMainContent()});return this.listenTo(Fa,"change:cardsPageSortType",function(){return this.renderCardsSection()})};b.prototype.events={"click .js-toggle-sort":"toggleSort"};b.prototype.renderMainContent=function(){this.setActiveView(".js-member-cards");this.$(".js-content").html(u.fill("member_cards_base"));this.renderCardsSection();return this};b.prototype.getCards=
function(){return this.Card.find(function(b){return!b.get("closed")})};b.prototype.getSortType=function(){return Fa.getCardsPageSortType()};b.prototype.renderFilterText=function(){var b;b="Sorting by <strong>"+this.getSortType()+"</strong>.";this.$(".js-sort-text").html(b)};b.prototype.toggleSort=function(b){m.stop(b);n("Member View","Cards Page","Open Sorting and Filtering Options");w.toggle({elem:this.$(".js-toggle-sort"),top:30,view:this.model.getView(gh)})};b.prototype.clearContent=function(){return this.$(".js-cards-content").empty()};
b.prototype.renderCardsSection=function(){switch(this.getSortType()){case "board":this.renderBoardSort();break;case "date":this.renderDateSort()}};b.prototype.renderBoardSort=function(){var b,c,g,e,h,l,k;this.clearContent();this.renderFilterText();g=this.getCards();e=!1;k=this.model.boardList.models;h=0;for(l=k.length;h<l;h++)b=k[h],b.get("closed")||(c=_.filter(g,function(c){return function(c){return c.get("idBoard")===b.id}}(this)),_.isEmpty(c)||(e=!0,c=this.subview(eh,b),this.appendSubview(c,this.$(".js-cards-content"))));
e||(g=z.isMe(this.model)?"No visible cards. You must be added to a card for it to appear here.":"This member is not added to any cards you are able to see.",g={message:g,classes:"gutter",style:"padding: 60px 10px;"},this.$(".js-cards-content").append(u.fill("empty_list",g)));return this};b.prototype.renderDateSort=function(){var b,c,g,e,h,l,k,m;this.clearContent();this.renderFilterText();e=function(b,d){return function(c){return(null==b||null!=c&&c>=(new Date).addDays(b))&&(null==d||null!=c&&c<(new Date).addDays(d))}};
c=function(b){b=b.get("due");return null!=b?H.parse(b):null};e={"Due in the Next Day":{fxTest:e(0,1),data:{isDueSoon:!0}},"Due in the Next 7 Days":{fxTest:e(1,7)},"Due in the Next Month":{fxTest:e(7,28)},"Due Later":{fxTest:e(28,null)},"Overdue Cards":{fxTest:e(null,0),data:{isOverdue:!0}},"Cards with No Due Date":{fxTest:function(b){return null==b},data:{iconType:"card"}}};h=_.sortBy(this.getCards(),function(b){return function(b){return b.get("due")}}(this));for(m in e)g=e[m],l=g.fxTest,g=g.data,
k=function(){var e,g,k;k=[];e=0;for(g=h.length;e<g;e++)b=h[e],l(c(b))&&k.push(b);return k}(),_.isEmpty(k)||(g=_.extend({header:m},g),g=this.subview(fh,z.me(),{templateData:g,fxTest:l},"datesectionview-"+m),this.appendSubview(g,this.$(".js-cards-content")))};return b}(Lb);gh=function(c){function b(){return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.getViewTitle=function(){return"Sort Cards"};b.prototype.initialize=function(){return this.listenTo(Fa,"change:cardsPageSortType",
function(){return this.render()})};b.prototype.events={"click .js-sort-by-board":"sortByBoard","click .js-sort-by-due-date":"sortByDueDate"};b.prototype.render=function(){var b;b={};b[Fa.getCardsPageSortType()]=!0;this.$el.html(u.fill("member_cards_filter",b));return this};b.prototype.sortByBoard=function(b){m.stop(b);Fa.sortCardsPageByBoard();w.hide();n("Member View","Cards Page","Sort by Board")};b.prototype.sortByDueDate=function(b){m.stop(b);Fa.sortCardsPageByDate();w.hide();n("Member View","Cards Page",
"Sort by Due Date")};return b}(A);fh=function(c){function b(){return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.className="window-module";b.prototype.getCards=function(){var b,c,g,e;c=function(b){b=b.get("due");return null!=b?H.parse(b):null};e=this.options.fxTest;g=this.Card.find(function(b){return!b.get("closed")});return function(){var h,l,k;k=[];h=0;for(l=g.length;h<l;h++)b=g[h],e(c(b))&&k.push(b);return k}()};b.prototype.render=function(){var b;b={iconType:"clock",isOverdue:!1,
isDueSoon:!1};_.extend(b,this.options.templateData);0<this.getCards().length?(this.$el.html(u.fill("member_cards_date",b)),this.renderCards()):this.$el.empty();return this};b.prototype.renderCards=function(){var b,c,g,e,h;c=[];h=this.getCards();g=0;for(e=h.length;g<e;g++)b=h[g],c.push(this.subview(Jc,b,{dateSort:!0}));this.appendSubviews(c,this.$(".js-list"));b=m.formatCount(this.getCards().length,"Card",!0);return this.$(".js-card-total").html(b)};return b}(A);eh=function(c){function b(){return b.__super__.constructor.apply(this,
arguments)}s(b,c);b.prototype.className="window-module";b.prototype.getCards=function(){var b;b=this.Card.find(function(b){return!b.get("closed")});return _.filter(b,function(b){return function(d){return d.get("idBoard")===b.model.id}}(this))};b.prototype.render=function(){var b,c;b=this.model.toJSON({prefs:!0});b.boardUrl=this.model.getUrl();b.permissionLevel_org&&(b.permissionLevel="org-private");b.idOrganization&&!this.options.hideOrg&&(b.org=null!=(c=this.Organization.get(b.idOrganization))?c.toJSON():
void 0);0<this.getCards().length?(this.$el.html(u.fill("member_cards_board",b)),this.renderCards()):this.$el.empty();return this};b.prototype.renderCards=function(){var b,c,g,e,h;c=[];h=this.getCards();g=0;for(e=h.length;g<e;g++)b=h[g],c.push(this.subview(Jc,b,{dateSort:!0}));this.appendSubviews(c,this.$(".js-list"));b=m.formatCount(this.getCards().length,"Card",!0);this.$(".js-card-total").html(b);return this};return b}(A);Zg=function(c){function b(){this.deleteConfirm=k(this.deleteConfirm,this);
this.toggleCB=k(this.toggleCB,this);this.renderMainContent=k(this.renderMainContent,this);return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.initialize=function(){b.__super__.initialize.apply(this,arguments);return this.model.ond("change:loginTypes change:prefs change:tokens change:credentials",this.renderMainContent)};b.prototype.events={"click .js-change-avatar":"changeAvatar","click .js-change-name-and-bio":"changeUserInfo","click .js-change-email":"changeEmail","click .js-change-password":"changePassword",
"click .js-change-email-freq":"changeEmailFreq","click .js-allow-desktop-notifications":"allowDesktopNote","click .js-toggle-cb-mode":"toggleCB","click .js-confirm-delete-member":"deleteConfirm"};b.prototype.renderMainContent=function(){var b,c,g;b=this.model.toJSON({prefs:!0,hasPassword:!0});b["avatarSource_"+b.avatarSource]=!0;b.canAllowDesktopNotifications=tb.notEnabled();b.cbEnabled=this.model.get("prefs").colorBlind;this.$(".js-content").html(u.fill("member_account",b,{editable:z.isMe(this.model)}));
this.$(".js-member-applications").html(this.model.getView($g).render().el);this.$(".js-member-sessions").html(this.model.getView(mh).render().el);c=this.$(".js-credentials-section");b=this.$(".js-credentials-list");0<this.model.get("logins").length?(b.empty(),g=this.collectionSubview(jh,this.model.loginList,{model:this.model}),this.appendSubview(g,b),c.removeClass("hide")):c.addClass("hide");this.$(".js-content").prepend(this.subview(cc,this.model,{allowDismiss:!1}).render().el);this.setActiveView(".js-member-account");
return this};b.prototype.changeUserInfo=function(b){m.stop(b);n("Member View","Account Page","Open Change User Info Menu");return w.toggle({elem:this.$(".js-change-name-and-bio"),top:50,view:this.model.getView(fe)})};b.prototype.changeEmail=function(b){m.stop(b);n("Member View","Account Page","Open Change Email Menu");return w.toggle({elem:this.$(".js-change-email"),top:50,view:this.model.getView(Xg)})};b.prototype.changeAvatar=function(b){m.stop(b);n("Member View","Account Page","Open Change Avatar Menu");
return w.toggle({elem:this.$(".js-change-avatar"),top:50,view:this.model.getView(Nc)})};b.prototype.changePassword=function(b){m.stop(b);n("Member View","Account Page","Open Change Password Menu");return w.toggle({elem:this.$(".js-change-password"),top:50,view:this.model.getView(Ub)})};b.prototype.changeEmailFreq=function(b){m.stop(b);n("Member View","Account Page","Open Change Frequency Menu");return w.toggle({elem:this.$(".js-change-email-freq"),top:50,view:this.model.getView(de,"account")})};b.prototype.allowDesktopNote=
function(b){m.stop(b);n("Member View","Account Page","Allow Desktop Notifications");return tb.requestPermission(function(b){return function(){b.render()}}(this))};b.prototype.toggleCB=function(b){m.stop(b);n("Member View","Account Page","Toggle Color Blind Mode");this.model.toggleColorBlindMode()};b.prototype.deleteConfirm=function(b){m.stop(b);n("Member View","Account Page","Open Delete Account Confirmation Menu");w.toggle({elem:this.$(".js-confirm-delete-member"),top:35,view:this.model.getView(ih)})};
return b}(Lb);fe=function(c){function b(){this.saveChanges=k(this.saveChanges,this);this.showError=k(this.showError,this);this.render=k(this.render,this);return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.getViewTitle=function(){return"Change Name and Bio"};b.prototype.events={"click .js-save-changes":"saveChanges"};b.prototype.render=function(){var b;b=this.model.toJSON({prefs:!0});this.$el.html(u.fill("popover_change_user_info",b));return this};b.prototype.getValue=function(b){return this.$("[name="+
b+"]").val()};b.prototype.showError=function(b){return this.$("#account-error").text(null!=b?b:"error").show()};b.prototype.saveChanges=function(b){var c,g,e,h,l;m.preventDefault(b);b={};this.$("#account-error").hide();l=["fullName","initials","username","bio"];e=0;for(h=l.length;e<h;e++)c=l[e],b[c]=$.trim(this.getValue(c));b.username=b.username.toLowerCase().replace(/[^a-z0-9_]/g,"");b.initials=b.initials.toUpperCase();g=B.getMemberProfileUrl(this.model.get("username"))===B.location;this.model.update(b,
{waitForServer:!0},function(b){return function(d){if(d)return b.showError(d);w.popView();g&&B.setLocation({location:B.getMemberProfileUrl(b.model.get("username"))});return n("Member","Successfully Change User Info")}}(this))};return b}(A);Xg=function(c){function b(){this.saveChanges=k(this.saveChanges,this);this.showError=k(this.showError,this);this.render=k(this.render,this);return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.getViewTitle=function(){return"Change Email"};b.prototype.events=
{"click .js-save-changes":"saveChanges"};b.prototype.render=function(){var b;b=this.model.toJSON({prefs:!0});this.$el.html(u.fill("popover_change_email",b));return this};b.prototype.showError=function(b){return this.$("#account-error").text(null!=b?b:"error").show()};b.prototype.saveChanges=function(b){m.preventDefault(b);return this.model.run("changeEmail",{email:this.$('[name="email"]').val()},function(b){return function(d){if(d)return b.showError(d);w.popView();O.flash("Email Sent","confirm");
return n("Member","Changed Email Address")}}(this))};return b}(A);Ub=function(c){function b(){this.saveChanges=k(this.saveChanges,this);this.showPasswordError=k(this.showPasswordError,this);this.render=k(this.render,this);return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.initialize=function(){return this.model.ond("change:loginTypes",this.render)};b.prototype.getViewTitle=function(){return 0>F.call(this.model.get("loginTypes"),"password")?"Set Password":"Change Password"};b.prototype.events=
{"click .js-save-changes":"saveChanges"};b.prototype.render=function(){var b;b=this.model.toJSON({prefs:!0,hasPassword:!0});this.$el.html(u.fill("popover_change_set_password",b));return this};b.prototype.getValue=function(b){return this.$("[name="+b+"]").val()};b.prototype.showPasswordError=function(b){return this.$("#password-error").text(null!=b?b:"error").show()};b.prototype.saveChanges=function(b){var c,g;m.preventDefault(b);this.$("#password-error").hide();g=this.getValue("oldpassword");b=this.getValue("password");
c=this.getValue("password2");if(b||c)b!==c?this.showPasswordError("Passwords must match."):this.model.run("updatePassword",{oldPassword:g,newPassword:b},function(b){return function(d){if(null!=d)return/newPassword/.test(d)?b.showPasswordError("New password must be at least 4 characters long"):/oldPassword/.test(d)?b.showPasswordError("The old password was incorrect"):b.showPasswordError(d);n("Member","Changed Password");return w.popView()}}(this))};return b}(A);de=function(c){function b(){this.changeFreq=
k(this.changeFreq,this);this.render=k(this.render,this);return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.getViewTitle=function(){return"Send Emails..."};b.prototype.initialize=function(){return this.model.ond("change:prefs",this.render)};b.prototype.events={"click li a":"changeFreq"};b.prototype.render=function(){var b;b=this.model.toJSON({prefs:!0});this.$el.html(u.fill("popover_set_email_freq",b));return this};b.prototype.changeFreq=function(b){n("Member","Changed Email Frequency");
b=parseInt($(b.target).closest("a").attr("value"));this.model.setPref("minutesBetweenSummaries",b).save();w.popView()};return b}(A);Nc=function(c){function b(){this.takePhoto=k(this.takePhoto,this);this.clearAvatar=k(this.clearAvatar,this);this.useGravatar=k(this.useGravatar,this);this.useUploadedAvatar=k(this.useUploadedAvatar,this);this.uploadResult=k(this.uploadResult,this);this.startUpload=k(this.startUpload,this);this.render=k(this.render,this);return b.__super__.constructor.apply(this,arguments)}
s(b,c);b.prototype.getViewTitle=function(){return"Change Avatar"};b.prototype.initialize=function(){return this.model.ond("change:avatarSource change:uploadedAvatarHash",this.render)};b.prototype.events={"change .js-upload-avatar":"startUpload","click .js-use-gravatar":"useGravatar","click .js-use-uploaded-avatar":"useUploadedAvatar","click .js-take-photo":"takePhoto","click .js-no-avatar":"clearAvatar"};b.prototype.render=function(){var b,c;b=this.model.toJSON({prefs:!0});b["avatarSource_"+b.avatarSource]=
!0;b.canTakePhoto=eb.supportsGetUserMedia();this.$el.html(u.fill("avatar_change",b));c=this.$(".js-grav");c.find("img");b="https://secure.gravatar.com/avatar/"+(""+this.model.get("gravatarHash")+".png?s=50&r=PG&d=404");m.waitForImageLoad(b,function(){return c.show()});return this};b.prototype.startUpload=function(b){var c,g,e;g=$(b.target);b=null!=(c=g[0])?null!=(e=c.files)?e[0]:void 0:void 0;c=this.$(".js-error").hide();if(null!=b&&!m.validFileSize(b))c.text("Images can not be larger than 10mb.").show(),
n("Member","Avatar","Upload Error - File Too Large"),w.calcPos();else{n("Member","Avatar","Use Uploaded - New");if(!b&&g.val())return m.uploadFile(g,this.uploadResult);if(null!=b)return c=new FormData,c.append("token",z.myToken()),c.append("file",b),T({url:g.closest("form").attr("action"),data:c,type:"post",processData:!1,contentType:!1,interceptErrors:!0,error:function(b){return function(d){return b.uploadResult(Error(d.responseText))}}(this),success:function(b){return function(){return b.uploadResult.apply(b,
[null].concat(G.call(arguments)))}}(this),timeout:12E4})}};b.prototype.uploadResult=function(b){var c;c=this.$(".js-error").hide();if(b)return c.show().text(b),w.calcPos()};b.prototype.useUploadedAvatar=function(b){n("Member","Avatar","Use Uploaded - Existing");this.model.update("avatarSource","upload");return w.popView()};b.prototype.useGravatar=function(b){n("Member","Avatar","Use Gravatar");this.model.update("avatarSource","gravatar");return w.popView()};b.prototype.clearAvatar=function(b){n("Member",
"Avatar","Use Initials");this.model.update("avatarSource","none");return w.popView()};b.prototype.takePhoto=function(b){b=this.model.getView(Gf);w.pushView({view:b});n("Member","Avatar","Take Photo");b.connectCamera();return b.on("done",function(b){return function(d){var c,h,l;c=atob(d.split(",")[1]);d=function(){var b,d,f;f=[];l=b=0;for(d=c.length;0<=d?b<d:b>d;l=0<=d?++b:--b)f.push(c.charCodeAt(l));return f}();d=new Blob([new Uint8Array(d)],{type:"image/png"});h=new FormData;h.append("token",z.myToken());
h.append("file",d,"avatar.png");return T({url:"/1/member/"+b.model.id+"/avatar",data:h,type:"post",processData:!1,contentType:!1,interceptErrors:!0,error:function(b,d,c,f){if(413!==b.status)return f()},timeout:6E4})}}(this))};return b}(A);ih=function(c){function b(){this.cancelDeleteMember=k(this.cancelDeleteMember,this);this.deleteMember=k(this.deleteMember,this);this.render=k(this.render,this);return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.getViewTitle=function(){return"Delete Account?"};
b.prototype.events={"click .js-delete-member":"deleteMember","click .js-cancel-delete":"cancelDeleteMember"};b.prototype.render=function(){this.$el.html(u.fill("popover_confirm_member_delete",this.model.toJSON()));return this};b.prototype.deleteMember=function(b){m.stop(b);this.$(".js-delete-member").attr("disabled","disabled");this.model.run("deleteAccount",{msg:"troodbye!"},function(){w.hide();O.flash("Email Sent","confirm");n("Member","Sent Account Delete Email")})};b.prototype.cancelDeleteMember=
function(b){m.stop(b);w.hide()};return b}(A);$g=function(c){function b(){return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.render=function(){var b,c,g,e,h;b=this.model.toJSON({prefs:!0});g=b.tokens;b.hasTokens=0<(null!=g?g.length:void 0);this.$el.html(u.fill("member_application_list",b));if(null!=g){b=this.$(".member-applications");e=0;for(h=g.length;e<h;e++)c=g[e],b.append(this.model.getView(ph,c.id,c).render().el)}return this};return b}(A);mh=function(c){function b(){this.render=
k(this.render,this);return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.initialize=function(){return this.model.ond("change:sessions",this.render)};b.prototype.events={"click .js-log-out-other":"logOutOther"};b.prototype.render=function(){var b,c,g,e,h;b=this.model.toJSON();this.$el.html(u.fill("member_session_list",b));g=b.sessions;if(null!=g){b=this.$(".js-sessions");e=0;for(h=g.length;e<h;e++)c=g[e],b.append(this.model.getView(oh,c.id,c).render().el)}return this};b.prototype.logOutOther=
function(b){m.stop(b);this.model.run("logoutOtherSessions");this.model.set("sessions",_.filter(this.model.get("sessions"),function(b){return function(b){return b.isCurrent}}(this)));return this.render()};return b}(A);ph=function(c){function b(){return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.className="application clearfix";b.prototype.events={"click .js-revoke":"revoke"};b.prototype.render=function(){var b,c,g,e,h,l;l=this.options;b=l.dateExpires;g=l.permissions;b={identifier:l.identifier,
dateApproved:H.toLongString(H.parse(l.dateCreated)),dateExpires:b?H.toLongString(H.parse(b)):null,neverExpires:null==b};_.isEmpty(g)?b.permissions="read access on your public boards and organizations":(g=function(){var b,d,l;l=[];b=0;for(d=g.length;b<d;b++)c=g[b],e="",c.read&&(e+="read"),c.write&&(e+=" and write"),h=function(){if("*"===c.idModel)switch(c.modelType){case "*":return"your account and all boards and organizations";case "Board":return"all your boards";case "Organization":return"all your organizations";
default:return"unknown"}else switch(c.modelType){case "Member":return"your account";case "Board":return"a specific board";case "Organization":return"a specific organization";default:return"unknown"}}(),l.push(""+e+" access on "+h);return l}(),b.permissions=g.join(", "));this.$el.html(u.fill("member_application",b));return this};b.prototype.revoke=function(b){m.stop(b);this.model.set("tokens",_.filter(this.model.get("tokens"),function(b){return function(d){return d.id!==b.options.id}}(this)));return this.model.pull("tokens",
this.options.id,function(b){return function(){return n("Member","Applications","Revoke App")}}(this))};return b}(A);oh=function(c){function b(){return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.className="member-account-session";b.prototype.events={"click .js-revoke":"revoke"};b.prototype.render=function(){var b;b=this.options;b["type_"+this.options.type]=!0;this.$el.html(u.fill("member_session",b));H.update(this.el);return this};b.prototype.revoke=function(b){return $.get("/login/revoke",
{id:this.options.id},function(b){return function(){return b.model.set("sessions",_.filter(b.model.get("sessions"),function(d){return d.id!==b.options.id}))}}(this))};return b}(A);Yg=function(c){function b(){return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.className="member-login";b.prototype.events={"click .js-primary":"setPrimary","click .js-remove":"confirmDeleteLogin"};b.prototype.initialize=function(){return this.listenTo(this.model,"change",this.render)};b.prototype.render=
function(){var b;b=this.model.toJSON();b.dateAdded=m.idToDate(b.id);this.$el.html(u.fill("member_login",b));H.update(this.el);return this};b.prototype.setPrimary=function(b){return T({url:"/1/members/me/logins/"+this.model.id+"/primary",type:"put",success:function(b){return function(d){return b.model.set("primary",!0)}}(this)})};b.prototype.confirmDeleteLogin=function(b){m.stop(b);if(this.model.hasConflict())this.trigger("requestSetPassword");else return pa.toggle(this.popover({title:"Remove Credential?",
text:"Once you remove this credential, you won't be able to log into Trello with\nthe email "+this.model.get("email")+" anymore.",confirmText:"Delete Credential",confirmBtnClass:"negate",fxConfirm:function(b){return function(){return b.deleteLogin()}}(this)}))};b.prototype.deleteLogin=function(){return T({url:"/1/members/me/logins/"+this.model.id,type:"delete",success:function(b){return function(c){return b.model.trigger("destroy",b.model,b.model.collection)}}(this)})};b.prototype.popover=function(b){return _.extend({elem:this.$(".js-remove"),
top:30},b)};return b}(A);jh=function(c){function b(){return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.viewType=Yg;b.prototype.initialize=function(){this.on("requestSetPassword",this.showSetPassword);return b.__super__.initialize.apply(this,arguments)};b.prototype.showSetPassword=function(b){return pa.toggle(b.popover({title:"Cannot remove credential",text:"You must set a password or log in with a different Google account to remove this credential.",confirmText:"Set Password",
confirmBtnClass:"confirm",fxConfirm:function(c){return function(g){return w.show(b.popover({view:Ub,options:{model:c.model}}))}}(this)}))};return b}(Pb);db=function(c){function b(){this.render=k(this.render,this);return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.initialize=function(){};b.prototype.render=function(){var b;b=this.model.toJSON();"ghost"===this.model.get("memberType")&&(b.isVirtual=!0);b.unconfirmed=this.options.showUnconfirmed&&!b.isVirtual&&!b.confirmed;b.showStatus=
this.options.showStatus;b.isKnownMember=this.options.isKnownMember;b.extraText=this.options.extraText;b["status_"+this.model.get("status")]=!0;this.options.linkName?b.url="/"+this.model.get("username"):delete b.url;this.$el.html(u.fill("select_member",b,{},{member:u.member}));b.unconfirmed&&this.$(".js-insert-tooltip").html(this.subview(Df,this.model).render().$el);this.$(".js-member").data("id",this.model.id);return this};return b}(A);be=function(c){function b(){return b.__super__.constructor.apply(this,
arguments)}s(b,c);b.prototype.initialize=function(){return this.listenTo(this.options.card,"change:idMembers",this.renderActive)};b.prototype.renderActive=function(){var b;return this.$(".js-member-item").toggleClass("active",(b=this.model.id,0<=F.call(this.options.card.get("idMembers"),b)))};b.prototype.render=function(){b.__super__.render.apply(this,arguments);this.renderActive();return this};return b}(db);ie=function(){function c(){}c.prototype.pricing={monthlyProduct:"trelloGoldMonthly",yearlyProduct:"trelloGoldYearly",
showRecommend:!0};c.prototype.features=Ca;c.prototype.productPrefix="trelloGold";return c}();ge=ea(Fd,ie,ge=function(c){function b(){this.initialize=k(this.initialize,this);this.paidAccountLoader=k(this.paidAccountLoader,this);return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.apiPath="members";b.prototype.productName="Trello Gold";b.prototype.changeCardUrl=function(){return B.getMemberBillingCardUrl(this.model)};b.prototype.productIconClass=function(){return"crown"};b.prototype.paidAccountLoader=
function(b){return P["for"](this.modelCache).loadMemberPaidAccount(this.model.id,b)};b.prototype.initialize=function(){b.__super__.initialize.apply(this,arguments);return this.setup()};return b}(Lb));ah=function(c){function b(){this.getFormOpts=k(this.getFormOpts,this);this.renderMainContent=k(this.renderMainContent,this);return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.renderMainContent=function(){var b;b=this.getFormOpts();this.$(".js-content").empty().append((new he(b)).render().el);
this.setActiveView(".js-member-billing");return this};b.prototype.getFormOpts=function(){var b,c,g,e,h;b={model:this.model,productName:"Trello Gold"};Ca.hasAccount(null!=(c=this.model.get("paidAccount"))?c.standing:void 0)?_.extend(b,{formAreas:{creditCard:!0},action:"js-submit-change-credit-card",productNumber:null!=(g=null!=(e=this.model.get("paidAccount"))?e.products[0]:void 0)?g:Ca.getProductNumber("trelloGoldMonthly")}):_.extend(b,{formAreas:{creditCard:!0,billingContactHidden:!0,subscribingTo:!0,
billingOptions:!0},action:"js-submit-create-paid-account",productNumber:Ca.getProductNumber(null!=(h=this.options.product)?h:"trelloGoldMonthly")});return b};return b}(Lb);he=ea(ie,he=function(c){function b(){this.billingView=k(this.billingView,this);this.profileView=k(this.profileView,this);return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.profileView=function(){return B.defaultView()};b.prototype.billingView=function(){return B.memberBillingView(this.model.get("username"))};
return b}(Gd));Gg=function(c){function b(){return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.getViewTitle=function(){return"Voters"};b.prototype.events={"click .js-more-members-voted":"showAll","click .js-vote":"vote","click .js-unvote":"unvote"};b.prototype.initialize=function(){return this.listenTo(this.model.memberVotedList,"add remove reset",this.render)};b.prototype.showAll=function(){return this.render(!0)};b.prototype.render=function(b){var c,g;g=this.model.memberVotedList;
var e,h,l,k;l=g.models;k=[];e=0;for(h=l.length;e<h;e++)c=l[e],k.push(c.toJSON());c={members:k};!0!==b&&(c.members=c.members.slice(0,48),c.fewMembers=14>g.length,c.moreMembers=48<g.length,c.lengthDiff=g.length-48,c.canVote=this.model.getBoard().canVote(z.me()),c.voted=_.include(this.model.get("idMembersVoted"),z.myId()));this.$el.html(u.fill("members_voted",c,{},{member:u.member}));w.calcPos();return this};b.prototype.vote=function(b){m.preventDefault(b);this.model.vote(!0);return!1};b.prototype.unvote=
function(b){m.preventDefault(b);this.model.vote(!1);0===this.model.get("idMembersVoted").length&&w.hide();return!1};return b}(A);ee=function(c){function b(){this.makeObserver=k(this.makeObserver,this);this.makeMember=k(this.makeMember,this);this.makeAdmin=k(this.makeAdmin,this);this.isAdminAndMe=k(this.isAdminAndMe,this);this.getMemberType=k(this.getMemberType,this);this.apiChangeRole=k(this.apiChangeRole,this);return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.getViewTitle=function(){return"Change Permissions"};
b.prototype.initialize=function(){this.parent=this.options.parent;this.listenTo(this.parent,"change:memberships",this.render)};b.prototype.events={"click .js-make-admin":"makeAdmin","click .js-make-member":"makeMember","click .js-make-observer":"makeObserver"};b.prototype.render=function(){var b,c,g,e,h;b=this.model.getMembershipData(this.parent);b.isBoard&&(null!=(c=this.parent.getOrganization())&&c.isFeatureEnabled("observers"))&&_.extend(b,{showObserver:!0});h=["admin","normal","observer"];g=0;
for(e=h.length;g<e;g++)c=h[g],b["roleText_"+c]=this.parent.getRoleText(c);this.$el.html(u.fill("popover_change_roles",b));return this};b.prototype.apiChangeRole=function(b){this.$el.find("ul a").addClass("disabled");T({type:"PUT",url:"/1/"+this.parent.typeName.toLowerCase()+"/"+this.parent.id+"/members/"+this.model.id,data:{type:b},success:function(c){return function(){n("Member","Change Role",b);return w.hide()}}(this)})};b.prototype.getMemberType=function(){return this.parent.getExplicitMemberType(this.model)};
b.prototype.isAdminAndMe=function(){return"admin"===this.getMemberType()&&z.isMe(this.model)};b.prototype.makeAdmin=function(b){m.stop(b);$(b.target).closest("a").hasClass("disabled")||"admin"!==this.getMemberType()&&this.apiChangeRole("admin")};b.prototype.makeMember=function(b){m.stop(b);$(b.target).closest("a").hasClass("disabled")||"normal"!==this.getMemberType()&&(this.isAdminAndMe()?pa.pushView({title:"Remove Admin Privileges?",text:"By becoming a normal member, you will lose all admin privileges such as the ability to change settings. To regain privileges, you will need another admin to change your role back to admin.",
confirmText:"Make Me a Normal Member",fxConfirm:function(b){return function(d){return b.apiChangeRole("normal")}}(this)}):this.apiChangeRole("normal"))};b.prototype.makeObserver=function(b){m.stop(b);$(b.target).closest("a").hasClass("disabled")||"observer"!==this.getMemberType()&&(this.isAdminAndMe()?pa.pushView({title:"Remove Admin Privileges?",text:"By becoming an observer, you will lose all admin privileges such as the ability to change settings. To regain privileges, you will need another admin to change your role back to admin.",
confirmText:"Make Me an Observer",fxConfirm:function(b){return function(d){return b.apiChangeRole("observer")}}(this)}):this.apiChangeRole("observer"))};return b}(A);nh=function(c){function b(){this.apiChangeRole=k(this.apiChangeRole,this);return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.apiChangeRole=function(d){b.__super__.apiChangeRole.apply(this,arguments);if("admin"!==d&&this.isAdminAndMe())return B.navigate(B.getOrganizationUrl(this.parent),{trigger:!0})};return b}(ee);
bh=ea(oc,function(c){function b(){this.render=k(this.render,this);return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.events={"click .js-more-actions":"loadMoreActions"};b.prototype.initialize=function(){this.board=this.options.board;this.board.memberList.onAddRemove(this.render);this.actionListView=this.collectionSubview(Jb,new Ib(this.Action.getListForModel(this.model),{modelCache:this.modelCache}),{renderOpts:{context:this.model}});this.listenTo(this.modelCache,"add:Action:"+
this.model.id+" remove:Action:"+this.model.id,function(b){return function(){b.actionListView.collection.reset(b.Action.getListForModel(b.model),{silent:!0});return b.renderActions()}}(this));this.idModels=[this.board.id];this.nextPage=0;return this.loadMoreActions()};b.prototype.render=function(){var b;b=_.extend(this.model.toJSON(),this.model.getMembershipData(this.board));this.$el.html(u.fill("board_member_profile",b));this.actionListView.setElement(this.$(".list-actions")[0]);return this.renderActions()};
b.prototype.renderActions=function(){this.actionListView.render();this.$(".js-more-actions").toggle(this.hasMoreActions());return this};b.prototype.getActionsFilter=function(){return nd};return b}(A));cc=function(c){function b(){return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.initialize=function(){this.makeDebouncedMethods("render");this.listenTo(this.model,"change:oneTimeMessagesDismissed",this.renderDebounced);return this.listenTo(this.model,"change:paidAccount",this.renderDebounced)};
b.prototype.events={"click .js-close-modal":"closeGoldEarned","click .js-close-intro-helper":"closeGoldIntro","click .js-start-using-gold":"startUsingGold"};b.prototype.render=function(){var b,c,g,e,h;this.$el.empty();if(!z.isMe(this.model))return this;e=this.viewShown;if(this.model.isGold()&&!this.model.isDismissed("GoldIntro"))this.viewShown="intro",this.$el.append(u.fill("member_gold_intro"));else if((!this.model.isDismissed("GoldEarned")||!this.options.allowDismiss)&&!this.activating)if(this.viewShown=
"earned",b=this.model.get("credits"),c=_.filter(b,function(b){var d;return!b.applied&&0<b.count&&("invitation"===(d=b.type)||"promoCode"===d)}),b=_.reduce(c,function(b,d){return b+d.count},0))12<b&&(b=12),g=_.chain(c).filter(function(b){return"invitation"===b.type&&null!=b.memberInvited}).pluck("memberInvited").pluck("fullName").value(),h=_.filter(c,function(b){return"promoCode"===b.type}),c=m.humanReadableList(g),b={hasInvitations:0<g.length,hasPromoCodes:0<h.length,joinedNames:c,countMonths:m.formatCount(b,
"month"),showClose:this.options.allowDismiss},this.$el.append(u.fill("member_gold_earned",b));null!=e&&e!==this.viewShown&&this.delegateEvents();return this};b.prototype.refreshPaidAccount=function(){null==this.startedPolling&&(this.startedPolling=Date.now());if(this.startedPolling+m.getMs({minutes:1})<Date.now())O.hide("activating"),O.show("Activating Trello Gold is taking a while, please check back later","error","activating-failed");else return P["for"](this.modelCache).loadMemberPaidAccount(this.model.id,
function(b){return function(c,g){if(!(c||null==g))return b.model.isGold()?(delete b.startedPolling,b.activating=!1,O.hide("activating")):b.setTimeout(_.bind(b.refreshPaidAccount,b),m.getMs({seconds:1}))}}(this))};b.prototype.startUsingGold=function(b){m.stop(b);this.activating=!0;O.show("Activating Trello Gold...","info","activating");this.render();return this.model.run("unpaidAccount",{products:[Ca.productShortNames.trelloGoldMonthly]},function(b){return function(d,c){if(null==d&&c)return b.refreshPaidAccount()}}(this))};
b.prototype.closeGoldEarned=function(b){m.stop(b);return this.model.dismiss("GoldEarned")};b.prototype.closeGoldIntro=function(b){m.stop(b);return this.model.dismiss("GoldIntro")};return b}(A);dh=function(c){function b(){this.renderCards=k(this.renderCards,this);this.render=k(this.render,this);return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.render=function(b){var c;this.cards=b;b=this.model.toJSON({prefs:!0});b.boardUrl=this.model.getUrl();b.permissionLevel_org&&(b.permissionLevel=
"org-private");b.idOrganization&&!this.options.hideOrg&&(b.org=null!=(c=Va.get(b.idOrganization))?c.toJSON():void 0);0<this.cards.length?(this.$el.html(u.fill("member_cards_board",b)),this.renderCards()):this.$el.empty();return this};b.prototype.renderCards=function(){var b,c,g,e,h;c=[];h=this.cards;g=0;for(e=h.length;g<e;g++)b=h[g],c.push(this.subview(Jc,b,{dateSort:!0}));this.appendSubviews(c,this.$(".js-list"));return this};return b}(A);yf=function(c){function b(){return b.__super__.constructor.apply(this,
arguments)}s(b,c);b.prototype.initialize=function(){return this.fDisabledSubmit=!1};b.prototype.events={"click .js-feedback-form-submit":"submitFeedback"};b.prototype.render=function(){this.$el.html(u.fill("early_version_feedback_form"));return this};b.prototype.focusFeedback=function(b){m.stop(b);this.$(".js-feedback-form-text").focus().select()};b.prototype.enableSubmit=function(){this.fDisabledSubmit=!1;this.$(".js-feedback-form-submit").removeAttr("disabled");this.$(".js-feedback-form-text").removeAttr("disabled")};
b.prototype.disableSubmit=function(){this.fDisabledSubmit=!0;this.$(".js-feedback-form-text").attr("disabled","disabled");this.$(".js-feedback-form-submit").attr("disabled","disabled")};b.prototype.submitFeedback=function(b){var c,g;m.stop(b);c=this.$(".js-feedback-form");c.find("input[name],textarea[name]");b=this.Auth.me().toJSON();g=new rd;c=c.find(".js-feedback-form-text").val();""===c?this.focusFeedback():this.fDisabledSubmit||(this.disableSubmit(),this.$(".js-feedback-form-submit").val("Submitting\u2026"),
g="\n"+c+"\n\n\n------------\n\nTrello Username: "+b.username+"\n\nTrelloVersion:\n\n"+TrelloVersion+"\n\nOS: "+g.OS+"\nBrowser: "+g.browser+" "+g.version+"\n",m.bugzscout({me:b,area:"Beta",description:"New Trello Feedback: "+TrelloVersion+"\n",extra:g},function(b){return function(d){b.enableSubmit();b.$(".js-submitted-feedback").removeClass("hide");b.$(".js-feedback-form-text").val("").focus().select();return b.$(".js-feedback-form-submit").val("Submit")}}(this)))};return b}(A);Oc=function(c){function b(){this.openOption=
k(this.openOption,this);this.hoverMember=k(this.hoverMember,this);return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.hoverMember=function(b){b=$(b.target).closest(".item");return m.selectMenuItem(this.$(".pop-over-member-list"),".item",b)};b.prototype.openOption=function(b){var c,g;m.stop(b);n("Invitations","Open Role Selector");g=$(b.target).closest(".js-select-member").find(".username").text();g=this.Member.findOne("username",g);0<$(b.target).closest(".item.js-email-invite").length&&
(c=$(b.target).closest(".js-email-invite").find(".full-name").attr("name"));g?w.pushView({view:g.getView(ke,"selectRole",{parent:this.model}).setOptions({onSendInvite:this.willBePopped})}):w.pushView({view:z.me().getView(yh,"selectRole",{parent:this.model}).setOptions({email:c,onSendInvite:this.willBePopped})})};return b}(A);var xf,wb,zh,le,uh,ne,k=function(c,b){return function(){return c.apply(b,arguments)}},E={}.hasOwnProperty,s=function(c,b){function d(){this.constructor=c}for(var f in b)E.call(b,
f)&&(c[f]=b[f]);d.prototype=b.prototype;c.prototype=new d;c.__super__=b.prototype;return c},F=[].indexOf||function(c){for(var b=0,d=this.length;b<d;b++)if(b in this&&this[b]===c)return b;return-1};wb=function(c){function b(){this.getUrlOfTarget=k(this.getUrlOfTarget,this);this.navigateToView=k(this.navigateToView,this);this.markRead=k(this.markRead,this);this.getTemplateData=k(this.getTemplateData,this);this.getExpandedData=k(this.getExpandedData,this);return b.__super__.constructor.apply(this,arguments)}
s(b,c);b.prototype.typeName="Notification";b.prototype.urlRoot="/1/notifications";b.sortedByDateDescending=function(b){return _.sortBy(this.all(b),function(b){return-(new Date(b.get("date"))).getTime()})};b.unreadCount=function(b){var c,g,e,h;e=this.all(b);h=[];c=0;for(g=e.length;c<g;c++)b=e[c],b.get("unread")&&h.push(b);return h.length};b.prototype.getModel=function(){return this.collection.options.model};b.prototype.triggerCacheEvents=function(b,c){var g,e,h,l;l=this.idModels();e=0;for(h=l.length;e<
h;e++)g=l[e],b.trigger(""+c+":"+this.typeName+":"+g)};b.prototype.idModels=function(){var b,c,g,e;g=null!=(c=this.get("data"))?c:{};e=[];for(b in g)c=g[b],null!=(null!=c?c.id:void 0)&&e.push(c.id);return e};b.prototype.getExpandedData=function(){var b,c,g,e,h;c=_.extend({},null!=(g=this.toJSON().data)?g:{},{date:this.get("date"),unread:this.get("unread")});c[this.get("type")]=!0;c.memberCreator=null!=(h=this.Member.get(this.get("idMemberCreator")))?h.toJSON():void 0;g=null!=(b=this.get("member"))?
b.id:void 0;null!=g&&(c.member=null!=(e=this.Member.get(g))?e.toJSON():void 0);e=function(b){var d,e,g,h;g=_.keys(b)[0];d=m.capitalize(g);e=b[g];return null!=z.me().get("id"+d+"sInvited")&&(h=e.id,0<=F.call(z.me().get("id"+d+"sInvited"),h))&&!_.any(this.Notification.all(),function(b){return b.get("type")==="invitedTo"+d&&b.get("data")[g].id===e.id&&b.get("date")>c.date})};b=c.board;g=c.organization;0===this.get("type").indexOf("invitedTo")&&(null!=b&&(c.stillInvited=e({board:b})),null!=g&&(c.stillInvited=
e({organization:g})),c.confirmed=z.me().get("confirmed"));return c};b.prototype.getTemplateData=function(b){var c,g,e,h,l,k,v;b=_.extend({useHTML:!0,truncate:250},null!=b?b:{});c=b.useHTML;e=b.truncate;b=this.getExpandedData();b.entities=(new le({modelCache:this.modelCache})).getEntityList(this.toJSON());"member"===b.entities[0].type&&(b.member=null!=(g=this.Member.get(b.entities[0].id))?g.toJSON():void 0,null==b.member&&(b.memberDeleted=!0),b.entities.shift(1));g={convertNewlines:!0,board:b.board,
textData:b.textData};if(c){v=b.entities;l=0;for(k=v.length;l<k;l++)c=v[l],null!=c.text&&(h=_.isNumber(e)?m.truncate(c.text,e):c.text,c.html=Sa.comments.format(h,g).output+(h.length<c.text.length?"&hellip;":""))}return b};b.prototype.markRead=function(){return this.update({unread:!1})};b.prototype.navigateToView=function(){var b;b=this.get("data");return null!=b&&null!=b.card&&null!=b.board?(B.displayBoard({idBoard:b.board.id,idCard:b.card.id}),!0):"memberJoinedTrello"===this.get("type")?(B.navigate("/recommend",
{trigger:!0}),!0):!1};b.prototype.getUrlOfTarget=function(){var b;b=this.get("data");return null!=b.card?B.getCardUrlWithoutModels(b.board.id,b.card.id,b.card.name):null!=b.board?B.getBoardUrl(ModelCacheCache["for"]("header"),b.board):null!=b.organization?B.getOrganizationUrl(b.organization.id):B.getMemberNotificationsUrl()};return b}(na);ne=function(c){function b(){this.viewMemberActionMenu=k(this.viewMemberActionMenu,this);this.clickedNotification=k(this.clickedNotification,this);this.render=k(this.render,
this);return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.enablePopupMenu=!0;b.prototype.showStatus=!1;b.prototype.className="phenom clearfix";b.prototype.events={click:"clickedNotification","click .js-show-mem-menu":"viewMemberActionMenu"};b.prototype.render=function(){var b,c;b=this.model.getTemplateData();if("cardDueSoon"===this.model.get("type"))b.isDueDateNotification=!0,b.hasIcon=!0,this.$el.addClass("due-soon");else if("declinedInvitationToBoard"===(c=this.model.get("type"))||
"declinedInvitationToOrganization"===c)b.hasIcon=!0,b.isDeclinedInvitationNotification=!0;J("notifications",b);this.$el.html(u.fill("notification",b,{},{entity:u.entity,member:u.member}));b.unread?this.$el.addClass("unread"):this.$el.removeClass("unread");H.update(this.el);return this};b.prototype.clickedNotification=function(b){this.model.markRead();this.isHeader?n("Header","Notifications Menu","Clicked Notification"):this.isNotifications&&n("Member View","Notifications Page","Clicked Notification");
if(!$(b.target).is("a"))return this.model.navigateToView()};b.prototype.viewMemberActionMenu=function(b){var c,g;m.stop(b);c=this.Member.get(null!=(g=$(b.target).closest("[idmember]").attr("idmember"))?g:this.model.get("idMemberCreator"));0<$(b.target).closest(".pop-over").length?w.pushView({view:Yb,options:{model:c,modelCache:this.modelCache}}):(g=22,0<$(b.target).closest(".member").length&&(g=36),w.toggle({elem:this.$(".js-show-mem-menu"),top:g,view:Yb,options:{model:c,modelCache:this.modelCache}}))};
return b}(A);le=function(c){function b(d){this.modelCache=d.modelCache;b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.getCardUrl=function(d,c){var g,e;return null!=(null!=(e=g=this.Card.get(c.id))?e.get("url"):void 0)?B.getCardUrl(g):b.__super__.getCardUrl.apply(this,arguments)};b.prototype.getBoardUrl=function(d){var c,g;return null!=(null!=(g=c=this.Board.get(d.id))?g.get("url"):void 0)?B.getBoardUrl(this.modelCache,c):b.__super__.getBoardUrl.apply(this,arguments)};b.prototype.getMember=
function(b){return this.Member.get(b)};b.prototype.getDateMs=function(b){return Xb.serverToClient(b).getTime()};return b}(id);m.extendWithModelCacheHelpers(le);zh=function(c){function b(){return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.isHeader=!0;b.prototype.goToProfile=!0;return b}(ne);uh=function(c){function b(){return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.isNotifications=!0;b.prototype.goToProfile=!1;return b}(ne);xf=function(c){function b(){this.allowDekstopNote=
k(this.allowDekstopNote,this);this.changeEmailFrequency=k(this.changeEmailFrequency,this);this.viewAllNotifications=k(this.viewAllNotifications,this);this.render=k(this.render,this);this.markUnread=k(this.markUnread,this);return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.getViewTitle=function(){return"Notifications"};b.prototype.className="header-notification-list";b.prototype.events={"click .js-view-all-notifications":"viewAllNotifications","click .js-change-email-frequency":"changeEmailFrequency",
"click .js-allow-desktop-notifications":"allowDekstopNote"};b.prototype.markUnread=function(){var b,c,g,e;g=this.menuRows;for(b in g)c=g[b],c.model.get("unread")&&null!=(e=this.Notification.get(b))&&e.markRead()};b.prototype.render=function(){var b,c,g,e,h,l;this.$el.empty();c={};this.menuRows={};b=0;e=this.Notification.sortedByDateDescending();h=0;for(l=e.length;h<l;h++){g=e[h];if(4<b)break;b++;this.menuRows[g.id]=g.getView(zh,"header");this.$el.append(this.menuRows[g.id].render().el)}if(0<e.length){c.hasNotifications=
!0;h=this.Notification.sortedByDateDescending().slice(5);l=[];b=0;for(e=h.length;b<e;b++)g=h[b],g.get("unread")&&l.push(g);g=l.length;c.unreadText=0===g?"":" ("+g+" more unread)";c.noteUrl="/"+this.model.get("username")+"/notifications";c.canAllowDesktopNotifications=tb.notEnabled()}else c.hasNotifications=!1;this.$el.append(u.fill("header_notification_list_menu",c));return this};b.prototype.viewAllNotifications=function(){return n("Header","Notifications Menu","See All Notifications")};b.prototype.changeEmailFrequency=
function(b){m.stop(b);n("Header","Notifications Menu","Change Email Frequency");w.pushView({view:this.model.getView(de,"notifications")})};b.prototype.allowDekstopNote=function(b){m.stop(b);n("Header","Notifications Menu","Allow Desktop Notifications");tb.requestPermission(function(b){return function(){b.render()}}(this))};return b}(A);var Ah,Bh,Ch,qc,Dh,Eh,Fh,Gh,Va,Hh,Ih,Jh,oe,Kh,Lh,Mh,qh,Nh,th,Oh,Ph,Qh,Pc,Rh,pe,Sh,Th,pb,qe,k=function(c,b){return function(){return c.apply(b,arguments)}},E={}.hasOwnProperty,
s=function(c,b){function d(){this.constructor=c}for(var f in b)E.call(b,f)&&(c[f]=b[f]);d.prototype=b.prototype;c.prototype=new d;c.__super__=b.prototype;return c},G=[].slice,F=[].indexOf||function(c){for(var b=0,d=this.length;b<d;b++)if(b in this&&this[b]===c)return b;return-1};Va=function(c){function b(){this.getRoleText=k(this.getRoleText,this);this.getPermLevelAltText=k(this.getPermLevelAltText,this);this.getPermLevelDisplayText=k(this.getPermLevelDisplayText,this);this.getPermLevelIconClass=
k(this.getPermLevelIconClass,this);this.isFeatureEnabled=k(this.isFeatureEnabled,this);this.isLinkedToGoogleApps=k(this.isLinkedToGoogleApps,this);this.owned=k(this.owned,this);this.canSetVisibility=k(this.canSetVisibility,this);this.canAddBoard=k(this.canAddBoard,this);this.ownedByMember=k(this.ownedByMember,this);this.isPremium=k(this.isPremium,this);return b.__super__.constructor.apply(this,arguments)}s(b,c);ea(Ld,b);b.prototype.typeName="Organization";b.prototype.nameAttr="displayName";b.prototype.urlRoot=
"/1/organizations";b.prototype.initialize=function(){b.__super__.initialize.call(this);return this.destruct([this.invitationList=new Uh([]),this.boardList=(new je).syncModel(this,"idBoards"),this.memberList=(new hb).syncModel(this,"memberships",{fxGetIds:function(b){return _.pluck(b,"idMember")}}),this.adminList=(new hb).syncModel(this,"memberships",{fxGetIds:function(b){return function(b){return _.pluck(_.where(b,{memberType:"admin"}),"idMember")}}(this)})])};b.prototype.prefNames=["permissionLevel",
"orgInviteRestrict","boardVisibilityRestrict","externalMembersDisabled"];b.prototype.editable=function(){var b,c;b=z.me();c=this.getMembershipFor(b);return b&&"admin"===(null!=c?c.memberType:void 0)};b.prototype.isPremium=function(){return ta.hasProduct(this.get("products"))};b.prototype.isMember=function(b){var c;return"virtual"===(c=this.getMemberType(b))||"normal"===c||"admin"===c};b.prototype.ownedByMember=function(b){return"admin"===this.getMemberType(b)};b.prototype.canAddBoard=function(b){if(!this.isFeatureEnabled("restrictVis"))return!0;
b=b.get("prefs").permissionLevel;return this.canSetVisibility(b)};b.prototype.canSetVisibility=function(b){if(!this.isFeatureEnabled("restrictVis"))return!0;b=this.get("prefs").boardVisibilityRestrict[b];return!b||"org"===b||"admin"===b&&this.owned()};b.prototype.owned=function(){return"admin"===this.getMemberType(z.me())};b.prototype.isLinkedToGoogleApps=function(){return this.isFeatureEnabled("googleApps")&&this.get("prefs").associatedDomain};b.prototype.isFeatureEnabled=function(b){return ta.isFeatureEnabled(b,
this.get("products"))};b.prototype.toJSON=function(d){var c,g;null==d&&(d={});c=b.__super__.toJSON.apply(this,arguments);d.url&&(c.url=B.getOrganizationUrl(this.get("name")));_.extend(c,this.premiumFeatures());c.accountStanding=ta.standingName(null!=(g=this.get("paidAccount"))?g.standing:void 0);return c};b.prototype.premiumFeatures=function(){var b,c,g,e,h;c={};h=ta.features(this.get("products"));g=0;for(e=h.length;g<e;g++)b=h[g],c["premium:"+b]=!0;return c};b.prototype.getPermLevelIconClass=function(b){var c;
null==b&&(b=null!=(c=this.get("prefs"))?c.permissionLevel:void 0);return b};b.prototype.getPermLevelDisplayText=function(b){var c;null==b&&(b=null!=(c=this.get("prefs"))?c.permissionLevel:void 0);return m.toTitleCase(b)};b.prototype.getPermLevelAltText=function(b){var c;null==b&&(b=null!=(c=this.get("prefs"))?c.permissionLevel:void 0);switch(b){case "private":return"This organization is private. It's not indexed or visible to those outside the org.";case "public":return"This organization is public. It's visible to anyone with the link and will show up in search engines like Google. Only those invited to the org can add and edit org boards."}};
b.prototype.getRoleText=function(b){var c;c="";this.isFeatureEnabled("superAdmins")&&(c=" Will have admin rights on all boards in this organization.");switch(b){case "admin":return"Can view, create and edit org boards, and change settings for the organization."+c;case "normal":return"Can view, create, and edit org boards, but not change settings.";default:return""}};return b}(Ac);qh=function(c){function b(){return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.model=Va;b.prototype.initialize=
function(){this.bind("change:name",this.sort)};b.prototype.comparator=function(b){var c;return(null!=(c=b.get("name"))?c.toUpperCase():void 0)||""};return b}(La);pb=function(c){function b(){this.openExportOptions=k(this.openExportOptions,this);this.openBilling=k(this.openBilling,this);this.openPlans=k(this.openPlans,this);this.openOrgAccount=k(this.openOrgAccount,this);this.openOrgMembers=k(this.openOrgMembers,this);this.openOrgProfile=k(this.openOrgProfile,this);this.submitProfile=k(this.submitProfile,
this);this.cancelEditProfile=k(this.cancelEditProfile,this);this.editProfile=k(this.editProfile,this);this.membershipChange=k(this.membershipChange,this);this.renderDetails=k(this.renderDetails,this);this.render=k(this.render,this);return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.initialize=function(){this.makeDebouncedMethods("render");this.listenTo(this.model,"change:logoHash change:products change:paidAccount change:prefs",this.render);this.listenTo(this.model,"change:name change:displayName change:website change:desc",
this.renderDetails);this.listenTo(this.model,"change:memberships",this.membershipChange);this.listenTo(this.model.memberList,"add remove reset",this.renderDebounced);this.memberTypeMe=this.model.getMemberType(z.me())};b.prototype.events={"click .js-change-org-logo":"changeLogoInProfile","click .js-edit-profile":"editProfile","click .js-submit-profile":"submitProfile","submit .js-profile-form":"submitProfile","click .js-cancel-edit-profile":"cancelEditProfile","click .js-org-profile":"openOrgProfile",
"click .js-org-members":"openOrgMembers","click .js-org-export":"openExportOptions","click .js-org-account":"openOrgAccount","click .js-billing":"openBilling","click .js-org-plans":"openPlans"};b.prototype.render=function(){var b,c,g;b=this.model.toJSON({prefs:!0,url:!0,premium:!0});this.model.editable()&&(c=null!=(g=b.paidAccount)?g.standing:void 0,b.hasAccount=ta.hasAccount(c),b.accountActive=ta.active(b.paidAccount),b.accountProblem=ta.problem(c),b.accountInactive=ta.inactive(c));b.isInOrg=this.model.isMember(z.me());
b.hasBusinessClass=this.model.isPremium();b.isOrgAdmin=this.model.owned();b.isBusinessClassAdmin=this.model.isPremium()&&this.model.owned();b.pLevelAltText=this.model.getPermLevelAltText();b.pLevelDisplayText=this.model.getPermLevelDisplayText();b.websiteHref=m.sanitizeWebAddress(b.website);b.descriptionHtml=mb.textAsHtml(b.desc,{convertNewlines:!0,textData:b.descData});this.$el.html(u.fill("org_detail",b,{editable:this.model.editable()}));this.renderDetails();this.model.isMember(z.me())&&this.renderAd();
this.renderMainContent();return this};b.prototype.renderDetails=function(){var b;b=this.model.toJSON({prefs:!0,url:!0,premium:!0});b.hasBusinessClass=this.model.isPremium();b.isOrgAdmin=this.model.owned();b.pLevelAltText=this.model.getPermLevelAltText();b.pLevelDisplayText=this.model.getPermLevelDisplayText();b.websiteHref=m.sanitizeWebAddress(b.website);b.descriptionHtml=mb.textAsHtml(b.desc,{convertNewlines:!0,textData:b.descData});this.$(".js-current-details").empty().append(u.fill("org_detail_profile_info",
b,{editable:this.model.editable()}));this.model.editable()&&this.$(".js-profile-form").empty().append(u.fill("org_detail_profile_edit",b,{editable:this.model.editable()}));return this};b.prototype.renderAd=function(){var b,c;this.$el.removeClass("has-ad");b=this.$(".js-header-ad").empty();this.model.isPremium()||(c={url:"/"+this.model.get("name")+"/plans"},this.$el.addClass("has-ad"),b.append(u.fill("ad_bc_banner",c)))};b.prototype.delegateEvents=function(d){return b.__super__.delegateEvents.call(this,
_.extend({},b.prototype.events,d||this.events))};b.prototype.membershipChange=function(){var b;b=this.model.getMemberType(z.me());if(b!==this.memberTypeMe)return this.memberTypeMe=b,this.render()};b.prototype.setActiveView=function(b){this.$(".tabbed-pane-nav-item-button").removeClass("active");this.$(b).addClass("active")};b.prototype.changeLogoInProfile=function(b){m.stop(b);n("Organization View","Detail Sidebar","Open Change Logo Menu - From Profile Image");w.toggle({elem:this.$(".js-change-org-logo"),
top:$(b.target).parent().height()+10,view:this.model.getView(Bh)})};b.prototype.editProfile=function(b){m.stop(b);this.$(".js-current-details").addClass("hide");this.$(".js-profile-form").removeClass("hide");n("Member View","Click Edit Profile")};b.prototype.cancelEditProfile=function(b){m.stop(b);this.$(".js-current-details").removeClass("hide");this.$(".js-profile-form").addClass("hide")};b.prototype.submitProfile=function(b){var c,g,e,h;m.stop(b);if(!this.disabled){b={};h=["displayName","name",
"website","desc"];g=0;for(e=h.length;g<e;g++)c=h[g],b[c]=this.$(".js-profile-form [name="+c+"]").val();b.name=b.name.toLowerCase().replace(/[^a-z0-9_]/g,"");this.disableSubmit();this.model.update(b,{waitForServer:!0},function(b){return function(d){b.disabled=!1;b.$(".js-submit-profile").removeAttr("disabled");if(d)return b.$(".js-profile-form-error").removeClass("hide").text(d);b.$(".js-profile-form-error").addClass("hide");b.cancelEditProfile();return n("Organization","Changed Name and Details")}}(this))}};
b.prototype.disableSubmit=function(){this.disabled=!0;this.$(".js-submit-profile").attr("disabled","disabled")};b.prototype.loadSection=function(){this.$(".js-content").addClass("hide").detach();this.$(".js-loading-page").removeClass("hide")};b.prototype.openOrgProfile=function(b){this.setActiveView(".js-org-profile");this.loadSection();return n("Organization View","Detail Sidebar","Open Org Profile Page")};b.prototype.openOrgMembers=function(b){this.setActiveView(".js-org-members");this.loadSection();
return n("Organization View","Detail Sidebar","Open Org Members Page")};b.prototype.openOrgAccount=function(b){this.setActiveView(".js-org-account");this.loadSection();return n("Organization View","Detail Sidebar","Open Org Account Page")};b.prototype.openPlans=function(b){return n("Organization View","Detail Sidebar","Open Business Class Plans Page")};b.prototype.openBilling=function(b){this.setActiveView(".js-billing");this.loadSection();return n("Organization View","Detail Sidebar","Open Billing Page")};
b.prototype.openExportOptions=function(b){m.stop(b);n("Organization View","Detail Sidebar","Open Export Options");b=this.model.getView(Dh);b.renderThrough=!0;return w.toggle({elem:this.$(".js-org-export"),top:30,view:b})};return b}(A);Bh=function(c){function b(){this.removeLogo=k(this.removeLogo,this);this.uploadResult=k(this.uploadResult,this);this.startUpload=k(this.startUpload,this);this.render=k(this.render,this);return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.getViewTitle=
function(){return"Change Logo"};b.prototype.initialize=function(){return this.model.ond("change:logoHash",this.render)};b.prototype.events={"change .js-upload-logo":"startUpload","click .js-remove-logo":"removeLogo"};b.prototype.render=function(){var b;b=this.model.toJSON({prefs:!0});this.$el.html(u.fill("popover_org_logo",b));return this};b.prototype.startUpload=function(b){var c,g,e,h;e=$(b.target);c=this.$(".js-error").hide();b=null!=(g=e[0])?null!=(h=g.files)?h[0]:void 0:void 0;if(null!=b&&!m.validFileSize(b))c.text("Images can not be larger than 10mb.").show(),
n("Organization","Logo","Upload Error - File Too Large"),w.calcPos();else{if(!b&&e.val())return m.uploadFile(e,this.uploadResult);if(null!=b)return g=new FormData,g.append("token",z.myToken()),g.append("file",b),T({url:e.closest("form").attr("action"),data:g,type:"post",processData:!1,contentType:!1,interceptErrors:!0,error:function(b){return function(d){return b.uploadResult(Error(d.responseText))}}(this),success:function(b){return function(){return b.uploadResult.apply(b,[null].concat(G.call(arguments)))}}(this),
timeout:12E4})}};b.prototype.uploadResult=function(b){var c;c=this.$(".js-error").hide();if(b)return n("Organization","Logo","Error - "+b),c.show().text(b),w.calcPos();n("Organization","Logo","Use Uploaded - New");return w.hide()};b.prototype.removeLogo=function(b){m.stop(b);T({url:"/1/organizations/"+this.model.id+"/logo",type:"DELETE",success:function(b){return function(){n("Organization","Logo","Remove Logo");return w.hide()}}(this)})};return b}(A);th=function(c){function b(){this.render=k(this.render,
this);return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.tagName="ul";b.prototype.className="org-list";b.prototype.initialize=function(b){this.model.organizationList.onAddRemove(this.render).ond("change:closed",this.render)};b.prototype.render=function(){var b,c,g,e;b=this.model;$(this.el).html("");e=b.organizationList.models;b=0;for(g=e.length;b<g;b++)c=e[b],c=new Nh({model:c}),$(this.el).append(c.render().el);return this};return b}(A);Nh=function(c){function b(){this.render=
k(this.render,this);return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.tagName="li";b.prototype.render=function(){var b;b=this.model.toJSON({prefs:!0,url:!0});b.visIconClass=this.model.getPermLevelIconClass();b.hasBusinessClass=this.model.isPremium();this.$el.html(u.fill("organization_list_item",b));return this};return b}(A);Lh=function(c){function b(){this.showPrivateBoards=k(this.showPrivateBoards,this);this.closeBCIntro=k(this.closeBCIntro,this);this.renderMainContent=k(this.renderMainContent,
this);return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.initialize=function(){b.__super__.initialize.apply(this,arguments);this.listenTo(this.model,"change",this.renderDebounced)};b.prototype.events={"click .js-show-other-private-boards-section":"showPrivateBoards","click .js-close-intro-helper":"closeBCIntro"};b.prototype.renderMainContent=function(){var b;b=this.model.toJSON();b.hasBusinessClass=this.model.isPremium();b.isBusinessClassAdmin=this.model.isPremium()&&this.model.owned();
this.model.getMembershipFor(z.me());this.$(".js-content").empty();b.isBusinessClassAdmin&&!z.me().isDismissed("BCIntro-"+this.model.id)&&this.$(".js-content").append(u.fill("org_bc_intro",b));this.$(".js-content").append(u.fill("org_profile",b,{editable:this.model.editable(),owned:this.model.owned()}));this.renderBoards();this.setActiveView(".js-org-profile");return this};b.prototype.closeBCIntro=function(){z.me().dismiss("BCIntro-"+this.model.id);n("Organization View","Profile Page","Dismiss BC Intro Helper");
this.renderMainContent();m.scrollToTop()};b.prototype.renderBoards=function(){this.$(".js-main-boards-section").empty();this.model.getMembershipFor(z.me())?this.$(".js-main-boards-section").append(this.subview(Vh,this.model).render().el).append(this.subview(Wh,this.model).render().el):this.$(".js-main-boards-section").append(this.subview(Xh,this.model).render().el);this.model.isPremium()&&this.model.owned()&&this.$(".js-other-private-boards-section").empty().append(this.subview(Yh,this.model).render().el);
return this};b.prototype.showPrivateBoards=function(b){m.stop(b);n("Organization View","Profile Page","Show Other Member's Private Boards");this.$(b.target).closest("a").addClass("hide");this.$(".js-other-private-boards-section").removeClass("hide")};return b}(pb);Hh=function(c){function b(){this.orgDeleteConfirm=k(this.orgDeleteConfirm,this);this.renderMainContent=k(this.renderMainContent,this);return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.events={"click .js-change-org-vis":"openChangeOrgVis",
"click .js-restrict-inv-org":"openChangeOrgInviteRestrictions","click .js-restrict-board-vis":"openChangeBoardVisRestrictions","click .js-confirm-delete-org":"orgDeleteConfirm","click .js-toggle-non-org-member-board-invites":"toggleNonOrgMemberBoardInvites"};b.prototype.renderMainContent=function(){var b;b=this.model.toJSON({prefs:!0,url:!0,premium:!0});b.externalMembersDisabled=b.prefs.externalMembersDisabled;b.hasBusinessClass=this.model.isPremium();this.$(".js-content").html(u.fill("org_account",
b,{editable:this.model.editable()}));this.setActiveView(".js-org-account");return this};b.prototype.openChangeOrgVis=function(b){m.stop(b);n("Organization View","Account Page","Open Change Org Visibility");w.toggle({elem:this.$(".js-change-org-vis"),top:50,view:this.model.getView(Ch)})};b.prototype.openChangeOrgInviteRestrictions=function(b){m.stop(b);n("Organization View","Account Page","Open Restrict Org Invites by Email Domain");w.toggle({elem:this.$(".js-restrict-inv-org"),top:50,view:this.model.getView(Th),
autoPosition:!0})};b.prototype.toggleNonOrgMemberBoardInvites=function(b){m.stop(b);n("Organization View","Account Page","Toggle Allow Inviting Non-Org Members to Boards");w.toggle({elem:this.$(".js-toggle-non-org-member-board-invites"),top:50,view:this.model.getView(Ih)})};b.prototype.openChangeBoardVisRestrictions=function(b){m.stop(b);n("Organization View","Account Page","Open Change Board Visibility");w.toggle({elem:this.$(".js-restrict-board-vis"),top:50,view:this.model.getView(Sh)})};b.prototype.orgDeleteConfirm=
function(b){m.stop(b);n("Organization View","Account Page","Open Delete Org Dialog");this.$(".js-delete-org").attr("disabled","disabled");pa.toggle({elem:$(b.target),top:35,model:this.model,title:"Delete Organization?",text:"Deleting an organization is permanent. Are you sure you want to delete this organization? There is no undo. Boards with this organization won't be deleted. Your boards in this organization will appear in your personal boards list.",confirmText:"Delete Forever",confirmBtnClass:"negate",
fxConfirm:function(b){return function(d){return b.model.destroy({success:function(){n("Organization","Successfully Delete");w.hide();return B.navigate("/",{trigger:!0})}})}}(this)})};return b}(pb);Ih=function(c){function b(){this.togglePref=k(this.togglePref,this);this.render=k(this.render,this);this.getViewTitle=k(this.getViewTitle,this);return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.getViewTitle=function(){return"Inviting Non-Org Members"};b.prototype.initialize=function(){return this.model.bind("change:prefs",
this.render)};b.prototype.events={"click a":"togglePref"};b.prototype.render=function(){var b;b=this.model.toJSON({prefs:!0,url:!0,premium:!0});b.externalMembersDisabled=b.prefs.externalMembersDisabled;this.$el.html(u.fill("org_prefs_nonorg_invites",b,{editable:this.model.editable()}));return this};b.prototype.togglePref=function(b){m.stop(b);this.model.setPref("externalMembersDisabled",!this.model.getPref("externalMembersDisabled"))};return b}(A);Qh=function(c){function b(){this.openManageMembers=
k(this.openManageMembers,this);this.searchMembers=k(this.searchMembers,this);this.getGoogleAppsData=k(this.getGoogleAppsData,this);this.startLinkingGoogleApps=k(this.startLinkingGoogleApps,this);this.renderMembers=k(this.renderMembers,this);this.getMembers=k(this.getMembers,this);this.updateMembers=k(this.updateMembers,this);this.hideHidden=k(this.hideHidden,this);this.showAll=k(this.showAll,this);this.renderMainContent=k(this.renderMainContent,this);return b.__super__.constructor.apply(this,arguments)}
s(b,c);b.prototype.initialize=function(){b.__super__.initialize.apply(this,arguments);this.getGoogleAppsData();this.model.ond("change:memberships",this.updateMembers).ond("hideMember",this.renderMainContent).ond("unhideMember",this.renderMainContent)};b.prototype.events={"keyup .js-search":"searchMembers","click .js-link-google-apps":"startLinkingGoogleApps","click .js-show-all":"showAll","click .js-hide-hidden":"hideHidden","click .js-manage-members":"openManageMembers"};b.prototype.renderMainContent=
function(){var b;b=this.model.toJSON({prefs:!0});b.canLinkGoogleApps=this.model.isFeatureEnabled("googleApps")&&(!this.model.get("prefs").associatedDomain||this.googleAppsFetchFailed)&&this.model.editable();b.canShowAll=this.model.isFeatureEnabled("googleApps")&&null!=this.mappingsData&&_.find(this.mappingsData,function(b){return function(d){var c;return null!=(c=b.Member.findOne("gMail",d.gMail))?c.get("hidden"):void 0}}(this));b.showingAll=this.showingAll;this.$(".js-content").html(u.fill("org_members",
b,{editable:this.model.editable()}));this.setActiveView(".js-org-members");this.renderMembers(this.getMembers());return this};b.prototype.showAll=function(){this.showingAll=!0;return this.renderMainContent()};b.prototype.hideHidden=function(){this.showingAll=!1;return this.renderMainContent()};b.prototype.updateMembers=function(){this.renderMembers(this.getMembers());return this.getGoogleAppsData()};b.prototype.getMembers=function(){var b,c,g,e,h,l;g=_.clone(this.model.memberList.models);if(null!=
this.mappingsData){l=this.mappingsData;c=0;for(h=l.length;c<h;c++)e=l[c],null!=e.idMember?(b=this.Member.get(e.idMember),null==b?b=new ba({id:e.idMember,fullName:e.fullName,gMail:e.gMail,initials:e.initials,hidden:e.hidden},{modelCache:this.modelCache}):b.set("gMail",e.gMail)):(b=this.Member.findOne("gMail",e.gMail),null==b&&(b=new ba({fullName:e.fullName,gMail:e.gMail,initials:e.initials,hidden:e.hidden},{modelCache:this.modelCache}),e.idMember=b.cid)),0>F.call(g,b)&&g.push(b)}e=_.sortBy(g,function(b){return b.get("fullName")});
b=[];c=0;for(h=e.length;c<h;c++)g=e[c],"deactivated"===this.model.getMemberType(g)&&b.push(g);c=[];h=0;for(l=e.length;h<l;h++)g=e[h],"virtual"===this.model.getMemberType(g)&&c.push(g);return _.difference(e,c,b).concat(b).concat(c)};b.prototype.renderMembers=function(b){var c,g,e;c=this.$(".js-member-list").empty();if(0===b.length)c.append("<p class='quiet gutter' style='padding: 15px 0;'>No results.</p>");else{g=null!=this.mappingsData;var h,l,k;k=[];h=0;for(l=b.length;h<l;h++)e=b[h],k.push(this.subview(Ph,
e,{org:this.model,showAll:this.showingAll,googleAppsLoaded:g}));this.appendSubviews(k,c)}w.hide();return this};b.prototype.startLinkingGoogleApps=function(b){m.stop(b);n("Organization View","Members Page","Start Linking Google Apps Domain");return $(b.target).hasClass("disabled")?(m.stop(b),!1):w.toggle({elem:this.$(".js-link-google-apps"),top:40,view:this.model.getView(Mh)})};b.prototype.getGoogleAppsData=function(){if(this.model.isLinkedToGoogleApps()&&this.model.editable())return T({url:"/1/organizations/"+
this.model.id+"/googleApps/mappings",success:function(b){return function(c){b.mappingsData=c;return b.renderMainContent()}}(this),interceptErrors:!0,error:function(b){return function(){b.$(".js-google-apps-linker").show();return b.googleAppsFetchFailed=!0}}(this)})};b.prototype.searchMembers=function(b){var c,g,e,h,l,k,v;b=$(this.el).find(".js-search").val().trim().toLowerCase();if(this.oldTerm!==b){this.oldTerm=b;e=b.split(/\s+/);h=_.map(e,function(b,d){return d===e.length-1?RegExp("^"+m.escapeForRegex(b),
"i"):RegExp("^"+m.escapeForRegex(b)+"$","i")});c=[];v=this.getMembers();l=0;for(k=v.length;l<k;l++)b=v[l],g=m.getMemNameArray(this.modelCache,b),_.all(h,function(b){return _.find(g,function(d){return b.test(d)})})&&c.push(b);this.renderMembers(c)}};b.prototype.openManageMembers=function(b){m.stop(b);n("Organization View","Members Page","Open Manage Members");w.toggle({elem:this.$(".js-manage-members"),top:35,view:Fh,options:{model:this.model}})};return b}(pb);Mh=function(c){function b(){this.render=
k(this.render,this);this.getViewTitle=k(this.getViewTitle,this);return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.getViewTitle=function(){return"Link Google Apps Domain"};b.prototype.events={"click .js-link":"link"};b.prototype.render=function(){var b;b=this.model.toJSON();this.$el.html(u.fill("org_link_ga_helper",b,{editable:this.model.editable()}));return this};b.prototype.link=function(){n("Organization View","Members Page","Google Apps Marketplace link");ja.enabled()&&ja.set("idOrganizationLinking",
this.model.id)};return b}(A);Ph=function(c){function b(){this.reactivateMember=k(this.reactivateMember,this);this.removeOrDeactivate=k(this.removeOrDeactivate,this);this.viewActivity=k(this.viewActivity,this);this.changeRole=k(this.changeRole,this);this.inviteToOrg=k(this.inviteToOrg,this);this.hideMember=k(this.hideMember,this);this.unhideMember=k(this.unhideMember,this);this.render=k(this.render,this);return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.className="member-list-item-detail clearfix";
b.prototype.initialize=function(){this.org=this.options.org;this.model.ond("change",this.render);this.org.ond("change:memberships",this.render)};b.prototype.events={"click .js-change-role":"changeRole","click .js-remove-or-deactivate":"removeOrDeactivate","click .js-reactivate":"reactivateMember","click .js-invite-to-org":"inviteToOrg","click .js-view-activity":"viewActivity","click .js-hide-member":"hideMember","click .js-unhide-member":"unhideMember"};b.prototype.render=function(){var b,c,g,e,h,
l,k;b=this.org.getMemberType(this.model);g=_.extend(this.model.toJSON(),this.model.getMembershipData(this.org));g.orgMemberType=m.toTitleCase(b);g.isMe=z.isMe(this.model);g.ownsOrg=this.org.owned();g.orgIsBC=this.org.isPremium();g.isDeactivated="deactivated"===b;g.isAppsMember=null!=this.model.get("gMail");g.isOrgMember="public"!==b;g.isVirtual="virtual"===b;g.isOrganizationAdmin="admin"===b;g.showGoogleApps=this.org.isLinkedToGoogleApps()&&this.org.editable()&&(null!=(c=this.options)?c.googleAppsLoaded:
void 0);this.org.owned()&&(g.allowTypeChange="deactivated"!==b&&"unconfirmed"!==b&&"virtual"!==b,g.allowReactivate="deactivated"===b,g.showActivity="virtual"!==b);c=0;l=_.filter(this.org.boardList.models,function(b){return function(b){return!b.get("closed")}}(this));e=0;for(h=l.length;e<h;e++)b=l[e],(k=this.model,0<=F.call(b.memberList.models,k))&&c++;g.boardCount=m.formatCount(c,"board",!0);g.hasBoards=0<c;this.org.isFeatureEnabled("orgCards")&&(g.orgCardsUrl=B.getOrganizationMemberCardsUrl(this.org.get("name"),
g.username));this.$el.html(u.fill("member_list_item_detail",g,{},{member:u.member}));this.$el.removeClass("deactivated not-apps-member not-org-member");g.isDeactivated&&this.$el.addClass("deactivated");g.showGoogleApps&&(g.isAppsMember||this.$el.addClass("not-apps-member"),g.isOrgMember||this.$el.addClass("not-org-member"));H.update(this.el);!g.isOrgMember&&(this.model.get("hidden")&&!this.options.showAll)&&this.$el.addClass("hide");return this};b.prototype.unhideMember=function(){if(this.model.get("gMail"))return this.model.set("hidden",
!1),this.org.trigger("unhideMember"),T({url:"/1/organization/"+this.org.id+"/hiddenGoogleAppsMembers",type:"delete",data:{gMail:this.model.get("gMail")}})};b.prototype.hideMember=function(){if(this.model.get("gMail"))return this.model.set("hidden",!0),this.org.trigger("hideMember"),T({url:"/1/organization/"+this.org.id+"/hiddenGoogleAppsMembers",type:"post",data:{gMail:this.model.get("gMail")}})};b.prototype.inviteToOrg=function(b){n("Organization View","Members Page","Add Google Apps Member");return this.model.id?
T({url:"/1/organization/"+this.org.id+"/members/"+this.model.id,type:"put",data:{type:"normal"},dataType:"json",interceptErrors:!0,error:function(b){return function(b,d){O.show(b.responseText,"error","alert",3E3);n("Invitations","Error: "+b.responseText)}}(this)}):T({url:"/1/organizations/"+this.org.id+"/members",type:"put",data:{fullName:this.model.get("fullName"),email:this.model.get("gMail"),type:"normal"},dataType:"json",success:function(b){return function(){return O.show("Invitation sent","info",
"alert",3E3)}}(this),interceptErrors:!0,error:function(b){return function(b,d){O.show(b.responseText,"error","alert",3E3);n("Invitations","Error: "+b.responseText)}}(this)})};b.prototype.changeRole=function(b){m.stop(b);n("Organization View","Members Page","Change Role Button");w.toggle({elem:this.$(".js-change-role"),top:35,view:this.model.getView(nh,"",{parent:this.org})})};b.prototype.viewActivity=function(b){m.stop(b);n("Organization View","Members Page","View Member Activity");w.toggle({elem:this.$(".js-view-activity"),
top:35,view:this.model.getView(Gh,"",{org:this.org})})};b.prototype.removeOrDeactivate=function(b){this.$(".js-remove-or-deactivate").hasClass("disabled")||(m.stop(b),n("Organization View","Members Page","Remove or Deactivate Member Button"),w.toggle({elem:this.$(".js-remove-or-deactivate"),top:35,view:this.model.getView(qe,"",{org:this.org})}))};b.prototype.reactivateMember=function(b){m.stop(b);n("Organization View","Members Page","Reactivate");T({url:"/1/organizations/"+this.org.id+"/members/"+
this.model.id+"/deactivated",type:"PUT",data:{value:!1}})};return b}(A);Gh=function(c){function b(){this.viewBoards=k(this.viewBoards,this);this.viewCards=k(this.viewCards,this);this.render=k(this.render,this);this.getViewTitle=k(this.getViewTitle,this);return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.getViewTitle=function(){return"Org Activity for "+this.model.get("fullName")};b.prototype.initialize=function(){return this.org=this.options.org};b.prototype.events={"click .js-view-org-boards-for-member":"viewBoards",
"click .js-view-member-org-cards":"viewCards"};b.prototype.render=function(b){var c,g,e,h,l,k;g=this.model.toJSON();c=0;l=_.filter(this.org.boardList.models,function(b){return function(b){return!b.get("closed")}}(this));e=0;for(h=l.length;e<h;e++)b=l[e],(k=this.model,0<=F.call(b.memberList.models,k))&&c++;g.boardCount=m.formatCount(c,"Board",!0);g.hasBoards=0<c;this.org.isFeatureEnabled("orgCards")&&(g.orgCardsUrl=B.getOrganizationMemberCardsUrl(this.org.get("name"),g.username));this.$el.html(u.fill("org_member_activity",
g));H.update(this.el);return this};b.prototype.viewCards=function(){return n("Organization View","Members Page","Activity - View Org Cards")};b.prototype.viewBoards=function(b){m.stop(b);n("Organization View","Members Page","Activity - View Boards");w.pushView({view:this.model.getView(Kh,""+this.model.username+"-boards-for-"+this.org.name,{parent:this.org})})};return b}(A);Kh=function(c){function b(){this.render=k(this.render,this);this.getViewTitle=k(this.getViewTitle,this);return b.__super__.constructor.apply(this,
arguments)}s(b,c);b.prototype.getViewTitle=function(){return"Boards for "+this.model.get("fullName")};b.prototype.initialize=function(){this.org=this.options.parent};b.prototype.render=function(){var b,c,g,e,h,l,k;e=this.model.toJSON();g=[];k=_.filter(this.org.boardList.models,function(b){return function(d){return _.contains(d.memberList.models,b.model)&&!d.get("closed")}}(this));h=0;for(l=k.length;h<l;h++)c=k[h],b=c.toJSON(),b.memberType=m.toTitleCase(c.getMemberType(this.model)),b.url=c.getUrl(),
g.push(b);e.boards=g;this.$el.html(u.fill("org_boards_for_member",e));return this};return b}(A);qe=function(c){function b(){this.removeMember=k(this.removeMember,this);this.deactivateMember=k(this.deactivateMember,this);this._checkIfLostVisibility=k(this._checkIfLostVisibility,this);this.render=k(this.render,this);this.getViewTitle=k(this.getViewTitle,this);return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.getViewTitle=function(){return this.org.isPremium()?"Remove or Deactivate Member":
"Remove Member"};b.prototype.initialize=function(){return this.org=this.options.org};b.prototype.events={"click .js-deactivate":"deactivateMember","click .js-soft-remove":"removeMember"};b.prototype.render=function(){var b,c;c=this.org.getMemberType(this.model);b=this.model.toJSON();b.orgMemberType=m.toTitleCase(c);b.ownsOrg=this.org.owned();b.orgIsBC=this.org.isPremium();b.isDeactivated="deactivated"===c;b.isOrgMember="Public"!==b.orgMemberType;b.isVirtual="Virtual"===b.orgMemberType;b.canDeactivate=
this.org.isPremOrgAdmin(z.me())&&!b.isVirtual&&!b.isDeactivated;b.isMe=z.isMe(this.model);this.$el.html(u.fill("org_remove_or_deactivate_member",b));return this};b.prototype._checkIfLostVisibility=function(){if(z.isMe(this.model))return B.navigate("/",{trigger:!0})};b.prototype.deactivateMember=function(b){m.stop(b);T({url:"/1/organizations/"+this.org.id+"/members/"+this.model.id+"/deactivated",type:"PUT",data:{value:!0},success:function(b){return function(){n("Organization","Deactivate Member From Organization");
w.hide();return b._checkIfLostVisibility()}}(this)})};b.prototype.removeMember=function(b){m.stop(b);$(this.el).find("#hardRemove").is(":checked")||"deactivated"===this.org.getMemberType(this.model)?(b="Hard Remove",this.org.memberList.remove(this.model,{mass:!0})):(b="Soft Remove",this.org.memberList.remove(this.model));n("Organization","Remove Member From Organization",b);w.hide();this._checkIfLostVisibility()};return b}(A);Oh=function(c){function b(){this.renderCards=k(this.renderCards,this);this.renderMainContent=
k(this.renderMainContent,this);return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.renderMainContent=function(){var b;if(!this.model.isFeatureEnabled("orgCards"))return B.displayErrorPage({errorType:"notFound"});b=this.model.toJSON({prefs:!0});b.memberData=this.options.member.toJSON();b.memberData.bioHtml=mb.textAsHtml(this.options.member.get("bio"),{textData:this.options.member.get("bioData")});this.setActiveView(".js-org-members");b.members=[];this.$(".js-content").html(u.fill("org_member_cards",
b,{editable:this.model.editable()},{member:u.member,member_profile:u.member_profile_info}));_.defer(function(b){return function(){return b.renderCards()}}(this));return this};b.prototype.renderCards=function(){var b,c,g,e,h,l;c=this.Board.find(function(b){return function(d){var c;return d.idOrganization===(null!=(c=b.model)?c.idOrganization:void 0)&&!d.get("closed")}}(this));h=g=0;for(l=c.length;h<l;h++)b=c[h],e=this.Card.find(function(c){return c.get("idBoard")===b.id&&!c.get("closed")}),0===e.length?
g+=1:this.$(".js-cards").append(null!=b?b.getView(dh,"orgMemberCardsCard",{hideOrg:!0}).render(e).el:void 0);if(g===c.length||0===c.length)c="No visible cards. You must be added to a card for it to appear here.",z.myId()!==this.model.id&&(c=this.model.isPremOrgAdmin(z.me())?"This member is not added to any cards in this organization.":"This member is not added to any cards you are able to see."),c={message:c,classes:"gutter",style:"padding: 60px 10px;"},this.$(".js-content").append(u.fill("empty_list",
c));return this};return b}(pb);Rh=function(c){function b(){this.pollForCCAuth=k(this.pollForCCAuth,this);this.hideAuthorizing=k(this.hideAuthorizing,this);this.delayShowAuthorizing=k(this.delayShowAuthorizing,this);this.renewExpiringYearly=k(this.renewExpiringYearly,this);this.reactivate=k(this.reactivate,this);this.renderMainContent=k(this.renderMainContent,this);return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.events={"click .js-learn-more-plans":"learnMore","click .js-upgrade-to-business-class":"upgrade",
"click .js-reactivate":"reactivate","click .js-renew-expiring-yearly-business-class-sub":"renewExpiringYearly"};b.prototype.renderMainContent=function(){var b;b=this.model.toJSON({prefs:!0});b.activeAccount=this.model.isPremium();b.cancelledAccount=ta.cancelled(b.paidAccount);b.isBCAdmin=this.model.isPremOrgAdmin(z.me());b.isOrgAdmin=this.model.owned();null!=b.paidAccount&&(b.willExpire=ta.willExpire(b.paidAccount));b.willExpire&&(b.yearlyExpirationDate=H.toLongDateString(b.paidAccount.expirationDates[b.paidAccount.products[0]]));
b.cardUrl="#";b.isOrgAdmin&&(b.cardUrl="/"+b.name+"/billing/card/businessClassMonthly");b.bcMonthlyPrice=ta.formatPrice("businessClassMonthly");b.bcYearlyPrice=ta.formatPrice("businessClassYearly");this.$(".js-content").html(u.fill("org_plans",b,{editable:this.model.editable()}));return this};b.prototype.learnMore=function(b){return n("Organization View","Plans View","Click Learn More Link")};b.prototype.upgrade=function(b){if(!$(b.target).hasClass("disabled"))return n("Organization View","Plans View",
"Click Upgrade Button")};b.prototype.reactivate=function(b){m.stop(b);n("Organization View","Plans View","Reactivate Business Class - Monthly");this.delayShowAuthorizing();T({url:"/1/organizations/"+this.model.id+"/paidAccount/reactivate",type:"POST",data:{products:[35]},success:function(b){return function(d){n("Organization","Sucessfully Reactivate Business Class - Monthly");return b.pollForCCAuth()}}(this)})};b.prototype.renewExpiringYearly=function(b){n("Organization View","Plans View","Renew Expiring Yearly Business Class Subscription");
T({url:"/1/organizations/"+this.model.id+"/paidAccount/products",type:"POST",data:{products:[36]},success:function(b){return function(d){n("Organization","Successfully Renewed Expiring Yearly Business Class Subscription");return b.model.set(d)}}(this)})};b.prototype.delayShowAuthorizing=function(){this.finishedAuth=!1;return _.delay(function(b){return function(){if(!b.finishedAuth)return m.scrollToTop(),O.show("Authorizing...","info","authorizing")}}(this),1E3)};b.prototype.hideAuthorizing=function(){this.finishedAuth=
!0;return O.hide("authorizing")};b.prototype.pollForCCAuth=function(){return Pc.pollForCCAuth.call(this)};return b}(pb);pe=function(){function c(){}c.prototype.pricing={monthlyProduct:"businessClassMonthly",yearlyProduct:"businessClassYearly"};c.prototype.features=ta;c.prototype.productPrefix="businessClass";return c}();oe=ea(Fd,pe,oe=function(c){function b(){this.initialize=k(this.initialize,this);this.paidAccountLoader=k(this.paidAccountLoader,this);this.changeCardUrl=k(this.changeCardUrl,this);
return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.apiPath="organizations";b.prototype.productName="Business Class";b.prototype.changeCardUrl=function(){return B.getOrganizationBillingCardUrl(this.model)};b.prototype.productIconClass=function(){return"briefcase"};b.prototype.paidAccountLoader=function(b){return P["for"](this.modelCache).loadOrganizationPaidAccount(this.model.id,b)};b.prototype.initialize=function(){b.__super__.initialize.apply(this,arguments);return this.setup()};
return b}(pb));Jh=function(c){function b(){this.getFormOpts=k(this.getFormOpts,this);this.renderMainContent=k(this.renderMainContent,this);return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.renderMainContent=function(){var b;b=this.getFormOpts();this.$(".js-content").empty().append((new Pc(b)).render().el);this.setActiveView(".js-billing");return this};b.prototype.getFormOpts=function(){var b,c,g,e,h;b={model:this.model,action:"js-submit-change-credit-card",productName:"Business Class"};
ta.hasAccount(null!=(c=this.model.get("paidAccount"))?c.standing:void 0)?_.extend(b,{productNumber:null!=(g=null!=(e=this.model.get("paidAccount"))?e.products[0]:void 0)?g:ta.getProductNumber("businessClassMonthly"),formAreas:{creditCard:!0},action:"js-submit-change-credit-card"}):_.extend(b,{productNumber:null!=(h=ta.getProductNumber(this.options.product))?h:ta.getProductNumber("businessClassMonthly"),formAreas:{creditCard:!0,billingContactHidden:!0,subscribingTo:!0,billingOptions:!0},action:"js-submit-create-paid-account"});
return b};return b}(pb);Pc=ea(pe,Pc=function(c){function b(){this.billingView=k(this.billingView,this);this.profileView=k(this.profileView,this);return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.profileView=function(){return B.organizationBoardsView(this.model.get("name"),this.model.id)};b.prototype.billingView=function(){return B.organizationBillingView(this.model.get("name"))};return b}(Gd));Fh=function(c){function b(){this.willBePopped=k(this.willBePopped,this);this.willBePushedDown=
k(this.willBePushedDown,this);this.canRemoveInvitation=k(this.canRemoveInvitation,this);this.removeInvitation=k(this.removeInvitation,this);this.clearSearchResults=k(this.clearSearchResults,this);this.sendEmailInvite=k(this.sendEmailInvite,this);this.renderEmailInviteToSearchResults=k(this.renderEmailInviteToSearchResults,this);this.addMember=k(this.addMember,this);this.keydownEvent=k(this.keydownEvent,this);this.search=k(this.search,this);this.searchPaste=k(this.searchPaste,this);this.render=k(this.render,
this);return b.__super__.constructor.apply(this,arguments)}s(b,c);ea(Id,Oc,b);b.prototype.getViewTitle=function(){return"Members"};b.prototype.initialize=function(){this.savedSearch=""};b.prototype.events={"click .js-search-results .js-select-member":"addMember","paste .js-search-input":"searchPaste","click .js-remove-invitation":"removeInvitation","click .js-send-email-invite":"sendEmailInvite","submit .js-email-data":"sendEmailInvite","click .js-open-option":"openOption","mouseenter .js-select-member":"hoverMember"};
b.prototype.render=function(){var b;this.$el.html(u.fill("manage_members",{canInviteMembers:!0,canAddMembers:!0,placeholder:"Search or add email address"},{editable:this.model.editable()}));null!=(b=Qc.addMemberToOrganizationAd(z.me(),this.model))&&this.$(".js-ad").html(this.model.getView(b).render().el);_.delay(function(b){return function(){b.input=b.$(".js-search-input");b.input.click(function(b){return m.stop(b)}).keyup(_.debounce(b.search,500)).keydown(b.keydownEvent).focus();if(b.savedSearch)return b.input.val(b.savedSearch),
b.search(),b.savedSearch=""}}(this),10);this.lastSearch="";this.loadingEl=this.$(".js-loading");this.helperEl=this.$(".js-helper");w.calcPos();return this};b.prototype.searchPaste=function(){this.loadingEl.show();return this.input.keyup()};b.prototype.search=function(b){var c;null!=this.lastSearch&&this.lastSearch===this.input.val()||(this.lastSearch=this.input.val(),c=this.input.val().toLowerCase().trim(),""===c?this.clearSearchResults():(this.loadingEl.show(),T({url:"/1/search/members/",type:"get",
data:{idOrganization:this.model.id,query:c,_cache:m.newestId(this.model.get("memberships"))},dataType:"json",success:function(b){return function(d){return b.renderSearchResults(c,d)}}(this)})))};b.prototype.keydownEvent=function(b){var c,g;if(!(16===(c=b.keyCode)||18===c||17===c||39===c||37===c||27===c))if(13===b.keyCode)0<this.$(".js-search-results .js-list .selected .js-select-member").length?(m.stop(b),this.$(".js-search-results .js-list .selected:first .js-select-member").click()):0<this.$(".js-search-results .js-list .email-invite").length&&
(m.stop(b),this.$(".email-invite:first").click());else if(38===(g=b.keyCode)||40===g)m.stop(b),m.navMenuList(this.$(".js-search-results .js-list"),"li",b.keyCode)};b.prototype.addMember=function(b){var c,g;m.stop(b);0<$(b.target).closest(".item.disabled").length||(this.clearSearchResults(),c=$(b.target).closest(".js-select-member").attr("idMember"),g=this.Member.get(c),T({url:"/1/organization/"+this.model.id+"/members/"+c,type:"put",data:{type:"normal"},dataType:"json",success:function(b){return function(d){if(null==
d.token&&!b.model.memberList.find(function(b){return b.id===c}))return b.model.memberList.add(g),n("Invitations","Add Member to Organization","Role: Member")}}(this),interceptErrors:!0,error:function(b){return function(d,c){O.show(d.responseText,"error","alert",3E3);b.input.focus().select();n("Invitations","Error: "+d.responseText)}}(this)}))};b.prototype.renderEmailInviteToSearchResults=function(b){var c;c=_.compact(m.removeDomainFromEmailAddress(b.email).split(/[\s\d\x21-\x2F\x3A-\x40\x5B-\x60\x7B-\x7F]+/)).join(" ").replace(/[\d\x21-\x2F\x3A-\x40\x5B-\x60\x7B-\x7F]+/,
"");b.fullName=m.toTitleCase(c);return this.$(".js-uninvited-search-results").append(u.fill("invite_add_name",b,"",{member:u.member})).show()};b.prototype.sendEmailInvite=function(b){var c,g;m.stop(b);c=this.$(".js-send-email-invite");null==c.attr("disabled")&&(b=this.$(".js-email-data .js-full-name"),g=b.val().trim(),m.validName(g)?(b={fullName:g,email:this.$(".js-email-data .js-email").val().trim(),type:"normal"},c.attr("disabled","disabled"),T({url:"/1/organizations/"+this.model.id+"/members",
type:"put",dataType:"json",data:b,success:function(b){return function(d){var g;g=new ba(d,{modelCache:b.modelCache});b.model.memberList.get(g.id)||b.model.memberList.add(g);n("Invitations","Send Email Org Invite to New Member","Role: "+d.type);TRMixpanel.trackInvitation("org");c.removeAttr("disabled");return w.hide()}}(this),interceptErrors:!0,error:function(b){return function(d,g){b.$(".js-uninvited-search-results").empty().hide();O.show(d.responseText,"error","alert",3E3);c.removeAttr("disabled");
b.input.focus().select();n("Invitations","Error: "+d.responseText)}}(this)})):(m.setCaretAtEnd(b),$(".js-name-error").show()))};b.prototype.clearSearchResults=function(){this.helperEl.show();this.lastSearch="";this.input.val("").focus().select();this.$(".js-uninvited-search-results").hide().empty();return $(".js-search-results").hide()};b.prototype.removeInvitation=function(b){b=$(b.currentTarget).closest(".invitation").data("id");jb.prototype["delete"]({model:this.model,idInvitation:b,success:function(b){return function(){n("Invitations",
"Delete Organization Invite");return b.search}}(this)});m.setCaretAtEnd(this.input[0])};b.prototype.canRemoveInvitation=function(b){return b.get("idMemberInviter")===z.myId()||this.model.owned()};b.prototype.willBePushedDown=function(){return this.savedSearch=this.input.val()};b.prototype.willBePopped=function(){return this.savedSearch=""};return b}(ha);Dh=function(c){function b(){this.clickExport=k(this.clickExport,this);this["export"]=k(this["export"],this);this.switchView=k(this.switchView,this);
this.render=k(this.render,this);return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.getViewTitle=function(){return"Export Options"};b.prototype.events={"click .js-export":"clickExport"};b.prototype.render=function(){this.$el.html(u.fill("popover_org_data_export",this.model.toJSON()));this.renderThrough&&this.token&&(this.renderThrough=!1,_.defer(this.switchView));return this};b.prototype.switchView=function(){return w.pushView({view:this.model.getView(Eh,this.token,{token:this.token})})};
b.prototype["export"]=function(b){return T({url:"/1/organizations/"+this.model.get("name")+"/export",data:{attachments:b},success:function(c){return function(g){n("Organization","Export",""+(b?"With Attachments":"Without Attachments"));if(null!=g&&g.token)return c.token=g.token,c.switchView()}}(this),interceptErrors:!0,error:function(b){return function(b,d){return-1<b.responseText.indexOf("in progress")?O.show("Your organization already has an export in progress","error","alert",5E3):d()}}(this)})};
b.prototype.clickExport=function(b){m.stop(b);return this.$("#includeAttachments").is(":checked")?this["export"](!0):this["export"](!1)};return b}(A);Eh=function(c){function b(){this.exportStatus=k(this.exportStatus,this);this.render=k(this.render,this);return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.getViewTitle=function(){return"Export Progress"};b.prototype.initialize=function(b){this.token=b.token;return this.exportStatus()};b.prototype.render=function(b){b=_.extend(this.model.toJSON(),
this,this.status,b);this.$el.html(u.fill("popover_org_data_export",b));return this};b.prototype.exportStatus=function(b){return T({url:"/1/organizations/"+this.model.get("name")+"/export/"+this.token+"/status",success:function(b){return function(d){var c,h;b.status=d;"0"===b.status.total&&(b.status.total=void 0);_.delay(function(){return b.render()},1500);if(!(null!=(c=b.status)&&c.complete)&&!(null!=(h=b.status)&&h.error))return _.delay(b.exportStatus,1E3)}}(this),error:function(b){return function(d){b.render({error:d});
return b.token=b.status=void 0}}(this)})};return b}(A);qc=function(c){function b(){this.getValue=k(this.getValue,this);return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.getViewTitle=function(){return"Create Organization"};b.prototype.events={"click .js-save":"submit","submit form":"submit"};b.prototype.getValue=function(b){var c;return null!=(c=this.$("[name="+b+"]").val())?c.trim():void 0};b.prototype.render=function(){this.$el.html(u.fill("org_create"));return this};b.prototype.submit=
function(b){var c,g,e,h;m.stop(b);b={};h=["displayName","desc"];g=0;for(e=h.length;g<e;g++)c=h[g],b[c]=this.getValue(c);z.me().organizationList.create(b,{modelCache:this.modelCache,silent:!0,success:function(b){return function(b){B.organizationBoardsView(b.get("name"),b.id);w.hide()}}(this)})};return b}(A);Ch=function(c){function b(){return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.getViewTitle=function(){return"Select Visibility"};b.prototype.tagName="ul";b.prototype.className=
"pop-over-list";b.setVisibility=function(b){return function(c){m.stop(c);n("Organization","Changed Visibility");this.model.setPref("permissionLevel",b);return w.hide()}};b.prototype.events={"click .js-select-members":b.setVisibility("private"),"click .js-select-public":b.setVisibility("public")};b.prototype.render=function(){var b;b=this.model.toJSON({prefs:!0});b["permissionLevel_"+this.model.get("prefs").permissionLevel]=!0;b.publicText=this.model.getPermLevelAltText("public");b.privateText=this.model.getPermLevelAltText("private");
this.$el.html(u.fill("change_org_vis",b));return this};return b}(A);Th=function(c){function b(){this.removeRestriction=k(this.removeRestriction,this);this.addRestriction=k(this.addRestriction,this);this.renderRestrictions=k(this.renderRestrictions,this);return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.getViewTitle=function(){return"Org Membership Restrictions"};b.prototype.initialize=function(){return this.model.ond("change:prefs",this.renderRestrictions)};b.prototype.events=
{"keydown .js-input-restricted":"addRestriction","click .js-restricted-address":"removeRestriction"};b.prototype.render=function(){var b,c;b=this.model.toJSON({prefs:!0});b.hasRestrictions=0<(null!=(c=this.model.get("prefs").orgInviteRestrict)?c.length:void 0);this.$el.html(u.fill("org_prefs_restrict_invites",b));this.renderRestrictions();return this};b.prototype.renderRestrictions=function(){var b,c,g,e,h;b=this.$(".js-list");b.empty();if(0<(null!=(c=this.model.get("prefs").orgInviteRestrict)?c.length:
void 0)){h=this.model.get("prefs").orgInviteRestrict;g=0;for(e=h.length;g<e;g++)c=h[g],b.append(u.fill("org_pref_restriction",{restriction:c}));return this.$(".js-restriction-list").show()}return this.$(".js-restriction-list").hide()};b.prototype.addRestriction=function(b){var c;if(13===b.keyCode)return c=$(b.target).val(),/^@/.test(c)?c="*"+c:-1===c.indexOf("@")&&0<c.indexOf(".")&&(c="*@"+c),this.$(".js-loading").removeClass("hide"),T({url:"/1/organizations/"+this.model.id+"/prefs/orgInviteRestrict",
type:"put",data:{value:c},dataType:"json",interceptErrors:!0,success:function(c){return function(){$(b.target).val("").select().focus();c.$(".js-loading").addClass("hide");return c.$(".js-errors").hide()}}(this),error:function(b){return function(d){b.$(".js-loading").addClass("hide");return b.$(".js-errors").text(d.responseText).show()}}(this)})};b.prototype.removeRestriction=function(b){var c;c=$(b.target).closest("a").attr("data-pattern");$(b.target).closest("li").remove();return T({url:"/1/organizations/"+
this.model.id+"/prefs/orgInviteRestrict",type:"delete",data:{value:c},dataType:"json",success:function(b){return function(){b.$(".js-input-restricted").select().focus();return b.$(".js-errors").hide()}}(this)})};return b}(A);Sh=function(c){function b(){this.render=k(this.render,this);return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.getViewTitle=function(){return"Board Creation Restriction"};b.prototype.initialize=function(){return this.model.ond("change:prefs",this.render)};
b.prototype.events={"click a":"changeRestriction"};b.prototype.render=function(){var b;b=this.model.toJSON({prefs:!0});this.$el.html(u.fill("org_prefs_vis",b));return this};b.prototype.changeRestriction=function(b){var c;c=$(b.target);b="boardVisibilityRestrict/"+c.closest("ul").attr("data-vis");c=c.attr("data-restriction");return this.model.setPref(b,c)};return b}(A);window.cchelper=function(){var c,b,d;c={name:"Mr. Magick CC",cardNumber:5462311111542453,cvv:123,streetAddress1:"Main Street",city:"Home Town",
state:"NY",zipCode:12345,country:"US",acceptTOS:!0};for(b in c)d=c[b],$("input[name="+b+"]").val(d);c={expMonth:12,expYear:20};for(b in c)d=c[b],$("select[name="+b+"]").val(d);return $("input[name=acceptTOS]").prop("checked",!0)};Ah=function(c){function b(){this.chooseOrg=k(this.chooseOrg,this);this.render=k(this.render,this);return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.getViewTitle=function(){return"Choose an Organization"};b.prototype.events={"click .js-select-org":"chooseOrg"};
b.prototype.render=function(){var b,c,g,e;b={};e=function(){var b,d,e,k;e=this.model.organizationList.models;k=[];b=0;for(d=e.length;b<d;b++)c=e[b],c.isPremium()||(g=c.toJSON({prefs:!0}),g.product=this.options.product,g.isAdmin=c.owned(),g.altText="private"===g.permissionLevel?"This org is private. It's only viewable to people who have been invited.":"This org is public. It's viewable to anybody on the Internet with the link.",k.push(g));return k}.call(this);b.orgs=_.sortBy(e,function(b){return b.name});
b.hasBCOrgs=_.any(this.model.organizationList.models,function(b){return b.isPremium()});b.hasOrgs=0<b.orgs.length;b.isLoggedIn=z.isLoggedIn();this.$el.html(u.fill("power_up_org_picker",b));return this};b.prototype.chooseOrg=function(b){return n("Business Class Promo Page","Choose Org via 'Add This'","Product: "+this.options.product)};return b}(A);E={}.hasOwnProperty;s=function(c,b){function d(){this.constructor=c}for(var f in b)E.call(b,f)&&(c[f]=b[f]);d.prototype=b.prototype;c.prototype=new d;c.__super__=
b.prototype;return c};k=function(c,b){return function(){return c.apply(b,arguments)}};F=[].indexOf||function(c){for(var b=0,d=this.length;b<d;b++)if(b in this&&this[b]===c)return b;return-1};Aa=[{name:"voting",description:"Allow people to vote on cards.",imageClass:"power-up-icon-image-voting",aboutTemplate:"power_ups_about_voting",settingsView:function(c){return new xc({model:c})},backgroundColor:"hsl(82, 25%, 90%)",screenshots:["https://d2k1ftgv7pobq7.cloudfront.net/images/powerups/voting/screenshots/5a3055ee42904ad84ba81830694e4a03/screenshot1.png"]},
{name:"cardAging",description:"Cards visibly age with inactivity.",imageClass:"power-up-icon-image-card-aging",aboutTemplate:"power_ups_about_card_aging",settingsView:function(c){return new tc({model:c})},backgroundColor:"hsl(227, 14%, 90%)",screenshots:["https://d2k1ftgv7pobq7.cloudfront.net/images/powerups/card-aging/screenshots/d073fc23fd31de74ff54d5d023e64478/screenshot1.png","https://d2k1ftgv7pobq7.cloudfront.net/images/powerups/card-aging/screenshots/c80b3b4586309dc983d6de5c3d1a5607/screenshot2.png"]},
{name:"calendar",description:"See your cards with due dates on a calendar.",imageClass:"power-up-icon-image-calendar",aboutTemplate:"power_ups_about_calendar",settingsView:function(c){return new sc({model:c})},backgroundColor:"hsl(204, 30%, 90%)",screenshots:["https://d2k1ftgv7pobq7.cloudfront.net/images/powerups/calendar/screenshots/f6a00a55c883ce90c323f6f4b9d8bc57/screenshot1.png","https://d2k1ftgv7pobq7.cloudfront.net/images/powerups/calendar/screenshots/a26f919154bc1834a54f02e485dca9dd/screenshot2.png",
"https://d2k1ftgv7pobq7.cloudfront.net/images/powerups/calendar/screenshots/b1c5841496fcf25c103ec3951a318a8c/screenshot_mobile1.png"]}];Wa=0;for(yc=Aa.length;Wa<yc;Wa++)Ba=Aa[Wa],Ba.displayName=lb.powerUpNames[Ba.name];zd=function(c){function b(){return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.initialize=function(){var b,c,g;this.listView=new wc({model:this.model});this.currentMode="list";this.detailViews={};g=[];b=0;for(c=Aa.length;b<c;b++)Ba=Aa[b],g.push(this.detailViews[Ba.name]=
new uc({model:this.model,powerUp:Ba}));return g};b.prototype.events={"click .js-back-view":"showListView","click .js-power-up-detail":"showDetailView"};b.prototype.render=function(){this.$el.empty().append(this.listView.render().el);return this};b.prototype.showListView=function(b){m.stop(b);this.$el.empty().append(this.listView.render().el);this.listView.delegateEvents();this.currentMode="list";return this.$el.css({background:"",backgroundColor:""})};b.prototype.showDetailView=function(b){var c,
g;m.stop(b);if("detail"!==this.currentMode)return c=$(b.target).closest(".js-power-up-detail").find(".js-power-up-name").attr("data-power-up-name"),this.$el.empty().append(this.detailViews[c].render().el),b=null!=(g=_.find(Aa,function(b){return b.name===c}).backgroundColor)?g:"",this.$el.css({backgroundColor:b}),this.detailViews[c].delegateEvents(),this.currentMode="detail"};return b}(A);wc=function(c){function b(){this.renderPowerUpsLength=k(this.renderPowerUpsLength,this);return b.__super__.constructor.apply(this,
arguments)}s(b,c);b.prototype.initialize=function(){var b,c,g,e;this.listenTo(this.model,{"change:powerUps":this.renderPowerUpsLength});this.iconViews=[];e=[];c=0;for(g=Aa.length;c<g;c++)Ba=Aa[c],b={model:this.model,powerUp:Ba,viewType:"list"},e.push(this.iconViews.push(new vb(b)));return e};b.prototype.render=function(){this.$el.html(u.fillFromModel("power_ups_list",this.model));this.renderPowerUps();this.renderPowerUpsLength();return this};b.prototype.delegateEvents=function(){var d,c,g,e,h;b.__super__.delegateEvents.apply(this,
arguments);e=this.iconViews;h=[];c=0;for(g=e.length;c<g;c++)d=e[c],h.push(d.delegateEvents());return h};b.prototype.renderPowerUpsLength=function(){var b,c;c=this.model.get("powerUps").length;b=this.$(".js-power-up-count").empty().addClass("hide");if(0<c)return b.text(""+c+" enabled").removeClass("hide")};b.prototype.renderPowerUps=function(){var b,c,g,e,h,l;b=this.$(".js-power-up-list").empty();h=this.iconViews;l=[];g=0;for(e=h.length;g<e;g++)c=h[g],l.push(b.append(c.render().el));return l};return b}(A);
uc=function(c){function b(){this.renderContent=k(this.renderContent,this);return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.className="power-up-detail";b.prototype.initialize=function(b){this.powerUp=b.powerUp;this.listenTo(this.model,{"change:powerUps":this.renderContent});this.toolbarSelection="settings";this.iconView=new vb({model:this.model,powerUp:this.powerUp,viewType:"detail"});return this.screenshotsView=new vc({model:this.model,powerUp:this.powerUp})};b.prototype.events=
{"click .js-toolbar-select":"selectContentSection"};b.prototype.render=function(){this.$el.html(u.fillFromModel("power_up_detail",this.model));this.renderIcon();this.renderContent();return this};b.prototype.delegateEvents=function(){b.__super__.delegateEvents.apply(this,arguments);return this.iconView.delegateEvents()};b.prototype.renderIcon=function(){return this.$(".js-power-up-icon").empty().append(this.iconView.render().el)};b.prototype.powerUpEnabled=function(){var b;return b=this.powerUp.name,
0<=F.call(this.model.get("powerUps"),b)};b.prototype.renderContent=function(){this.renderNavBar();if(this.powerUpEnabled())switch(this.toolbarSelection){case "screenshots":return this.renderScreenshots();default:return this.renderSettings()}else return this.renderScreenshots()};b.prototype.renderNavBar=function(){var b,c;b=this.$(".js-power-up-detail-navbar").empty();if(this.powerUpEnabled())return c={screenshots:"screenshots"===this.toolbarSelection,settings:"settings"===this.toolbarSelection},b.html(u.fillFromModel("power_ups_detail_navbar",
this.model,c))};b.prototype.renderSectionContent=function(b){return this.$(".js-power-up-detail-content").empty().append(b)};b.prototype.renderScreenshots=function(){this.renderSectionContent(this.screenshotsView.render().el);return this.screenshotsView.delegateEvents()};b.prototype.renderSettings=function(){var b;b=this.powerUp.settingsView(this.model);this.renderSectionContent(b.render().el);return b.delegateEvents()};b.prototype.selectContentSection=function(b){m.stop(b);this.toolbarSelection=
$(b.target).attr("name");return this.renderContent()};return b}(A);vc=function(c){function b(){return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.className="power-up-screenshots-wrapper";b.prototype.initialize=function(b){this.powerUp=b.powerUp};b.prototype.render=function(){this.$el.html(u.fill("power_up_detail_screenshots",{screenshots:this.powerUp.screenshots}));return this};return b}(A);vb=function(c){function b(){this.renderEnabled=k(this.renderEnabled,this);this.render=
k(this.render,this);return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.className="power-up-icon js-power-up-detail";b.prototype.initialize=function(b){this.powerUp=b.powerUp;this.viewType=b.viewType;return this.listenTo(this.model,{"change:powerUps":this.renderEnabled})};b.prototype.events={"click .js-toggle-power-up:not(.enabled)":"enablePowerUp","click .js-toggle-power-up.enabled":"disablePowerUp"};b.prototype.render=function(){var b;b=_.clone(this.powerUp);"detail"===this.viewType?
b.powerUpDesc=u.fill(this.powerUp.aboutTemplate):(b.powerUpDesc=this.powerUp.description,b.isListView=!0);this.$el.html(u.fillFromModel("power_up_icon",this.model,b));this.renderEnabled();return this};b.prototype.enablePowerUp=function(){return this.model.addToSet("powerUps",this.powerUp.name)};b.prototype.disablePowerUp=function(){return this.model.pull("powerUps",this.powerUp.name)};b.prototype.renderEnabled=function(){var b,c;b=(c=this.powerUp.name,0<=F.call(this.model.get("powerUps"),c));this.$(".js-toggle-btn").text(b?
"Disable":"Enable").toggleClass("enabled",b).toggleClass("primary",!b);return this.$(".js-enabled-badge").toggleClass("hide",!b)};b.prototype.renderButtonState=function(){var b;b=this.powerUp.name;F.call(this.model.get("powerUps"),b);this.$(".js-toggle-btn").text(txt)};return b}(A);xc=function(c){function b(){this.render=k(this.render,this);return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.className="fixed-width voting-prefs";b.prototype.initialize=function(){return this.listenTo(this.model,
{"change:prefs":this.render})};b.prototype.events={"click .js-voting-select:not(.disabled)":"selectPerm","mouseenter .js-voting-select":"showSoftCheckMarks","mouseleave .js-voting-select":"clearSoftCheckMarks"};b.prototype.render=function(){var b,c,g;b=this.model.toJSON({prefs:!0,url:!0});c=this.model.getOrganization();b.hasOrg=null!=(null!=c?c.id:void 0);b.orgCanSee=b.hasOrg&&("public"===(g=this.model.getPref("permissionLevel"))||"org"===g);b.premium=null!=c?c.isFeatureEnabled("observers"):void 0;
b.voting_showObservers=(b.premium||b.voting_observers)&&b.hasOrg;null!=c&&c.owned()?(b.orgOwner=!0,b.orgName=c.get("displayName"),this.model.owned()||(b.setOrgNull=!0)):this.model.owned()||(b.noEditOrg=!0);this.$el.html(u.fillFromModel("power_ups_voting_prefs",this.model,b));b=this.$(".icon-check");c=this.$(".checked-option")[0];b=b.index(c);this.displayChecksAbove(b,"checked-option");return this};b.prototype.selectPerm=function(b){m.stop(b);b=$(b.target).closest(".js-voting-select").attr("name");
return this.model.setPref("voting",b)};b.prototype.showSoftCheckMarks=function(b){b=$(b.target).closest(".js-voting-select")[0];b=this.$(".js-voting-select").index(b);return this.displayChecksAbove(b,"soft-check")};b.prototype.clearSoftCheckMarks=function(){return this.displayChecksAbove(-1,"soft-check")};b.prototype.displayChecksAbove=function(b,c){return this.$(".js-voting-select").each(function(g,e){var h;if(!$(e).hasClass("disabled")&&!$(e).children(".icon-check").hasClass("checked-option"))return h=
$(e).children("div.icon-check"),g<=b?h.addClass(c):h.removeClass(c)})};return b}(A);tc=function(c){function b(){this.render=k(this.render,this);return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.className="fixed-width card-aging-prefs";b.prototype.initialize=function(){return this.listenTo(this.model,{"change:prefs":this.render})};b.prototype.events={"click .js-select:not(.disabled)":"selectMode"};b.prototype.render=function(){var b;b=this.model.toJSON({prefs:!0,url:!0}).prefs;
this.$el.html(u.fillFromModel("power_ups_card_aging_prefs",this.model,{aging_regular:"regular"===b.cardAging,aging_pirate:"pirate"===b.cardAging}));return this};b.prototype.selectMode=function(b){m.stop(b);b=$(b.target).closest(".js-select").attr("name");return this.model.setPref("cardAging",b)};return b}(A);sc=function(c){function b(){this.render=k(this.render,this);this.generateNewFeedURL=k(this.generateNewFeedURL,this);this.generationComplete=k(this.generationComplete,this);return b.__super__.constructor.apply(this,
arguments)}s(b,c);b.prototype.className="fixed-width calendar-prefs";b.prototype.initialize=function(){this.generating=!1;return this.listenTo(this.model,{"change:prefs":this.render,"change:myPrefs.calendarKey":this.generationComplete})};b.prototype.events={"click .js-calendar-pref-feed:not(.disabled)":"selectFeedEnabled","click .js-calendar-feed-url:not(:disabled)":"focusInput","click .js-regen-calendar-url:not(.disabled)":"generateNewFeedURL"};b.prototype.generationComplete=function(){this.generating=
!1;return this.render()};b.prototype.generateNewFeedURL=function(b){m.stop(b);this.generating=!0;this.model.generateCalendarKey();return this.render()};b.prototype.render=function(){var b,c,g;g=this.model.toJSON({prefs:!0}).prefs;c=this.model.getPref("calendarKey");b="webcal://"+location.host+"/calendar/"+z.me().id+"/"+this.model.id+"/"+c+".ics";c||(this.generating=!0,this.model.generateCalendarKey());this.$el.html(u.fillFromModel("power_ups_calendar_prefs",this.model,{calendar_feed_enabled:g.calendarFeedEnabled,
calendar_feed_generated:null!=c&&!this.generating,calendar_feed_url:b}));return this};b.prototype.focusInput=function(b){return this.$(".js-calendar-feed-url").focus().select()};b.prototype.selectFeedEnabled=function(b){m.stop(b);b="enabled"===$(b.target).closest("a").attr("name");return this.model.setPref("calendarFeedEnabled",b)};return b}(A);var Zh,rh,E={}.hasOwnProperty,s=function(c,b){function d(){this.constructor=c}for(var f in b)E.call(b,f)&&(c[f]=b[f]);d.prototype=b.prototype;c.prototype=
new d;c.__super__=b.prototype;return c};Zh=function(c){function b(){return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.typename="BoardStar";return b}(na);rh=function(c){function b(){return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.model=Zh;b.prototype.url=function(){return"/1/member/"+this.member.id+"/boardStars"};b.prototype.initialize=function(b,c){this.member=c.member};b.prototype.comparator=function(b){return b.get("pos")||0};b.prototype.getBoardStar=
function(b){return _.find(this.models,function(c){return c.get("idBoard")===b})};b.prototype.starBoard=function(b){var c;if(!this.getBoardStar(b))return c=this.length?this.at(this.length-1).get("pos")+m.spacing:m.spacing,this.create({idBoard:b,pos:c},{modelCache:this.modelCache})};b.prototype.unstarBoard=function(b){b=this.getBoardStar(b);if(null!=b)return b.destroy()};b.prototype.updateStarBoard=function(b,c){var g,e;g=this.getBoardStar(b);e=m.calcPos(c,this,g);if(null!=g)return g.update({pos:e})};
b.prototype.getBoards=function(){var b;b=this.getBoardIds();return _.compact(this.Board.get(b))};b.prototype.getBoardIds=function(){var b,c,g,e,h;c=_.sortBy(this.models,function(b){return b.get("pos")});h=[];g=0;for(e=c.length;g<e;g++)b=c[g],h.push(b.get("idBoard"));return h};return b}(fb);var $h,Rc,re,Fg,Dg,Sc,bc,k=function(c,b){return function(){return c.apply(b,arguments)}},E={}.hasOwnProperty,s=function(c,b){function d(){this.constructor=c}for(var f in b)E.call(b,f)&&(c[f]=b[f]);d.prototype=b.prototype;
c.prototype=new d;c.__super__=b.prototype;return c};Sc=function(c){function b(){this.render=k(this.render,this);return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.className="sticker-select js-draggable-sticker";b.prototype.enabled=function(){return"standard"===this.model.get("type")||z.me().isFeatureEnabled("additionalStickers")};b.prototype.render=function(){var b,c,g;b=this.model.toJSON();b.url=null!=(c=null!=(g=m.smallestPreviewBiggerThan(b.scaled,80))?g.url:void 0)?c:b.url;
b.pending=null==b.image&&null==b.id&&null==b.error;this.$el.html(u.fill("sticker_select_item",b)).data("sticker",this.model);this.$el.toggleClass("disabled",!this.enabled());return this};return b}(A);$h=function(c){function b(){this.deleteSticker=k(this.deleteSticker,this);this.toggleSelectable=k(this.toggleSelectable,this);this.initialize=k(this.initialize,this);return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.initialize=function(){this.toggleSelectable();this.model.onId(function(b){return function(){return b.toggleSelectable()}}(this));
return this.listenTo(this.model,"change:error",this.render)};b.prototype.events={"click .js-delete-sticker":"deleteSticker"};b.prototype.enabled=function(){return z.me().isFeatureEnabled("customStickers")};b.prototype.toggleSelectable=function(){var b;b=null!=this.model.id;this.$el.toggleClass("js-draggable-sticker",b);return this.$el.toggleClass("sticker-unselectable",!b)};b.prototype.deleteSticker=function(b){m.stop(b);return pa.toggle({elem:$(b.target).closest(".js-delete-sticker"),top:32,model:this.model,
title:"Delete Sticker?",text:"Deleting a sticker is permanent. There is no undo.",confirmText:"Delete",confirmBtnClass:"negate",fxConfirm:function(b){return function(c){return b.model.destroy()}}(this)})};return b}(Sc);Rc=function(c){function b(){return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.typename="Sticker";return b}(na);Dg=function(c){function b(){return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.model=Rc;b.prototype.url=function(){return"/1/cards/"+
this.card.get("id")+"/stickers"};b.prototype.initialize=function(b,c){this.card=c.card;this.bind("change:zIndex",this.sort)};b.prototype.comparator=function(b){return b.get("zIndex")||0};b.prototype.nextZIndex=function(b){var c;return 0<this.length?(c=_.max(this.pluck("zIndex")),(null!=b?b.get("zIndex"):void 0)===c&&1===this.filter(function(b){return b.get("zIndex")===c}).length?c:c+1):1};return b}(fb);bc=function(c){function b(){return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.className=
"sticker";b.prototype.showEditControls=function(){return!1};b.prototype.render=function(){var b,c,g;b=this.model.toJSON();b.url=null!=(c=null!=(g=m.smallestPreviewBiggerThan(b.imageScaled,80))?g.url:void 0)?c:b.imageUrl;b.showEditControls=this.showEditControls();this.$el.html(u.fill("sticker_on_card",b)).css({left:""+b.left+"%",top:""+b.top+"%"});return this};return b}(A);re=function(c){function b(){this.removeSticker=k(this.removeSticker,this);this.startMove=k(this.startMove,this);this.startRotate=
k(this.startRotate,this);this.editSticker=k(this.editSticker,this);this.mouseleave=k(this.mouseleave,this);this.mouseenter=k(this.mouseenter,this);this.saveStickerAttrs=k(this.saveStickerAttrs,this);this.isMovingOrRotating=k(this.isMovingOrRotating,this);return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.initialize=function(){this.listenTo(this.model,"stopEditing",this.stopEditing);this.listenTo(this.model,"startEditing",this.editSticker);this.listenTo(this.model,"disableEditing",
this.disableEditing);return this.listenTo(this.model,"enableEditing",this.enableEditing)};b.prototype.events={mouseenter:"mouseenter",mouseleave:"mouseleave",mousedown:"editSticker","mousedown .js-remove-sticker":"removeSticker","mousedown .js-rotate-sticker":"startRotate","mousedown .js-move-sticker":"startMove",click:"click"};b.prototype.showEditControls=function(){return!0};b.prototype.disableEditing=function(){return this.$el.addClass("editing-disabled")};b.prototype.enableEditing=function(){return this.$el.removeClass("editing-disabled")};
b.prototype.endCurrentEdit=function(){$(document).off(".stickerrotate .stickermove .stickerautomove");this.$el.removeClass("moving rotating");return $(".sticker-editor-overlay").removeClass("invalid dragging")};b.prototype.stopEditing=function(b){var c,g,e,h;m.stop(b);if(this.isEditing()){this.endCurrentEdit();this.$el.removeClass("editing");e=this.model.collection.models;h=[];c=0;for(g=e.length;c<g;c++)b=e[c],h.push(b.trigger("enableEditing"));return h}};b.prototype.isEditing=function(){return this.$el.is(".moving, .rotating, .editing")};
b.prototype.isEditingDisabled=function(){return this.$el.is(".editing-disabled")};b.prototype.isMovingOrRotating=function(){return this.$el.is(".moving, .rotating")};b.prototype.saveStickerAttrs=function(b){var c,g,e,h;c=b.position;e=b.rotation;b=function(b){return Math.round(100*b)/100};h={zIndex:this.model.collection.nextZIndex(this.model)};c&&(c=this.$el.closest(".list-card"),g=c.find(".js-card-stickers"),c=g.width(),g=g.height(),h.left=b(100*(parseFloat(this.$el.css("left"))/c)),h.top=b(100*(parseFloat(this.$el.css("top"))/
g)));e&&(e=m.getElemTransformMatrix(this.$el.find(".sticker-image")),h.rotate=b(m.getMatrixDegrees(e)%360));this.model.update(h)};b.prototype.click=function(b){if(this.isEditing()&&b.offsetX<=this.$el.find(".sticker-image").width())return m.stop(b)};b.prototype.mouseenter=function(b){!this.isEditingDisabled()&&(!this.isEditing()&&!this.isMovingOrRotating())&&this.$el.addClass("hover")};b.prototype.mouseleave=function(b){this.$el.removeClass("hover")};b.prototype.editSticker=function(b){var c,g,e,
h,l,k,v;if(!(null!=b&&1!==b.which)){m.stop(b);null!=b&&"mousedown"===b.type&&(e=b.pageX,h=b.pageY,g=function(){$(document).off(".stickerautomove");return clearTimeout(c)},$(document).on("mousemove.stickerautomove",function(b){return function(c){if(25<Math.pow(c.pageX-e,2)+Math.pow(c.pageY-h,2))return g(),b.startMove(c)}}(this)),$(document).on("mouseup.stickerautomove",g),c=setTimeout(g,1E3));l=_.clone(this.model.collection.models);k=0;for(v=l.length;k<v;k++)b=l[k],b!==this.model&&(b.trigger("stopEditing"),
b.trigger("disableEditing"));_.defer(function(b){return function(){return b.$el.addClass("editing")}}(this))}};b.prototype.startRotate=function(b){var c,g,e,h,l,k;if(this.isEditing())return m.preventDefault(b),c=this.$el.offset().left+this.$el.width()/2,g=this.$el.offset().top+this.$el.height()/2,e=b.pageX,h=b.pageY,m.calcDistanceFromCenter(this.$el,e,h),k=0,b=m.getElemTransformMatrix(this.$el.find(".sticker-image")),null!=b&&(k=m.getMatrixDegrees(b)),l=!1,$(document).on("mousemove.stickerrotate",
function(b){return function(d){var n,s;l||(b.$el.removeClass("hover").addClass("rotating"),$(".sticker-editor-overlay").addClass("dragging"),l=!0);n=d.pageX;d=d.pageY;m.calcDistanceFromCenter(b.$el,n,d);n-=c;s=d-g;d=m.getDegrees(h-g,e-c);n=m.getDegrees(s,n);n=k+(n-d);b.$el.find(".sticker-image").css({transform:"rotate("+n+"deg)","-webkit-transform":"rotate("+n+"deg)"})}}(this)),$(document).on("mouseup.stickerrotate",function(b){return function(){return l?(b.saveStickerAttrs({rotation:!0}),b.endCurrentEdit()):
$(document).off(".stickerrotate")}}(this)),!1};b.prototype.startMove=function(b){var c,g,e,h,l,k,v,x,n,s,u;if(this.isEditing())return m.stop(b),e=this.$el.closest(".list-card"),e=e.find(".js-card-stickers"),n=e.offset(),v=n.left,x=n.top,u=this.$el.width(),s=this.$el.height(),n=e.width(),e=e.height(),c=n-10,g=e-10,null!=b?(l=this.$el.offset().left+this.$el.width()/2-b.pageX,k=this.$el.offset().top+this.$el.height()/2-b.pageY):k=l=0,h=!1,$(document).on("mousemove.stickermove",function(b){return function(d){var e,
m;h||(b.$el.removeClass("hover").addClass("moving"),$(".sticker-editor-overlay").addClass("dragging"),h=!0);e=d.pageX-v-u/2+l;d=d.pageY-x-s/2+k;m=!0;e>c&&(e=c,m=!1);-40>e&&(e=-40,m=!1);d>g&&(d=g,m=!1);-40>d&&(d=-40,m=!1);$(".sticker-editor-overlay").toggleClass("invalid",!m);return b.$el.css({left:e,top:d})}}(this)),$(document).on("mouseup.stickermove",function(b){return function(){return h?(b.saveStickerAttrs({position:!0}),b.endCurrentEdit()):$(document).off(".stickermove")}}(this)),!1};b.prototype.removeSticker=
function(b){this.isEditing()&&(b=_.once(function(b){return function(){b.stopEditing();b.model.destroy();b.$el.remove()}}(this)),this.$el.one("transitionEnd webkitTransitionEnd",b),setTimeout(b,100),this.$el.addClass("fade-out"))};return b}(bc);Fg=function(c){function b(){this.endRotateAndMoving=k(this.endRotateAndMoving,this);this.renderStickers=k(this.renderStickers,this);this.stop=k(this.stop,this);this.hide=k(this.hide,this);this.show=k(this.show,this);this.render=k(this.render,this);return b.__super__.constructor.apply(this,
arguments)}s(b,c);b.prototype.className="sticker-editor-overlay";b.prototype.initialize=function(){this.makeDebouncedMethods("renderStickers");this.listenTo(this.model.stickerList,"remove",function(b){return function(){if(0===b.model.stickerList.length)return _.defer(function(){return b.hide()})}}(this));return this.listenTo(this.model.stickerList,"add remove reset change sort",function(){return this.renderStickersDebounced()})};b.prototype.events={"click .list-card":"stop",click:"hide"};b.prototype.showCover=
xa.prototype.showCover;b.prototype.renderCover=xa.prototype.renderCover;b.prototype.renderBadges=xa.prototype.renderBadges;b.prototype.renderLabels=xa.prototype.renderLabels;b.prototype.renderMembers=xa.prototype.renderMembers;b.prototype.getMemberOnCardHtml=xa.prototype.getMemberOnCardHtml;b.prototype.render=function(b){var c,g,e;g=this.model.toJSON();g.labels=this.model.getLabels();g.hasCover=this.model.getBoard().get("prefs").cardCovers&&this.model.get("idAttachmentCover");g.hasStickers=0<this.model.stickerList.models.length;
g.detailsOverlay=!0;e={card:u.card_in_list};this.$el.html(u.fill("sticker_editor",_.extend(g,b),{},e));this.renderStickers().renderCover().renderLabels().renderBadges().renderMembers();this.showCover()&&(c=this.model.attachmentList.get(this.model.get("idAttachmentCover")));this.$(".list-card").toggleClass("has-cover",null!=c).addClass("has-stickers");$("body").addClass("editing-stickers");return this};b.prototype.show=function(b,c){$("body").append(this.render(c).el);this.selectDefault(b,c);return $(document).on("keyup.stickereditor",
function(b){return function(c){if(27===c.keyCode)return 1<b.model.stickerList.length&&0<b.$el.find(".editing").length?b.endRotateAndMoving(c):b.hide(c)}}(this))};b.prototype.hide=function(b){m.stop(b);this.endRotateAndMoving();$("body").removeClass("editing-stickers");this.$el.remove();this.model.getBoard().viewState.set("cardMode",null);$(document).off(".stickereditor")};b.prototype.stop=function(b){0<$(b.target).closest(".js-rotate-sticker,.js-move-sticker,.js-remove-sticker").closest(".editing").length||
(0<$(b.target).closest(".sticker").length?this.endRotateAndMoving(b):this.hide(b))};b.prototype.renderStickers=function(){var b,c,g,e,h;if(0<this.$(".sticker.moving, .sticker.rotating").length)return this;b=this.$(".js-card-stickers").empty();h=this.model.stickerList.models;g=0;for(e=h.length;g<e;g++)c=h[g],b.append(c.getView(re).render().el);return this};b.prototype.endRotateAndMoving=function(b){var c,g,e;m.stop(b);e=_.clone(this.model.stickerList.models);c=0;for(g=e.length;c<g;c++)b=e[c],b.trigger("stopEditing")};
b.prototype.selectDefault=function(b,c){var g,e,h,l,k,m,x,n,s;k=function(c){return null!=c?c.trigger("startEditing",b):void 0};if(null!=(g=null!=c?c.idSticker:void 0))return k(this.model.stickerList.get(g));if(null!=b){x=this.model.stickerList.models;for(m=x.length-1;0<=m;m+=-1)if(h=x[m],g=h.getView(re).$el,l=g.offset(),e=l.left,l=l.top,e<=(n=b.clientX)&&n<=e+g.width()&&l<=(s=b.clientY)&&s<=l+g.height()){k(h);return}return k(this.model.stickerList.models[0])}};return b}(A);var ai,sh,E={}.hasOwnProperty,
s=function(c,b){function d(){this.constructor=c}for(var f in b)E.call(b,f)&&(c[f]=b[f]);d.prototype=b.prototype;c.prototype=new d;c.__super__=b.prototype;return c};ai=function(c){function b(){return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.typename="Login";b.prototype.hasConflict=function(){var b;b=this.collection.types();return!_.any([function(b){return function(){return _.isEmpty(b.get("types"))}}(this),function(c){return function(){return"password"in b}}(this),function(c){return function(){return 2<=
b.google}}(this)],function(b){return b()})};return b}(na);sh=function(c){function b(){return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.model=ai;b.prototype.initialize=function(){return this.on("change:primary",this.resetPrimary,this)};b.prototype.resetPrimary=function(b){var c,g,e;if(b.get("primary")){e=this.without(b);c=0;for(g=e.length;c<g;c++)b=e[c],b.set("primary",!1);return this.sort()}};b.prototype.comparator=function(b){return Number(!b.get("primary"))+b.id};b.prototype.types=
function(){return _.countBy(_.flatten(this.pluck("types")))};return b}(La);var sb,G=[].slice,F=[].indexOf||function(c){for(var b=0,d=this.length;b<d;b++)if(b in this&&this[b]===c)return b;return-1};sb=function(){function c(b){var c;this.name=b;_.extend(this,Backbone.Events);this._cache={};this._locked=[];this._lockIndex=0;this._deltaQueue=[];for(c in this._collections)this._cache[c]={};m.debounceEvents(this);this.createBoundObjects()}c.fullCacheTypes=["board","organization"];c.prototype._collections=
{Action:{type:Rb,test:"actions"},Card:{type:Da,test:"cards"},Checklist:{type:$b,test:"checklists"},Board:{type:oa,test:function(b){return/^board($|s)/.test(b)}},List:{type:Mc,test:function(b){return/^lists?/.test(b)}},Member:{type:ba,test:function(b){return/^member/.test(b)&&"memberships"!==b&&"memberType"!==b}},Notification:{type:wb,test:"notifications"},Organization:{type:Va,test:function(b){return/^organization/.test(b)}}};c.prototype.createBoundObjects=function(){var b,c,f,g,e,h,l,k,m,n,s,u;c=
["get","waitFor","all","find","findOne"];b={Action:["getListForModel"],Notification:["sortedByDateDescending","unreadCount"]};this.bound={};n=[Rb,oa,Da,$b,Mc,ba,wb,Va];h=0;for(k=n.length;h<k;h++){g=n[h];this.bound[g.prototype.typeName]={};u=c.concat(null!=(s=b[g.prototype.typeName])?s:[]);e=function(b){return function(c,d){return b.bound[c.prototype.typeName][d]=function(){var f;f=1<=arguments.length?G.call(arguments,0):[];return c[d].apply(c,[b].concat(G.call(f)))}}}(this);l=0;for(m=u.length;l<m;l++)f=
u[l],e(g,f)}return this.bound.Auth={me:function(b){return function(){return ba.get(b,z.myId())}}(this)}};c.prototype.getCacheType=function(){return this.name.split("_")[0]};c.prototype.updateDeltas=function(b,c){var f,g,e,h;h=[];g=0;for(e=c.length;g<e;g++)f=c[g],null!=f._id&&(null==f.id&&(f.id=f._id),delete f._id),h.push(this.enqueueDelta(b,f));return h};c.prototype.deleteDeltas=function(b,c){var f,g,e,h,l;l=[];g=0;for(e=c.length;g<e;g++)f=c[g],l.push(this.enqueueDelta(b,{id:null!=(h=f.id)?h:f._id,
deleted:!0}));return l};c.prototype.saveState=function(){var b;this.lastUsed=new Date;switch(this.getCacheType()){case "board":b=this.get("Board",B.idModel);this.restoreData={idBoard:b.id,ixLastUpdateBoard:rpc.getIxLastUpdate(b.id)};m.checkId(b.get("idOrganization"))&&_.extend(this.restoreData,{idOrganization:b.get("idOrganization"),ixLastUpdateOrganization:rpc.getIxLastUpdate(b.get("idOrganization"))});break;case "organization":this.restoreData={idOrganization:B.idModel,ixLastUpdateOrganization:rpc.getIxLastUpdate(B.idModel)}}if(this.restoreData)return clearInterval(this._syncTimer),
this._syncTimer=setInterval(function(b){return function(){return b._syncCache(function(c,g){var e,h,l;if(null!=(null!=c?c.syncError:void 0))$(b).trigger("outOfSync");else if(null!=g){l=[];for(e in g)h=g[e],e===b.restoreData.idBoard?l.push(b.restoreData.ixLastUpdateBoard=h):e===b.restoreData.idOrganization?l.push(b.restoreData.ixLastUpdateOrganization=h):l.push(void 0);return l}})}}(this),m.getMs({minutes:5}))};c.prototype._getIxLastUpdates=function(){var b;b={};switch(this.getCacheType()){case "board":b[this.restoreData.idBoard]=
this.restoreData.ixLastUpdateBoard;null!=this.restoreData.idOrganization&&(b[this.restoreData.idOrganization]=this.restoreData.ixLastUpdateOrganization);break;case "organization":b[this.restoreData.idOrganization]=this.restoreData.ixLastUpdateOrganization}return b};c.prototype._syncCache=function(b){return rpc.invoke("getModelUpdatesSince",[this._getIxLastUpdates(),m.invitationTokens()],function(c){return function(f){var g,e,h,l,k;try{k=f.messages;h=0;for(l=k.length;h<l;h++)g=k[h],e=JSON.parse(g),
e.notify.event="updateModels",c.updateDeltas(e.notify.typeName,e.notify.deltas)}catch(m){return"undefined"!==typeof console&&null!==console&&"function"===typeof console.error&&console.error(["Model sync error on messages:",null!=f?f.messages:void 0]),"undefined"!==typeof console&&null!==console&&"function"===typeof console.error&&console.error(m),b(m)}return"function"===typeof b?b(null,f.modelIxUpdate):void 0}}(this),function(c){return function(c){return"function"===typeof b?b(c):void 0}}(this))};
c.prototype.restoreState=function(){if(null!=this.restoreData)return this._getIxLastUpdates(),this._syncCache(function(b){return function(b){if(null!=(null!=b?b.syncError:void 0))return"undefined"!==typeof B&&null!==B?B.syncError():void 0}}(this)),delete this.restoreData,clearInterval(this._syncTimer),delete this._syncTimer};c.prototype.clearAll=function(){var b,c,f,g,e;for(f in this._collections){e=null!=(g=this._cache[f])?g:{};for(b in e)c=e[b],c.destructor();this._cache[f]={}}return clearInterval(this._syncTimer)};
c.prototype.get=function(b,c){var f;return null!=(f=this._cache[b])?f[c]:void 0};c.prototype.waitFor=function(b,c,f){var g;g=this.get(b,c);return null!=g?f(null,g):this.once("add:"+b+":"+c,function(e){return function(){return e.waitFor(b,c,f)}}(this))};c.prototype.all=function(b){return _.values(this._cache[b])};c.prototype.add=function(b){var c;if(!(b.id&&null!=this.get(b.typeName,b.id))&&null!=this._collections[b.typeName])return c=b.id?b.id:b.cid,this._cache[b.typeName][c]=b,this.trigger("add:"+
b.typeName,b),b.onId(function(c){return function(d){delete c._cache[b.typeName][b.cid];c._cache[b.typeName][d]=b;c.trigger("add:"+b.typeName+":"+d,b);return"function"===typeof b.triggerCacheEvents?b.triggerCacheEvents(c,"add",b):void 0}}(this)),b.off(null,null,this),b.on("change",function(c){return function(){var d,e,h;"function"===typeof b.triggerCacheEvents&&b.triggerCacheEvents(c,"change",b);c.trigger("change:"+b.typeName,b);e=b.changedAttributes();h=[];for(d in e)h.push(c.trigger("change:"+b.typeName+
":"+d,b));return h}}(this),this),b.on("destroy",function(b){return function(c){return b.remove(c)}}(this),this)};c.prototype.remove=function(b){var c,f,g,e;if(null!=b){if(b instanceof Da){e=b.actionList.models;f=0;for(g=e.length;f<g;f++)c=e[f],this.remove(c)}delete this._cache[b.typeName][b.id];delete this._cache[b.typeName][b.cid];this.trigger("remove:"+b.typeName,b);null!=b.id&&this.trigger("remove:"+b.typeName+":"+b.id,b);"function"===typeof b.triggerCacheEvents&&b.triggerCacheEvents(this,"remove",
b);b.off(null,null,this);return"function"===typeof b.destructor?b.destructor():void 0}};c.prototype.update=function(b,c,f){var g,e,h,l,k,m,n;if(_.isArray(c)){g=0;for(e=c.length;g<e;g++)h=c[g],this.update(b,h)}else if(c.deleted)b=this.get(b,c.id),this.remove(b);else{k=_.clone(c);l=function(b){return function(f,e){var g;g=c[f];_.isNumber(g)?k[""+f+"Count"]=g:b.update(e,g);return delete k[f]}}(this);n=this._collections;for(g in n)if(m=n[g],m=m.test,_.isString(m))null!=c[m]&&l(m,g);else for(e in c)m(e)&&
l(e,g);g=_.isString(b)?this.get(b,c.id):b;null!=g?g.set(k):null!=(null!=(h=this._collections[b])?h.type:void 0)&&new this._collections[b].type(k,{modelCache:this})}return"function"===typeof f?f(null,c):void 0};c.prototype.lock=function(b){var c;c=this._lockIndex++;J("MC",""+b+" took lock "+c);this._locked.push(c);return c};c.prototype.locked=function(){return!_.isEmpty(this._locked)};c.prototype.unlock=function(b){return 0<=F.call(this._locked,b)?(J("MC","gave lock "+b),this._locked=_.without(this._locked,
b),this.locked()||this.processDeltas(),!0):!1};c.prototype.enqueueDelta=function(b,c,f){J("MC","got an update for "+(_.isString(b)?b:b.typeName));return this.locked()?this._deltaQueue.push({modelOrType:b,delta:c,next:f}):this.update(b,c,f)};c.prototype.processDeltas=function(){var b,c,f,g,e,h,l,k;g=this._deltaQueue;this._deltaQueue=[];e=function(b){return!_.isString(b)&&null==b.id};J("MC","Running "+g.length+" updates");h=0;for(l=g.length;h<l;h++)f=g[h],c=f.modelOrType,b=f.delta,f=f.next,e(c)&&this.update(c,
b,f);k=[];h=0;for(l=g.length;h<l;h++)f=g[h],c=f.modelOrType,b=f.delta,f=f.next,e(c)||k.push(this.update(c,b,f));return k};return c}();window.ModelCacheCache=new (function(){function c(){this._caches={}}c.prototype.addCache=function(b){var c;c=this._caches[b]=new sb(b);$(c).on("outOfSync",function(b){return function(){return b.dropCache(c)}}(this));return c};c.prototype["for"]=function(b){var c,f;if(b instanceof sb)return b;null==this._caches[b]&&(c=this.addCache(b),(f=c.getCacheType(),0<=F.call(sb.fullCacheTypes,
f))&&this.copyHeaderCacheTo(c));return this._caches[b]};c.prototype.hasCache=function(b){return null!=this._caches[b]};c.prototype.copyHeaderCacheTo=function(b){var c,f,g,e,h,l,k;if(f=this["for"]("header")){f=f._cache;k=[];for(h in f)l=f[h],k.push(function(){var f;f=[];for(g in l)e=l[g],c=$.extend(!0,{},e.attributes),f.push(new b._collections[h].type(c,{modelCache:b}));return f}());return k}};c.prototype.dropCache=function(b){P.dropLoaderFor(b);b.clearAll();return delete this._caches[b.name]};return c}());
window.IdCache=new (function(){function c(){this._shortLinkToId={Card:{},Board:{}};this._idCardToIdBoard={}}c.prototype.getId=function(b,c){if(m.checkId(c))return c;if(m.isShortLink(c))return this._shortLinkToId[b][c];throw Error("Not a shortLink or id: "+c);};c.prototype.setId=function(b,c,f){if(!m.checkId(f))throw Error("Not an id: "+f);if(!m.isShortLink(c))throw Error("Not a shortLink: "+c);return this._shortLinkToId[b][c]=f};c.prototype.setCardId=function(b,c){return this.setId("Card",b,c)};c.prototype.setBoardId=
function(b,c){return this.setId("Board",b,c)};c.prototype.setBoardIdForCard=function(b,c){return this._idCardToIdBoard[this.getCardId(b)]=this.getBoardId(c)};c.prototype.getCardId=function(b){return this.getId("Card",b)};c.prototype.getBoardId=function(b){return this.getId("Board",b)};c.prototype.getBoardIdForCard=function(b){return this._idCardToIdBoard[this.getCardId(b)]};return c}());$(rpc).bind("updateModels",function(c,b){var d;b.idModelChannel===z.myId()&&ModelCacheCache["for"]("header").updateDeltas(b.typeName,
b.deltas);null!=(d=B.getCurrentModelCache())&&d.updateDeltas(b.typeName,b.deltas)});$(rpc).bind("deleteModels",function(c,b){b.idModelChannel===z.myId()&&ModelCacheCache["for"]("header").deleteDeltas(b.typeName,b.deltas);B.getCurrentModelCache().deleteDeltas(b.typeName,b.deltas)});var bi,E={}.hasOwnProperty,s=function(c,b){function d(){this.constructor=c}for(var f in b)E.call(b,f)&&(c[f]=b[f]);d.prototype=b.prototype;c.prototype=new d;c.__super__=b.prototype;return c};bi=function(c){function b(){return b.__super__.constructor.apply(this,
arguments)}s(b,c);b.prototype.initialize=function(){var b;this.updatePinnedDrawer();ra.ensureRun();this.listenTo(aa,"change:pinBoardsListSidebar",function(){return this.updatePinnedDrawer()});b=_.debounce(function(b){ra.calc();w.calcPos({notNew:!0});W.isVisible&&W.calcPos()},300);$(window).on("resize.windowEvent",b);b=window.devicePixelRatio;_.isNumber(b)?n("Pixel Ratio",1.5<=b?"High":"Normal",b):n("Pixel Ratio","Not available")};b.prototype.updatePinnedDrawer=function(){return $("body").toggleClass("pinned-drawer",
aa.getPinSidebar())};return b}(A);var ci,og,jb,se,di,Uh,ke,yh,k=function(c,b){return function(){return c.apply(b,arguments)}},E={}.hasOwnProperty,s=function(c,b){function d(){this.constructor=c}for(var f in b)E.call(b,f)&&(c[f]=b[f]);d.prototype=b.prototype;c.prototype=new d;c.__super__=b.prototype;return c},G=[].slice;jb=function(c){function b(){this.respond=k(this.respond,this);this["delete"]=k(this["delete"],this);this.create=k(this.create,this);this.getParent=k(this.getParent,this);return b.__super__.constructor.apply(this,
arguments)}s(b,c);b.prototype.typeName="Invitation";b.prototype.initialize=function(b,c){J("invitation",c);this.invitationList=c.collection;this.setReady()};b.prototype.getParent=function(){return this.invitationList.options.model};b.prototype.create=function(b){var c,g,e,h;e=b.model;c=b.data;h=b.success;g=b.error;return T({url:"/1/"+e.typeName+"/"+e.id+"/invitations",type:"post",data:c,dataType:"json",interceptErrors:!0,error:function(b){return function(){var c,d,f;c=2<=arguments.length?G.call(arguments,
0,d=arguments.length-1):(d=0,[]);d=arguments[d++];c=c[0];if("Member email restricted by organization administrators"===c.responseText.trim())b.$(".error").show();else return"Member already invited"!==(f=c.responseText.trim())&&("Member already a member"!==f&&"Member email restricted by organization administrators"!==f)&&d(),"function"===typeof g?g(c):void 0}}(this),success:function(b){return function(b){return"function"===typeof h?h(b):void 0}}(this)})};b.prototype["delete"]=function(b){var c,g,e,
h;e=b.model;g=b.idInvitation;h=b.success;c=b.error;return T({url:"/1/"+e.typeName+"/"+e.id+"/invitations/"+g,type:"delete",dataType:"json",interceptErrors:!0,error:function(b){return function(){var b,d;b=2<=arguments.length?G.call(arguments,0,d=arguments.length-1):(d=0,[]);d=arguments[d++];b=b[0];"Invitation not found"!==b.responseText.trim()&&d();return"function"===typeof c?c(b):void 0}}(this),success:function(b){return function(b){return"function"===typeof h?h(b):void 0}}(this)})};b.prototype.respond=
function(b){var c,g,e,h,l;e=b.model;h=b.response;c=b.data;l=b.success;g=b.error;return T({url:"/1/"+e.typeName+"/"+e.id+"/invitations/"+h,type:"post",dataType:"json",data:c,interceptErrors:!0,error:function(b){return function(){var b,c;b=2<=arguments.length?G.call(arguments,0,c=arguments.length-1):(c=0,[]);c=arguments[c++];b=b[0];"already a member"!==b.responseText.trim()&&c();return"function"===typeof g?g(b):void 0}}(this),success:function(b){return function(b){return"function"===typeof l?l(b):void 0}}(this)})};
return b}(na);se=function(c){function b(){return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.model=jb;b.prototype.initialize=function(b,c){this.options=c};b.prototype.comparator=function(b){return b.get("dateExpires")?-H.parse(b.get("dateExpires")):-Infinity};return b}(La);ci=function(c){function b(){return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.typeName="BoardInvitation";return b}(jb);og=function(c){function b(){return b.__super__.constructor.apply(this,
arguments)}s(b,c);b.prototype.model=ci;return b}(se);di=function(c){function b(){return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.typeName="OrganizationInvitation";return b}(jb);Uh=function(c){function b(){return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.model=di;return b}(se);ke=function(c){function b(){this.invite=k(this.invite,this);return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.getViewTitle=function(){return"Add As..."};b.prototype.initialize=
function(){this.parent=this.options.parent;this.member=this.model;this.isBoard=this.isOrg=!1;this.objText="";this.didSendInvite=!0;if(this.parent instanceof oa)return this.isBoard=!0,this.objText="Board",this.invitationList=this.parent.invitationList;if(this.parent instanceof Va)return this.isOrg=!0,this.objText="Org",this.invitationList=this.parent.invitationList};b.prototype.setOptions=function(b){_.extend(this.options,b);return this};b.prototype.events={"click .js-invite":"invite"};b.prototype.render=
function(){var b,c,g,e,h;b={showObserver:!1};b.showAdmin=this.parent.owned(this.member);if(this.isBoard&&null!=(c=this.parent.getOrganization())&&c.isFeatureEnabled("observers"))b.showObserver=!0;h=["admin","normal","observer"];g=0;for(e=h.length;g<e;g++)c=h[g],b["roleText_"+c]=this.parent.getRoleText(c);this.$el.html(u.fill("manage_members_select_role",b));return this};b.prototype.invite=function(b){var c,g;m.stop(b);b=$(b.target).closest(".js-invite");g=null;$(b).hasClass("js-select-admin")?g="Admin":
$(b).hasClass("js-select-member")?g="Member":$(b).hasClass("js-select-observer")&&(g="Observer");this.isBoard&&(b=_.pluck(null!=(c=this.parent.organization)?c.memberList.models:void 0,"id"),_.include(b,this.member.id));c={};c.type="Member"===g?"normal":g.toLowerCase();T({url:"/1/"+this.parent.typeName.toLowerCase()+"/"+this.parent.id+"/members/"+this.member.id,type:"put",data:c,dataType:"json",success:function(b){return function(b){return n("Invitations","Add Member to Board","Role: "+g)}}(this),
interceptErrors:!0,error:function(b){return function(b,c){O.show(b.responseText,"error","alert",3E3);n("Invitations","Error: "+b.responseText)}}(this)});if("function"===typeof(c=this.options).onSendInvite)c.onSendInvite();this.options.onSendInvite=null;w.hide()};return b}(A);yh=function(c){function b(){this.invite=k(this.invite,this);return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.invite=function(b){var c;m.stop(b);b=$(b.target).closest(".js-invite");c=null;$(b).hasClass("js-select-admin")?
c="Admin":$(b).hasClass("js-select-member")?c="Member":$(b).hasClass("js-select-observer")&&(c="Observer");b={};b.email=this.options.email;b.type="Member"===c?"normal":c.toLowerCase();jb.prototype.create.call(this,{model:this.parent,data:b,success:function(b){return function(d){return n("Invitations","Send Email "+b.objText+" Invite to New Member","Role: "+c)}}(this)});w.popView()};return b}(ke);var dc;dc=[{id:"First500k",shortName:"BlueStarfish",name:"Blue Starfish",detail:"Among the First 500,000 Users to Sign Up",
fx:function(c,b){return b.id<m.dateToId(new Date(2012,5,20,12))}},{id:"First48h",shortName:"GoldenTaco",name:"Golden Taco",detail:"Signed up in the First 48 hours",fx:function(c,b){return b.id<m.dateToId(new Date(2011,8,15))}},{id:"AndroidBeta",shortName:"OvenMitt",name:"Oven Mitt",detail:"Participated in the Android App Beta"},{id:"AndroidFirst48h",shortName:"GreenKetchupMustard",name:"Green Ketchup and Mustard",detail:"Downloaded and Used the Android App in the First 48 hours"},{id:"Android",shortName:"MintDonut",
name:"Mint Donut",detail:"Downloaded and Used the Android App",howToGet:"Download and use the Android App.<br/><a class='js-android-app-trophy' href='https://play.google.com/store/apps/details?id=com.trello'>Download here.</a>",available:!0},{id:"iOS",shortName:"RainbowLasagna",name:"Rainbow Lasagna",detail:"Downloaded and Used the iOS App",howToGet:"Download and use the iOS App.<br/><a class='js-ios-app-trophy' href='https://itunes.apple.com/us/app/trello-organize-anything/id461504587'>Download here.</a>",
available:!0},{id:"HasGold",shortName:"GoldPopcorn",name:"Gold Popcorn",detail:"Trello Gold Member",howToGet:"Get Trello Gold.<br/><a class='js-gold-trophy' href='/gold'>Learn about Trello Gold.</a>",available:!0,fx:function(c,b){return ba.get(c,b.id).isGold()}},{id:"BusinessClassMember",shortName:"PurpleToast",name:"Purple Toast",detail:"Business Class Member",howToGet:"Join a Business Class organization.<br/><a class='js-bc-trophy-link' href='/business-class'>Learn about Business Class.</a>",available:!0,
fx:function(c,b){return _.some(b.idOrganizations,function(b){return Va.get(c,b).isPremium()})}}];var Yb,Fc,Eg,ei,Tc,fi,te,E={}.hasOwnProperty,s=function(c,b){function d(){this.constructor=c}for(var f in b)E.call(b,f)&&(c[f]=b[f]);d.prototype=b.prototype;c.prototype=new d;c.__super__=b.prototype;return c},k=function(c,b){return function(){return c.apply(b,arguments)}};te=function(c){function b(){return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.className="member";b.prototype.events=
{click:"showMenu"};b.prototype.initialize=function(){var b,c;this.showStatus=this.enablePopupMenu=!0;this.model&&(this.enablePopupMenu=null!=(b=this.options.enablePopupMenu)?b:!0,this.options.goToBoardProfile&&(this.goToBoardProfile=!0),this.showStatus=null!=(c=this.options.showStatus)?c:!0,this.listenTo(this.model,"change",this.render));this.showBoardAdmin&&this.listenTo(this.getBoard(),"change:memberships",this.render);this.showOrganizationAdmin&&this.listenTo(this.getOrganization(),"change:memberships",
this.render)};b.prototype.render=function(){var b,c,g,e,h;if(this.model){J("render","rendering "+this.constructor.name+" "+this.model.get("fullName"));b=this.model.toJSON();b.showStatus=this.showStatus;b["status_"+b.status]=!0;b.url=B.getMemberProfileUrl(b.id);c=function(b){return function(c){c=c.getMembershipFor(b.model);return"admin"===(null!=c?c.memberType:void 0)}}(this);this.showBoardAdmin&&(b.isBoardAdmin=c(this.getBoard())||("function"===typeof this.getBoard?null!=(g=this.getBoard().getOrganization())?
g.isPremOrgAdmin(this.model):void 0:void 0));b.isGhost="ghost"===this.model.get("memberType");this.showOrganizationAdmin&&(b.isOrganizationAdmin=c(this.getOrganization()));if((c=null!=(e="function"===typeof this.getOrganization?this.getOrganization():void 0)?e:"function"===typeof this.getBoard?this.getBoard():void 0)&&c.isDeactivated(this.model))b.isDeactivated=!0,b.showStatus=!1;c&&c.isUnconfirmed(this.model)&&(b.showStatus=!1)}else b={deleted:!0};this.$el.html(u.fill("member",b));this.model.isGold()&&
this.$el.addClass("has-trello-gold");this.enablePopupMenu||this.$el.addClass("member-no-menu");b.isDeactivated&&this.$el.addClass("member-deactivated");b.isGhost&&this.$el.addClass("member-virtual");this.$el.data("id",null!=(h=this.model)?h.id:void 0);return this};b.prototype.showMenu=function(b){var c;if((this.doClicks()&&this.enablePopupMenu||this.goToBoardProfile)&&this.model){m.stop(b);if(this.goToBoardProfile&&(c=this.getBoard())){this.model.viewBoardProfile(this.getBoard());return}this.options.goToProfile?
B.memberProfileView(this.model.get("username")):(b=$(b.target).closest(".member"),w.toggle({elem:b,top:b.hasClass("member")?35:16,view:this.getMenuView()}))}};b.prototype.doClicks=function(){return!M.sorting};return b}(A);Tc=function(c){function b(){this.render=k(this.render,this);return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.initialize=function(){b.__super__.initialize.apply(this,arguments);return this.model.ond("change",this.render)};b.prototype.getViewTitle=function(){return this.model.getMemberViewTitle()};
b.prototype.displayType="miniprofile";b.prototype.delegateEvents=function(c){return b.__super__.delegateEvents.call(this,_.extend({"click .js-profile":"showProfile","click .js-edit-profile":"editProfile","click .js-view-large":"viewLarge","click .js-change-av":"changeAvatar"},c||this.events))};b.prototype.render=function(){var b;b=this.model.toJSON();b.isMe=z.isMe(this.model);b.showEmail=null!=b.email&&!b.isMe;null==b.email&&("ghost"===this.model.get("memberType")&&!this.loaded)&&this.loadEmail();
this.$el.html(u.fill("mini_profile",b,{},{member:u.member}));this.renderMenu();return this};b.prototype.loadEmail=function(){return P["for"](this.modelCache).loadMemberEmail(this.model.id,function(b){return function(c,g){return b.loaded=!0}}(this))};b.prototype.showProfile=function(){n("Mini Profile","Click Profile")};b.prototype.editProfile=function(b){n("Mini Profile","Click Edit Profile");w.pushView({view:this.model.getView(fe)})};b.prototype.viewLarge=function(b){n("Mini Profile","View Large Avatar");
w.pushView({view:this.model.getView(ei)})};b.prototype.changeAvatar=function(b){n("Mini Profile","Change Avatar");w.pushView({view:this.model.getView(Nc)})};return b}(A);ei=function(c){function b(){return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.getViewTitle=function(){return"Avatar"};b.prototype.displayType="avdetail";b.prototype.events={"click .js-profile":"showProfile"};b.prototype.render=function(){var b;b=this.model.toJSON();this.$el.html(u.fill("member_large_avatar",
b));_.delay(function(b){return function(){return w.calcPos()}}(this),150);return this};b.prototype.showProfile=function(){n("Mini Profile","Large Avatar - Click Profile")};return b}(A);(function(c){function b(){this.getMenuView=k(this.getMenuView,this);return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.getMenuView=function(){return this.model.getView(Yb,this.model.cid)};return b})(te);Yb=function(c){function b(){return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.renderMenu=
function(){};return b}(Tc);Eg=function(c){function b(){return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.events={"click .js-remove-member":"removeMember"};b.prototype.initialize=function(){b.__super__.initialize.apply(this,arguments);this.card=this.options.card};b.prototype.renderMenu=function(){this.$el.append(u.fillMenu("member_on_card_menu",this.model.toJSON(),{editable:this.card.editable()}));return this};b.prototype.removeMember=function(b){w.hide();this.card.removeMember(this.model.id)};
return b}(Tc);fi=function(c){function b(){this.getMenuView=k(this.getMenuView,this);return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.showBoardAdmin=!0;b.prototype.getBoard=function(){return this.options.parent};b.prototype.getMenuView=function(){return this.model.getView(Fc,"board",{board:this.options.parent})};return b}(te);Fc=function(c){function b(){return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.className="board-member-menu";b.prototype.initialize=
function(){b.__super__.initialize.apply(this,arguments);this.parent=this.options.board};b.prototype.getExtraData=function(){return{boardProfileUrl:B.getMemberBoardProfileUrl(this.model.get("username"),this.parent.id)}};return b}(function(c){function b(){this.reactivateMember=k(this.reactivateMember,this);this.removeOrDeactivateMember=k(this.removeOrDeactivateMember,this);this.removeMember=k(this.removeMember,this);this.changeRole=k(this.changeRole,this);this.renderMenu=k(this.renderMenu,this);return b.__super__.constructor.apply(this,
arguments)}s(b,c);b.prototype.events={"click .js-remove-member":"removeMember","click .js-change-role":"changeRole","click .js-reactivate-member":"reactivateMember","click .js-remove-or-deactivate-member":"removeOrDeactivateMember"};b.prototype.renderMenu=function(){var b,c,g,e,h;b=_.extend(this.model.toJSON(),"function"===typeof(c=this.parent).premiumFeatures?c.premiumFeatures():void 0,this.getExtraData(),this.model.getMembershipData(this.parent));b.type=null;"ghost"===this.model.get("memberType")?
(b.type="Virtual",b.isGhost=!0):"function"===typeof(g=this.parent).isDeactivated&&g.isDeactivated(this.model)?(b.type="Deactivated",b.isDeactivated=!0):"Board"===this.parent.typeName&&null!=(e=this.parent.getOrganization())&&e.isPremOrgAdmin(this.model)?(b.type="Admin",b.canChangeRole=!1):b.memberIsAdmin?b.type="Admin":b.memberIsNormal?b.type="Normal":b.memberIsObserver&&(b.type="Observer");if("Virtual"===(h=b.type)||"Deactivated"===h)b.canChangeRole=!1;this.$el.append(u.fillMenu("member_on_board_or_org_menu",
b,{editable:this.parent.editable(),owned:this.parent.owned()}));return this};b.prototype.getExtraData=function(){return{}};b.prototype.changeRole=function(b){w.pushView({view:this.model.getView(ee,"",{parent:this.parent})})};b.prototype.removeMember=function(b,c){m.stop(b);pa.pushView(_.extend(this.model.removeMembershipConfirmation(this.parent),{fxConfirm:function(b){return function(c){b.parent.removeMember(b.model);return w.hide()}}(this)}))};b.prototype.removeOrDeactivateMember=function(b,c){m.stop(b);
w.pushView({view:this.model.getView(qe,"",{org:this.parent})})};b.prototype.reactivateMember=function(b){m.stop(b);w.hide();return T({url:"/1/organizations/"+this.parent.id+"/members/"+this.model.id+"/deactivated",type:"PUT",data:{value:!1}})};return b}(Tc));var pg,Ec,k=function(c,b){return function(){return c.apply(b,arguments)}},E={}.hasOwnProperty,s=function(c,b){function d(){this.constructor=c}for(var f in b)E.call(b,f)&&(c[f]=b[f]);d.prototype=b.prototype;c.prototype=new d;c.__super__=b.prototype;
return c},F=[].indexOf||function(c){for(var b=0,d=this.length;b<d;b++)if(b in this&&this[b]===c)return b;return-1},G=[].slice;pg=function(c){function b(c,f){this.board=c;this._resetNewCards=k(this._resetNewCards,this);b.__super__.constructor.call(this,null,f);this.board.onId(function(b){return function(c){b.set({id:"boardCardFilterSettings-"+c});b.fetch();return b._resetNewCards()}}(this));this.dueMap={day:1,week:7,month:28,overdue:0};this.newCardsWithoutIds=[];this.ond("change:title change:labels change:idMembers change:due",
this._resetNewCards)}s(b,c);b.prototype["default"]=function(){return{idMembers:[],labels:[],title:null,due:null,limitMembers:!0,newCards:[]}};b.prototype.clear=function(){return this.save(this["default"]())};b.prototype.getBoard=function(){return this.board};b.prototype._resetNewCards=function(){this.newCardsWithoutIds=[];return this.save("newCards",[])};b.prototype.toggleQuietMode=function(){var b,c,g,e;b=z.myId();if(null!=b){g=this["default"]();g.idMembers=[b];b=!0;for(c in g)e=g[c],b&&(b=_.isEqual(this.get(c),
e));return b?this.clear():this.save(g)}};b.prototype.toggleLabel=function(b){return this.toggle("labels",b)};b.prototype.toggleMember=function(b){return this.toggle("idMembers",b)};b.prototype.isFiltering=function(){return _.some([!_.isEmpty(this.get("idMembers")),!_.isEmpty(this.get("labels")),this.get("title"),null!=this.get("due")])};b.prototype.satisfiesFilter=function(b){var c,g,e,h,l,k,m;if(null==b)return!1;if(b.get("closed")||(g=b.id,0<=F.call(null!=(e=this.get("newCards"))?e:[],g))||0<=F.call(this.newCardsWithoutIds,
b))return!0;m=["labels","idMembers"];e=0;for(k=m.length;e<k;e++)if(g=m[e],!_.isEmpty(this.get(g))&&_.isEmpty(_.intersection(this.get(g),b.get(g))))return!1;if(null!=this.get("due")){g=b.get("due");if(null==g)return!1;e=new Date;switch(this.get("due")){case "overdue":if(H.parse(g)>=e)return!1;break;default:if(!(e<=(c=H.parse(g))&&c<=e.addDays(this.dueMap[this.get("due")])))return!1}}g=this.get("title");if(null!=g&&(c=function(b){return _.compact(b.toLowerCase().split(/[\s\x21\x22\x24-\x26\x28-\x2C\x2E\x2F\x3A-\x40\x5B-\x60\x7B-\x7F]+/))},
g=c(g),!_.isEmpty(g))){e=null!=b.get("idShort")?c(null!=(l=b.get("idShort"))?l.toString():void 0):[];b=_.flatten([c(b.get("name")),e]);c=2<=g.length?G.call(g,0,h=g.length-1):(h=0,[]);g=g[h++];h=!1;e=0;for(k=c.length;e<k;e++)l=c[e],h||h||(h=0<=F.call(b,l));c=RegExp("^"+g,"i");g=0;for(e=b.length;g<e;g++)l=b[g],h||h||(h=c.test(l));if(!h)return!1}return!0};b.prototype.addNewCard=function(b){this.newCardsWithoutIds.push(b);return b.onId(function(c){return function(g){c.newCardsWithoutIds=_.without(c.newCardsWithoutIds,
b);return c.addToSet("newCards",g)}}(this))};b.prototype.toJSON=function(c){var f,g,e,h,l,k,v,n,s,u;e=null!=c?c:{};f=e.board;e=e.expanded;h=b.__super__.toJSON.apply(this,arguments);f&&(h.board=this.board.toJSON());e&&(n=null!=(u=this.get("title"))?u:"",k=RegExp("^"+m.escapeForRegex(n),"i"),l=this.board.toJSON({labelNames:!0}).labelNames,h.labels=function(){var b,c,d,f;d=m.labelNames;f=[];b=0;for(c=d.length;b<c;b++)g=d[b],f.push({labelName:l[g],color:g,isActive:0<=F.call(this.get("labels"),g),matchesFilter:""!==
n&&(k.test(g)||k.test(l[g]))});return f}.call(this),h.members=function(){var b,c,d,f,e,g;d=this.board.memberList.models;g=[];b=0;for(c=d.length;b<c;b++)v=d[b],g.push(_.extend(v.toJSON(),{isActive:(f=v.id,0<=F.call(null!=(e=this.get("idMembers"))?e:[],f)),matchesFilter:""!==n&&("me"===n&&z.isMe(v)||_.any(m.getMemNameArray(this.modelCache,v.id),function(b){return k.test(b)}))}));return g}.call(this),h.members=m.sortMembers(h.members),h.dueOptions=function(){var b,c,d,f;d=_.keys(this.dueMap);f=[];b=
0;for(c=d.length;b<c;b++)s=d[b],f.push({time:s,desc:"overdue"===s?"Overdue":"Due in the next "+s,isActive:s===this.get("due")});return f}.call(this));return h};return b}(gb);Ec=function(c){function b(){this.selectFirstItem=k(this.selectFirstItem,this);this.hoverSelect=k(this.hoverSelect,this);this.clearAllSelected=k(this.clearAllSelected,this);this.clearFilter=k(this.clearFilter,this);this.toggleDateFilter=k(this.toggleDateFilter,this);this.toggleMemberFilter=k(this.toggleMemberFilter,this);this.toggleLabelFilter=
k(this.toggleLabelFilter,this);this._clearAndFocusInput=k(this._clearAndFocusInput,this);this.showAllMembers=k(this.showAllMembers,this);this.keyUpEvent=k(this.keyUpEvent,this);this.keyDownEvent=k(this.keyDownEvent,this);this.renderFilterOptions=k(this.renderFilterOptions,this);this.render=k(this.render,this);this.initialize=k(this.initialize,this);return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.getViewTitle=function(){return"Filter Cards"};b.viewName="CardFilterView";b.prototype.className=
"board-widgets-content fancy-scrollbar";b.prototype.initialize=function(){this.listenTo(this.model.board,"change:labelNames change:memberships",this.renderFilterOptions);return this.listenTo(this.model,"change",this.renderFilterOptions)};b.prototype.events={"click .js-toggle-label-filter":"toggleLabelFilter","click .js-select-member":"toggleMemberFilter","click .js-show-all-members":"showAllMembers","click .js-clear-all":"clearFilter","click .js-due-filter":"toggleDateFilter","mouseenter .item":"hoverSelect",
"mouseenter .js-clear-all":"clearAllSelected","mouseenter .js-show-all-members":"clearAllSelected","keydown .js-input":"keyDownEvent","keyup .js-input":"keyUpEvent"};b.prototype.render=function(){var b;this.isFiltering=!1;b=this.model.toJSON();this.$el.html(u.fill("filter_cards",b));this.renderFilterOptions();return this};b.prototype.renderFilterOptions=function(){var b,c,g,e,h,l,k,m,n,s;c=this.model.toJSON({board:!0,expanded:!0});e=_.any(c.labels,function(b){return b.matchesFilter});h=_.any(c.members,
function(b){return b.matchesFilter});g=this.model.get("title")&&(e||h);if(null!=(b=this.model.get("limitMembers"))?b:1){l=b=0;s=c.members;k=m=0;for(n=s.length;m<n;k=++m)if(k=s[k],!g||g&&k.matchesFilter)b++,6<b&&(k.exceedsLimit=!0,l++)}c.remainingMemsCount=l;c.limitMembers=0<l;_.extend(c,{filtering:g,showHelper:!g,showClearAll:!g,showLabels:!g||e,showMembers:!g||h,showDueTimes:!g});c.isFiltering=this.model.isFiltering();this.$(".js-filter-search-results").html(u.fill("filter_cards_search_results",
c,{},{member:u.member,select_member:u.select_member}));g&&this.selectFirstItem();null===this.model.get("title")&&this.$(".js-input").val("");return this};b.prototype.keyDownEvent=function(b){var c,g,e;c=this.$(".item.selected").first();0===c.length&&(g=this.$(".item.matches-filter"),1===g.length&&(c=g));27!==b.keyCode&&(13===b.keyCode?c.find("a").click():(38===(e=b.keyCode)||40===e)&&m.navMenuList(c.parent(),".item",b.keyCode))};b.prototype.keyUpEvent=function(b){var c;if(!(27===(c=b.keyCode)||13===
c||38===c||40===c))return this.model.save({title:this.$(".js-input").val(),limitMembers:!0})};b.prototype.showAllMembers=function(b){this.model.save("limitMembers",!1)};b.prototype._clearAndFocusInput=function(){this.model.save({title:""});return this.$(".js-input").val("").focus()};b.prototype.toggleLabelFilter=function(b){var c;c=this.model.toJSON({expanded:!0});_.any(c.labels,function(b){return b.matchesFilter})&&this._clearAndFocusInput();return this.model.toggleLabel($(b.target).closest("a").attr("name"))};
b.prototype.toggleMemberFilter=function(b){var c;c=this.model.toJSON({expanded:!0});_.any(c.members,function(b){return b.matchesFilter})&&this._clearAndFocusInput();m.stop(b);return this.model.toggleMember($(b.target).closest("a").attr("idMember"))};b.prototype.toggleDateFilter=function(b){b=$(b.target).closest("a").attr("time");return this.model.get("due")===b?this.model.save("due",null):this.model.save("due",b)};b.prototype.clearFilter=function(b){return this.model.clear()};b.prototype.clearAllSelected=
function(){return this.$("li").removeClass("selected")};b.prototype.hoverSelect=function(b,c){this.clearAllSelected();return m.selectMenuItem($(b.target).closest("ul"),".item",$(b.target).closest(".item"))};b.prototype.selectFirstItem=function(){return m.selectMenuItem(this.$(".js-filter-search-results ul:visible:first"),".item:visible",$(".item:visible:first"))};return b}(A);var je,Uc,Pf,Ya,xh,wh,Vh,Yh,Wh,vh,Xh,E={}.hasOwnProperty,s=function(c,b){function d(){this.constructor=c}for(var f in b)E.call(b,
f)&&(c[f]=b[f]);d.prototype=b.prototype;c.prototype=new d;c.__super__=b.prototype;return c},F=[].indexOf||function(c){for(var b=0,d=this.length;b<d;b++)if(b in this&&this[b]===c)return b;return-1},k=function(c,b){return function(){return c.apply(b,arguments)}};je=function(c){function b(){return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.model=oa;b.prototype.initialize=function(){this.bind("change:name",this.sort)};b.prototype.comparator=function(b){var c;c=b.getOrganization();
c=(null!=c?c.get("displayName"):void 0)||"";b=b.get("name")||"";return m.rpad(c,64).toUpperCase()+b.toUpperCase()};return b}(La);Ya=function(c){function b(){return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.initialize=function(){this.debouncedPostRenderBoardsEvent=_.debounce(this.postRenderBoardsEvent,150);this.initedSortable=!1;this.listenTo(this.model.boardList,"add remove reset",this.renderBoards)};b.prototype.className="window-module";b.prototype.getBoards=function(){return[]};
b.prototype.hideSectionIfEmpty=function(){return!1};b.prototype.showOrgName=function(){return!1};b.prototype.getTemplateData=function(){return{}};b.prototype.postRenderBoardsEvent=function(){};b.prototype.render=function(){var b;b=this.getTemplateData();this.$el.html(u.fill("board_list",b));this.renderBoards();this.debouncedPostRenderBoardsEvent();return this};b.prototype.renderBoards=function(){var b,c;b=this.$(".js-board-list").empty();this.$el.removeClass("hide");if(0<this.getBoards().length){var g,
e,h,l;h=this.getBoards();l=[];g=0;for(e=h.length;g<e;g++)c=h[g],l.push(this.subview(Uc,c,{showOrgName:this.showOrgName()}));this.appendSubviews(l,b)}else this.hideSectionIfEmpty()?this.$el.addClass("hide"):b.append("<p class='quiet' style='padding: 8px 12px;'>No boards.</p>");return this};return b}(A);wh=function(c){function b(){return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.getBoards=function(){var b;b=function(b){return function(c){var d;c=null!=(d=c.getOrganization())?
d.id:void 0;return null!=c&&0<=F.call(b.model.get("idOrganizations"),c)}}(this);return _.filter(this.model.boardList.models,function(c){return!b(c)&&!c.get("closed")})};b.prototype.getTemplateData=function(){return{title:"My Boards",iconClass:"member"}};return b}(Ya);vh=function(c){function b(){return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.initialize=function(){b.__super__.initialize.apply(this,arguments);return this.listenTo(this.model.boardStarList,"add remove reset change:pos",
function(){return this.renderBoards()})};b.prototype.hideSectionIfEmpty=function(){return!0};b.prototype.showOrgName=function(){return!0};b.prototype.getBoards=function(){return _.filter(this.model.boardStarList.getBoards(),function(b){return!b.get("closed")})};b.prototype.getTemplateData=function(){return{title:"Starred Boards",iconClass:"star"}};b.prototype.postRenderBoardsEvent=function(){var b;if(!ma.isTouch()){b=this.$(".js-board-list");if(this.initedSortable)return M.refreshIfInitialized(b);
this.initedSortable=!0;return b.sortable({containment:"#surface",delay:"75",distance:"7",forcePlaceholderSize:!0,items:"> li",placeholder:"placeholder",scroll:!0,stop:function(b,c){_.defer(function(b){return function(){return c.item.trigger("moveto",[c,b])}}(this))},tolerance:"pointer"})}};return b}(Ya);xh=function(c){function b(){return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.getBoards=function(){return _.filter(this.model.boardList.models,function(b){return function(c){var g;
return(null!=(g=c.getOrganization())?g.id:void 0)===b.getOrganization().id&&!c.get("closed")}}(this))};b.prototype.getOrganization=function(){return this.options.organization};b.prototype.getTemplateData=function(){var b,c;c=this.getOrganization();b=c.toJSON();b.title=c.get("displayName");b.iconClass="org";b.url=B.getOrganizationUrl(c);b.hasBusinessClass=c.isPremium();return b};return b}(Ya);Xh=function(c){function b(){return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.getBoards=
function(){return _.filter(this.model.boardList.models,function(b){return"public"===b.getPref("permissionLevel")&&!b.get("closed")})};b.prototype.getTemplateData=function(){return{title:"Boards",iconClass:"board"}};return b}(Ya);Vh=function(c){function b(){return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.getBoards=function(){return _.filter(this.model.boardList.models,function(b){return function(c){return null!=b.Auth.me().boardList.get(c.id)&&!c.get("closed")}}(this))};b.prototype.getTemplateData=
function(){return{title:"My Org Boards",iconClass:"board"}};return b}(Ya);Wh=function(c){function b(){return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.getBoards=function(){return _.filter(this.model.boardList.models,function(b){return function(c){var g;return null==b.Auth.me().boardList.get(c.id)&&("org"===(g=c.getPref("permissionLevel"))||"public"===g)&&!c.get("closed")}}(this))};b.prototype.getTemplateData=function(){return{title:"Other Org-Visible Boards",iconClass:"board"}};
return b}(Ya);Yh=function(c){function b(){return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.getBoards=function(){return _.filter(this.model.boardList.models,function(b){return function(c){return null==b.Auth.me().boardList.get(c.id)&&"private"===c.getPref("permissionLevel")&&!c.get("closed")}}(this))};b.prototype.getTemplateData=function(){return{title:"Other Members\u2019 Private Boards",iconClass:"board"}};return b}(Ya);Uc=function(c){function b(){this.render=k(this.render,
this);return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.tagName="li";b.prototype.initialize=function(){this.model.ond("change:prefs change:name change:idOrganization change:actionsCount",this.render);this.listenTo(z.me().boardStarList,"add remove reset change:pos",function(){return this.renderStarred()});return this.model.ond("change:dateLastActivity change:dateLastView",function(b){return function(){return b.renderUnread()}}(this))};b.prototype.events={"click .js-open-board":"openBoard",
"click .js-star-board":"starBoard",moveto:"moveTo"};b.prototype.render=function(){var b,c,g,e,h;c=this.model.toJSON({prefs:!0});c.url=B.getBoardUrl(this.modelCache,this.model);this.model.getPref("backgroundTile")?(c.backgroundTile=!0,c.backgroundImageThumbnail=this.model.getPref("backgroundImage")):c.backgroundImageThumbnail=null!=(b=null!=(g=m.smallestPreviewBiggerThan(this.model.getPref("backgroundImageScaled"),400,200))?g.url:void 0)?b:this.model.getPref("backgroundImage");c.backgroundImageThumbnailUrl=
"url('"+c.backgroundImageThumbnail+"')";null==c.backgroundImageThumbnail&&(c.backgroundColor=this.model.getClientBackgroundColor("blue"));null!=this.model.getPref("backgroundColor")&&(b=this.model.getPref("background"),c.backgroundColor=this.model.getClientBackgroundColor(b));c.backgroundBrightness=this.model.getPref("backgroundBrightness");if(null!=(e=this.options)&&e.showOrgName)c.orgname=null!=(h=this.model.getOrganization())?h.get("displayName"):void 0;this.$el.html(u.fill("board_list_item",c));
this.renderStarred();this.renderUnread();return this};b.prototype.trackBoardClick=function(){return n("Member View","Boards Page","Opened Board")};b.prototype.openBoard=function(b){_.defer(function(){if(!aa.getPinSidebar())return aa.hideSidebar()});return this.trackBoardClick()};b.prototype.starBoard=function(b){var c;m.stop(b);c=this.model.id;b=this.Auth.me().boardStarList;null==b.getBoardStar(c)?b.starBoard(c):b.unstarBoard(c)};b.prototype.renderUnread=function(){var b;b=this.model.hasUnseenActivity()&&
!B.onBoardView(this.model.id);this.$(".js-unread").toggleClass("any",b);this.$el.toggleClass("has-unread-activity",b);return this};b.prototype.moveTo=function(b,c){var g;g=c.item.closest(".js-board-list").find("li").index(c.item);z.me().boardStarList.updateStarBoard(this.model.id,g)};b.prototype.renderStarred=function(){null!=z.me().boardStarList.getBoardStar(this.model.id)?(this.$el.addClass("starred"),this.$(".icon-star").addClass("icon-star-active")):(this.$el.removeClass("starred"),this.$(".icon-star").removeClass("icon-star-active"));
return this};return b}(A);Pf=function(c){function b(){return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.openBoard=function(){};return b}(Uc);var gi,Mb,hi,ue,ii,ve,Od,ob,Ma,ji,Pd,ki,we,Td,li,mi,Jg,Kc,Sd,xe,ni,Qd,k=function(c,b){return function(){return c.apply(b,arguments)}},E={}.hasOwnProperty,s=function(c,b){function d(){this.constructor=c}for(var f in b)E.call(b,f)&&(c[f]=b[f]);d.prototype=b.prototype;c.prototype=new d;c.__super__=b.prototype;return c},F=[].indexOf||function(c){for(var b=
0,d=this.length;b<d;b++)if(b in this&&this[b]===c)return b;return-1};Ma=function(c){function b(){this.setSidebarContentHeight=k(this.setSidebarContentHeight,this);this.openCardFilter=k(this.openCardFilter,this);this.pushWidgetView=k(this.pushWidgetView,this);this.renderWidget=k(this.renderWidget,this);this.initialize=k(this.initialize,this);return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.initialize=function(){X.addHandler(this,{scope:"board_sidebar"})};b.prototype.events={"click .js-hide-sidebar":"hideSidebar",
"click .js-pop-widget-view":"popWidgetView",shortcut:"shortcut"};b.prototype.shortcut=function(b){switch(b){case 70:return this.openCardFilter(),"F - Search and Filter Cards"}};b.prototype.render=function(){this.$el.html(u.fill("board_sidebar"));this.renderWidget();return this};b.prototype.renderWidget=function(b){var c,g,e,h,l,k,v;e=this.$(".board-widgets-title");h=e.find(".text").empty();g=this.$(".board-widgets-content-wrapper").empty();k=this.model.viewState.getCurrentSidebarView();this.forceIntoDom();
this.model.viewState.setSidebarDisplayType(null!=(c=k.displayTypeClass)?c:"");c=k.render().$el;null!=b&&c.addClass(b);null!=k.getViewTitle?(e.addClass("in-frame"),h.append("function"===typeof k.getViewTitle?k.getViewTitle():void 0)):e.removeClass("in-frame");g.append(c);this.setSidebarContentHeight();null!=(v=this.model.getView(ob))&&v.calcActionsHeight();c.scrollTop(0);l=this.$(".js-autofocus")[0];if(null!=l&&this.model.viewState.get("showSidebar")&&!ma.isTouch())if(null!=b)$(".board-widgets-content").one("transitionend webkitTransitionEnd",
function(b){return function(b){return m.setCaretAtEnd(l)}}(this));else m.setCaretAtEnd(l);null!=b&&c.removeClass(b);k.delegateEvents();return this};b.prototype.pushWidgetView=function(b){this.model.viewState.pushSidebarView(b);this.renderWidget("right-of-frame");w.hide()};b.prototype.popWidgetView=function(){this.model.viewState.popSidebarView();this.renderWidget("left-of-frame");w.hide()};b.prototype.hideSidebar=function(){return this.model.viewState.setShowSidebar(!1)};b.prototype.openCardFilter=
function(c){var f,g,e,h;m.stop(c);f=this.model.filter.getView(Ec);e=this.model.viewState.get("showSidebar");c=this.model.viewState.getCurrentSidebarView()===f;g=this.$(".js-autofocus")[0];c?e?e&&m.setCaretAtEnd(g):($(".board-widgets-content").one("transitionend webkitTransitionEnd",function(b){return function(b){return m.setCaretAtEnd(g)}}(this)),this.model.viewState.setShowSidebar(!0)):(e||this.model.viewState.setShowSidebar(!0),this.model.viewState.clearSidebarViewArray(),null!=(h=this.model.getView(b))&&
h.pushWidgetView(f))};b.prototype.openArchivedItems=function(c){var f;m.stop(c);c=this.model.getView(Ka);this.model.viewState.get("showSidebar")||this.model.viewState.setShowSidebar(!0);this.model.viewState.getCurrentSidebarView()!==c&&(null!=(f=this.model.getView(b))&&f.pushWidgetView(c),c.getData())};b.prototype.setSidebarContentHeight=function(){var b;b=$(window).height()-$("#header").outerHeight()-$(".board-widgets-title:visible").outerHeight()-20;return 1<this.model.viewState.get("sidebarViewArray").length?
this.$(".board-widgets-content").height(b):this.$(".board-widgets-content").height(b+10)};return b}(A);ob=function(c){function b(){this.showPowerUps=k(this.showPowerUps,this);this.leaveConfirm=k(this.leaveConfirm,this);this.closeConfirm=k(this.closeConfirm,this);this.copyBoard=k(this.copyBoard,this);this.shareBoard=k(this.shareBoard,this);this.toggleSubscribe=k(this.toggleSubscribe,this);this.viewAllActivityList=k(this.viewAllActivityList,this);this.openAddMembers=k(this.openAddMembers,this);this.joinBoard=
k(this.joinBoard,this);this.showCardFilter=k(this.showCardFilter,this);this.showObservers=k(this.showObservers,this);this.renderObservers=k(this.renderObservers,this);this.renderMembers=k(this.renderMembers,this);this.toggleWidgetNav=k(this.toggleWidgetNav,this);this.calcActionsHeight=k(this.calcActionsHeight,this);this.renderSubscribeState=k(this.renderSubscribeState,this);this.render=k(this.render,this);return b.__super__.constructor.apply(this,arguments)}s(b,c);b.viewName="BoardSidebarDefaultView";
b.prototype.className="board-widgets-content default fancy-scrollbar";b.prototype.initialize=function(){this.collapseWidgetNav=!0;this.makeDebouncedMethods("render");this.model.memberList.ond("change:status",this.renderMembers).onAddRemove(this.renderDebounced);this.model.ond("change:memberships",this.renderDebounced).ond("change:subscribed",this.renderSubscribeState).ond("change:prefs:canInvite",this.renderDebounced).on("change:prefs.selfJoin",this.renderDebounced).on("change:prefs.invitations",
this.renderDebounced);this.actionListView=this.collectionSubview(Jb,new Ib(this.Action.getListForModel(this.model),{modelCache:this.modelCache}),{renderOpts:{limit:10,context:this.model,compact:!0,excludeTypes:["copyCommentCard"]}});return this.listenTo(this.modelCache,"add:Action:"+this.model.id+" remove:Action:"+this.model.id+" change:Action:"+this.model.id,function(b){return function(){return b.actionListView.collection.reset(b.Action.getListForModel(b.model))}}(this))};b.prototype.events={"click .js-toggle-widget-nav":"toggleWidgetNav",
"click .js-open-card-filter":"showCardFilter","click .js-open-stickers":"openStickers","click .js-open-settings":"openSettings","click .js-open-archive":"openArchivedItems","click .js-open-power-ups":"showPowerUps","click .js-join-board":"joinBoard","click .js-email":"openEmailSettings","click .js-board-subscribe":"toggleSubscribe","click .js-board-subscribe":"toggleSubscribe","click .js-board-subscribe":"toggleSubscribe","click .js-copy-board":"copyBoard","click .js-share":"shareBoard","click .js-close-board":"closeConfirm",
"click .js-leave-board":"leaveConfirm","click .js-open-manage-board-members":"openAddMembers","click .js-show-observers":"showObservers","click .js-view-all-activity-list":"viewAllActivityList"};b.prototype.render=function(){var b,c,g,e,h;this.$(".board-widgets-title").hide();g=z.me();c=this.model.toJSON();c.canJoin=this.model.canJoin();c.canInviteMembers=this.model.canInviteMembers();c.confirmed=g.get("confirmed");c.collapseWidgetNav=this.collapseWidgetNav;e=this.model.getOrganization();if(this.model.owned()||
null!=e&&e.isFeatureEnabled("superAdmins")&&null!=e&&e.owned())c.canCloseBoard=!0;c.canLeaveBoard=("normal"===(h=this.model.getExplicitMemberType(g))||"admin"===h||"observer"===h)&&g.getMembershipData(this.model).canRemove&&1<this.model.memberList.length;this.$el.html(u.fill("board_widget_default",c,{editable:this.model.editable()}));null!=(b=Qc.boardMenuAd(g,this.model))&&this.$(".js-ad").html(this.model.getView(b).render().el);this.actionListView.setElement(this.$(".js-sidebar-list-actions")[0]);
this.renderMembers();this.renderActions();this.calcActionsHeight();this.renderSubscribeState();return this};b.prototype.renderSubscribeState=function(){var b;b=this.model.toJSON();this.$(".js-subscribed-state").html(u.fill("board_menu_subscribed_state",b))};b.prototype.calcActionsHeight=function(){var b,c,g,e,h,l;c=$("#board").height();if(0!==c){b=this.$(".board-widget:not(.board-widget-activity)");h=e=0;for(l=b.length;h<l;h++)g=b[h],e+=$(g).outerHeight()+8;b=c-e;200>b||ra.fSmall?(this.$el.addClass("short"),
b=""):this.$el.removeClass("short");return this.$(".board-actions-list").css({"max-height":b})}};b.prototype.toggleWidgetNav=function(b){m.stop(b);w.hide();n("Board View","Board Menu","Toggle Widget Nav");b=this.$(".js-toggle-widget-nav").closest(".board-widget");b.hasClass("collapsed")?(b.removeClass("collapsed"),this.collapseWidgetNav=!1):(b.addClass("collapsed"),this.collapseWidgetNav=!0);this.calcActionsHeight()};b.prototype.renderMembers=function(){var b,c,g;b=this.$(".js-list-board-members").empty();
g=function(){var b,d,g,k;g=this.model.orderedVisibleMembers();k=[];b=0;for(d=g.length;b<d;b++)c=g[b],k.push(this.subview(fi,c,{parent:this.model}));return k}.call(this);this.appendSubviews(g,b);this.renderObservers();_.defer(function(){return M.refreshDraggable()});return this};b.prototype.renderObservers=function(){var b,c,g;b=this.$(".js-list-observers");g=this.model.getObserverList().length;c={count:m.formatCount(g,"Observer")};0<g?b.html(u.fill("board_observer_count",c)):b.empty();return this};
b.prototype.showObservers=function(b){m.stop(b);n("Board View","Show Observers");w.toggle({elem:this.$(".js-show-observers"),top:30,view:hg,options:{model:this.model},shown:function(){return M.refreshDraggable()}})};b.prototype.renderActions=function(){this.actionListView.render();return this};b.prototype.showCardFilter=function(b){var c;m.stop(b);n("Board View","Board Menu","Open Card Filter Menu");null!=(c=this.model.getView(Ma))&&c.pushWidgetView(this.model.filter.getView(Ec))};b.prototype.openStickers=
function(b){var c;m.stop(b);n("Board View","Board Menu","Open Stickers");null!=(c=this.model.getView(Ma))&&c.pushWidgetView(this.model.getView(Qd))};b.prototype.openSettings=function(b){var c;m.stop(b);n("Board View","Board Menu","Open Settings");null!=(c=this.model.getView(Ma))&&c.pushWidgetView(this.model.getView(Od))};b.prototype.openArchivedItems=function(b){var c;m.stop(b);n("Board View","Board Menu","Open Archived Items");b=this.model.getView(Ka);null!=(c=this.model.getView(Ma))&&c.pushWidgetView(b);
b.getData()};b.prototype.joinBoard=function(b){n("Board View","Join Board via Sidebar");m.preventDefault(b);this.$(".board-widget .js-join-board").closest(".board-widget").remove();this.model.joinBoard();return!1};b.prototype.openAddMembers=function(b){var c;m.stop(b);n("Board View","Add Members via Sidebar Button");c=new Mb({model:this.model,modelCache:this.modelCache});c.getOrgData();w.toggle({elem:$(b.target).closest(".js-open-manage-board-members"),top:35,view:c})};b.prototype.viewAllActivityList=
function(b){m.stop(b);n("Board View","View All Board Activity","From End of List");W.show({view:new gi({model:this.model,modelCache:this.modelCache}),displayType:"slim"})};b.prototype.toggleSubscribe=function(b){m.preventDefault(b);$(b.target).hasClass("disabled")||(this.model.get("subscribed")?this.model.subscribe(!1):this.model.subscribe(!0),n("Board View","Board Menu","Subscribe/Unsubscribe"))};b.prototype.shareBoard=function(b){m.stop(b);w.toggle({elem:$(b.target).closest("a"),top:32,view:this.model.getView(lg)});
n("Board View","Board Menu","Open Share, Print, and Export Menu")};b.prototype.copyBoard=function(b){m.stop(b);$(b.target).hasClass("disabled")||(n("Board View","Board Menu","Open Copy Board"),w.toggle({elem:$(b.target).closest("a"),top:32,view:this.model.getView(vd,"copy",{copyBoard:!0})}))};b.prototype.openEmailSettings=function(b){m.stop(b);w.toggle({elem:$(b.target).closest("a"),top:32,view:this.model.getView(mi)});n("Board View","Board Menu","Open Email Settings - Menu")};b.prototype.closeConfirm=
function(b){m.stop(b);n("Board View","Board Menu","Open Close Menu");pa.toggle({elem:$(b.target).closest("a"),top:32,model:this.model,title:"Close Board?",text:'You can re-open the board by clicking the "Boards" menu from the header, selecting "View Closed Boards", finding the board and clicking "Re-open".',confirmText:"Close",confirmBtnClass:"negate",fxConfirm:function(b){return function(c){b.model.close();return n("Board","Close Board")}}(this)})};b.prototype.leaveConfirm=function(b){var c;m.stop(b);
n("Board View","Board Menu","Open Leave Menu");c=z.me();pa.toggle(_.extend(c.removeMembershipConfirmation(this.model),{elem:$(b.target).closest("a"),top:32,fxConfirm:function(b){return function(d){return b.model.removeMember(c)}}(this)}))};b.prototype.showPowerUps=function(b){m.stop(b);W.show({view:new zd({model:this.model}),displayType:"power-ups"});n("Board View","Board Menu","Open Power-Ups")};return b}(A);Qd=function(c){function b(){this.setUploadImage=k(this.setUploadImage,this);this.selectSticker=
k(this.selectSticker,this);this.renderCustomStickers=k(this.renderCustomStickers,this);this.renderPremiumStickers=k(this.renderPremiumStickers,this);this.renderStandardStickers=k(this.renderStandardStickers,this);this.render=k(this.render,this);return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.initialize=function(){b.__super__.initialize.apply(this,arguments);P["for"](this.modelCache).loadMemberCustomStickers(z.me().id);return this.listenTo(this.Member.get(z.myId()).customStickerList,
"change add remove reset",this.renderCustomStickers)};b.prototype.getViewTitle=function(){return"Stickers"};b.viewName="StickerPickerView";b.prototype.className="board-widgets-content fancy-scrollbar";b.prototype.displayTypeClass="sidebar-display-wide";b.prototype.events={"click .js-sticker":"selectSticker","click .js-gold-promo":"openPromo","change .js-upload-image":"setUploadImage"};b.prototype.render=function(){this.$el.html(u.fill("sticker_select"));this.renderStandardStickers();this.renderPremiumStickers();
this.renderCustomStickers();this.refreshDraggable();return this};b.prototype._getStickers=function(b){var c,g,e;e=[];for(g in ab)c=ab[g],b(c)&&e.push(new Rc(_.extend({image:g},c),{modelCache:this.modelCache}));return e};b.prototype._loadStickers=function(b){var c;b.addClass("sticker-list-loading");c=b.find(".sticker-select-image");return async.forEach(c,function(b,c){var d;d=$(b);d.load(function(){return c()});return d.error(function(){return c()})},function(c){return b.removeClass("sticker-list-loading")})};
b.prototype.renderStandardStickers=function(){var b,c,g,e,h;b=this.$(".js-standard-sticker-list");h=this._getStickers(function(b){return"standard"===b.type});g=0;for(e=h.length;g<e;g++)c=h[g],b.append(c.getView(Sc).render().el);this._loadStickers(b);return this};b.prototype.renderPremiumStickers=function(){var b,c,g,e,h,l,k,m,n,s;h=this.Member.get(z.myId());b=this.$(".js-premium-stickers");for(l in fa){e=fa[l].displayName;c=$(u.fill("sticker_pack_selection_list",{displayName:e}));g=c.filter(".js-sticker-list");
m=this._getStickers(function(b){return"premium"===b.type&&b.pack.displayName===e});n=0;for(s=m.length;n<s;n++)k=m[n],g.append(k.getView(Sc).render().el);this._loadStickers(g);b.append(c);null!=h&&h.isFeatureEnabled("additionalStickers")||g.append(u.fill("gold_promo_button"))}return this};b.prototype.renderCustomStickers=function(){var b,c,g,e,h;c=this.Member.get(z.myId());b=this.$(".js-custom-sticker-list").empty();null!=c&&c.isFeatureEnabled("customStickers")||b.append(u.fill("gold_promo_button"));
h=null!=c?c.customStickerList.models:void 0;g=0;for(e=h.length;g<e;g++)c=h[g],b.append(c.getView($h).render().el);b.append(u.fill("sticker_select_item_upload",{id:z.myId()}));this.refreshDraggable();return this};b.prototype.refreshDraggable=function(){_.defer(function(b){return function(){if(!ma.isTouch())return b.$(".js-draggable-sticker:not(.disabled)").draggable({revert:"invalid",revertDuration:150,appendTo:"#surface",containment:"#surface",zIndex:100,helper:"clone",delay:"75",distance:"7",start:function(b,
c){var d;M.startSort(b,c);d=(20*Math.random()-10)%360;$(c.helper).find(".sticker-select-fixed").css({transform:"rotate("+d+"deg)","-webkit-transform":"rotate("+d+"deg)"});n("Board View","Drag Sticker from Sidebar")},stop:function(b,c){m.stopPropagation(b);M.endSort()},drag:function(b,c){_.throttle(M.getScrollListForMemberSidebarDrag(b,c),100)},custom:{refreshContainers:function(){var b,c,d,h,l,k;k=[];for(c=h=l=this.containers.length-1;0>=l?0>=h:0<=h;c=0>=l?++h:--h)b=this.containers[c].element,d=$(b).closest(".list"),
d.length&&(b=d),d=b.offset(),this.containers[c].containerCache.left=d.left,this.containers[c].containerCache.top=d.top,this.containers[c].containerCache.width=b.outerWidth(),k.push(this.containers[c].containerCache.height=b.outerHeight());return k}}})}}(this))};b.prototype.selectSticker=function(b){};b.prototype.setUploadImage=function(b){m.stop(b);b=this.$(".js-upload-image");if(null==b.prop("files")&&b.val())m.uploadFile(b,function(){});else if(b=b[0].files,0<b.length)return this.uploadStickers(b)};
b.prototype.uploadStickers=function(b){var c,g,e,h,l,k;e=z.me().customStickerList;k=[];g=h=0;for(l=b.length;h<l;g=++h)c=b[g],k.push(function(b){return function(b){var d;b=new FileReader;if(m.validFileSize(c))return d=new FormData,d.append("token",z.myToken()),d.append("file",c),b.onload=function(b){return e.create({url:b.target.result},{data:d,processData:!1,contentType:!1,error:function(b){b.set("error","Failed");return setTimeout(function(){return b.destroy()},5E3)}})},b.readAsDataURL(c);O.flash("File Too Large",
"error")}}(this)(g));return k};b.prototype.openPromo=function(b){var c;W.show({view:null!=(c=z.me())?c.getView(Kc):void 0})};return b}(A);Kc=function(c){function b(){return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.render=function(){var b,c;b={username:null!=(c=z.me())?c.get("username"):void 0};this.$el.html(u.fill("promo_gold_content",b,{},{card:u.card_in_list}));ye(this.$el);return this};return b}(A);Od=function(c){function b(){this.render=k(this.render,this);return b.__super__.constructor.apply(this,
arguments)}s(b,c);b.prototype.getViewTitle=function(){return"Settings"};b.viewName="BoardSettingsView";b.prototype.className="board-widgets-content fancy-scrollbar";b.prototype.events={"click .js-rename:not(.disabled)":"renameBoard","click .js-org:not(.disabled)":"changeOrg","click .js-change-background:not(.disabled)":"changeBackground","click .js-change-vis:not(.disabled)":"changeVis","click .js-toggle-covers:not(.disabled)":"toggleCovers","click .js-change-comments:not(.disabled)":"changeCommentingPerms",
"click .js-change-add-members:not(.disabled)":"changeAddMemberPerms","click .js-toggle-org-mem-join:not(.disabled)":"toggleSelfJoin","submit .js-edit-labels":"saveLabels","click .js-save":"saveLabels"};b.prototype.initialize=function(){this.model.ond("change",this.render)};b.prototype.render=function(){var b,c,g,e,h,l;b=this.model.toJSON({prefs:!0,url:!0,labels:!0});b.cardCovers=b.prefs.cardCovers;b.canPin=z.isLoggedIn();c=this.model.getOrganization();b.orgDisplayName=null!=c?c.get("displayName"):
void 0;b.hasOrg=null!=(null!=c?c.id:void 0);b.premium=null!=c?c.isFeatureEnabled("observers"):void 0;b.voting_showObservers=b.premium||b.voting_observers;b.comments_showObservers=b.premium||b.comments_observers;b.pLevelClass=this.model.getPermLevelIconClass();b.visDisplay=this.model.getPermDisplayText();b.votingDisplay=this.model.getDisplayVotePerms();b.commentsDisplay=this.model.getDisplayCommentPerms();b.invitationsDisplay=this.model.getDisplayInvitePerms();b.canChangeOrg=(null!=c?c.owned():void 0)||
this.model.owned();null!=(null!=(g=Ua[this.model.getPref("background")])?g.tile:void 0)?b.backgroundImageUrl=this.model.getPref("backgroundImage"):null!=this.model.getPref("backgroundImageScaled")||null!=this.model.getPref("backgroundImage")?b.backgroundImageUrl=null!=(e=null!=(h=null!=(l=m.previewBetween(this.model.getPref("backgroundImageScaled"),90,60,600,400))?l.url:void 0)?h:this.model.get("fullSizeUrl"))?e:this.model.getPref("backgroundImage"):null!=this.model.getPref("backgroundColor")?b.backgroundColor=
this.model.getClientBackgroundColor(this.model.getPref("background")):b.backgroundColor=this.model.getClientBackgroundColor("blue");null!=c&&c.owned()?(b.orgOwner=!0,b.orgName=c.get("displayName"),this.model.owned()||(b.setOrgNull=!0)):this.model.owned()||(b.noEditOrg=!0);c={board_labels:u.board_labels};this.$el.html(u.fill("board_menu_settings",b,{editable:this.model.editable(),owned:this.model.owned()},c));return this};b.prototype.renameBoard=function(b){m.stop(b);w.toggle({elem:$(b.target),top:35,
view:this.model.getView(Sd)});n("Board View","Settings","Open Rename Board")};b.prototype.changeOrg=function(b){var c;m.stop(b);this.model.owned()?(w.toggle({elem:$(b.target).closest("a"),top:52,view:ve,options:{model:this.model,modelCache:this.modelCache}}),n("Board View","Settings","Change Org")):(b=this.model.get("idOrganization"),null!=(c=this.Organization.get(b))&&c.boardList.remove(this.model),this.model.update("idOrganization",""),w.hide(),n("Board View","Settings","Remove Org"))};b.prototype.changeBackground=
function(b){var c;m.stop(b);n("Board Menu","Settings","Change Background");null!=(c=this.model.getView(Ma))&&c.pushWidgetView(this.model.getView(Pd))};b.prototype.changeVis=function(b){m.stop(b);w.toggle({elem:$(b.target).closest("a"),top:52,view:Td,options:{model:this.model}});n("Board View","Settings","Open Change Vis")};b.prototype.toggleCovers=function(b,c){m.stop(b);this.model.setPref("cardCovers",!this.model.getPref("cardCovers"));n("Board View","Settings","Enable/Disable Cover Images")};b.prototype.changeCommentingPerms=
function(b){m.stop(b);w.toggle({elem:$(b.target).closest("a"),top:52,view:this.model.getView(ki)});n("Board View","Settings","Open Change Commenting Permissions")};b.prototype.changeAddMemberPerms=function(b){m.stop(b);w.toggle({elem:$(b.target).closest("a"),top:52,view:this.model.getView(ji)});n("Board View","Settings","Open Change Add Member Permissions")};b.prototype.toggleSelfJoin=function(b){m.stop(b);this.model.setPref("selfJoin",!this.model.getPref("selfJoin"));this.model.save();n("Board View",
"Settings","Toggle Allow Org Join")};b.prototype.saveLabels=function(b){var c,g,e,h,l;m.stop(b);e={};g=this.$(".js-label-title");h=0;for(l=g.length;h<l;h++)c=g[h],b=$(c).attr("name"),c=$(c).val().trim(),e["labelNames/"+b]=c;this.model.update(e);this.model.getView(Ma).popWidgetView()};return b}(A);Pd=function(c){function b(){this.setUploadImage=k(this.setUploadImage,this);this.uploadBackgroundsAndAddPreviews=k(this.uploadBackgroundsAndAddPreviews,this);this.fillBackgroundList=k(this.fillBackgroundList,
this);return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.getViewTitle=function(){return"Change Background"};b.viewName="ChangeBoardBackgroundView";b.prototype.displayTypeClass="sidebar-display-wide";b.prototype.className="board-widgets-content fancy-scrollbar";b.prototype.events={"click .js-gold-promo":"openPromo","change .js-upload-image":"setUploadImage"};b.prototype.initialize=function(){b.__super__.initialize.apply(this,arguments);this.makeDebouncedMethods("render","renderCustomBackgrounds");
this.listenTo(this.Auth.me().boardBackgroundList,"change add remove reset",this.renderCustomBackgroundsDebounced);if(z.me().isFeatureEnabled("customBoardBackgrounds"))return P["for"](this.modelCache).loadMemberCustomBackgrounds(z.myId())};b.prototype.fillBackgroundList=function(b,c,g){var e;null==g&&(g=xe);b.find(".js-select-background:not(.js-uploader)").remove();this.appendSubviews(function(){var b,d,k;k=[];b=0;for(d=c.length;b<d;b++)e=c[b],k.push(this.subview(g,e,{board:this.model}));return k}.call(this),
b)};b.prototype.render=function(){var b,c,g,e,h;e=this.model.toJSON();e.enabled_additionalBackgrounds=z.me().isFeatureEnabled("additionalBoardBackgrounds");e.enabled_customBoardBackgrounds=z.me().isFeatureEnabled("customBoardBackgrounds");e.idMember=z.myId();this.$el.html(u.fill("board_change_background",e));h=function(b){return function(b,c){var d,f,e,g;g=[];for(f in Ua)d=Ua[f],d.type===b&&((null!=(e=d.pack)?e.name:void 0)===c&&!d.discontinued)&&g.push(new Vd(_.extend({name:f},d)));return g}}(this);
b=this.$(".js-default-list");g=this.$(".js-gold-photos-list");c=this.$(".js-gold-patterns-list");this.fillBackgroundList(b,h("default"));this.fillBackgroundList(g,h("premium","Photos"));this.fillBackgroundList(c,h("premium","Patterns and Textures"));e.enabled_additionalBackgrounds||(g.append(u.fill("gold_promo_button")),c.append(u.fill("gold_promo_button")));this.renderCustomBackgrounds();return this};b.prototype.renderCustomBackgrounds=function(){var b,c;c=z.me().isFeatureEnabled("customBoardBackgrounds");
b=this.$(".js-custom-list");c?(c=this.Member.get(z.myId()),c=c.boardBackgroundList.filter(function(b){return"custom"===b.get("type")}),this.fillBackgroundList(b,c,ni),b.find(".js-uploader").appendTo(b)):b.append(u.fill("gold_promo_button"));return this};b.prototype.uploadBackgroundsAndAddPreviews=function(b){var c,g,e,h,l;l=[];g=e=0;for(h=b.length;e<h;g=++e)c=b[g],l.push(function(b){return function(d){var e;d=new FileReader;if(m.validFileSize(c))return e=new FormData,e.append("token",z.myToken()),
e.append("file",c),d.onload=function(c){return b.Member.get(z.myId()).boardBackgroundList.create({type:"custom",fullSizeUrl:c.target.result},{data:e,processData:!1,contentType:!1,error:function(b){b.set("error","Failed");return setTimeout(function(){return b.destroy()},5E3)},success:function(c){var d;d=b.model;_.extend(d.attributes.prefs,{backgroundColor:c.get("color"),backgroundImage:c.get("fullSizeUrl"),backgroundImageScaled:c.get("scaled"),backgroundTile:c.get("tile"),backgroundBrightness:c.get("brightness")});
return d.setPref("background",c.id)}})},d.readAsDataURL(c);O.flash("File Too Large","error")}}(this)(g));return l};b.prototype.setUploadImage=function(b){m.stop(b);b=this.$(".js-upload-image");n("Board","Upload custom background");null==b.prop("files")&&b.val()?m.uploadFile(b,function(){}):(b=b[0].files,0<b.length&&this.uploadBackgroundsAndAddPreviews(b))};b.prototype.openPromo=function(b){var c;W.show({view:null!=(c=z.me())?c.getView(Kc):void 0})};return b}(A);xe=function(c){function b(){return b.__super__.constructor.apply(this,
arguments)}s(b,c);b.prototype.initialize=function(){b.__super__.initialize.apply(this,arguments);return this.listenTo(this.model,"change:error",this.render)};b.prototype.className="board-background-select js-select-background";b.prototype.events={click:"selectBackground","click .js-background-attribution":"clickAttribution"};b.prototype.render=function(){var b,c,g;b=this.model.toJSON();b.pending=null==this.getId()&&null==b.error;null==b.color&&(b.backgroundImageThumbnail=null!=(c=null!=(g=m.previewBetween(this.model.get("scaled"),
90,60,600,400))?g.url:void 0)?c:this.model.get("fullSizeUrl"));this.$el.html(u.fill("board_background_selection",b));this.$el.toggleClass("board-background-still-uploading",b.pending);return this};b.prototype.clickAttribution=function(b){b.stopPropagation();return n("Board Menu","Change Background","Clicked Attribution")};b.prototype.getId=function(){return this.model.get("name")};b.prototype.selectBackground=function(b){var c,g;m.stop(b);null!=this.getId()&&(b=this.options.board,_.extend(b.attributes.prefs,
{backgroundColor:this.model.get("color"),backgroundImage:this.model.get("fullSizeUrl"),backgroundImageScaled:this.model.get("scaled"),backgroundTile:null!=(c=this.model.get("tile"))?c:!1,backgroundBrightness:null!=(g=this.model.get("brightness"))?g:"unknown"}),b.setPref("background",this.getId()),n("Board Menu","Change Background",this.getId()))};return b}(A);ni=function(c){function b(){return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.initialize=function(){b.__super__.initialize.apply(this,
arguments);return this.listenTo(this.model,"change:id",this.render)};b.prototype.events={"click .js-options":"openOptions",click:"selectBackground"};b.prototype.openOptions=function(b){m.stop(b);return w.toggle({elem:this.$(".js-options"),top:30,view:new li({model:this.model})})};b.prototype.getId=function(){return this.model.id};return b}(xe);li=function(c){function b(){return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.getViewTitle=function(){return"Background Options"};b.prototype.initialize=
function(){return this.listenTo(this.model,"change",this.render)};b.prototype.events={"click .js-delete-background":"deleteBackground","click .js-select-option":"selectOption"};b.prototype.render=function(){var b,c;c=this.model.toJSON();c.tile=this.model.get("tile");b=this.model.get("brightness");c.brightnessLight="light"===b;c.brightnessDark="dark"===b;this.$el.html(u.fill("board_background_options",c));return this};b.prototype.selectOption=function(b){b=$(b.target).closest(".js-select-option");
null!=b.attr("data-board-brightness")?this.model.update("brightness",b.attr("data-board-brightness")):null!=b.attr("data-background-display-type")&&(b=b.attr("data-background-display-type"),this.model.update("tile","tile"===b))};b.prototype.deleteBackground=function(b){m.stop(b);return pa.pushView({elem:$(b.target).closest(".js-delete-background"),top:32,model:this.model,title:"Delete Background?",text:"Deleting a background is permanent. There is no undo.",confirmText:"Delete",confirmBtnClass:"negate",
fxConfirm:function(b){return function(c){b.model.destroy();b.remove();return n("Board Menu","Change Background","Delete Uploaded Background")}}(this)})};return b}(A);we=function(c){function b(){this.selectPerm=k(this.selectPerm,this);this.render=k(this.render,this);return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.getViewTitle=function(){return"Change Permissions"};b.prototype.initialize=function(){this.model.ond("change",this.render)};b.prototype.events={"click .js-select":"selectPerm"};
b.prototype.render=function(){var b,c,g;b=this.model.toJSON({prefs:!0,url:!0});b.cardCovers=b.prefs.cardCovers;c=this.model.getOrganization();b.hasOrg=null!=(null!=c?c.id:void 0);b.orgCanSee=b.hasOrg&&("public"===(g=this.model.getPref("permissionLevel"))||"org"===g);b.premium=null!=c?c.isFeatureEnabled("observers"):void 0;b.voting_showObservers=(b.premium||b.voting_observers)&&b.hasOrg;b.comments_showObservers=(b.premium||b.comments_observers)&&b.hasOrg;b.pLevelClass=this.model.getPermLevelIconClass();
null!=c&&c.owned()?(b.orgOwner=!0,b.orgName=c.get("displayName"),this.model.owned()||(b.setOrgNull=!0)):this.model.owned()||(b.noEditOrg=!0);c=this.getTemplate();this.$el.html(u.fillMenu(c,b,{editable:this.model.editable(),owned:this.model.owned()}));return this};b.prototype.selectPerm=function(b){var c;m.stop(b);n("Board","Change "+this.getPerm());c=$(b.target).closest(".js-select");!c.hasClass("disabled")&&!c.closest(".js-disabled").length&&(b=this.getPerm(),c=c.attr("name"),this.model.setPref(b,
c),this.model.save(),w.popView())};return b}(A);ki=function(c){function b(){return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.getViewTitle=function(){return"Commenting Permissions"};b.prototype.getTemplate=function(){return"board_menu_commenting"};b.prototype.getPerm=function(){return"comments"};return b}(we);ji=function(c){function b(){return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.getViewTitle=function(){return"Add Member Permissions"};b.prototype.getTemplate=
function(){return"board_menu_invitations"};b.prototype.getPerm=function(){return"invitations"};return b}(we);Td=function(c){function b(){return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.getViewTitle=function(){return this.model.owned()?"Change Visibility":"Visibility"};b.prototype.tagName="ul";b.prototype.initialize=function(){this.listenTo(this.model,"change",this.render)};b.prototype.className="pop-over-list";b.prototype.events={"click .js-select":"selectVis"};b.prototype.render=
function(){var b,c,g,e,h,l;b=this.model.toJSON({prefs:!0,url:!0});c=this.model.getOrganization();b.hasOrg=null!=c;b.disabledVis_private=!this.model.owned()||null!=c&&!c.canSetVisibility("private")||null==c&&!this.model.getPref("canBePrivate");b.disabledVis_org=!this.model.owned()||null!=c&&!c.canSetVisibility("org")||null==c&&!this.model.getPref("canBeOrg");b.disabledVis_public=!this.model.owned()||null!=c&&!c.canSetVisibility("public")||null==c&&!this.model.getPref("canBePublic");l=["private","org",
"public"];e=0;for(h=l.length;e<h;e++)g=l[e],b["permText_"+g]=this.model.getPermLevelAltText(g,c),b["iconClass_"+g]=this.model.getPermLevelIconClass(g,c),b["disabledVis_"+g]&&(null!=c&&!c.canSetVisibility(g)&&this.model.owned())&&(b["showVisRestriction_"+g]=!0);b.visRestrictionText="Due to a restriction created by an org admin, you can not select this visibility.";this.$el.html(u.fill("board_menu_vis",b,{editable:this.model.editable(),owned:this.model.owned()}));return this};b.prototype.selectVis=
function(b){m.stop(b);b=$(b.target).closest(".js-select");!b.hasClass("disabled")&&!b.closest(".js-disabled").length&&(b=b.attr("name"),"org"===b&&!this.model.getOrganization()?w.pushView({view:ii,options:{model:this.model,disableNone:!0}}):(this.model.setPref("permissionLevel",b),this.model.save(),n("Board","Change Board Visibility",b),w.popView()))};return b}(A);Sd=function(c){function b(){this.rename=k(this.rename,this);this.render=k(this.render,this);return b.__super__.constructor.apply(this,
arguments)}s(b,c);b.prototype.getViewTitle=function(){return"Rename Board"};b.prototype.events={"click .js-rename-board":"rename","submit form":"rename"};b.prototype.render=function(b){b={};b.boardName=this.model.get("name");this.$el.html(u.fill("popover_rename_board",b));return this};b.prototype.rename=function(b){var c;m.stop(b);b=this.$(".js-board-name");c=b.val().trim();""===c?b.focus().select():(n("Board","Successfully Rename Board"),this.model.update("name",c),w.hide())};return b}(A);ue=function(c){function b(){this.selectVis=
k(this.selectVis,this);this.render=k(this.render,this);return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.getViewTitle=function(){return"Change Visibility"};b.prototype.tagName="ul";b.prototype.events={"click .js-select":"selectVis"};b.prototype.className="pop-over-list";b.prototype.render=function(){var b,c,g,e,h,l,k,m,n;h=this.options.organization;c=["public","org","private"];b=h.owned()?["admin","org"]:["org"];e={explanationText:""+h.get("displayName")+" has restrictions on board visibility.  Please choose a setting that is allowed in that organization."};
e["permissionLevel_"+this.model.get("prefs").permissionLevel]=!0;g=!1;k=0;for(m=c.length;k<m;k++)l=c[k],e["permText_"+l]=oa.prototype.getPermLevelAltText(l),e["iconClass_"+l]=oa.prototype.getPermLevelIconClass(l),(n=h.get("prefs").boardVisibilityRestrict[l],0>F.call(b,n))?e["disabledVis_"+l]=!0:g=!0;if(!g)return e={isOrgAdmin:h.owned(),orgSettingsUrl:B.getOrganizationAccountUrl(h),organization:h.toJSON()},this.$el.html(u.fill("cant_add_board_to_org",e)),this;this.$el.html(u.fill("board_menu_vis",
e,{editable:this.model.editable(),owned:this.model.owned()}));return this};b.prototype.selectVis=function(b){var c;m.stop(b);b=$(b.target).closest(".js-select");if(!b.hasClass("disabled")&&!b.closest(".js-disabled").length)return b=b.attr("name"),this.options.idOrganizationSource&&null!=(c=this.Organization.get(this.options.idOrganizationSource))&&c.boardList.remove(this.model),this.model.update({idOrganization:this.options.organization.id,"prefs/permissionLevel":b}),this.options.organization.boardList.add(this.model),
w.hide()};return b}(A);ve=function(c){function b(){this.submit=k(this.submit,this);this.changeOrg=k(this.changeOrg,this);this.updateModel=k(this.updateModel,this);this.showOrgBoardVisPerms=k(this.showOrgBoardVisPerms,this);this.render=k(this.render,this);return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.getViewTitle=function(){return"Change Organization"};b.prototype.events={"click .js-submit":"submit"};b.prototype.render=function(){var b,c,g,e,h;b=this.model.toJSON({org:!0});
g=this.model.owned()?z.me().organizationList.models:[];var l;l=[];e=0;for(h=g.length;e<h;e++)c=g[e],l.push(c.toJSON());b.orgs=l;b.hasOrgs=0!==b.orgs.length;if(b.idOrganization){h=b.orgs;g=0;for(e=h.length;g<e;g++)c=h[g],c.id===b.idOrganization&&(c.select=!0)}this.$el.html(u.fill("popover_change_board_org",b));return this};b.prototype.showOrgBoardVisPerms=function(b,c){return w.pushView({view:this.model.getView(ue,b.id,{organization:b,idOrganizationSource:c})})};b.prototype.updateModel=function(b){return this.model.update({idOrganization:b})};
b.prototype.changeOrg=function(b,c){var g;b!==c&&(c&&null!=(g=this.Organization.get(c))&&g.boardList.remove(this.model),this.updateModel(b),b&&this.Organization.get(b).boardList.add(this.model));return w.hide()};b.prototype.canAddToOrg=function(b){return b.canAddBoard(this.model)};b.prototype.submit=function(b){var c,g,e,h;m.stop(b);n("Board","Change Org");e=this.$(".js-org").val();g=this.model.get("idOrganization");h=this.Organization.get(e);c=function(b){return function(){return b.changeOrg(e,g)}}(this);
return null!=h&&h.isFeatureEnabled("restrictVis")?P["for"](this.modelCache).loadOrganizationMembersData(e,function(b){return function(d){return null==d&&null!=h&&!b.canAddToOrg(h)?b.showOrgBoardVisPerms(h,g):c()}}(this)):c()};return b}(A);ii=function(c){function b(){this.orgSelected=k(this.orgSelected,this);this.updateModel=k(this.updateModel,this);this.submit=k(this.submit,this);this.render=k(this.render,this);return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.events={"click .js-submit":"submit",
"change .js-org":"orgSelected"};b.prototype.initialize=function(c){this.disableNone=null!=c?c.disableNone:void 0;return b.__super__.initialize.apply(this,arguments)};b.prototype.render=function(){b.__super__.render.apply(this,arguments);this.disableNone&&this.$(".js-submit").addClass("disabled").attr("disabled","disabled");return this};b.prototype.showOrgBoardVisPerms=function(b,c){return w.pushView({view:this.model.getView(ue,b.id,{organization:b,idOrganizationSource:c})})};b.prototype.submit=function(c){return b.__super__.submit.apply(this,
arguments)};b.prototype.canAddToOrg=function(b){return!b.isFeatureEnabled("restrictVis")||b.canSetVisibility("org")};b.prototype.updateModel=function(b){return this.model.update({idOrganization:b,"prefs/permissionLevel":"org"})};b.prototype.orgSelected=function(){if(this.disableNone)return"(none)"===this.$(".js-org").children().filter(":selected").text()?this.$(".js-submit").addClass("disabled").attr("disabled","disabled"):this.$(".js-submit").removeClass("disabled").removeAttr("disabled")};return b}(ve);
Mb=function(c){function b(){this.willBePopped=k(this.willBePopped,this);this.willBePushedDown=k(this.willBePushedDown,this);this.viewMoreOrgMembers=k(this.viewMoreOrgMembers,this);this.addAllOrgMembers=k(this.addAllOrgMembers,this);this.addOrgMember=k(this.addOrgMember,this);this.addOtherMember=k(this.addOtherMember,this);this.addMember=k(this.addMember,this);this.orgMembersAvailable=k(this.orgMembersAvailable,this);this.sendEmailInvite=k(this.sendEmailInvite,this);this.canRemoveInvitation=k(this.canRemoveInvitation,
this);this.removeInvitation=k(this.removeInvitation,this);this.clearSearchResults=k(this.clearSearchResults,this);this.createInvitation=k(this.createInvitation,this);this.keydownEvent=k(this.keydownEvent,this);this.search=k(this.search,this);this.searchPaste=k(this.searchPaste,this);this.showMemberMenu=k(this.showMemberMenu,this);this.renderEmailInviteToSearchResults=k(this.renderEmailInviteToSearchResults,this);this.renderOrgMembers=k(this.renderOrgMembers,this);this.renderBoardMembers=k(this.renderBoardMembers,
this);this.getOrgData=k(this.getOrgData,this);this.render=k(this.render,this);return b.__super__.constructor.apply(this,arguments)}s(b,c);ea(Id,Oc,b);b.prototype.getViewTitle=function(){return"Members"};b.prototype.initialize=function(){var b;b=this.model.getOrganization();if(null!=b)b.memberList.onAddRemove(this.renderOrgMembers);this.model.memberList.onAddRemove(this.renderOrgMembers);if(null!=b)b.ond("change:prefs",this.render);this.savedSearch=""};b.prototype.events={"click .js-board-members .js-select-member":"showMemberMenu",
"click .js-search-results .js-select-member":"addOtherMember","paste .js-search-input":"searchPaste","click .js-org-members .js-select-member":"addOrgMember","click .js-org-members .js-add-all-org-members":"addAllOrgMembers","click .js-org-members .js-more-org-members":"viewMoreOrgMembers","click .js-remove-invitation":"removeInvitation","click .js-send-email-invite":"sendEmailInvite","submit .js-email-data":"sendEmailInvite","click .js-open-option":"openOption","mouseenter .js-select-member":"hoverMember"};
b.prototype.render=function(){var b,c,g;c={placeholder:"Search or add email address"};c.canAddMembers=this.model.canInviteMembers();g=this.model.getOrganization();null!=g&&(c.orgName=g.get("displayName"));c.canInviteMembers=c.canAddMembers&&!(null!=g&&g.isFeatureEnabled("disableExternalMembers")&&g.getPref("externalMembersDisabled"));c.disableAddingExternalMembers=this.model.isMember(z.me())&&(null!=g?g.isFeatureEnabled("disableExternalMembers"):void 0)&&g.getPref("externalMembersDisabled");c.isBCOrgAdmin=
null!=g?g.isPremOrgAdmin(z.me()):void 0;c.orgSettingsURL=null!=g?B.getOrganizationAccountUrl(g):"";this.$el.html(u.fill("manage_members",c,{editable:this.model.editable()}));null!=(b=Qc.addMemberToBoardAd(z.me(),g))&&this.$(".js-ad").html(this.model.getView(b).render().el);c.canAddMembers?_.delay(function(b){return function(){b.renderOrgMembers();b.input=b.$(".js-search-input");b.input.click(function(b){return m.stop(b)}).keyup(_.debounce(b.search,500)).keydown(b.keydownEvent).focus();if(b.savedSearch)return b.input.val(b.savedSearch),
b.search(),b.savedSearch=""}}(this),10):_.delay(function(b){return function(){return b.renderBoardMembers()}}(this),10);this.lastSearch="";this.loadingEl=this.$(".js-loading");this.helperEl=this.$(".js-helper");w.calcPos();return this};b.prototype.getOrgData=function(){var b;b=this.model.getOrganization();if(null!=b&&this.model.editable())return P["for"](this.modelCache).loadOrganizationMembersMinimal(b.id,function(c){return function(g){if(null==g)return b.trigger("change:memberships"),c.renderOrgMembers()}}(this))};
b.prototype.renderBoardMembers=function(){var b,c,g,e,h;c=this.$(".js-board-members").hide();b=c.find(".js-list").empty();7<this.model.memberList.models.length&&b.addClass("collapsed");h=this.model.memberList.models;g=0;for(e=h.length;g<e;g++)b=h[g],this.appendSubview(this.subview(db,b),$boardMmeberList);c.show();w.calcPos()};b.prototype.renderOrgMembers=function(){var b,c,g,e,h,l;g=this.$(".js-org-members").hide();c=g.find(".js-list").empty();b=g.find(".js-num-org-mem").empty();e=g.find(".js-more-org-members").addClass("hide");
l=this.model.getOrganization();null!=l&&(h=this.orgMembersAvailable(),0<h.length&&(7<h.length&&e.removeClass("hide"),e=h.slice(0,7),_.each(e,function(b){return function(b){var d;d=b.toJSON();null!=l&&l.isPremOrgAdmin(b)&&(d.className="no-option");return c.append(u.fill("select_member",d,{},{member:u.member}))}}(this)),b.html(h.length),g.show()),w.calcPos())};b.prototype.renderEmailInviteToSearchResults=function(b){var c,g;c=_.compact(m.removeDomainFromEmailAddress(b.email).split(/[\s\d\x21-\x2F\x3A-\x40\x5B-\x60\x7B-\x7F]+/)).join(" ").replace(/[\d\x21-\x2F\x3A-\x40\x5B-\x60\x7B-\x7F]+/,
"");b.fullName=m.toTitleCase(c);b.canAddAsObserver=null!=(g=this.model.getOrganization())?g.isFeatureEnabled("observers"):void 0;return this.$(".js-uninvited-search-results").append(u.fill("invite_add_name",b,"",{member:u.member})).show()};b.prototype.showMemberMenu=function(b){m.stop(b);b=$(b.target).closest(".js-select-member").attr("idMember");b=this.Member.get(b);w.pushView({view:b.getView(Fc,"board",{board:this.model})})};b.prototype.searchPaste=function(){this.loadingEl.show();return this.input.keyup()};
b.prototype.search=function(b){var c,g,e;null!=this.lastSearch&&this.lastSearch===this.input.val()||(this.lastSearch=this.input.val(),c=this.input.val().toLowerCase().trim(),""===c?this.clearSearchResults():(this.loadingEl.show(),T({url:"/1/search/members/",type:"get",data:{idBoard:this.model.id,query:c,idOrganization:null!=(g=this.model.getOrganization())?g.id:void 0,onlyOrgMembers:null!=(e=this.model.getOrganization())?e.getPref("externalMembersDisabled"):void 0,_cache:m.newestId(this.model.get("memberships"))},
dataType:"json",success:function(b){return function(d){return b.renderSearchResults(c,d)}}(this)})))};b.prototype.keydownEvent=function(b){var c,g;if(!(16===(c=b.keyCode)||18===c||17===c||39===c||37===c||27===c))if(13===b.keyCode)0<this.$(".js-search-results .js-list .selected .js-select-member").length?(m.stop(b),this.$(".js-search-results .js-list .selected:first .js-select-member").click()):0<this.$(".js-search-results .js-list .email-invite").length&&(m.stop(b),this.$(".email-invite:first").click());
else if(38===(g=b.keyCode)||40===g)m.stop(b),m.navMenuList(this.$(".js-search-results .js-list"),"li",b.keyCode)};b.prototype.createInvitation=function(b){return T(_.extend({url:"/1/board/"+this.model.id+"/members",type:"put",dataType:"json"},b))};b.prototype.clearSearchResults=function(){this.helperEl.show();this.lastSearch="";this.input.val("").focus().select();this.$(".js-search-results").hide();this.$(".js-uninvited-search-results").empty().hide();return this.renderOrgMembers()};b.prototype.removeInvitation=
function(b){b=$(b.currentTarget).closest(".invitation").data("id");jb.prototype["delete"]({model:this.model,idInvitation:b,success:function(b){return function(){n("Invitations","Delete Board Invite");return b.search}}(this)});m.setCaretAtEnd(this.input[0])};b.prototype.canRemoveInvitation=function(b){return b.get("idMemberInviter")===z.myId()||this.model.owned()};b.prototype.sendEmailInvite=function(b){var c,g;m.stop(b);c=this.$(".js-send-email-invite");null==c.attr("disabled")&&(b=this.$(".js-email-data .js-full-name"),
g=b.val().trim(),m.validName(g)?(b={fullName:g,email:this.$(".js-email-data .js-email").val().trim(),type:"normal"},this.$("#addAsObserver").is(":checked")&&(b.type="observer"),c.attr("disabled","disabled"),T({url:"/1/board/"+this.model.id+"/members",type:"put",dataType:"json",data:b,success:function(b){return function(d){new ba(d,{modelCache:b.modelCache});b.renderOrgMembers();n("Invitations","Send Email Board Invite to New Member","Role: "+d.type);TRMixpanel.trackInvitation();c.removeAttr("disabled");
return w.hide()}}(this),interceptErrors:!0,error:function(b){return function(d,g){$(".manage-member-section.js-error").removeClass("hide").find(".error").html(d.responseText);b.$(".js-uninvited-search-results").empty().hide();c.removeAttr("disabled");b.input.focus().select();n("Invitations","Error: "+d.responseText)}}(this)})):(m.setCaretAtEnd(b),$(".js-name-error").show()))};b.prototype.orgMembersAvailable=function(){var b,c;c=this.model.getOrganization();var g,e,h,l;h=c.memberList.models;l=[];g=
0;for(e=h.length;g<e;g++)b=h[g],c.isDeactivated(b)||l.push(b);return _.difference(l,this.model.memberList.models)};b.prototype.addMember=function(b){b=this.Member.get(b);this.model.addMember(b);this.renderOrgMembers()};b.prototype.addOtherMember=function(b){var c,g;m.stop(b);if(!(0<$(b.target).closest(".item.disabled").length))return b=$(null!=b?b.target:void 0).closest(".js-select-member").attr("idMember"),this.clearSearchResults(),g=this.model.getOrganization(),(c=this.Member.get(b))&&null!=g&&
g.isMember(c)?n("Invitations","Add Org Member to Board","Role: Member"):n("Invitations","Add Other Member to Board","Role: Member"),this.addMember(b)};b.prototype.addOrgMember=function(b){m.stop(b);n("Invitations","Add Org Member to Board","Role: Member");b=$(null!=b?b.target:void 0).closest(".js-select-member").attr("idMember");return this.addMember(b)};b.prototype.addAllOrgMembers=function(b){var c;m.stop(b);n("Invitations","Add All Org Members to Board");c=this.orgMembersAvailable();return pa.pushView({model:this.model,
title:"Add All Organization Members?",text:"This will add all remaining members of the organization ("+m.formatCount(c.length,"member")+") to this board.",confirmText:"Add All Members",confirmBtnClass:"primary",fxConfirm:function(b){return function(d){var h,l,k;k=[];h=0;for(l=c.length;h<l;h++)d=c[h],k.push(b.model.addMember(d));return k}}(this)})};b.prototype.viewMoreOrgMembers=function(b){m.stop(b);n("Invitations","View More Org Members");w.pushView({view:this.model.getView(hi)})};b.prototype.willBePushedDown=
function(){return this.savedSearch=this.input.val()};b.prototype.willBePopped=function(){return this.savedSearch=""};return b}(A);hi=function(c){function b(){this.enableSelfJoin=k(this.enableSelfJoin,this);this.filterAndFillMembers=k(this.filterAndFillMembers,this);this.keyupEvent=k(this.keyupEvent,this);this.render=k(this.render,this);this.renderOrgMembers=k(this.renderOrgMembers,this);return b.__super__.constructor.apply(this,arguments)}s(b,c);ea(Oc,b);b.prototype.getViewTitle=function(){return"Organization Members"};
b.prototype.initialize=function(){var b;if(null!=(b=this.model.getOrganization()))b.memberList.onAddRemove(this.render)};b.prototype.events={"click .js-board-members .js-select-member":"addOrgMember","click .js-board-members .js-add-all-org-members":"addAllOrgMembers","click .js-enable-self-join":"enableSelfJoin",keyup:"keyupEvent","click .js-open-option":"openOption","mouseenter .js-select-member":"hoverMember"};b.prototype.renderOrgMembers=function(b){var c,g,e,h;b=b?this.Member.get(b):this.model.getView(Mb).orgMembersAvailable();
g=this.$(".js-board-members .js-list").empty().show();e=0;for(h=b.length;e<h;e++)c=b[e],c=c.toJSON(),g.append(u.fill("select_member",c,{},{member:u.member}));this.$(".js-board-members .js-num-org-mem").empty().text(b.length)};b.prototype.render=function(){var b,c;b=this.model.toJSON({prefs:!0});b.placeholder="Search for organization members";b.orgName=null!=(c=this.model.getOrganization())?c.get("displayName"):void 0;b.canInvite=!0;this.$el.html(u.fill("manage_members",b,{editable:this.model.editable()}));
this.renderOrgMembers();this.$(".js-board-members").removeClass("hide");this.$(".js-add-all-org-members").removeClass("hide");this.$(".js-enable-self-join").removeClass("hide");return this};b.prototype.keyupEvent=function(b){var c,g,e,h;c=$(".js-search-input").val().trim();if(!(16===(g=b.keyCode)||18===g||17===g))13===b.keyCode?(m.stop(b),0<this.$(".js-org-members .js-list .selected").length&&(b=this.$(".js-org-members .js-list .selected:first .js-select-member").attr("idMember"),b=this.Member.get(b),
this.model.addMember(b),this.$(".js-search-input").focus().select())):38===(e=b.keyCode)||40===e?(m.stop(b),m.navMenuList($(null!=(h=w.view)?h.el:void 0).find(".js-org-members .js-list"),".item",b.keyCode)):0<c.length?(this.filterAndFillMembers(c),$(".js-org-members .js-list").removeClass("collapsed"),$(".js-add-all-org-members").addClass("hide")):(this.renderOrgMembers(),$(".js-org-members .js-list").addClass("collapsed"),$(".js-add-all-org-members").removeClass("hide"))};b.prototype.filterAndFillMembers=
function(b){var c;c=_.pluck(this.model.getView(Mb).orgMembersAvailable(),"id");b=m.filterMembers(this.modelCache,b,c);b=b.slice(0,7);0<b.length?(this.renderOrgMembers(b),b=this.$(".js-org-members .js-list .item:first"),m.selectMenuItem(this.$(".js-org-members .js-list"),".item",b)):this.$(".js-org-members .js-list").html("<li><p class='empty'>No matched members</p></li>")};b.prototype.addOrgMember=function(b){this.model.getView(Mb).addOrgMember(b);return this.render()};b.prototype.addAllOrgMembers=
function(b){return this.model.getView(Mb).addAllOrgMembers(b)};b.prototype.enableSelfJoin=function(b){$(b.target).hide();n("Board View","Members Menu - Enable Self Join");this.model.setPref("selfJoin","enabled");this.model.save();return this.render()};return b}(ha);Jg=function(c){function b(){this.render=k(this.render,this);return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.getViewTitle=function(){return"Label Names"};b.prototype.tagName="form";b.prototype.className="edit-labels js-edit-labels";
b.prototype.events={"submit .js-edit-labels":"saveLabels","click .js-save":"saveLabels"};b.prototype.render=function(){var b,c,g;b=this.model.toJSON({labels:!0});c={editable:this.model.editable(),owned:this.model.owned()};g="board_labels";this.model.editable()||(g="board_labels_static");this.$el.html(u.fill(g,b,c));return this};b.prototype.saveLabels=function(b){var c,g,e,h,l;m.stop(b);e={};g=this.$(".js-label-title");n("Board","Save Label Changes");h=0;for(l=g.length;h<l;h++)c=g[h],b=$(c).attr("name"),
c=$(c).val().trim(),e["labelNames/"+b]=c;this.model.update(e);w.popView()};return b}(ha);mi=function(c){function b(){this.sendAddressEmail=k(this.sendAddressEmail,this);this.generateAddress=k(this.generateAddress,this);this.updateList=k(this.updateList,this);this.updatePosition=k(this.updatePosition,this);this.updateValue=k(this.updateValue,this);this.render=k(this.render,this);return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.getViewTitle=function(){return"Add Cards via Email"};
b.prototype.initialize=function(){b.__super__.initialize.apply(this,arguments);this.modelCache.ond("add:List remove:List change:List:closed reset:List",this.render);this.model.ond("change:myPrefs",this.render);this.allowEmail=!0;if(null==this.model.getPref("emailKey"))return this.model.generateEmailKey()};b.prototype.events={"change .js-select-position":"updatePosition","change .js-select-list":"updateList","click .js-generate-address":"generateAddress","click .js-send-address":"sendAddressEmail",
"click .js-autofocus":"focusInput"};b.prototype.render=function(){var b,c,g,e,h;g=this.model.getPref("idEmailList");b="None";h=!1;var l,k,v,n;v=this.model.openLists();n=[];l=0;for(k=v.length;l<k;l++)c=v[l],e={id:c.id,name:c.get("name")},c.id===g&&(h=!0,e.selected=!0,b=e.name),n.push(e);null!=g&&!h&&(c=this.List.get(g),null!=c?(b=g=c.get("name")+" (archived)",n.push({id:c.id,name:g,selected:!0})):(b="None",n.push({id:null,name:"None",selected:!0})));c="";g=this.model.getPref("emailKey");null!=g&&(c=
""+z.me().get("username")+"+"+g+"@boards.trello.com");b={email:c,lists:n,listName:b,positionName:m.capitalize(this.model.getPref("emailPosition"))};b["position_"+this.model.getPref("emailPosition")]=!0;this.$el.html(u.fill("board_menu_email",b));return this};b.prototype.focusInput=function(b){$(b.target).focus().select()};b.prototype.updateValue=function(b,c){var g;g=this.$el.find(b).val();if(null!=g&&g!==this.model.getPref(c))return this.model.setPref(c,g)};b.prototype.updatePosition=function(){return this.updateValue(".js-select-position",
"emailPosition")};b.prototype.updateList=function(){return this.updateValue(".js-select-list","idEmailList")};b.prototype.generateAddress=function(b){m.stop(b);pa.pushView({model:this.model,title:"Generate new email address?",text:"The old email address will no longer work.  There is no undo.  Go ahead?",confirmText:"Generate new email address",confirmBtnClass:"negate",popOnClick:!0,fxConfirm:function(b){return function(c){b.model.set({"myPrefs/emailKey":null});b.allowEmail=!0;return b.model.generateEmailKey()}}(this)})};
b.prototype.sendAddressEmail=function(b){m.stop(b);this.allowEmail&&(this.allowEmail=!1,this.model.api({method:"emailKey/message",type:"post"},function(b){return function(){return O.flash("Email Sent","confirm")}}(this)))};return b}(A);gi=ea(oc,function(c){function b(){this.render=k(this.render,this);return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.events={"click .js-more-actions":"loadMoreActions"};b.prototype.initialize=function(){this.fullHistory=this.options.fullHistory;
null==this.fullHistory&&(this.fullHistory=!1);this.actionListView=this.collectionSubview(Jb,new Ib(this.getActions(),{modelCache:this.modelCache}),{renderOpts:{compact:!this.fullHistory,key:"boardactivity",context:this.model}});this.makeDebouncedMethods("renderMoreActionsLink");this.listenTo(this.modelCache,"add:Action:"+this.model.id,function(b){return function(){b.actionListView.collection.reset(b.getActions(),{silent:!0});return b.renderMoreActionsLinkDebounced()}}(this));this.loadMoreActions()};
b.prototype.render=function(){this.$el.html(u.fill("board_activity",this.model.toJSON()));this.actionListView.setElement(this.$(".list-activity")[0]);this.renderActions();return this};b.prototype.renderActions=function(){this.actionListView.render();return this.renderMoreActionsLink()};b.prototype.renderMoreActionsLink=function(){this.$(".js-more-actions").toggle(this.hasMoreActions());return this};b.prototype.getActionsFilter=function(){return nc};return b}(A));E={}.hasOwnProperty;s=function(c,b){function d(){this.constructor=
c}for(var f in b)E.call(b,f)&&(c[f]=b[f]);d.prototype=b.prototype;c.prototype=new d;c.__super__=b.prototype;return c};(function(c){function b(){return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.typeName="BoardPreference";return b})(na);var ze,oi,pi,qi,ec,ri,si,aa,E={}.hasOwnProperty,s=function(c,b){function d(){this.constructor=c}for(var f in b)E.call(b,f)&&(c[f]=b[f]);d.prototype=b.prototype;c.prototype=new d;c.__super__=b.prototype;return c},k=function(c,b){return function(){return c.apply(b,
arguments)}},F=[].indexOf||function(c){for(var b=0,d=this.length;b<d;b++)if(b in this&&this[b]===c)return b;return-1};aa=new (function(c){function b(){b.__super__.constructor.call(this);this.set({id:"sidebarState-"+z.myId()});this.fetch()}s(b,c);b.prototype["default"]=function(){return{pinBoardsListSidebar:!1,showBoardsListSidebar:!1,idRecentBoards:[],collapsedDrawerSections:[]}};b.prototype.getPinSidebar=function(){return this.get("pinBoardsListSidebar")};b.prototype.showPinSidebar=function(){return this.save("pinBoardsListSidebar",
!0)};b.prototype.hidePinSidebar=function(){return this.save("pinBoardsListSidebar",!1)};b.prototype.getShowSidebar=function(){return this.get("showBoardsListSidebar")};b.prototype.showSidebar=function(){return this.save("showBoardsListSidebar",!0)};b.prototype.hideSidebar=function(){return this.save("showBoardsListSidebar",!1)};b.prototype.getRecentBoards=function(){return this.get("idRecentBoards")};b.prototype.pullBoard=function(b){var c,g;for(g=_.clone(this.getRecentBoards());-1<(c=_.indexOf(g,
b));)g.splice(c,1);return this.save("idRecentBoards",g)};b.prototype.pushBoard=function(b){var c;c=_.clone(this.getRecentBoards());_.contains(c,b)&&(c=_.without(c,b));c.unshift(b);c=c.slice(0,16);return this.save("idRecentBoards",c)};b.prototype.getCollapsedSections=function(){var b;return null!=(b=this.get("collapsedDrawerSections"))?b:this["default"]().collapsedDrawerSections};b.prototype.isCollapsed=function(b){return _.contains(this.getCollapsedSections(),b)};b.prototype.collapseSection=function(b){return this.addToSet("collapsedDrawerSections",
b)};b.prototype.expandSection=function(b){return this.pull("collapsedDrawerSections",b)};return b}(gb));si=function(c){function b(){this.renderAllBoardsSection=k(this.renderAllBoardsSection,this);this.renderBoardsSections=k(this.renderBoardsSections,this);this.toggleSections=k(this.toggleSections,this);this.render=k(this.render,this);return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.UNREAD_POLL_RATE_ACTIVE=m.getMs({minutes:5});b.prototype.UNREAD_POLL_RATE_IDLE=m.getMs({minutes:60});
b.prototype.className=function(){return"boards-drawer"};b.prototype.initialize=function(){this.ready=!1;this.listenTo(this.model.organizationList,"add remove reset",this.renderBoards);this.renderSidebarState();this.listenTo(aa,"change:showBoardsListSidebar",function(){this.renderSidebarState();return this.ensureUnreadData()});this.listenTo(aa,"change:pinBoardsListSidebar",function(){this.renderSidebarState();this.updatePinned();this.updateHeight();return this.ensureUnreadData()});X.addHandler(this,
{scope:"header"});this.ensureUnreadData()};b.prototype.events={"mouseenter .sidebar-boards-list li":"hoverItem","keyup .js-search-boards":"keyEvent","click .js-pin":"pinDrawer","click .js-unpin":"unpinDrawer","click .js-open-closed-boards":"openClosedBoards","mouseleave .sidebar-boards-list":"deselectBoards",shortcut:"shortcut"};b.prototype.render=function(){var b;b={};b.allBoardsUrl=B.getMemberBoardsUrl();this.renderSidebarState();this.updatePinned();this.$el.html(u.fill("sidebar_boards_list",b));
this.ready=!0;this.renderBoardsSections();this.updateHeight();this.updatePinned();this.debouncedResizeEvent=_.debounce(function(b){return function(){return b.updateHeight()}}(this),300);$(window).bind("resize",this.debouncedResizeEvent);return this};b.prototype.ensureUnreadData=function(){var b;b=function(b){return function(){return"active"===za.getStatus()?b.UNREAD_POLL_RATE_ACTIVE:b.UNREAD_POLL_RATE_IDLE}}(this);null!=this._lastPoll&&Date.now()-this._lastPoll>1.5*b()&&(this.refreshUnreadData(),
this._lastPoll=Date.now());if(aa.getShowSidebar()||aa.getPinSidebar()){if(null==this._unreadTimeout)return this._unreadTimeout=this.setTimeout(function(b){return function(){b.refreshUnreadData();b._unreadTimeout=null;b._lastPoll=Date.now();return b.ensureUnreadData()}}(this),b())}else if(null!=this._unreadTimeout)return clearTimeout(this._unreadTimeout),this._unreadTimeout=null};b.prototype.shortcut=function(b){switch(b){case 66:return aa.getPinSidebar()?this.focusInput():aa.getShowSidebar()?aa.hideSidebar():
(aa.showSidebar(),_.defer(function(b){return function(){return b.focusInput()}}(this))),!0}};b.prototype.clearSearch=function(){this.$(".js-search-boards").val("");this.toggleSections("all")};b.prototype.focusInput=function(){return this.$(".js-search-boards").focus().select()};b.prototype.refreshUnreadData=function(){var b,c,g,e,h,l;P["for"](this.modelCache).loadMyBoardsUnreadData();c=this.Auth.me();h=aa.getRecentBoards();l=[];g=0;for(e=h.length;g<e;g++)b=h[g],!c.boardList.get(b)&&!c.boardStarList.getBoardStar(b)?
l.push(P["for"](this.modelCache).loadBoardData(b,Ne)):l.push(void 0);return l};b.prototype.openClosedBoards=function(b){m.stop(b);W.show({view:new Bf({model:z.me()})});P["for"](this.modelCache).loadClosedBoards();n("Boards Drawer","Open Closed Boards")};b.prototype.renderStarredBoardsSection=function(){return this.appendSubview(this.subview(ri,z.me(),{},"starred-boards"),this.$(".js-starred-boards"))};b.prototype.renderRecentBoardsSection=function(){P.waitFor("boardsData",function(b){return function(){return b.appendSubview(b.subview(qi,
z.me(),{},"recent-boards"),b.$(".js-recent-boards"))}}(this));return this};b.prototype.renderSidebarState=function(){aa.getShowSidebar()||aa.getPinSidebar()?(this.$el.addClass("show"),w.hide()):(this.$el.removeClass("show"),this.clearSearch());w.calcPos();return this};b.prototype.updateHeight=function(){var b;b=aa.getPinSidebar()?$(window).height()-50:$(window).height()-64;return this.$(".board-drawer-content").css({"max-height":b})};b.prototype.unpinDrawer=function(){n("Boards Drawer","Unpin Drawer");
return aa.hidePinSidebar()};b.prototype.pinDrawer=function(){n("Boards Drawer","Pin Drawer");return aa.showPinSidebar()};b.prototype.updatePinned=function(){this.$el.toggleClass("boards-drawer-pinned",aa.getPinSidebar());this.$(".js-pin").toggleClass("hide",aa.getPinSidebar());this.$(".js-unpin").toggleClass("hide",!aa.getPinSidebar());return this.updateHeight()};b.prototype.getActivityCounts=function(b){return P["for"](this.modelCache).loadBoardsMenuData(b)};b.prototype.search=function(){var b,c,
g,e,h,l,k,n,x;b=this.model;g=this.$(".js-search-boards").val().toLowerCase().trim();if(this.oldTerm!==g)if(this.oldTerm=g,""===g)this.toggleSections("all");else{this.toggleSections("search");k=_.map(g.split(/\s+/),function(b){return RegExp(""+m.escapeForRegex(b),"i")});l=_.filter(b.boardList.models,function(b){return _.every(k,function(c){return c.test(b.get("name"))})});g=function(){var b,d,e;e=[];b=0;for(d=l.length;b<d;b++)c=l[b],c.get("closed")||e.push(c);return e}();h=this.Member.get(z.myId()).boardStarList.getBoardIds();
e=aa.getRecentBoards();g=g.sort(function(b,c){var d,f,g,l,k,m,q,n;return(d=b.id,0<=F.call(h,d))&&(f=c.id,0>F.call(h,f))?-1:(g=c.id,0<=F.call(h,g))&&(l=b.id,0>F.call(h,l))?1:(k=b.id,0<=F.call(e,k))&&(m=c.id,0>F.call(e,m))?-1:(q=c.id,0<=F.call(e,q))&&(n=b.id,0>F.call(e,n))?1:b.get("name")<c.get("name")?-1:b.get("name")>c.get("name")?1:0});g=g.slice(0,7);b=this.$(".js-board-results").empty();if(0<g.length){n=0;for(x=g.length;n<x;n++)c=g[n],this.appendSubview(this.subview(ze,c,{showOrgName:!0},"board-search-"+
c.id),b);m.selectMenuItem($(".sidebar-boards-list"),"li",$(".sidebar-boards-list li:first"))}else b.append('<p class="empty">No Boards Found</p>');return this}};b.prototype.toggleSections=function(b){"all"===b?(this.$(".js-boards-list-container").removeClass("hide"),this.$(".js-board-results-container").addClass("hide")):"search"===b&&(this.$(".js-boards-list-container").addClass("hide"),this.$(".js-board-results-container").removeClass("hide"))};b.prototype.renderBoardsSections=function(){this.renderStarredBoardsSection();
this.renderRecentBoardsSection();this.renderAllBoardsSection();return this};b.prototype.renderAllBoardsSection=function(){var b,c,g,e,h,l,k,m;if(!this.ready)return this;e=this.model;g=function(){var b,d,g,h;g=e.boardList.models;h=[];b=0;for(d=g.length;b<d;b++)c=g[b],c.get("closed")||h.push(c);return h}();b=this.$(".js-all-boards").empty();if(0===g.length)b.append('<p class="empty">No Boards</p>'),h=function(b){return function(){b.stopListening(z.me().boardList,"add reset",h);return b.renderAllBoardsSection()}}(this),
this.listenTo(z.me().boardList,"add reset",h);else{this.appendSubview(this.subview(oi,z.me(),{},"my-boards"),b);m=this.model.organizationList.models;l=0;for(k=m.length;l<k;l++)g=m[l],this.appendSubview(this.subview(pi,z.me(),{org:g},"group-"+g.id),b)}return this};b.prototype.hoverItem=function(b){b=$(b.target).closest("li");m.selectMenuItem($(".sidebar-boards-list"),"li",b)};b.prototype.deselectBoards=function(b){$(".sidebar-boards-list li").removeClass("selected")};b.prototype.keyEvent=function(b){var c,
g,e;if(!(16===(c=b.keyCode)||(17===c||18===c||37===c||39===c)||(b.shiftKey||b.altKey||b.ctrlKey)&&(38===(g=b.keyCode)||40===g)))if(38===(e=b.keyCode)||40===e)m.navMenuList($(".sidebar-boards-list"),"li:visible",b.keyCode);else if(13===b.keyCode)b=$(".sidebar-boards-list li.selected:visible:first a"),0<b.length&&(b.click(),w.hide(),this.focusInput());else return this.search()};return b}(A);ec=function(c){function b(){return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.events={"click .js-collapse-section":"collapseSection",
"click .js-expand-section":"expandSection"};b.prototype.initialize=function(){this.debouncedRenderBoards=_.debounce(this.renderBoards,10);this.debouncedPostRenderBoardsEvent=_.debounce(this.postRenderBoardsEvent,150);this.sectionId=this.sectionId();this.initedSortable=!1;this.listenTo(aa,"change:collapsedDrawerSections",function(){return this.renderCollapsed()});return this.listenTo(this.model.boardList,"add remove reset change:closed",this.debouncedRenderBoards)};b.prototype.render=function(){var b;
b=this.getHeaderInfo();b.sectionId=this.sectionId;this.$el.html(u.fill("boards_sidebar_section",b));this.renderBoards();this.renderCollapsed();return this};b.prototype.getBoards=function(){return[]};b.prototype.getHeaderInfo=function(){return"Boards"};b.prototype.sectionId=function(){return null};b.prototype.showOrgName=function(){return!1};b.prototype.postRenderBoardsEvent=function(){};b.prototype.collapseSection=function(b){return aa.collapseSection(this.sectionId)};b.prototype.expandSection=function(b){return aa.expandSection(this.sectionId)};
b.prototype.renderCollapsed=function(){var b;b=aa.isCollapsed(this.sectionId);this.$(".js-collapse-section").toggleClass("hide",b);this.$(".js-expand-section").toggleClass("hide",!b);this.$(".js-board-list").toggleClass("hide",b);this.$(".js-sidebar-section-header").toggleClass("bold",!b)};b.prototype.renderBoards=function(){var b,c,g,e,h,l;b=this.$(".js-board-list").empty();e=_.filter(this.getBoards(),function(b){return!(null!=b&&b.get("closed"))});if(0<e.length){this.$el.removeClass("hide");g=[];
h=0;for(l=e.length;h<l;h++)c=e[h],g.push(this.subview(ze,c,{showOrgName:this.showOrgName()},"board-"+c.id));this.appendSubviews(g,b)}else this.$el.addClass("hide");this.debouncedPostRenderBoardsEvent();return this};return b}(A);ri=function(c){function b(){return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.initialize=function(){b.__super__.initialize.apply(this,arguments);return this.listenTo(this.model.boardStarList,"add remove reset change:pos",function(){return this.debouncedRenderBoards()})};
b.prototype.getBoards=function(){return this.model.boardStarList.getBoards()};b.prototype.showOrgName=function(){return!0};b.prototype.sectionId=function(){return"starred-boards"};b.prototype.getHeaderInfo=function(){return{title:"Starred Boards",iconClass:"star"}};b.prototype.postRenderBoardsEvent=function(){var b;if(!ma.isTouch()){b=this.$(".js-board-list");if(this.initedSortable)return M.refreshIfInitialized(b);this.initedSortable=!0;return b.sortable({axis:"y",containment:"#surface",delay:"75",
distance:"7",forcePlaceholderSize:!0,items:"> li",placeholder:"placeholder",scroll:!0,helper:"clone",stop:function(b,c){_.defer(function(b){return function(){return c.item.trigger("moveto",[c,b])}}(this))},tolerance:"pointer"})}};return b}(ec);qi=function(c){function b(){return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.initialize=function(){b.__super__.initialize.apply(this,arguments);this.listenTo(aa,"change:idRecentBoards",function(){return this.debouncedRenderBoards()});
this.listenTo(this.model.boardStarList,"add remove reset",function(){return this.debouncedRenderBoards()});return this._idBoardsFetching=[]};b.prototype.sectionId=function(){return"recent-boards"};b.prototype.showOrgName=function(){return!0};b.prototype.getBoards=function(){var b,c,g,e,h,l,k,m,n;e=_.difference(aa.getRecentBoards(),this.model.boardStarList.getBoardIds()).slice(0,7);c=this.Board.get(e);h=[];g=l=0;for(k=c.length;l<k;g=++l)b=c[g],null==b&&(m=e[g],0>F.call(this._idBoardsFetching,m))&&
h.push(e[g]);(n=this._idBoardsFetching).push.apply(n,h);0<h.length&&async.forEach(h,function(b){return function(c,d){return P["for"](b.modelCache).loadBoardData(c,Le,function(b){null!=b&&aa.pullBoard(c);return d()})}}(this),function(b){return function(){b._idBoardsFetching=_.difference(b._idBoardsFetching,h);return b.debouncedRenderBoards()}}(this));return _.compact(c)};b.prototype.getHeaderInfo=function(){return{title:"Recent Boards",iconClass:"clock"}};return b}(ec);oi=function(c){function b(){return b.__super__.constructor.apply(this,
arguments)}s(b,c);b.prototype.initialize=function(){b.__super__.initialize.apply(this,arguments);return this.listenTo(this.model.boardList,"add remove reset change:idOrganization",this.debouncedRenderBoards)};b.prototype.getBoards=function(){var b,c,g,e,h,l;c=function(b){return function(c){var d;c=null!=(d=c.getOrganization())?d.id:void 0;return null!=c&&0<=F.call(b.model.get("idOrganizations"),c)}}(this);h=this.model.boardList.models;l=[];g=0;for(e=h.length;g<e;g++)b=h[g],!c(b)&&!b.get("closed")&&
l.push(b);return l};b.prototype.sectionId=function(){return"my-boards"};b.prototype.getHeaderInfo=function(){return{title:"My Boards",iconClass:"board"}};return b}(ec);pi=function(c){function b(){return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.initialize=function(){b.__super__.initialize.apply(this,arguments);return this.listenTo(this.model.boardList,"add remove reset change:idOrganization",this.debouncedRenderBoards)};b.prototype.getOrg=function(){return this.options.org};
b.prototype.sectionId=function(){return"org-"+this.getOrg().get("id")};b.prototype.getBoards=function(){var b,c,g,e,h,l;e=this.model.boardList.models;l=[];c=0;for(g=e.length;c<g;c++)b=e[c],(null!=(h=b.getOrganization())?h.id:void 0)===this.getOrg().id&&!b.get("closed")&&l.push(b);return l};b.prototype.getHeaderInfo=function(){var b,c;b={};c=this.getOrg();if(null!=c&&(b=c.toJSON(),b.isOrg=!0,b.url=B.getOrganizationUrl(c.get("name")),c=c.get("logoHash")))b.orgLogoUrl=""+logoDomain+"/"+c+"/30.png";return b};
b.prototype.postRenderBoardsEvent=function(){this.renderBCStatus()};b.prototype.renderBCStatus=function(){this.$(".js-has-business-class").toggleClass("hide",!this.getOrg().isPremium())};return b}(ec);ze=function(c){function b(){return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.trackBoardClick=function(){return n("Header","Boards Menu","Opened Board")};return b}(Uc);var Lf,qg,Wg,fc,gc,hc,ic,ti,zf,E={}.hasOwnProperty,s=function(c,b){function d(){this.constructor=c}for(var f in b)E.call(b,
f)&&(c[f]=b[f]);d.prototype=b.prototype;c.prototype=new d;c.__super__=b.prototype;return c},k=function(c,b){return function(){return c.apply(b,arguments)}},F=[].indexOf||function(c){for(var b=0,d=this.length;b<d;b++)if(b in this&&this[b]===c)return b;return-1};qg=function(c){function b(c,f){this.board=c;b.__super__.constructor.call(this,null,f);this.board.onId(function(b){return function(c){b.set({id:"boardCardComposerSettings-"+c});return b.fetch()}}(this))}s(b,c);b.prototype["default"]=function(){return{idList:null,
index:null,idMembers:[],labels:[],pos:"bottom",title:null,vis:!1}};b.prototype.clear=function(){return this.save(this["default"]())};b.prototype.clearItems=function(){this.save({idMembers:[],labels:[],title:""})};b.prototype.moveToNext=function(){var b;this.save({idList:this.get("idList"),index:(null!=(b=this.get("index"))?b:0)+1,idMembers:[],labels:[],pos:"bottom",title:"",vis:!0})};b.prototype.getBoard=function(){return this.board};b.prototype.getList=function(){return this.getBoard().listList.get(this.get("idList"))};
b.prototype.toJSON=function(c){var f,g,e;g=null!=c?c:{};f=g.board;e=g.list;g=b.__super__.toJSON.apply(this,arguments);f&&(g.board=this.getBoard().toJSON());e&&(g.list=this.getList().toJSON());return g};return b}(gb);Wg=function(c){function b(){this.scrollIntoView=k(this.scrollIntoView,this);this.clearAndHide=k(this.clearAndHide,this);this.hide=k(this.hide,this);this.clearItems=k(this.clearItems,this);this.openMenu=k(this.openMenu,this);this.clearSelectedItems=k(this.clearSelectedItems,this);this.renderSelectedItems=
k(this.renderSelectedItems,this);this.keyupEvent=k(this.keyupEvent,this);this.pasteEvent=k(this.pasteEvent,this);this.createMultipleCards=k(this.createMultipleCards,this);this.createCard=k(this.createCard,this);this.submitCard=k(this.submitCard,this);this.renderVisibility=k(this.renderVisibility,this);this.render=k(this.render,this);return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.className="card-composer";b.prototype.initialize=function(){this.listenTo(this.model,"change:labels change:idMembers",
this.renderSelectedItems);return this.listenTo(this.model,"change:vis",this.renderVisibility)};b.prototype.events={"click .js-add-card":"submitCard","click .js-cancel":"clearAndHide","click .js-cc-menu":"openMenu",keyup:"keyupEvent",paste:"pasteEvent",keydown:"keydownEvent"};b.prototype.render=function(b,c){var g;g=this.model.toJSON({board:!0});this.renderVisibility();this.$el.html(u.fill("card_composer_inline",g));this.renderSelectedItems();_.defer(function(b){return function(){m.setCaretAtEnd(b.$(".js-card-title")[0]);
return"function"===typeof c?c():void 0}}(this));return this};b.prototype.renderVisibility=function(){this.$el.toggleClass("hide",!this.model.get("vis"));return this};b.prototype.submitCard=function(b){var c,g,e,h;b&&m.preventDefault(b);w.hide();h=jQuery.trim(this.$(".js-card-title").val());""===h?this.$el.find(".js-card-title").focus().select():(e=!0===b.shiftKey,c=_.compact(h.split(/\r\n|\r|\n/)),g=c.length,1===g?this.createCard(h,e):100>=g?pa.toggle({elem:$(b.target),top:36,title:"Create",text:"If you want, we can create a card for every new line. That would be "+
g+" cards. You can also create one card with a long title.",confirmText:"Create "+g+" Cards",cancelText:"Just One Card",fxConfirm:function(b){return function(d){return b.createMultipleCards(c,e)}}(this),fxCancel:function(b){return function(c){return b.createCard(h,e,!1,!0)}}(this)}):pa.toggle({elem:$(b.target),top:36,title:"Too Many Cards",text:"That\u2019s going to create a card for every new line. That\u2019s "+g+" cards. You can\u2019t add over 100 cards to a board at once.",confirmText:"Okay\u2026",
fxConfirm:function(b){return function(b){return w.hide()}}(this)}))};b.prototype.createCard=function(b,c,g,e){var h,l;b=b.trim();e&&(b=b.replace(/(\r\n|\n|\r)/gm," "));l=_.clone(this.model.get("idMembers"));h=_.clone(this.model.get("labels"));""!==b&&(b={name:b,pos:this.model.getList().calcPos(this.model.get("index")),closed:!1,labels:h,idMembers:l,dateLastActivity:Date.now()},this.model.moveToNext(),e=this.model.getList().cardList.create(b,{success:function(b){return function(b){0<h.length&&0<l.length?
n("Card Composer","Card Added","With Members and Labels"):0<l.length?n("Card Composer","Card Added","With Members"):0<h.length?n("Card Composer","Card Added","With Labels"):n("Card Composer","Card Added","No items included")}}(this),modelCache:this.modelCache}),b=this.model.getBoard(),b.filter.addNewCard(e),g&&b.viewState.selectCard(e),c&&B.showCardDetail(e))};b.prototype.createMultipleCards=function(b,c){var g,e,h,l,k;e=b.length;g=l=0;for(k=b.length;l<k;g=++l)h=b[g],b.length-1===g?this.createCard(h,
c,!0):this.createCard(h);n("Card Composer","Added Mulitple Cards",e)};b.prototype.pasteEvent=function(){this.$(".js-card-title").focus().keyup()};b.prototype.keydownEvent=function(b){var c,g,e,h,l;c=this.$(".js-card-title");h=$(b.target).closest(".js-card-title").hasClass("js-card-title");e=$(b.target).closest(".js-add-card").hasClass("js-add-card");if((h||e)&&!w.isVisible&&13===b.keyCode)m.stop(b),this.submitCard(b);else if(9===(l=b.keyCode)||13===l){c.focus();h=m.getWordFromCaret(c[0]);e=$(null!=
(g=w.view)?g.el:void 0);g=!1;if(w.view instanceof hc)e.find(".js-members-list .item.selected:first .js-select-member").first().click(),g=!0;else if(w.view instanceof gc)e.find(".edit-labels-pop-over .card-label.selected").first().click(),g=!0;else if(w.view instanceof ic)0<e.find(".js-pos-results").length&&(e.find(".js-pos-results li.selected:first a").first().click(),g=!0);else{if(w.view instanceof fc){m.stop(b);e.find(".js-card-results .list-card").first().click();this.model.set("title","");return}9===
b.keyCode&&""===c.val()&&(m.stop(b),this.hide(),b.shiftKey?$(this.el).closest(".list").find(".editable:first .current").click():$(this.el).closest(".list").next().find(".editable:first .current").click())}g&&(m.stop(b),m.insertSelection(c,"",h.start,h.end),this.model.set("title",c.val()));this.renderSelectedItems();w.hide()}};b.prototype.keyupEvent=function(b){var c,g,e,h,l,k,n;c=this.$(".js-card-title");if(!(9===(e=b.keyCode)||13===e))if(27===b.keyCode&&c.focus(),h=b.keyCode,0<=F.call(Hb,h))m.stop(b),
c=$(null!=(n=w.view)?n.el:void 0),w.view instanceof hc?m.navMenuList(c.find(".js-members-list"),".item",b.keyCode):w.view instanceof gc?m.navMenuList(c.find(".edit-labels-pop-over"),".card-label",b.keyCode):w.view instanceof ic?0<c.find(".js-pos-results").length&&m.navMenuList(c.find(".js-pos-results"),"li",b.keyCode):w.view instanceof fc&&m.navMenuList(c.find(".js-card-results"),".list-card",b.keyCode);else if(!ma.isTouch()&&$(b.target).closest(".js-card-title").hasClass("js-card-title"))if(n=m.getWordFromCaret(c[0]),
l=/^@\S/.test(n.str.substring(0,2)),h=/^\#\S/.test(n.str.substring(0,2)),k=/^\^\S/.test(n.str.substring(0,2)),e=/^\%\S/.test(n.str.substring(0,2)),n=n.str.substring(1).toLowerCase(),l||h||k||e){if(!(16===(g=b.keyCode)||18===g||17===g)){if(l)return b=new hc({model:this.model,modelCache:this.modelCache}),g=_.pluck(this.model.getBoard().memberList.filterDeactivated({force:!0}).models,"id"),g=m.filterMembers(this.modelCache,n,g),0<g.length?(w.load(b),b.render(g,!0),w.show({elem:this.$(".js-cc-menu"),
top:30,view:b,preloaded:!0}),c.focus(),c=$(b.el).find(".js-members-list .item:first"),m.selectMenuItem($(b.el).find(".js-members-list"),".item",c)):w.hide();if(h)return b=this.model.getView(gc),g=this.model.getBoard().filterLabels(n),0<g.length?(w.load(b),b.render(g),w.show({elem:this.$(".js-cc-menu"),top:30,view:b,preloaded:!0}),c.focus(),c=$(b.el).find(".edit-labels-pop-over .card-label:first"),m.selectMenuItem($(b.el).find(".edit-labels-pop-over"),"li",c)):w.hide();if(k)return b=this.model.getView(ic),
g=b.filterPos(n),g.hasData?(w.load(b),b.renderPositionResults(g),w.show({elem:this.$(".js-cc-menu"),top:30,view:b,preloaded:!0}),c.focus(),c=$(b.el).find(".js-pos-results li:first"),m.selectMenuItem($(b.el).find(".js-pos-results"),"li",c)):w.hide();if(e)return b=this.model.getView(fc,"fromComposer",{fromComposer:!0}),w.load(b),b.render(),b.renderResults(n),0<$(".pop-over .js-card-results .list-card").length?(w.show({elem:this.$(".js-cc-menu"),top:30,view:b,preloaded:!0}),c.focus()):w.hide()}}else return this.model.set("title",
this.$(".js-card-title").val()),w.hide()};b.prototype.renderSelectedItems=function(){var b,c,g,e,h,l,k,n;c=this.model.get("idMembers");e=!_.isEmpty(c);b=this.$(".js-list-card-composer-members").empty();l=this.Member.get(c);g=0;for(h=l.length;g<h;g++)c=l[g],b.append("<div class='member js-remove-member' idMember='"+c+"'>"+u.fill("member",c.toJSON())+"</div>");h=this.model.get("labels");g=!_.isEmpty(h);b=this.$(".js-list-card-composer-labels").empty();n=m.labelNames;l=0;for(k=n.length;l<k;l++)c=n[l],
0<=F.call(h,c)&&b.append("<div class='card-label card-label-"+c+"' name='"+c+"'></div>");this.$(".js-clear-all-items").toggle(g||e);this.$(".list-card").css("padding-bottom",e?30:0)};b.prototype.clearSelectedItems=function(b){this.$(".js-card-title").val("").focus().select();this.renderSelectedItems()};b.prototype.openMenu=function(b){m.stop(b);n("Card Composer","Open Selector Menu");return w.toggle({elem:b.target,top:36,view:this.model.getView(ti)})};b.prototype.clearItems=function(b){return this.model.clearItems()};
b.prototype.hide=function(b){this.model.save("vis",!1)};b.prototype.clearAndHide=function(b){this.clearItems();return this.hide()};b.prototype.scrollIntoView=function(){var b;b=this.$el.offset().top;return this.$el.closest(".list-cards").scrollTop(b+this.$el.height())};return b}(A);ti=function(c){function b(){this.openCopyFrom=k(this.openCopyFrom,this);this.openPosSelector=k(this.openPosSelector,this);this.openLabelSelector=k(this.openLabelSelector,this);this.openMemSelector=k(this.openMemSelector,
this);this.render=k(this.render,this);return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.getViewTitle=function(){return"Options"};b.prototype.events={"click .js-mem-selector":"openMemSelector","click .js-label-selector":"openLabelSelector","click .js-pos-selector":"openPosSelector","click .js-copy-from":"openCopyFrom"};b.prototype.render=function(){this.$el.html(u.fill("popover_selector_menu"));return this};b.prototype.openMemSelector=function(b){m.stop(b);return w.pushView({view:hc,
options:{model:this.model,modelCache:this.modelCache}})};b.prototype.openLabelSelector=function(b){m.stop(b);return w.pushView({view:gc,options:{model:this.model,modelCache:this.modelCache}})};b.prototype.openPosSelector=function(b){m.stop(b);return w.pushView({view:ic,options:{model:this.model,modelCache:this.modelCache}})};b.prototype.openCopyFrom=function(b){m.stop(b);return w.pushView({view:fc,options:{model:this.model,modelCache:this.modelCache}})};return b}(A);hc=function(c){function b(){this.addOrRemoveMember=
k(this.addOrRemoveMember,this);this.keyupEvent=k(this.keyupEvent,this);this.hoverMemberSelect=k(this.hoverMemberSelect,this);this.filterAndFillMembers=k(this.filterAndFillMembers,this);this.fillMems=k(this.fillMems,this);this.render=k(this.render,this);return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.getViewTitle=function(){return"Select Members"};b.prototype.events={"mouseenter .item":"hoverMemberSelect","click .item":"addOrRemoveMember",keyup:"keyupEvent"};b.prototype.render=
function(b,c){var g;b||(b=_.pluck(this.model.getBoard().memberList.filterDeactivated({force:!0}).models,"id"));g={showSearch:!0};if(5>=b.length||c)g.showSearch=!1;this.$el.html(u.fill("popover_member_searcher",g));this.fillMems(b);0<this.$(".js-filter-emoji").length&&_.delay(function(b){return function(){return b.$(".js-filter-emoji").focus().select()}}(this),20);0<this.$(".js-filter-members").length&&_.delay(function(b){return function(){return b.$(".js-filter-members").focus().select()}}(this),
20);return this};b.prototype.fillMems=function(b){var c,g,e,h;c=this.$(".js-members-list");c.empty();h=b.slice(0,5);b=0;for(e=h.length;b<e;b++)g=h[b],g=this.Member.get(g),this.appendSubview(this.subview(be,g,{card:this.model}),c)};b.prototype.filterAndFillMembers=function(b){var c;c=_.pluck(this.model.getBoard().memberList.models,"id");b=m.filterMembers(this.modelCache,b,c);0<b.length?(this.fillMems(b),b=this.$(".js-members-list .item:first"),m.selectMenuItem(this.$(".js-members-list"),".item",b)):
this.$(".js-members-list").html("<li><p class='empty'>No matched members</p></li>")};b.prototype.hoverMemberSelect=function(b){b=$(b.target).closest(".item");return m.selectMenuItem(this.$(".js-members-list"),".item",b)};b.prototype.keyupEvent=function(b){var c,g,e;c=$(".js-filter-members").val().trim().toLowerCase();9===(g=b.keyCode)||13===g?(m.stop(b),this.$(".js-members-list .item.selected:first .js-select-member").first().click()):38===(e=b.keyCode)||40===e?(m.stop(b),m.navMenuList(this.$(".js-members-list"),
".item",b.keyCode)):this.filterAndFillMembers(c)};b.prototype.addOrRemoveMember=function(b){m.stop(b);b=$(b.target).closest(".item");b.toggleClass("active");b.find(".username").text();b=b.find("[idMember]").attr("idMember");this.model.toggle("idMembers",b)?n("Card Composer","Add Member"):n("Card Composer","Remove Member")};return b}(A);gc=function(c){function b(){this.addOrRemoveLabel=k(this.addOrRemoveLabel,this);this.hoverLabelSelect=k(this.hoverLabelSelect,this);this.render=k(this.render,this);
return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.getViewTitle=function(){return"Select Labels"};b.prototype.events={"mouseenter .item":"hoverLabelSelect","click .card-label":"addOrRemoveLabel"};b.prototype.render=function(b){var c,g,e,h,l,k;h=[];b||(b=m.labelNames);g=this.model.get("labels");l=0;for(k=b.length;l<k;l++)c=b[l],e=_.include(g,c),h.push({color:c,name:this.model.getBoard().getLabelName(c),isActive:e});this.$el.html(u.fill("popover_change_labels",{labels:h,hideEditTitles:!0}));
return this};b.prototype.hoverLabelSelect=function(b){b=$(b.target).closest(".card-label");return m.selectMenuItem(this.$(".edit-labels-pop-over"),".card-label",b)};b.prototype.addOrRemoveLabel=function(b){m.stop(b);b=$(b.target).closest(".card-label");b.toggleClass("active");b=b.attr("label");this.model.toggle("labels",b)?n("Card Composer","Add Label"):n("Card Composer","Remove Label")};return b}(A);ic=function(c){function b(){this.changePosition=k(this.changePosition,this);this.changeList=k(this.changeList,
this);this.updatePositionList=k(this.updatePositionList,this);this.updateListList=k(this.updateListList,this);this.renderPositionResults=k(this.renderPositionResults,this);this.filterPos=k(this.filterPos,this);this.selectPosResult=k(this.selectPosResult,this);this.hoverPosResultsSelect=k(this.hoverPosResultsSelect,this);return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.getViewTitle=function(){return"Select Position"};b.prototype.events={"change .js-select-list":"changeList",
"change .js-select-position":"changePosition","mouseenter .js-pos-results li":"hoverPosResultsSelect","click .js-select-pos-keyword":"selectPosResult","click .js-select-pos-pos":"selectPosResult","click .js-select-pos-list":"selectPosResult"};b.prototype.render=function(){this.$el.html(u.fill("popover_change_position"));this.updateListList();return this};b.prototype.hoverPosResultsSelect=function(b){b=$(b.target).closest("li");return m.selectMenuItem(this.$(".js-pos-results"),"li",b)};b.prototype.selectPosResult=
function(b){var c,g,e;m.stop(b);g=$(b.target).closest("a");e=g.attr("name");b=this.model.getList().cardList.openCards().length;c=b+1;g.hasClass("js-select-pos-keyword")?"top"===e?(this.model.set("index",0),n("Card Composer","Select Position in List by Autocomplete",'Top of List - Used "Top"')):"bottom"===e&&(this.model.set("index",c),n("Card Composer","Select Position in List by Autocomplete",'Bottom of List - Used "Bottom"')):g.hasClass("js-select-pos-pos")?(this.model.set("index",parseInt(e,10)-
1),n("Card Composer","Select Position in List by Autocomplete","Selected Position - Used Number")):g.hasClass("js-select-pos-list")&&(c=b===this.model.get("pos"),this.model.set("idList",e),c?(this.model.set("index",b),n("Card Composer","Select List by Autocomplete","Bottom")):n("Card Composer","Select List by Autocomplete","Not Bottom"));w.hide()};b.prototype.filterPos=function(b){var c,g,e,h,l,k,n,s,u,w;n=RegExp("^"+m.escapeForRegex(b));l=RegExp("^"+m.escapeForRegex(b)+"$");c=this.model.getList().cardList.openCards();
b={keywordList:function(){var b,c,d,f;d=["top","bottom"];f=[];b=0;for(c=d.length;b<c;b++)e=d[b],n.test(e)&&f.push(e);return f}(),indexList:function(){var b,d,e;e=[];g=b=1;for(d=c.length+1;1<=d?b<=d:b>=d;g=1<=d?++b:--b)l.test(String(g))&&e.push(g);return e}(),listList:[]};w=this.model.getBoard().openLists();s=0;for(u=w.length;s<u;s++)h=w[s],k=_.compact(h.get("name").toLowerCase().split(/\s+/)),_.find(k,function(b){return n.test(b)})&&b.listList.push(h.toJSON());b.hasData=!_.isEmpty(b.keywordList)||
!_.isEmpty(b.indexList)||!_.isEmpty(b.listList);return b};b.prototype.renderPositionResults=function(b){var c,g,e,h;c=this.model.getList();g=this.model.get("index")+1;e="of";1!==g&&g!==c.cardList.openCards().length+1&&(m.getNaturalNumber(g),e="in");c=this.model.toJSON({list:!0});_.extend(c,{indexPrep:e,keywordList:function(){var c,f,e,g;e=b.keywordList;g=[];c=0;for(f=e.length;c<f;c++)h=e[c],g.push({value:h,natural:m.capitalize(h)});return g}(),indexList:function(){var c,f,e,h;e=b.indexList;h=[];c=
0;for(f=e.length;c<f;c++)g=e[c],h.push({value:g,natural:m.getNaturalNumber(g)});return h}(),listList:b.listList});this.$el.html(u.fill("popover_filter_pos_results",c))};b.prototype.updateListList=function(){var b,c,g,e,h,k,m,n;g=this.model.getList();e=g.id;g=this.model.getBoard();c=this.$(".js-select-list");c.empty();n=_.sortBy(g.openLists(),function(b){return b.get("pos")});k=0;for(m=n.length;k<m;k++)g=n[k],b=h=g.get("name"),g.id===e&&(b+=" (selected)"),b=$("<option value='"+g.id+"'>"+_.escape(b)+
"</option>"),c.append(b),g.id===e&&(b.attr("selected","selected"),this.$(".js-list-value").text(h));return this.updatePositionList()};b.prototype.updatePositionList=function(){var b,c,g,e,h,k,q,n;c=this.$(".js-select-list");g=this.$(".js-select-position");c=c.find("option:selected").val();g.empty();h=this.model.getList();null!=this.model.getBoard().listList.get(c)||this.model.getBoard().openLists.at(0);c=h.cardList.openCards();this.model.get("index")>c.length&&this.model.set("index",c.length);if(0===
c.length)$("<option>").val("0").text("1").appendTo(g),this.$(".js-pos-value").html(m.getNaturalNumber(1));else{e=q=0;for(n=c.length;0<=n?q<=n:q>=n;e=0<=n?++q:--q)b=k=String(e+1),h=!1,0<c.length&&(0===e?b+=" (top)":e===c.length&&(b+=" (bottom)")),e===this.model.get("index")&&(h=!0),b=$("<option>").val(e).text(b).appendTo(g),h&&(b.attr("selected","selected"),this.$(".js-pos-value").html(m.getNaturalNumber(k)))}};b.prototype.changeList=function(){var b,c,g;c=this.model.get("pos");b=this.model.getList().cardList.openCards().length;
g=b===c;c=this.$(".js-select-list").find("option:selected").val();this.model.set("idList",c);g?(this.model.set("index",b),n("Card Composer","Change Position by Click","Change List - Bottom")):n("Card Composer","Change Position by Click","Change List - Not Bottom");w.hide()};b.prototype.changePosition=function(){var b;b=this.$(".js-select-position");b=parseInt(b.find("option:selected").val(),10);this.model.set("index",b);n("Card Composer","Change Position by Click","Change Position in List");w.hide()};
return b}(A);fc=function(c){function b(){this.chooseCard=k(this.chooseCard,this);this.selectCard=k(this.selectCard,this);this.renderResults=k(this.renderResults,this);this.keydownEvent=k(this.keydownEvent,this);return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.getViewTitle=function(){return"Search for Card to Copy..."};b.prototype.events={"click .list-card":"chooseCard","mouseenter .list-card":"selectCard"};b.prototype.render=function(){var b;b={};b.showInput=!this.options.fromComposer;
this.$el.html(u.fill("card_copy_from",b));this.options.fromComposer||_.delay(function(b){return function(){return b.$(".js-input").keydown(_.debounce(b.keydownEvent,150))}}(this),20);return this};b.prototype.keydownEvent=function(b){var c;m.stop(b);13===b.keyCode?this.$(".list-card.selected").first().click():38===(c=b.keyCode)||40===c?m.navMenuList(this.$(".js-card-results"),".list-card",b.keyCode):""===this.$(".js-input").val().trim()?this.$(".js-card-results").empty():this.renderResults()};b.prototype.renderResults=
function(b){var c,g,e,h,k,q,n,s,z,A,D,L,C,B;h=this.$(".js-card-results");z=/[\s\x21-\x22\x24-\x2F\x3A-\x40\x5B-\x60\x7B-\x7F]+/;g=/[\x21-\x22\x24-\x2F\x3A-\x40\x5B-\x60\x7B-\x7F]+/;if(b)A=RegExp("^("+b+")");else{b=this.$(".js-input").val().trim().toLowerCase();b=b.replace(g,"");if(""===b)return;b=b.split(/\s+/);A=RegExp("^("+b.join("|")+")")}h.empty();q=[];e=this.model.getBoard().openLists();D=0;for(n=e.length;D<n;D++){g=e[D];C=g.cardList.openCards();s=0;for(L=C.length;s<L;s++)k=C[s],g={card:k},g.nameList=
_.compact(k.get("name").toLowerCase().split(z)),_.find(g.nameList,function(b){return A.test(b)})&&q.push(g)}q=_.sortBy(q,function(c){return-_.intersection(c.nameList,b).length});if(_.isEmpty(q))h.append("<p class='empty'>No results</p>");else{D=q.slice(0,8);z=0;for(q=D.length;z<q;z++){g=D[z];n=g.card;g=n.toJSON();g.url="#";g.labels=n.getActiveLabels();e=u.fill("card_in_list",g,{},{label:u.label});g=$("<div class='list-card clearfix' cardId='"+g.id+"'>"+e+"</div>");s=n.memberList.models;e=g.find(".list-card-members");
L=0;for(C=s.length;L<C;L++)k=s[L],e.append("<div class='member'> "+u.fill("member",k.toJSON())+" </div>");c=g.find(".badges");null!=(B=n.badgeList)&&B.forEach(function(b){b.get("isArchived")||(b=b.getView(BadgeView,"cardcopy"),c.append(b.render().el))});h.append(g)}m.selectMenuItem(h,".list-card",h.find(".list-card").first());w.calcPos()}};b.prototype.selectCard=function(b){var c;c=this.$(".js-card-results");m.selectMenuItem(c,".list-card",$(b.target).closest(".list-card"))};b.prototype.chooseCard=
function(b){n("Card Composer","Select Card to Copy");b=$(b.target).closest(".list-card").attr("cardId");w.pushView({view:Gc,options:{model:this.Card.get(b),modelCache:this.modelCache}})};return b}(A);Lf=function(c){function b(){return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.className="calendar-card-composer";b.prototype.initialize=function(){return this.board=this.model.getBoard()};b.prototype.events={"change .js-select-list":"updatePositionList","change .js-select-position":"renderValues",
"click .js-add-card":"addCard",keydown:"keydownEvent"};b.prototype.getViewTitle=function(){return"Add Card"};b.prototype.setDate=function(b){this.date=b;return this.date.setHours(12)};b.prototype.remove=function(){var c;c={title:this.$(".js-card-title").val(),idList:this.$(".js-select-list").val(),pos:this.$(".js-select-position").val()};this.model.set(c).save();return b.__super__.remove.apply(this,arguments)};b.prototype.render=function(){var b;b={title:this.model.get("title")};this.$el.html(u.fill("popover_card_from_calendar",
b));this.updateListList();this.updatePositionList();_.defer(function(b){return function(){return m.setCaretAtEnd(b.$(".js-card-title")[0])}}(this));return this};b.prototype.keydownEvent=function(b){13===b.keyCode&&this.addCard(b)};b.prototype.addCard=function(b){var c,g;m.stop(b);if(c=$.trim(this.$(".js-card-title").val()))return w.hide(),this.model.moveToNext(),b=this.selectedList(),g=parseInt(this.$(".js-select-position").val()),c={closed:!1,dateLastActivity:new Date,due:this.date.toString(),idList:b.id,
pos:b.calcPos(g),name:c},b.cardList.create(c)};b.prototype.updateListList=function(){var b,c;b=this.$(".js-select-list");b.empty();c=this.board.openLists();_.each(c,function(c){return $("<option>").val(c.id).text(c.get("name")).appendTo(b)});b.val(this.model.get("idList"));b.val()||b.find("option").first().prop("selected",!0);return this.renderValues()};b.prototype.updatePositionList=function(){var b,c,g,e,h;b=this.$(".js-select-position");g=this.selectedList();b.empty();e=g.cardList.length;c=function(){h=
[];for(var b=0;0<=e?b<=e:b>=e;0<=e?b++:b--)h.push(b);return h}.apply(this);_.each(c,function(e){var g;g=function(){switch(e){case 0:return" (Top)";case c.length-1:return" (Bottom)";default:return""}}();return $("<option>").val(e).text(e+1+g).appendTo(b)});b.val(this.model.get("pos"));b.val()||b.find("option").last().prop("selected",!0);return this.renderValues()};b.prototype.selectedList=function(){var b;b=this.$(".js-select-list").val();return _.findWhere(this.board.listList.models,{id:b})};b.prototype.renderValues=
function(){var b;this.$el.find(".js-list-value").text(this.selectedList().get("name"));b=parseInt(this.$(".js-select-position").val());return this.$el.find(".js-pos-value").text(b+1)};return b}(A);zf=function(c){function b(){return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.getViewTitle=function(){return"Add card"};b.prototype.initialize=function(){return this.listenTo(z.me().boardList,"add remove reset",this.updateBoardData)};b.prototype.events={"change .js-select-board":"updateBoardData",
"click .js-submit":"createCard"};b.prototype.render=function(){var b;b={organizations:z.me().getOpenBoardsByOrg(!0)};this.$el.empty().append(u.fill("popover_create_card",b));this.updateBoardData();return this};b.prototype.renderValues=function(){var b,c,g,e;b=$(this.el);g=b.find(".js-select-board option:selected").val();e=b.find(".js-select-list option:selected").val();c=this.Board.get(g);g=c.get("name");c=_.find(c.listList.models,function(b){return function(b){return b.id===e}}(this));b.find(".js-board-value").text(g);
null!=c?(g=c.get("name"),b.find(".js-list-value").text(g),b.find(".js-select-list,.js-submit").removeAttr("disabled")):(b.find(".js-list-value").html("<i>No Lists</i>"),b.find(".js-select-list,.js-submit").attr("disabled","disabled"))};b.prototype.focusInput=function(){$(".js-card-name").focus().select()};b.prototype.getSelectedBoard=function(){var b,c;b=this.$(".js-select-board");b=null!=(c=b.find("option:selected").val())?c:b.find("option").first().val();return this.Board.get(b)};b.prototype.updateBoardData=
function(){var b,c,g,e,h;b=$(this.el);g=b.find(".js-select-board");e=null!=(h=g.find("option:selected").val())?h:g.find("option").first().val();b.find(".js-submit").attr("disabled","disabled");c=b.find(".js-select-list");c.attr("disabled","disabled");return P["for"](this.modelCache).loadBoardListData(e,{lists:"open",list_fields:"name,pos,idBoard",cards:"visible",card_fields:"idList,idBoard,pos"},function(g){return function(){g._boardData=g.Board.get(e);g.updateListList();c.removeAttr("disabled");
return b.find(".js-submit").removeAttr("disabled")}}(this))};b.prototype.updateListList=function(){var b,c;b=this.$(".js-select-list");b.empty();if(null!=this.getSelectedBoard())return c=this.getSelectedBoard().openLists(),_.each(c,function(c){return $("<option>").val(c.id).text(c.get("name")).appendTo(b)}),b.val()||b.find("option").first().prop("selected",!0),this.renderValues()};b.prototype.createCard=function(b){var c,g,e;c=this.$(".js-select-board");g=this.$(".js-select-list");b=this.$(".js-card-name");
c=c.find("option:selected").val();g=g.find("option:selected").val();e=b.val();null!=c&&g&&""!==e?T({url:"/1/cards",type:"post",data:{name:e,idList:g,idBoard:c},success:function(b){return function(c){b.render();b.focusInput();return n("Header","Add Menu","Successfully Created Card")}}(this)}):b.focus().select()};return b}(A);var ac,k=function(c,b){return function(){return c.apply(b,arguments)}},E={}.hasOwnProperty,s=function(c,b){function d(){this.constructor=c}for(var f in b)E.call(b,f)&&(c[f]=b[f]);
d.prototype=b.prototype;c.prototype=new d;c.__super__=b.prototype;return c},F=[].indexOf||function(c){for(var b=0,d=this.length;b<d;b++)if(b in this&&this[b]===c)return b;return-1};ac=function(c){function b(){this.updateDate=k(this.updateDate,this);this.dateKeyDown=k(this.dateKeyDown,this);this.removeDueDate=k(this.removeDueDate,this);this.submitDueDate=k(this.submitDueDate,this);return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.getViewTitle=function(){return"Change Due Date"};
b.prototype.tagName="form";b.prototype.className="dpicker-widget clearfix";b.prototype.initialize=function(){var b;b=this.model.getBoard();this.listenTo(b,{"change:powerUps":this.renderCalendar})};b.prototype.events={"click .js-save-edit":"submitDueDate","click .js-remove-date":"removeDueDate","keydown .js-dpicker-date-input":"dateKeyDown","blur .js-dpicker-date-input":"updateDate","click .js-enable-calendar-powerup":"enableCal"};b.prototype._closeDialog=function(b){m.stop(b);return w.hide()};b.prototype._getDate=
function(){var b,c;if(this.$(".js-dpicker-date-input").is(".input-error"))return null;b=this.$(".js-dpicker-date-input").val();c=this._cleanTime(this.$(".js-dpicker-time-input").val());return H.parse(""+b+" "+c)};b.prototype.submitDueDate=function(b){var c;m.stop(b);c=this._getDate();if(H.validDate(c))return this._closeDialog(b),b=c.getTime(),ja.set("dueDate",b),this.model.update("due",b)};b.prototype.removeDueDate=function(b){this._closeDialog(b);return this.model.update("due",null)};b.prototype.dateKeyDown=
function(b){if(m.isSubmitKey(b))return this.updateDate(b)};b.prototype.updateDate=function(b){var c,g,e;c=this.$(".js-dpicker-date-input");b=this.$(".js-dpicker-cal");e=c.val().replace(/\s/g,"").replace(/[\-.]/g,"/");g=Date.parse(H.convertDateFormat(e));e=_.select(e.split("/"),function(b){return 0<b});if(!g||2>_.select(e,function(b){return 3>b.length&&31>=b}).length)c.addClass("input-error");else if(c.removeClass("input-error"),3>e.length&&g<Date.today()&&g.setFullYear(g.getFullYear()+1),this._lastCalDate.toDateString()!==
g.toDateString())return this._lastCalDate=g,b.datepicker("setDate",H.toShortString(g))};b.prototype.renderCalendar=function(){var b,c,g,e;g=this.model.getBoard();c=this.$(".js-cal-enabled").addClass("hide");b=this.$(".js-enable-cal").addClass("hide");e=0<=F.call(null!=g?g.get("powerUps"):void 0,"calendar");g=(null!=g?g.owned():void 0)&&!e;e?c.removeClass("hide"):g&&b.removeClass("hide");w.calcPos();return this};b.prototype.render=function(){var b,c,g,e,h,k,m,n,s,z,A,D,L;b=this.model.getBoard();c=
null!=(g=this.model.get("badges"))?g.due:void 0;g=this.model.toJSON();g.hasDueDate=null!=c;this.$el.html(u.fill("date_picker",g,{owned:b.owned()}));this.renderCalendar();n=this.$(".js-dpicker-time-input");s=this.$(".js-dpicker-time-select");e=this.$(".js-dpicker-date-input");b=this.$(".js-dpicker-cal");c?c=H.parse(c):null!=ja.get("dueDate")&&(k=new Date(ja.get("dueDate")),k>new Date&&(c=k));_.isDate(c)||(c=null!=k?Date.today().add({days:1,hours:k.getHours()}):Date.today().add({days:1,hours:12}));
b.datepicker({altField:".js-dpicker-date-input",defaultDate:c,showOtherMonths:!0,selectOtherMonths:!0,dateFormat:H.isUS?"mm/dd/yy":"dd/mm/yy",onSelect:function(){return e.removeClass("input-error")},firstDay:H.isUS?0:1});w.calcPos();e.val(c.toString(H.isUS?"MM/dd/yyyy":"dd/MM/yyyy"));n.val(c.toString(H.timeFormat()));this._lastCalDate=c;g=["AM","PM"];k=[12,1,2,3,4,5,6,7,8,9,10,11];z=0;for(D=g.length;z<D;z++){b=g[z];A=0;for(L=k.length;A<L;A++)h=k[A],m='<option value="'+h+":00 "+b+'">'+h+":00 "+b+"</option>",
h='<option value="'+h+":30 "+b+'">'+h+":30 "+b+"</option>",s.append(m,h)}c=c.toString("h:00 tt");s.find('option[value="'+c+'"]').attr("selected",!0);s.change(function(){var b;b=s.find("option:selected").val();return n.val(b)});ra.fSmall&&(n.hide(),s.addClass("show"));n.keyup(function(b){return function(){if(b._timeOK(n.val()))return n.removeClass("input-error")}}(this));n.change(function(b){return function(){return b._timeOK(n.val())?n.removeClass("input-error"):n.addClass("input-error")}}(this));
return this};b.prototype._timeOK=function(b){return null!=this._cleanTime(b)};b.prototype._cleanTime=function(b){return H.normalizeTime(b)};b.prototype.enableCal=function(b){m.stop(b);b=this.model.getBoard();null!=b&&b.addToSet("powerUps","calendar");n("Card Menu","Enable Calendar via Due Date Menu")};return b}(A);var Fb,G=[].slice;Fb=new (function(){function c(){}c.prototype._knownUrls=[{name:"Trello Board",match:/^https:\/\/trello\.com\/b\/([a-zA-Z0-9]{8})(?:$|\/)/,previewClass:"attachment-thumbnail-preview-trello-logo",
icon:"https://d2k1ftgv7pobq7.cloudfront.net/images/services/e1b7406bd79656fdd26ca46dc8963bee/trello.png",text:function(b,c,f){var g,e,h;h=b[1];g=function(){var b;return null!=(b=c.get("Board",IdCache.getBoardId(h)))?b.get("name"):void 0};if(null!=(e=g()))return e;P["for"](c).loadBoardNames([h],function(b){b=$("#"+f);return null!=(e=g())?b.text(e):"private board"});return"board\u2026"}},{name:"Trello Card",match:/^https:\/\/trello\.com\/c\/([a-zA-Z0-9]{8})(?:$|\/)/,previewClass:"attachment-thumbnail-preview-trello-logo",
icon:"https://d2k1ftgv7pobq7.cloudfront.net/images/services/e1b7406bd79656fdd26ca46dc8963bee/trello.png",text:function(b,c,f){var g,e,h;h=b[1];g=function(){var b;return null!=(b=c.get("Card",IdCache.getCardId(h)))?b.get("name"):void 0};if(null!=(e=g()))return e;P["for"](c).loadCardData(h,function(b){b=$("#"+f);return null!=(e=g())?b.text(e):"private card"});return"card\u2026"}},{name:"FogBugz Case",match:/^https?:\/\/([^\.]+)\.fogbugz\.com\/(?:f\/cases\/|default\.asp\?)([\d]+)/,previewClass:"attachment-thumbnail-preview-fogbugz-logo",
icon:"https://d2k1ftgv7pobq7.cloudfront.net/images/services/a1385c9ce999f8389ec7dc43c1b24b2c/fogbugz.png",text:function(b){return"Case "+b[2]}},{name:"Kiln Commit",match:/^https?:\/\/([^\.]+)\.(?:fogbugz\.com\/kiln|kilnhg\.com)\/Code\/([^\/]+)\/([^\/]+)\/([^\/]+)\/History\/([^\/]+)/,previewClass:"attachment-thumbnail-preview-kiln-logo",icon:"https://d2k1ftgv7pobq7.cloudfront.net/images/services/6c1d65d72873b01d740adfbb9de22234/kiln.png",text:function(b){var c,f,g;f=b[2];g=b[3];c=b[4];b=b[5];return"Group"===
g?""+f+" \u00bb "+c+": "+b:""+f+" \u00bb "+g+" \u00bb "+c+": "+b},dataUrl:function(b){return b.replace(/\/Code\//,"/trello/Code/")},_processJSON:function(b,c){var f,g,e,h;if(null!=c.reviews){h=c.reviews;f=0;for(e=h.length;f<e;f++)g=h[f],g.status=function(){switch(g.sStatus){case "active":return"In Review";case "rejected":return"Review Rejected";case "needswork":return"Review Needs Work";case "abandoned":return"Review Abandoned";case "approved":return"Review Approved"}}(),g.url=b.replace(/\/Code\/.*$/,
"/Review/"+g.sReview)}c.sAuthor&&(c.author=c.sAuthor.replace(/\s<.*$/,""));c.hash&&(c.shortHash=c.hash.substr(0,6));c.sDescription&&(f=new Ha({restrict:{block:["paragraph","newline"],inline:["break","email","emoji","url"]}}),c.shortCommitMessage=c.sDescription.split("\n")[0],c.commitMessageHtml=f.format(c.sDescription).output);c.url=b;return c},previewHtml:function(b,c){return u.fill("kiln_changeset_preview",this._processJSON(b,c))},previewHtmlError:function(b,c){var f;return/unable to access/i.test(c)?
(b=null!=(f=/^https?:\/\/[-a-z0-9\.]+(\/kiln)?/.exec(b))?f[0]:void 0,{login:'You may be able to see more about this changeset by\n<a href="'+b+'" target="kiln">logging into Kiln</a>.'}):null},thumbnailHtml:function(b,c,f){return u.fill("kiln_changeset_thumbnail",_.extend({},this._processJSON(b,c),f))}},{name:"Kiln Code Review",match:/^https?:\/\/([^\.]+)\.(?:fogbugz\.com\/kiln|kilnhg\.com)\/Review\/(K[^\/]+)/,previewClass:"attachment-thumbnail-preview-kiln-logo",icon:"https://d2k1ftgv7pobq7.cloudfront.net/images/services/6c1d65d72873b01d740adfbb9de22234/kiln.png",
text:function(b){return"Review "+b[2]}},{name:"GitHub Commit",match:/^https?:\/\/github\.com\/([^\/]+)\/([^\/]+)\/commit\/([^\/]{40})$/,previewClass:"attachment-thumbnail-preview-github-logo",icon:"https://d2k1ftgv7pobq7.cloudfront.net/images/services/8cab38550d1f23032facde191031d024/github.png",text:function(b){return""+b[1]+"/"+b[2]+": "+b[3].substr(0,8)}},{name:"GitHub Issue",match:/^https?:\/\/github\.com\/([^\/]+)\/([^\/]+)\/issues\/(\d+)$/,previewClass:"attachment-thumbnail-preview-github-logo",
icon:"https://d2k1ftgv7pobq7.cloudfront.net/images/services/8cab38550d1f23032facde191031d024/github.png",text:function(b){return""+b[1]+"/"+b[2]+": #"+b[3]}},{name:"GitHub Pull Request",match:/^https?:\/\/github\.com\/([^\/]+)\/([^\/]+)\/pull\/(\d+)$/,previewClass:"attachment-thumbnail-preview-github-logo",icon:"https://d2k1ftgv7pobq7.cloudfront.net/images/services/8cab38550d1f23032facde191031d024/github.png",text:function(b){return""+b[1]+"/"+b[2]+": Pull Request #"+b[3]}}];c.prototype.interpret=
function(b,c){var f,g,e,h,k,m,n,s,u;u=this._knownUrls;n=0;for(s=u.length;n<s;n++)if(m=u[n],h=m.name,e=m.match,k=m.previewClass,f=m.icon,m=m.text,null!=(e=e.exec(b)))try{return g=_.uniqueId("known"),{id:g,name:h,previewClass:k,icon:f,text:m(e,c,g)}}catch(w){}return null};c.prototype._runHandler=function(){var b,c,f,g,e,h,k,m;g=arguments[0];h=arguments[1];b=4<=arguments.length?G.call(arguments,2,c=arguments.length-1):(c=2,[]);e=arguments[c++];m=this._knownUrls;c=0;for(k=m.length;c<k;c++)if(f=m[c],f.match.test(h)&&
null!=f[g]){c=f.dataUrl;$.ajax({url:c(h),xhrFields:{withCredentials:!0},headers:{"X-Trello":"Is it me you're looking for?"},success:function(c){return e(null,f[g].apply(f,[h,c].concat(G.call(b))))},error:function(c,d,k){c=""+g+"Error";k="function"===typeof f[c]?f[c].apply(f,[h,k].concat(G.call(b))):void 0;return e(null!=k?k:"could not load")}});return}e()};c.prototype.previewHtml=function(b,c){return this._runHandler("previewHtml",b,c)};c.prototype.thumbnailHtml=function(b,c,f){return this._runHandler("thumbnailHtml",
b,c,f)};return c}());var ui,Cg,Hg,E={}.hasOwnProperty,s=function(c,b){function d(){this.constructor=c}for(var f in b)E.call(b,f)&&(c[f]=b[f]);d.prototype=b.prototype;c.prototype=new d;c.__super__=b.prototype;return c},G=[].slice,k=function(c,b){return function(){return c.apply(b,arguments)}};ui=function(c){function b(){return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.typeName="Attachment";b.prototype.urlRoot=function(){return""+this.getCard().url()+"/attachments"};b.prototype.getCard=
function(){return this.collection.sourceModel};b.prototype.editable=function(){return this.getCard().editable()};b.prototype.smallestPreviewBiggerThan=function(b){return m.smallestPreviewBiggerThan(this.get("previews"),b)};b.prototype.previewBetween=function(b,c,g,e){return m.previewBetween.apply(m,[this.get("previews")].concat(G.call(arguments)))};b.prototype.biggestPreview=function(){return m.biggestPreview(this.get("previews"))};b.prototype.smallestPreview=function(){return m.smallestPreview(this.get("previews"))};
b.prototype.getType=function(){var b,c;b=m.getAttachmentData(this);null!=b.ext?c=b.ext:null!=b.meta&&(c=b.meta);return c};return b}(na);Cg=function(c){function b(){return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.model=ui;b.prototype.comparator=function(b){return-H.parse(b.get("date"))||0};b.prototype.initialize=function(b,c){this.options=c};return b}(fb);Hg=function(c){function b(){this.render=k(this.render,this);return b.__super__.constructor.apply(this,arguments)}s(b,c);
b.prototype.className="attachment-thumbnail";b.prototype.events={"click .js-open-viewer":"openViewer","click .js-download":"download","click .js-make-cover":"makeCover","click .js-remove-cover":"removeCover","click .js-confirm-delete":"confirmDelete"};b.prototype.render=function(){var b,c,g,e,h,k,q;e=m.getAttachmentData(this.model,this.modelCache);e.canUseViewer=!0;h=this.model.smallestPreviewBiggerThan(110);ma.isHighDPI()&&(c=this.model.smallestPreviewBiggerThan(220),h=null!=c?c:h);null!=h?(e.isImage=
!0,g=this.model.getCard(),c=g.getBoard(),e.cardCovers=null!=c?null!=(k=c.get("prefs"))?k.cardCovers:void 0:void 0,e.isCover=e.cardCovers&&g.get("idAttachmentCover")===this.model.id,e.imgSrc=h.url,e.edgeColor=null!=(q=e.edgeColor)?q:"transparent",e.ext=null):null==e.ext||6<e.ext.length?(e.ext=null,e.canUseViewer=!1):m.isViewerable(e.ext)||(e.canUseViewer=!1);ma.isTouch()&&(e.canUseViewer=!1);this.$el.html(u.fill("attachment_thumb",e,{editable:this.model.editable()}));this.renderCoverState();H.update(this.el);
e.isKnownService&&(b=this.$(".js-attachment-thumbnail-details"),Fb.thumbnailHtml(e.url,e,function(c,f){if(null==c&&null!=f)return b.html(f),H.update(b)}));return this};b.prototype.openViewer=function(b){b.metaKey||(m.stop(b),(new Dc({model:this.model.getCard(),modelCache:this.modelCache,attachmentModel:this.model})).render(),n("Attachment","Open Attachment Viewer",this.model.getType()))};b.prototype.renderCoverState=function(){var b,c,g,e,h;g=null!=(b=this.model.getCard())?null!=(c=b.getBoard())?
c.getPref("cardCovers"):void 0:void 0;b=this.$(".js-make-cover").addClass("hide");c=this.$(".js-remove-cover").addClass("hide");if(0<(null!=(e=this.model.get("previews"))?e.length:void 0)&&g)g=(null!=(h=this.model.getCard())?h.get("idAttachmentCover"):void 0)===this.model.id,b.toggleClass("hide",g),c.toggleClass("hide",!g)};b.prototype.download=function(b){m.stopPropagation(b);n("Attachment","Attachment Thumbnail","Download")};b.prototype.makeCover=function(b){m.stop(b);w.hide();this.model.getCard().makeCover(this.model);
n("Attachment","Attachment Thumbnail","Make Cover")};b.prototype.removeCover=function(b){m.stop(b);w.hide();this.model.getCard().removeCover(null);n("Attachment","Attachment Thumbnail","Remove Cover")};b.prototype.confirmDelete=function(b){var c;m.stop(b);b=m.getAttachmentData(this.model,this.modelCache);c="Deleting an attachment is permanent. There is no undo.";b.isExternal&&(c="Remove this "+b.serviceName+" file? There is no undo.");pa.toggle({elem:this.$(".js-confirm-delete"),top:20,model:this.model,
title:""+b.removeText+" Attachment?",text:c,confirmText:b.removeText,confirmBtnClass:"negate",fxConfirm:function(b){return function(c){b.model.destroy();return n("Attachment","Delete Attachment",b.model.getType())}}(this)});n("Attachment","Attachment Thumbnail","Confirm Delete")};return b}(A);var Dc,k=function(c,b){return function(){return c.apply(b,arguments)}},E={}.hasOwnProperty,s=function(c,b){function d(){this.constructor=c}for(var f in b)E.call(b,f)&&(c[f]=b[f]);d.prototype=b.prototype;c.prototype=
new d;c.__super__=b.prototype;return c},F=[].indexOf||function(c){for(var b=0,d=this.length;b<d;b++)if(b in this&&this[b]===c)return b;return-1};Dc=function(c){function b(){this["delete"]=k(this["delete"],this);this.closeDeleteConfirm=k(this.closeDeleteConfirm,this);this.openDeleteConfirm=k(this.openDeleteConfirm,this);return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.className="attachment-viewer";b.prototype.initialize=function(){var b,c;w.hide();this.allowsCardCovers=null!=
(c=this.model.getBoard())?c.getPref("cardCovers"):void 0;this.currentAttachment=this.options.attachmentModel;b=this.options.idAttachment;if(null!=b)return this.currentAttachment=this.model.attachmentList.find(function(c){return c.id===b})};b.prototype.events={"click .js-show-next-frame":"showNextFrame","click .js-show-prev-frame":"showPrevFrame","mouseenter .js-show-next-frame":"hintNextFrame","mouseenter .js-show-prev-frame":"hintPrevFrame","mouseleave .js-show-next-frame":"clearHint","mouseleave .js-show-prev-frame":"clearHint",
"click .js-stop":"stop","click .js-close-viewer":"close","click .js-open-delete-confirm":"openDeleteConfirm","click .js-close-delete-confirm":"closeDeleteConfirm","click .js-delete":"delete","click .js-make-cover":"makeCover","click .js-remove-cover":"removeCover",shortcut:"shortcut"};b.prototype.shortcut=function(b){switch(b){case 27:return this.close(),["Esc - Close Attachment Viewer","Attachment Viewer"];case 39:return this.showNextFrame(),["Right Arrow - Next Attachment","Attachment Viewer"];
case 37:return this.showPrevFrame(),["Left Arrow - Previous Attachment","Attachment Viewer"]}};b.prototype.getAttachmentModels=function(){return this.model.attachmentList.models};b.prototype.getAttachmentModelsLength=function(){return this.getAttachmentModels().length};b.prototype.getCurrentAttachmentIndex=function(){return _.indexOf(this.getAttachmentModels(),this.currentAttachment)};b.prototype.getNextAttachmentIndex=function(){var b;b=this.getCurrentAttachmentIndex()+1;return b>=this.getAttachmentModelsLength()?
null:b};b.prototype.getNextModel=function(){var b;b=this.getNextAttachmentIndex();return null!=b?this.getAttachmentModels()[b]:null};b.prototype.getPrevAttachmentIndex=function(){var b;b=this.getCurrentAttachmentIndex()-1;return 0>b?null:b};b.prototype.getPrevModel=function(){var b;b=this.getPrevAttachmentIndex();return null!=b?this.getAttachmentModels()[b]:null};b.prototype.render=function(){var b;b=this.model.toJSON();b.numAttachments=this.getAttachmentModelsLength();this.$el.html(u.fill("attachment_viewer",
b));this.addNewFrame(this.currentAttachment,"center");b=this.getNextModel();null!=b&&this.addNewFrame(b,"right");b=this.getPrevModel();null!=b&&this.addNewFrame(b,"left");this.setDetailsAndControls();$("body").append(this.$el);"undefined"!==typeof X&&null!==X&&X.addHandler(this,{scope:"attachment_viewer",modal:!0,top:!0});return this};b.prototype.setDetailsAndControls=function(){var b,c;b=m.getAttachmentData(this.currentAttachment,this.modelCache);b.canMakeCover=this.allowsCardCovers&&0<(null!=(c=
b.previews)?c.length:void 0);b.isCover=this.allowsCardCovers&&this.model.get("idAttachmentCover")===this.currentAttachment.id;this.$(".js-display-frame-details").empty().append(u.fill("attachment_viewer_frame_details",b,{editable:this.model.editable()}));this.$(".js-show-prev-frame").toggleClass("hide",null==this.getPrevAttachmentIndex());this.$(".js-show-next-frame").toggleClass("hide",null==this.getNextAttachmentIndex());H.update(this.el)};b.prototype.addNewFrame=function(b,c){var g,e,h,k,q,n,s,
w;g=m.getAttachmentData(b,this.modelCache);null!=c&&(g.directionClass="attachment-viewer-frame-"+c);q=(e=g.ext,0<=F.call(m.imageExts(),e))||0<(null!=(s=g.previews)?s.length:void 0);e=(n=g.ext,0<=F.call(m.audioExts(),n));n=(k=g.ext,0<=F.call(m.videoExts(),k));k=(h=g.ext,0<=F.call(m.iFrameableExts(),h));h=(w=g.ext,0<=F.call(m.googleViewerableExts(),w));g.isExternal?g.isPlaceholder=!0:q?g.isImage=!0:e?g.isAudio=!0:n?g.isVideo=!0:k?g.isIFrameable=!0:h?(g.isIFrameable=!0,q=encodeURIComponent(g.url),g.url=
"https://docs.google.com/viewer?embedded=true&url="+q):(g.isPlaceholder=!0,g.openText="Download");this.$(".js-frames").append(u.fill("attachment_viewer_frame",g,{editable:this.model.editable()}));_.defer(function(){return $(".attachment-viewer-frame").addClass("attachment-viewer-frame-loaded")});return this};b.prototype.focusFrame=function(b,c){var g,e,h,k;this.currentAttachment=b;g=_.find(this.$(".attachment-viewer-frame"),function(c){return function(c){return $(c).attr("data-idAttachment")===b.id}}(this));
switch(c){case "right":e=this.$(".attachment-viewer-frame-left");k="attachment-viewer-frame-left";h=this.getNextModel();break;case "left":e=this.$(".attachment-viewer-frame-right"),k="attachment-viewer-frame-right",h=this.getPrevModel()}this.$(".attachment-viewer-frame-center").removeClass("attachment-viewer-frame-center").addClass(k);$(g).removeClass("attachment-viewer-frame-left attachment-viewer-frame-right").addClass("attachment-viewer-frame-center");e.remove();null!=h?this.addNewFrame(h,c):this.clearHint();
this.setDetailsAndControls()};b.prototype.showNextFrame=function(b){m.stop(b);b=this.getNextModel();null!=b&&this.focusFrame(b,"right");n("Attachment Viewer","Show Next Frame")};b.prototype.showPrevFrame=function(b){m.stop(b);b=this.getPrevModel();null!=b&&this.focusFrame(b,"left");n("Attachment Viewer","Show Previous Frame")};b.prototype.hintNextFrame=function(){this.$el.addClass("attachment-viewer-frames-next-hint")};b.prototype.hintPrevFrame=function(){this.$el.addClass("attachment-viewer-frames-prev-hint")};
b.prototype.clearHint=function(){this.$el.removeClass("attachment-viewer-frames-next-hint attachment-viewer-frames-prev-hint")};b.prototype.stop=function(b){return m.stopPropagation(b)};b.prototype.openDeleteConfirm=function(b){m.stop(b);this.$(".js-meta").addClass("hide");this.$(".js-confirm-delete").removeClass("hide");n("Attachment Viewer","Open Delete Attachment Confirm")};b.prototype.closeDeleteConfirm=function(b){m.stop(b);this.$(".js-meta").removeClass("hide");this.$(".js-confirm-delete").addClass("hide");
n("Attachment Viewer","Close Delete Attachment Confirm")};b.prototype["delete"]=function(b){m.stop(b);this.currentAttachment.destroy();this.close();n("Attachment Viewer","Delete Attachment")};b.prototype.renderToggleCover=function(){var b;b=this.allowsCardCovers&&0<this.currentAttachment.get("previews").length;this.$(".js-cover-options").toggleClass("hide",!b);b=this.allowsCardCovers&&this.model.get("idAttachmentCover")===this.currentAttachment.id;this.$(".js-make-cover-box").toggleClass("hide",b);
this.$(".js-remove-cover-box").toggleClass("hide",!b)};b.prototype.makeCover=function(){this.model.makeCover(this.currentAttachment);this.renderToggleCover();n("Attachment Viewer","Make Cover")};b.prototype.removeCover=function(){this.model.removeCover(null);this.renderToggleCover();n("Attachment Viewer","Remove Cover")};b.prototype.close=function(){this.remove();X.removeHandler(this);n("Attachment Viewer","Close Viewer")};return b}(A);var Ae,k=function(c,b){return function(){return c.apply(b,arguments)}},
E={}.hasOwnProperty,s=function(c,b){function d(){this.constructor=c}for(var f in b)E.call(b,f)&&(c[f]=b[f]);d.prototype=b.prototype;c.prototype=new d;c.__super__=b.prototype;return c};Ae=function(c){function b(){this.render=k(this.render,this);return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.render=function(b){var c,g;c=null!=(g=null!=b?b.timeInSeconds:void 0)?g:60;c=Math.floor(c/60);return this.$el.html(u.fill("upgrade",{stopped:null!=b?b.stopped:void 0,timeInMinutes:c,plural:1<
c}))};b.prototype.events={"click .js-upgrade":"upgrade","click .js-stop-upgrade":"stopUpgrade"};b.prototype.upgrade=function(b){B.upgradeNow();return!1};b.prototype.stopUpgrade=function(b){B.stopUpgrade();return!1};return b}(A);var Be,E={}.hasOwnProperty,s=function(c,b){function d(){this.constructor=c}for(var f in b)E.call(b,f)&&(c[f]=b[f]);d.prototype=b.prototype;c.prototype=new d;c.__super__=b.prototype;return c};Be=function(c){function b(){return b.__super__.constructor.apply(this,arguments)}s(b,
c);b.prototype.initialize=function(){var b;this.shareUrl=""+siteDomain+"/"+(null!=(b=this.getMe())?b.get("username"):void 0)+"/recommend";return this.shareMessageText=["It's like a whiteboard with super powers.","It's like sticky notes on steroids.","It's like three cups of coffee for your productivity.","It's like organization powered by rocket fuel."]};b.prototype.events={"click .js-user-reco-link":"clickRecoLinkShare","click .js-twitter-share":"clickTwitterShare","click .js-facebook-share":"clickFacebookShare"};
b.prototype.getMe=function(){return this.Member.get(z.myId())};b.prototype.render=function(){var b,c,g,e,h,k,q,n,s,w;g={};g.me=null!=(c=this.getMe())?c.toJSON():void 0;g.shareUrl=this.shareUrl;g.twitterShareUrl=this.constructTwitterUrl();g.facebookShareUrl=this.constructFacebookUrl();e=null!=(n=this.getMe().get("credits"))?n:[];n=_.filter(e,function(b){return b.count&&"invitation"===b.type});k=_.filter(e,function(b){return b.count&&"promoCode"===b.type});b=n.length;q=h=0;for(s=n.length;q<s;q++)c=
n[q],h+=c.count;s=q=0;for(w=k.length;s<w;s++)c=k[s],q+=c.count;q&&(g.promoMonths=m.formatCount(q,"free month",!0));h=Math.min(12,h);g.freeMonths=m.formatCount(h,"free month",!0);c=_.filter(e,function(b){var c;return!b.applied&&0<b.count&&("invitation"===(c=b.type)||"promoCode"===c)});c=_.reduce(c,function(b,c){return b+c.count},0);0<b&&(g.joined=1===b?"1 person":""+b+" people");this.$el.html(u.fill("reco",g));this.$(".js-redeem").empty().toggleClass("hide",0===c);0<c&&this.$(".js-redeem").empty().append(this.subview(cc,
this.getMe(),{allowDismiss:!1}).render().el);g=Math.min(100,Math.floor(100*h/12));this.$(".js-reco-progress-bar-current").css({width:""+g+"%"});b=this.$(".js-joined-members").empty();h=0;for(e=n.length;h<e;h++)c=n[h],null!=c.memberInvited&&(g=c.memberInvited,g.via=c.via,b.append(u.fill("reco_joined_member",g,{},{member:u.member})));return this};b.prototype.getShareMessageText=function(){var b;b=Math.floor(Math.random()*this.shareMessageText.length);return this.shareMessageText[b]};b.prototype.constructTwitterUrl=
function(){var b;b="You need @trello. "+this.getShareMessageText()+" "+this.shareUrl+" (And it's free.)";return"https://twitter.com/intent/tweet?text="+encodeURIComponent(b)+"&related=trello"};b.prototype.constructFacebookUrl=function(){var b;b="Try Trello. "+this.getShareMessageText()+" (And it's free.)";return"https://www.facebook.com/sharer/sharer.php?u="+this.shareUrl+"&t="+encodeURIComponent(b)};b.prototype.clickRecoLinkShare=function(){return n("Reco","Click Share Link")};b.prototype.clickTwitterShare=
function(){return n("Reco","Click Twitter Share Link")};b.prototype.clickFacebookShare=function(){return n("Reco","Click Facebook Share Link")};return b}(ha);var Fa,E={}.hasOwnProperty,s=function(c,b){function d(){this.constructor=c}for(var f in b)E.call(b,f)&&(c[f]=b[f]);d.prototype=b.prototype;c.prototype=new d;c.__super__=b.prototype;return c};Fa=new (function(c){function b(){b.__super__.constructor.call(this);this.set({id:"memberState-"+z.myId()});this.fetch()}s(b,c);b.prototype["default"]=function(){return{cardsPageSortType:"board",
processingAttachmentsLength:0}};b.prototype.getCardsPageSortType=function(){return this.get("cardsPageSortType")};b.prototype.sortCardsPageByBoard=function(){return this.save("cardsPageSortType","board")};b.prototype.sortCardsPageByDate=function(){return this.save("cardsPageSortType","date")};b.prototype.getProcessingAttachmentsLength=function(){return this.get("processingAttachmentsLength")};b.prototype.addProcessingAttachment=function(){var b;b=this.getProcessingAttachmentsLength()+1;return this.save("processingAttachmentsLength",
b)};b.prototype.removeProcessingAttachment=function(){var b;b=this.getProcessingAttachmentsLength()-1;0>b&&(b=0);return this.save("processingAttachmentsLength",b)};b.prototype.clearProcessingAttachments=function(){return this.save("processingAttachmentsLength",0)};return b}(gb));var sg,k=function(c,b){return function(){return c.apply(b,arguments)}},E={}.hasOwnProperty,s=function(c,b){function d(){this.constructor=c}for(var f in b)E.call(b,f)&&(c[f]=b[f]);d.prototype=b.prototype;c.prototype=new d;
c.__super__=b.prototype;return c};sg=function(c){function b(){this.render=k(this.render,this);this.initialize=k(this.initialize,this);return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.className="version-tag";b.prototype.initialize=function(){$(Oa).bind("change:serverVersion",this.render);b.__super__.initialize.apply(this,arguments);return this.render()};b.prototype.render=function(){this.$el.text(Oa.getVersionDisplay());return this};return b}(A);var Vc,Wc,Xc,Ce,ra,k=function(c,
b){return function(){return c.apply(b,arguments)}};Ce={width:0,className:"small-window"};Xc={width:750,className:"medium-window"};Wc={width:900,className:"large-window"};Vc={width:1280,className:"extra-large-window"};ra=new (function(){function c(){this.ensureRun=k(this.ensureRun,this);this.calc=k(this.calc,this)}c.prototype.calc=function(){var b,c,f,g,e,h;"undefined"!==typeof ua&&null!==ua&&ua.time("WindowSize.calc");this.ranCalc=!0;c=this.className;b=$(window).width();$("#surface").height("initial");
this.fExtraLarge=this.fLarge=this.fMedium=this.fSmall=!1;b>Vc.width?(this.className=Vc.className,this.fExtraLarge=!0):b>Wc.width?(this.className=Wc.className,this.fLarge=!0):b>Xc.width?(this.className=Xc.className,this.fMedium=!0):($("#surface").height($(window).height()),this.className=Ce.className,this.fSmall=!0);b="unknown-window";g=[Vc,Wc,Xc,Ce];e=0;for(h=g.length;e<h;e++)f=g[e],b=b+" "+f.className;c!==this.className&&($("body").removeClass(b).addClass(this.className),$(this).triggerHandler("windowClassChange",
{newClass:this.className,oldClass:c}));return"undefined"!==typeof ua&&null!==ua?ua.timeEnd("WindowSize.calc"):void 0};c.prototype.ensureRun=function(){if(!this.ranCalc)return this.calc()};return c}());var qa,k=function(c,b){return function(){return c.apply(b,arguments)}};qa=new (function(){function c(){this.isEditing=k(this.isEditing,this);this.cancelEdits=k(this.cancelEdits,this)}c.prototype.cancelEdits=function(b){$(".edit-controls:not(.keep)").remove();$(".editing").removeClass("editing");$(".checklist-new-item").removeClass("focus");
$("input").not(b||"none").blur();$("textarea").not(b||"none").blur();b=$(".editable");if(0<b.length)return b.each(function(b){var c,g,e,h;c=$(".editable")[b];h=$(c).find(".edits-warning:first");b=$(c).find(".current:first");g=$(c).find(".field:first");c=g.data("draftKey");if((null!=(e=b.data("unmarkeddown"))?e!==g.val():g.val()!==b.text())&&""!==g.val()&&null!=c)return ja.set(c,g.val()),h.show()})};c.prototype.isEditing=function(){return 0<$(".editing").length+$(".checklist-new-item.focus").length};
return c}());var M,k=function(c,b){return function(){return c.apply(b,arguments)}};M=new (function(){function c(){this.scrollWhileSorting=k(this.scrollWhileSorting,this);this.getScrollListForCardSort=k(this.getScrollListForCardSort,this);this.getScrollListForMemberSidebarDrag=k(this.getScrollListForMemberSidebarDrag,this);this.refresh=k(this.refresh,this);this.refreshDraggable=k(this.refreshDraggable,this);this.refreshListCardSortable=k(this.refreshListCardSortable,this);this.refreshCalendarCardSortable=
k(this.refreshCalendarCardSortable,this);this.refreshCardSortable=k(this.refreshCardSortable,this);this.refreshListSortable=k(this.refreshListSortable,this);this.getBoardMeasurements=k(this.getBoardMeasurements,this);this.detachMousePos=k(this.detachMousePos,this);this.attachMousePos=k(this.attachMousePos,this);this.resetMouse=k(this.resetMouse,this);this.endSort=k(this.endSort,this);this.startSort=k(this.startSort,this)}c.prototype.startSort=function(b,c,f){c=B.getCurrentModelCache();this._lockIndex=
null!=c?c.lock("DragSort.startSort"):void 0;M.sorting=!0;M.resetMouse();M.getBoardMeasurements(f);M.attachMousePos();aa.hideSidebar();this.scrollSetTimeoutId=setInterval(M.scrollWhileSorting,16);1>$(b.target).closest(".pop-over").length&&w.hide()};c.prototype.endSort=function(){var b;b=B.getCurrentModelCache();null!=b&&b.unlock(this._lockIndex);M.scrollList=null;M.detachMousePos();M.resetMouse();b=B.getCurrentBoard();b.viewState.get("archiveSidebarDropzoneVisible")&&b.viewState.setArchiveSidebarDropzone(!1);
clearInterval(this.scrollSetTimeoutId);_.defer(function(){return M.sorting=!1})};c.prototype.resetMouse=function(){this.mouseX=this.mouseY=null;return this.hasMousedLeft=this.hasMousedRight=!1};c.prototype.attachMousePos=function(){var b,c;$(window).height();b=$(".board-canvas").width();c=B.getCurrentBoard().viewState.get("archiveSidebarDropzoneVisible");$(document).on("mousemove.dragsort",function(f){return function(g){c&&f.mouseX>b?(M.isInSidebarArchiveDropzone=!0,$(".list-card.placeholder").addClass("hide"),
$(".js-sidebar-archive-dropzone").addClass("hover-state")):(M.isInSidebarArchiveDropzone=!1,M.isInBottomArchiveDropzone=!1,$(".list-card.placeholder").removeClass("hide"),$(".js-sidebar-archive-dropzone").removeClass("hover-state"),$(".js-bottom-archive-dropzone").removeClass("hover-state"));null!=f.mouseX&&null!=f.mouseY&&(g.pageX<f.mouseX-40?f.hasMousedLeft=!0:g.pageX>f.mouseX+40&&(f.hasMousedRight=!0));f.mouseX=g.pageX;return f.mouseY=g.pageY}}(this))};c.prototype.detachMousePos=function(){return $(document).off("mousemove.dragsort")};
c.prototype.getBoardMeasurements=function(b){var c;this.pxBoardBorder=200;this.pxListBorder=170;this.pxMemberBoardBorder=40;this.$listArea=$(".list-area-wrapper")[0];this.scrollFactor=0.1;c=$(".board-canvas");this.boardWidth=c.outerWidth();this.boardOffset=c.offset();this.boardHeight=c.height();null!=b&&b.isMemberDrag?(this.leftEdge=this.boardOffset.left+this.pxMemberBoardBorder,this.rightEdge=this.boardOffset.left+this.boardWidth-this.pxMemberBoardBorder):(this.leftEdge=this.boardOffset.left+this.pxBoardBorder,
this.rightEdge=this.boardOffset.left+this.boardWidth-this.pxBoardBorder);this.cardAreaWidth=$(".list-area").outerWidth();this.maxRightScroll=this.cardAreaWidth-this.boardWidth+10;this.topEdge=this.boardOffset.top+this.pxListBorder;this.bottomEdge=this.boardOffset.top+this.boardHeight-this.pxListBorder};c.prototype.refreshListSortable=function(){return Qa.enqueue("refreshListSortable",function(){if(!ma.isTouch())return $(".js-list-sortable").sortable({handle:".list-header",tolerance:"pointer",placeholder:"list placeholder",
scroll:!1,delay:"75",distance:"7",items:".list:not(.add-list)",start:function(b,c){var f,g;M.startSort(b,c);$(c.helper).appendTo("body");"function"===typeof(f=$(".js-list-sortable")).sortable&&f.sortable("refreshPositions",!0);g=$(c.helper).width();f=$(c.helper).height();$(c.placeholder).width(g).height(f);$(".list.add-list").addClass("fade");$(".list.add-list").one("transitionend webkitTransitionEnd",function(b){return $(this).addClass("hide")})},stop:function(b,c){m.stopPropagation(b);M.endSort();
$(".list.add-list").removeClass("hide").removeClass("fade").off("transitionend webkitTransitionEnd")}})})};c.prototype.refreshCardSortable=function(){return Qa.enqueue("refreshCardSortable",function(b){return function(){var c;c=B.getCurrentBoardView();return B.showingCalendar(c)?b.refreshCalendarCardSortable():b.refreshListCardSortable()}}(this))};c.prototype.refreshCalendarCardSortable=function(){return Qa.enqueue("refreshCalendarCardSortable",function(b){return function(){if(!ma.isTouch())return $(".js-calendar-sortable, .js-archived-cards").sortable({connectWith:".js-calendar-sortable",
placeholder:"list-card placeholder-none",scroll:!1,distance:"7",delay:"75",items:".list-card:not('.placeholder-none,.hide,.js-composer')",start:function(b,c){var g,e;$(c.helper).appendTo(".calendar-drag-area");null!=(e=$(".js-calendar-sortable, .js-archived-cards"))&&"function"===typeof e.sortable&&e.sortable("refreshPositions",!0);g=B.getCurrentBoard();_.defer(function(){null!=g&&g.viewState.get("showSidebar")&&(null!=g?g.viewState.getCurrentSidebarView():void 0)instanceof Ka&&g.viewState.setArchiveSidebarDropzone(!0);
return M.startSort(b,c)})},stop:function(b,c){var g;m.stopPropagation(b);M.endSort();g=B.getCurrentBoard();if(null!=g&&g.viewState.get("showSidebar")&&(null!=g?g.viewState.getCurrentSidebarView():void 0)instanceof Ka&&M.isInSidebarArchiveDropzone)g.viewState.setArchiveSidebarDropzone(!1),_.defer(function(){return g.viewState.getCurrentSidebarView().renderArchivedCards()})},over:function(b,c){return $(this).parents(".calendar-day").addClass("drop")},out:function(b,c){return $(this).parents(".calendar-day").removeClass("drop")}})}}(this))};
c.prototype.refreshListCardSortable=function(){return Qa.enqueue("refreshListCardSortable",function(){if(!ma.isTouch())return $(".js-sortable, .js-archived-cards").sortable({connectWith:".js-sortable",placeholder:"list-card placeholder",scroll:!1,delay:"75",distance:"7",items:".list-card:not('.placeholder,.hide,.js-composer')",start:function(b,c){var f;M.draggedCardList=$(b.target).closest(".js-sortable");M.getScrollListForCardSort(c);$(c.helper).appendTo("body");null!=(f=$(".js-sortable, .js-archived-cards"))&&
"function"===typeof f.sortable&&f.sortable("refreshPositions",!0);f=B.getCurrentBoard();null!=f&&f.viewState.get("showSidebar")&&(null!=f?f.viewState.getCurrentSidebarView():void 0)instanceof Ka&&f.viewState.setArchiveSidebarDropzone(!0);M.startSort(b,c);f=$(c.helper).height()+1;$(c.placeholder).height(f);$("#edit-sticker").hide()},stop:function(b,c){var f;m.stopPropagation(b);M.endSort();f=B.getCurrentBoard();null!=f&&f.viewState.get("showSidebar")&&((null!=f?f.viewState.getCurrentSidebarView():
void 0)instanceof Ka&&(M.isInSidebarArchiveDropzone||M.isInBottomArchiveDropzone))&&_.defer(function(){return f.viewState.getCurrentSidebarView().renderArchivedCards()})},over:function(b,c){M.getScrollListForCardSort(c)},custom:{refreshContainers:function(){var b,c,f,g,e,h;h=[];for(c=g=e=this.containers.length-1;0>=e?0>=g:0<=g;c=0>=e?++g:--g)b=this.containers[c].element,f=$(b).closest(".list"),f.length&&(b=f),f=b.offset(),this.containers[c].containerCache.left=f.left,this.containers[c].containerCache.top=
f.top,this.containers[c].containerCache.width=b.outerWidth(),h.push(this.containers[c].containerCache.height=b.outerHeight());return h}}})})};c.prototype.refreshDraggable=function(){return Qa.enqueue("refreshDraggable",function(){if(!ma.isTouch())return $(".js-list-draggable-board-members .member:not(.deactivated)").draggable({revert:"invalid",revertDuration:150,appendTo:"#surface",containment:"#surface",zIndex:100,helper:"clone",delay:"75",distance:"7",start:function(b,c){n("Board View","Drag Member from Sidebar");
$(".list-card.active-card").removeClass("active-card");M.startSort(b,c,{isMemberDrag:!0});M.getScrollListForMemberSidebarDrag(b,c);1>$(b.target).closest(".pop-over").length&&w.hide()},stop:function(b,c){m.stopPropagation(b);M.endSort()},drag:function(b,c){_.throttle(M.getScrollListForMemberSidebarDrag(b,c),100)},custom:{refreshContainers:function(){var b,c,f,g,e,h;h=[];for(c=g=e=this.containers.length-1;0>=e?0>=g:0<=g;c=0>=e?++g:--g)b=this.containers[c].element,f=$(b).closest(".list"),f.length&&(b=
f),f=b.offset(),this.containers[c].containerCache.left=f.left,this.containers[c].containerCache.top=f.top,this.containers[c].containerCache.width=b.outerWidth(),h.push(this.containers[c].containerCache.height=b.outerHeight());return h}}})})};c.prototype.refresh=function(){this.refreshListSortable();this.refreshCardSortable();this.refreshDraggable()};c.prototype.getScrollListForMemberSidebarDrag=function(b,c){var f,g;f=$(".list");g=!1;f.each(function(b){return function(c){if(!g&&(c=$(f[c]),b.mouseX<
c.offset().left+c.width()))return M.scrollList=c.find(".list-cards")[0],g=!0}}(this))};c.prototype.getScrollListForCardSort=function(b){var c;M.scrollList=null!=b?null!=(c=b.placeholder)?c.parents(".list-cards")[0]:void 0:void 0};c.prototype.throttledSortableRefreshPosition=_.throttle(function(){var b;return null!=(b=M.draggedCardList)?"function"===typeof b.sortable?b.sortable("refreshPositions"):void 0:void 0},100);c.prototype.throttledSortableRefresh=_.throttle(function(){return M.refreshIfInitialized(M.draggedCardList)},
350);c.prototype.debounceArchivedCardsRefresh=_.debounce(function(){return M.refreshIfInitialized($(".js-archived-cards"))},250);c.prototype.scrollWhileSorting=function(){var b,c;if(this.sorting){if(!M.isInBottomArchiveDropzone&&!M.isInSidebarArchiveDropzone)if(ra.fSmall){b=$(window).scrollTop();c=b+$(window).height()-this.pxBoardBorder;if(this.mouseY<b)return window.scrollBy(0,-15);if(this.mouseY>c)return window.scrollBy(0,15)}else if(b=this.$listArea.scrollLeft,this.mouseX<this.leftEdge&&this.hasMousedLeft?
(b-=1.8*Math.sqrt(this.leftEdge-this.mouseX),this.$listArea.scrollLeft=b,this.throttledSortableRefreshPosition()):this.mouseX>this.rightEdge&&(b<this.maxRightScroll&&this.hasMousedRight)&&(b+=1.8*Math.sqrt(this.mouseX-this.rightEdge),this.$listArea.scrollLeft=b,this.throttledSortableRefreshPosition()),null!=(null!=(c=this.scrollList)?c.scrollTop:void 0))return this.mouseY<this.topEdge?(c=1.7*Math.sqrt(this.topEdge-this.mouseY),this.scrollList.scrollTop-=c):this.mouseY>this.bottomEdge&&(c=1.7*Math.sqrt(this.mouseY-
this.bottomEdge),this.scrollList.scrollTop+=c),this.throttledSortableRefreshPosition()}else M.endSort()};c.prototype.refreshIfInitialized=function(b){if(null!=b&&b.hasClass("ui-sortable"))return b.sortable("refresh")};return c}());var w,k=function(c,b){return function(){return c.apply(b,arguments)}};w=new (function(){function c(){this.clearDisplayTypes=k(this.clearDisplayTypes,this);this.hide=k(this.hide,this);this.toggle=k(this.toggle,this);this.popView=k(this.popView,this);this.pushView=k(this.pushView,
this);this.checkPosition=k(this.checkPosition,this);this.show=k(this.show,this);this.load=k(this.load,this);this.calcPos=k(this.calcPos,this);this.viewStack=[];this.el_width=1;this.el_top=this.el_left="";this.view=null;this.args={};this.isVisible=!1;$(function(b){return function(){e=$(".pop-over");f=$(".pop-over .header");d=$(".pop-over .content");g=e.find(".js-back-view");$(g).click(function(c){return b.popView()});return $(e).find(".js-close-popover").click(function(c){m.stop(c);return b.hide()})}}(this))}
var b,d,f,g,e;b=g=d=f=e=null;c.prototype.shortcut=function(b){switch(b){case 27:return this.popView(),["Esc - Pop Pop-over View","Pop Over"]}};c.prototype.calcPos=function(b){var c,d,f,g,k,m,n,s,u,w,z;if(this.isVisible||!(null!=b&&b.notNew)){d=$(window).width();c=$(window).height();n=e.outerWidth();b&&!b.notNew&&(this.args=b);b=null!=(null!=(u=this.args)?u.clientx:void 0)&&null!=(null!=(w=this.args)?w.clienty:void 0);$(null!=(z=this.args)?z.elem:void 0).is(":visible")?(this.args.elem.el&&(this.elem=
this.args.elem.el),this.el_width=$(this.args.elem).outerWidth(),this.el_left=$(this.args.elem).offset().left,this.el_top=$(this.args.elem).offset().top+(_.isNumber(this.args.top)?this.args.top:28)):b&&(this.el_left=this.args.clientx,this.el_top=this.args.clienty);c=ra.fLarge||ra.fExtraLarge?c-68:"";if(!(null!=(f=this.args)&&f.clientx)||!(null!=(g=this.args)&&g.clienty))if(!_.include(["block","inline-block","inline"],$(null!=(s=this.args)?s.elem:void 0).css("display")))return;m=0<this.el_top?this.el_top:
5;g=e.height()+16;f=m+g;if(ra.fLarge||ra.fExtraLarge)s=$(window).height()+$(window).scrollTop(),f>s&&(m=s-g-8),g>s-44&&(m=44);k=0<this.el_left?this.el_left:5;k+n+16>d&&(k=d-(n+5));this.isVisible||e.css({left:-1E4,top:-1E4,maxHeight:c}).show();_.defer(function(b){return function(){e.find(".content").css({height:1E5});e.scrollTop(1);e.scrollTop(0);e.find(".content").css({height:""});return e.css({left:k,top:m})}}(this))}};c.prototype.load=function(b,c,g){var k;_.isFunction(b)?(null==c&&(c={}),null==
c.modelCache&&(c.modelCache=B.getCurrentModelCache()),this.view=new b(c)):(this.view=b,g=c);this.clearDisplayTypes();e.addClass(this.view.displayType);"function"===typeof(k=this.view).getData&&k.getData();f.find(".header-title").text(this.view.getViewTitle());g?d.empty().append(this.view.el):d.empty().append(this.view.render().el);this.view.delegateEvents();g||"undefined"!==typeof X&&null!==X&&X.addHandler(this.view,{scope:"popover_view",modal:!0});return this.view};c.prototype.show=function(c){c.keepEdits||
qa.cancelEdits(c.elActive);c.preloaded||(this.hide(),c.view=this.load(c.view,c.options));this.viewStack.push(c.view);this.calcPos(c);_.defer(function(b){return function(){if(0<e.find(".js-autofocus").length&&(!ma.isTouch()||!e.find(".js-autofocus:first").hasClass("js-no-touch-autofocus")))return e.find(".js-autofocus:first").focus().select()}}(this));this.isVisible=!0;"function"===typeof c.shown&&c.shown(e);b=c.hidden;null!=c&&c.autoPosition?this.positionInterval=setInterval(this.checkPosition,250):
clearInterval(this.checkPosition);"undefined"!==typeof X&&null!==X&&X.addHandler(this,{scope:"popover",modal:!0})};c.prototype.checkPosition=function(){var b,c,d,f;if(this.isVisible){if(c=e.offset().top,f=$(window).scrollTop(),c!==f)if(d=$(window).height(),b=e.outerHeight(),c<f&&b<=d)e.css({top:f});else if(c+b>f+d&&(b=f+Math.max(0,d-b),b!==c))return e.css({top:b})}else this.clearInterval(this.positionInterval)};c.prototype.pushView=function(b){var c;c=_.last(this.viewStack);null!=c&&"function"===
typeof c.willBePushedDown&&c.willBePushedDown();b.view=this.load(b.view,b.options);this.viewStack.push(b.view);g.show();if(0<e.find(".js-autofocus").length){if(ma.isTouch()&&e.find(".js-autofocus:first").hasClass("js-no-touch-autofocus"))return;_.delay(function(b){return function(){return e.find(".js-autofocus:first").focus().select()}}(this),10)}return this.calcPos()};c.prototype.popView=function(){var b;b=_.last(this.viewStack);null!=b&&("function"===typeof b.willBePopped&&b.willBePopped(),X.removeHandler(b),
b.remove());this.viewStack.pop();if(b=_.last(this.viewStack)){this.load(b,!0);1===this.viewStack.length&&g.hide();if(0<e.find(".js-autofocus").length){if(ma.isTouch()&&e.find(".js-autofocus:first").hasClass("js-no-touch-autofocus"))return;_.delay(function(b){return function(){return e.find(".js-autofocus:first").focus().select()}}(this),10)}return this.calcPos()}w.hide()};c.prototype.toggle=function(b){var c,d;return(this.args&&(null!=(c=this.args.elem)?c[0]:void 0))===(null!=(d=b.elem)?d[0]:void 0)?
this.hide():this.show(b)};c.prototype.hide=function(){var c,d,f,k;clearInterval(this.positionInterval);e.hide();k=this.viewStack.reverse();d=0;for(f=k.length;d<f;d++)c=k[d],"function"===typeof c.willBePopped&&c.willBePopped(),c.remove();e.find(".content").empty();g.hide();this.clearDisplayTypes();"undefined"!==typeof X&&null!==X&&X.removeHandlerScope("popover_view");"undefined"!==typeof X&&null!==X&&X.removeHandler(this);this.viewStack=[];this.args=this.view=null;this.isVisible=!1;$(".js-remove-on-po-hide").remove();
"function"===typeof b&&b(e);return b=null};c.prototype.clearDisplayTypes=function(){return e.removeClass("miniprofile avdetail woof")};return c}());var W,k=function(c,b){return function(){return c.apply(b,arguments)}};W=new (function(){function c(){this.init=k(this.init,this)}var b,d,f;f=d=b=null;c.prototype.shortcut=function(b){switch(b){case 27:return this.hide(),["Esc - Hide Dialog","Dialog"]}};c.prototype.init=function(){b=$(".window");d=b.find(".window-wrapper");this.scrolltop=0;this.isVisible=
!1};c.prototype.calcPos=function(c){var f,h,k;W.isVisible||(b.css({left:-2E4,top:-2E4}),f=48,ra.fSmall&&(f=8));h=$(window).width();""!==c?0>h-c?b.css({width:h-24}):b.css({width:c-24}):b.css({width:""});d.width("1");ra.fSmall?(d.width(h-16),$("#surface").height($(window).height()),c=8):(d.width(""),c=(h-b.width())/2);W.isVisible?b.css({left:c}):b.css({left:c,top:f}).show();null!=(null!=(k=this.view)?k.forceUpdateSidebarPos:void 0)&&W.isVisible&&this.view.forceUpdateSidebarPos()};c.prototype.show=function(c){var e;
this.isVisible&&this.hide(c.isNavigating);qa.cancelEdits();w.hide();this.clear();f=c.hide;this.scrolltop=$(window).scrollTop();$("body").addClass("window-up");null!=(e=B.getCurrentBoard())&&e.composer.save("vis",!1);null!=c.displayType&&b.addClass(c.displayType);d.empty().append(u.fill("dialog_close_button"));c.view?(this.view=c.view,d.append(this.view.render().el),this.view.delegateEvents(),"undefined"!==typeof X&&null!==X&&X.addHandler(this.view,{scope:"dialog_view",modal:!0})):c.html&&(this.view=
null,d.append(c.html));null!=c.maxWidth?this.calcPos(c.maxWidth):this.calcPos("");this.isVisible=!0;_.defer(function(b){return function(){$(".window").css({height:1E5});$(".window-overlay").scrollTop(1);$(".window-overlay").scrollTop(0);return $(".window").css({height:""})}}(this));b.find(".js-autofocus:first,.focus-dummy").focus().select();b.find(".js-submit-okay").click(function(){var d,f,e,k,m;f=b.find("form:first");m=f.find(".non-empty");e=0;for(k=m.length;e<k;e++)if(d=m[e],/^\s*$/.test($(d).val()))return;
W.hide();"function"===typeof c.okay&&c.okay({form:f})});b.find(".js-submit-cancel").click(function(){W.hide();"function"===typeof c.cancel&&c.cancel()});b.find("input[type=submit]").click(function(b){m.preventDefault(b)});b.find(".js-close-window").click(function(b){m.stop(b);W.hide(null,!0)});"undefined"!==typeof X&&null!==X&&X.addHandler(this,{scope:"dialog",modal:!0})};c.prototype.hide=function(c,d){if(this.isVisible&&!qa.isEditing()&&!$(".new-comment").hasClass("focus")||d)"function"===typeof f&&
f(c),f=null,null!=this.view&&("undefined"!==typeof X&&null!==X&&X.removeHandler(this.view),this.view.remove(),this.view=null),"undefined"!==typeof X&&null!==X&&X.removeHandler(this),b.hide(),$("body").removeClass("window-up"),_.defer(function(b){return function(){$(window).scrollTop(b.scrolltop);return b.scrolltop=0}}(this)),this.isVisible=!1,this.removeSpecialClasses(),$(".window-overlay").off("scroll.fixSidebar"),w.hide()};c.prototype.clear=function(){this.removeSpecialClasses();d.width("");d.empty()};
c.prototype.removeSpecialClasses=function(){b.removeClass("slim single-column power-ups wide-content")};return c}());$(W.init);var Oa,k=function(c,b){return function(){return c.apply(b,arguments)}};Oa=new (Oa=function(){function c(){this.advertiseUpgrade=k(this.advertiseUpgrade,this);this.versionCompatible=k(this.versionCompatible,this);this.showVersionInformation=k(this.showVersionInformation,this);this.getVersionDisplay=k(this.getVersionDisplay,this);this.setServerVersion=k(this.setServerVersion,
this);this.lessThanClient=k(this.lessThanClient,this);this.greaterThanClient=k(this.greaterThanClient,this);this.compareWithClient=k(this.compareWithClient,this);this.version=new Ja.Client(window.clientVersion);this.server={version:"0.0.0",environment:"dev"};Object.defineProperty(window,"TrelloVersion",{get:function(b){return function(){var c;return"Server: "+b.server.version+" ("+b.server.environment+")\nClient: "+b.version+" ("+(null!=(c=window.channels)?c.active:void 0)+")"}}(this)})}c.prototype.compareWithClient=
function(b){return Ja.compareStringVersions(b,this.version)};c.prototype.greaterThanClient=function(b){return 0<this.compareWithClient(b)};c.prototype.lessThanClient=function(b){return 0>this.compareWithClient(b)};c.prototype.setServerVersion=function(b){var c,f;c=!1;for(f in this.server)this.server[f]!==b[f]&&(c=!0,this.server[f]=b[f]);if(c)return $(this).triggerHandler("change:serverVersion")};c.prototype.getVersionDisplay=function(){return!this.showVersionInformation()?"":window.TrelloVersion};
c.prototype.showVersionInformation=function(){var b;return"dev"===(null!=(b=window.channels)?b.active:void 0)||"dev"===this.version.head&&"dev"!==this.server.environment};c.prototype.versionCompatible=function(){var b,c;if(this.version===this.server.version)return!0;b=!this.server.versionMin||!this.greaterThanClient(this.server.versionMin);c=!this.server.versionMax||!this.lessThanClient(this.server.versionMax);return b&&c};c.prototype.advertiseUpgrade=function(){return!1};return c}());var Qa,G=[].slice;
Qa=new (function(){function c(){this.holding=!1;this.fxs={};this._unnamed=0}c.prototype.hold=function(){return this.holding=!0};c.prototype.enqueue=function(){var b,c;c=2<=arguments.length?G.call(arguments,0,b=arguments.length-1):(b=0,[]);b=arguments[b++];c=c[0];null==c&&(c="unnamed_"+this._unnamed++);this.holding?this.fxs[c]=b:b()};c.prototype.release=function(){var b;this.holding=!1;b=this.fxs;this.fxs={};_.defer(function(){var c,f;for(f in b)c=b[f],c()})};return c}());var vi,k=function(c,b){return function(){return c.apply(b,
arguments)}},E={}.hasOwnProperty,s=function(c,b){function d(){this.constructor=c}for(var f in b)E.call(b,f)&&(c[f]=b[f]);d.prototype=b.prototype;c.prototype=new d;c.__super__=b.prototype;return c},F=[].indexOf||function(c){for(var b=0,d=this.length;b<d;b++)if(b in this&&this[b]===c)return b;return-1},G=[].slice;vi=function(c){function b(){this.syncError=k(this.syncError,this);this.stopUpgrade=k(this.stopUpgrade,this);this.upgradeNow=k(this.upgradeNow,this);this.upgradeClient=k(this.upgradeClient,
this);this.advertiseUpgrade=k(this.advertiseUpgrade,this);this.onBoardIdOrgChange=k(this.onBoardIdOrgChange,this);this.defaultView=k(this.defaultView,this);this.getMemberBillingCardProductUrl=k(this.getMemberBillingCardProductUrl,this);this.getMemberBillingCardUrl=k(this.getMemberBillingCardUrl,this);this.getMemberBillingUrl=k(this.getMemberBillingUrl,this);this._memUrl=k(this._memUrl,this);this.getOrganizationMembersUrl=k(this.getOrganizationMembersUrl,this);this.getOrganizationPlansUrl=k(this.getOrganizationPlansUrl,
this);this.getOrganizationBillingCardProductUrl=k(this.getOrganizationBillingCardProductUrl,this);this.getOrganizationBillingCardUrl=k(this.getOrganizationBillingCardUrl,this);this.getOrganizationBillingUrl=k(this.getOrganizationBillingUrl,this);this.getOrganizationAccountUrl=k(this.getOrganizationAccountUrl,this);this.getOrganizationMemberCardsUrl=k(this.getOrganizationMemberCardsUrl,this);this._orgUrl=k(this._orgUrl,this);return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.initialize=
function(){$(rpc).bind("reconnect",function(b){return function(){return b.refreshSubscribedModels()}}(this));this._savedTitle="";P["for"]("header").loadHeaderData(function(b){return function(b,c){var d,h,k,m;k=ModelCacheCache._caches;for(h in k)d=k[h],(m=d.getCacheType(),0<=F.call(sb.fullCacheTypes,m))&&d.enqueueDelta("Member",c);return P.triggerWaits("headerData")}}(this));return _.delay(function(){return P["for"]("header").loadBoardsMenuData(function(b){return function(b,c){var d,h,k,m;k=ModelCacheCache._caches;
for(h in k)d=k[h],(m=d.getCacheType(),0<=F.call(sb.fullCacheTypes,m))&&d.enqueueDelta("Member",c);return P.triggerWaits("boardsData")}}(this))},500)};b.prototype.routes={"":"defaultView",landing:"landingView",tour:"tourView","business-class":"businessClassView",enterprise:"enterpriseView",gold:"goldView","search(?*query)":"searchView",platforms:"platformsView",platform:"platformsView",browser:"platformsView",browsers:"platformsView",devices:"platformsView",apps:"platformsView",mobile:"platformsView",
supported:"platformsView",ios:"platformsView",iphone:"platformsView",ipad:"platformsView",android:"platformsView","api/generateToken":"generateTokenView","board/*path":"oldBoardView","b/:shortLink(/*path)":"boardView",help:"manualView",shortcuts:"manualView",blank:"blankView",recommend:"recoView","org/:id":"organizationById","card/board/(:slug/):idBoard/:idCard":"oldCardView","card/(:slug/):idBoard/:idCard":"oldCardView","c/:id(/*path)":"cardView",":username/boards":"memberBoardsView",":username/notifications":"memberNotificationsView",
":username/recommend":"landingView",":username/cards":"memberCardsView",":name/account":"userOrOrgAccountView",":name/billing":"userOrOrgBillingView",":name/billing/card":"userOrOrgBillingCardView",":name/billing/card/:product":"userOrOrgBillingCardView",":name/members":"organizationMembersView",":name/:username/cards":"organizationMemberCardsView",":name/plans":"organizationPlansView",":name(/)":"userOrOrgProfileView","*splat":"displayErrorPage"};b.prototype.viewType="none";b.prototype.topLevelView=
function(b,c,g){null==this.applicationView&&(this.applicationView=new bi);null==g&&(g={});null==g.modelCache&&(g.modelCache=this.getCurrentModelCache());return this.applicationView.subview(b,c,g)};b.prototype.title=function(b){var c,g;null!=b&&(this._savedTitle=b);b=(c=wb.unreadCount(ModelCacheCache["for"]("header")))?"("+c+") ":"";if(0<(null!=(g=this._savedTitle)?g.length:void 0))b+=""+this._savedTitle+" | ";b+="Trello";if(null!=(g=window.fluid))g.dockBadge=c?c:null;Wb.setNotifications(0<c);return document.title=
b};b.prototype.setLocation=function(b){var c,g;g=b.title;c=b.location;b=b.options;null!=g&&this.title(g);c&&(/^#/.test(c)&&(c=c.substr(1)),this.navigate(c,b),this.location=c)};b.prototype.load=function(b){return this.setLocation({location:b})};b.prototype.getPermanentOrganizationUrl=function(b){return"/org/"+b};b.prototype.getOrganizationUrl=function(b){return"/"+(_.isString(b)?b:b.get("name"))};b.prototype._orgUrl=function(b,c){return""+this.getOrganizationUrl(b)+c};b.prototype.getOrganizationMemberCardsUrl=
function(b,c){return this._orgUrl(b,"/"+c+"/cards")};b.prototype.getOrganizationAccountUrl=function(b){return this._orgUrl(b,"/account")};b.prototype.getOrganizationBillingUrl=function(b){return this._orgUrl(b,"/billing")};b.prototype.getOrganizationBillingCardUrl=function(b){return this._orgUrl(b,"/billing/card")};b.prototype.getOrganizationBillingCardProductUrl=function(b,c){return null!=c?this._orgUrl(b,"/billing/card/"+c):this.getOrganizationBillingCardUrl(b)};b.prototype.getOrganizationPlansUrl=
function(b){return this._orgUrl(b,"/plans")};b.prototype.getOrganizationMembersUrl=function(b){return this._orgUrl(b,"/members")};b.prototype.showingCalendar=function(b){return 0<(null!=b?b.$(".calendar-wrapper").length:void 0)};b.prototype.getBoardUrl=function(b,c,g,e){var h;null==e&&(e=[]);if(null!=(null!=c?c.id:void 0))c=c.id;b=b.get("Board",c);c=null!=(h=null!=b?b.get("url"):void 0)?m.relativeUrl(h):(b=null!=b?b.get("name"):void 0)?"/board/"+m.makeSlug(b)+"/"+c:"/board/"+c;g&&(c+="/"+g);b=0;for(h=
e.length;b<h;b++)g=e[b],c+="/"+g;return c};b.prototype.getBoardShortUrl=function(b,c,g){if(null!=(null!=c?c.id:void 0))c=c.id;b=oa.get(b,c);null!=(null!=b?b.get("shortUrl"):void 0)?b=m.relativeUrl(shortUrl):(b=null!=b?b.get("shortLink"):void 0,b="/b/"+b);g&&(b+="/"+g);return b};b.prototype.getMemberBoardProfileUrl=function(b,c){return""+this.getBoardUrl(this.getCurrentModelCache(),c)+"/member/"+b};b.prototype.setBoardLocation=function(b,c,g,e){var h;null==c&&(c="");null==g&&(g=[]);h=oa.get("board_"+
b,b).get("name");this.setLocation({title:h,location:this.getBoardUrl(this.getCurrentModelCache(),b,c,g),options:e})};b.prototype._memUrl=function(b,c){return""+this.getMemberUrl(b)+c};b.prototype.getMemberProfileUrl=function(b){null==b&&(b=z.myUsername());return"/"+b};b.prototype.getMemberNotificationsUrl=function(b){null==b&&(b=z.myUsername());return"/"+b+"/notifications"};b.prototype.getMemberBoardsUrl=function(b){null==b&&(b=z.myUsername());return b===z.myUsername()?"/":"/"+b+"/boards"};b.prototype.getMemberCardsUrl=
function(b){null==b&&(b=z.myUsername());return"/"+b+"/cards"};b.prototype.getMemberAccountUrl=function(b){null==b&&(b=z.myUsername());return"/"+b+"/account"};b.prototype.getMemberBillingUrl=function(b){null==b&&(b=z.myUsername());return"/"+b+"/billing"};b.prototype.getMemberBillingCardUrl=function(b){null==b&&(b=z.myUsername());return"/"+b+"/billing/card"};b.prototype.getMemberBillingCardProductUrl=function(b,c){null==b&&(b=z.myUsername());return null!=c?"/"+b+"/billing/card/"+c:this.getMemberBillingCardUrl(b)};
b.prototype.getPermanentCardUrl=function(b,c,g){return g?"/card/"+g.get("username")+"/"+b+"/"+c:"/card/board/"+b+"/"+c};b.prototype.getCardUrl=function(b){var c,g;if(null!=(c=b.get("url")))return m.relativeUrl(c);c=b.get("name");return this.getCardUrlWithoutModels(b.get("idBoard"),null!=(g=b.get("idShort"))?g:b.id,c)};b.prototype.getCardUrlWithoutModels=function(b,c,g){return null==c?null:m.isShortId(c)?"/card/"+m.makeSlug(g)+"/"+b+"/"+c:"/card/board/"+m.makeSlug(g)+"/"+b+"/"+c};b.prototype.saveMemberBoardProfileLocation=
function(b,c){var g;g=b.get("fullName");return this.setLocation({title:""+g,location:this.getMemberBoardProfileUrl(b.get("username"),c)})};b.prototype.onMemberView=function(){return"member"===this.viewType};b.prototype.onAnyOrganizationView=function(){return"organization"===this.viewType};b.prototype.onOrganizationView=function(b){return this.onAnyOrganizationView()&&this.idModel===b};b.prototype.onAnyBoardView=function(){return"board"===this.viewType};b.prototype.onBoardView=function(b){var c;if(this.onAnyBoardView()){if(m.checkId(b))return this.idModel===
b;if(m.isShortLink(b))return(null!=(c=oa.get(this.getCurrentModelCache(),this.idModel))?c.get("shortLink"):void 0)===b}return!1};b.prototype.onBrowseView=function(){return"browse"===this.viewType};b.prototype.onErrorView=function(){return"error"===this.viewType};b.prototype.defaultView=function(){return z.isLoggedIn()?this.memberBoardsView():this.landingView()};b.prototype.onBoardIdOrgChange=function(){var b,c;b=null!=(c=this.getCurrentBoard())?c.get("idOrganization"):void 0;if(!this.onAnyOrganizationView())return rpc.subscribeTo("Organization",
b)};b.prototype.getCurrentBoardView=function(){var b;return null!=(b=this.applicationView)?b.existingSubviewOrUndefined(Zb,this.getCurrentBoard()):void 0};b.prototype.getCurrentBoard=function(){return!this.onAnyBoardView()?null:oa.get(this.getCurrentModelCache(),this.idModel)};b.prototype.getModelCache=function(b,c,g){switch(b){case "board":return ModelCacheCache["for"]("board_"+g);case "member":return ModelCacheCache["for"]("member_"+g);case "organization":return ModelCacheCache["for"]("organization_"+
g);case "none":break;default:return ModelCacheCache["for"]("other_"+b+"_"+c+"_"+g)}};b.prototype.getCurrentModelCache=function(){return this.getModelCache(this.viewType,this.subViewType,this.idModel)};b.prototype.cleanModelCacheCache=function(){var b,c,g,e,h,k,m,n,s;e=this.getCurrentModelCache();k={organization:0,board:5};g={organization:[],board:[]};s=ModelCacheCache._caches;for(h in s)if(b=s[h],h!==e.name)switch(n=b.getCacheType(),n){case "organization":case "board":g[n].push(b);break;case "header":null;
break;default:ModelCacheCache.dropCache(b)}b=[];for(n in g)c=g[n],m=k[n],c.length<=m||(_.sortBy(c,"lastUsed"),b.push(function(){var b;for(b=[];c.length>m;)b.push(ModelCacheCache.dropCache(c.shift()));return b}()));return b};b.prototype.subscribe=function(){var b;this.onAnyBoardView()?(rpc.subscribeTo("Board",this.idModel),b=oa.get(this.getCurrentModelCache(),this.idModel),b.bind("change:idOrganization",this.onBoardIdOrgChange),this.onBoardIdOrgChange()):(rpc.subscribeTo("Board",null),this.onAnyOrganizationView()?
rpc.subscribeTo("Organization",this.idModel):rpc.subscribeTo("Organization",null))};b.prototype.refreshSubscribedModels=function(){var b,c;this.onAnyBoardView()?(b=this.idModel,c=this.getCurrentBoard().get("idOrganization")):this.onAnyOrganizationView()&&(c=this.idModel);rpc.resync(b,c,z.myId());rpc.invoke("subscribeToBoard",[b]);return rpc.invoke("subscribeToOrganization",[c])};b.prototype.saveBoardsView=function(){if(!this.overBoardsPage)return this.overBoardsPage=!0,this._idBoard=this.idModel,
this._boardPath=/\/b\/[^\/]*\/(.*)/.exec(this.location)[1]};b.prototype.loadBoardsView=function(){this.overBoardsPage=!1;this.setViewType("board",null,this._idBoard);this.boardView(this._idBoard,this._boardPath);delete this._idBoard;return delete this._boardPath};b.prototype.clearPreviousView=function(){var b;this.overBoardsPage&&(this.overBoardsPage=!1);null!=(b=this.applicationView)&&b.removeQueued();delete this.applicationView;w.hide();W.isVisible&&W.hide(!0);$("#content").html("");$("#surface").height("");
$("body").scrollTop("0").removeClass("landing-body tour-body trelloGold-body businessClass-body promo-page onem-page onem-single-page single-column tabbed-page body-board-view body-custom-board-background body-custom-board-background-tiled body-light-board-background body-dark-board-background").css({"background-image":"","background-color":""});$("#edit-sticker").hide();$(".attachment-viewer").remove();Fa.clearProcessingAttachments();if(!this.onAnyBoardView())return Wb.setBackground({color:Ua.blue.color})};
b.prototype.setViewType=function(b,c,g){var e;e=this.getCurrentModelCache();null!=e&&e.saveState();this.viewType=b;this.viewSubType=c;this.idModel=g;this.cleanModelCacheCache();this.getCurrentModelCache().restoreState();return this.subscribe()};b.prototype.boardView=function(b,c,g){var e,h,k;null==c&&(c="");e=c.split("/");h=e[1];k=e[2];c=e[3];e=e[4];b={idBoard:b,section:h};"calendar"===h&&(null!=k&&null!=c)&&(_.extend(b,{year:k,month:c}),null!=e&&_.extend(b,{day:e}));"member"===h&&null!=k&&(b.usernameBoardProfile=
k);return this.displayBoard(b,g)};b.prototype.oldBoardView=function(b,c){var g,e;e={};g=b.split("/");e.idBoard=1===g.length?g[0]:g[1];3===g.length?e.section=g[2]:4===g.length&&(e.usernameBoardProfile=g[3]);this.displayBoard(e,c)};b.prototype.showCardDetail=function(b,c,g){var e,h,k;if(null!=b)if(!this.onBoardView(null!=(h=b.getBoard())?h.id:void 0)||b.modelCache!==this.getCurrentModelCache())this.navigate(this.getCardUrl(b),{trigger:!0});else if(b.markRelatedNotificationsRead(),ModelCacheCache["for"]("header").off("add:Notification",
b.markRelatedNotificationsRead,b),ModelCacheCache["for"]("header").on("add:Notification",b.markRelatedNotificationsRead,b),n("Card Front","Open Card Detail"),h=new wg({modelCache:this.getCurrentModelCache(),model:b}),e=b.getBoard(),k=this.showingCalendar(b.getBoard()&&this.applicationView.existingSubviewOrUndefined(Zb,b.getBoard())),W.show({view:h,hide:function(c){return function(f){ModelCacheCache["for"]("header").off("add:Notification",b.markRelatedNotificationsRead);b.unbindMarkRead();$(".attachment-viewer").remove();
if(!f)return c.setBoardLocation(e.id,k?"calendar":void 0),c.title(e.get("name"))}}(this),isNavigating:g}),b.onId(function(c){return function(){c.title(""+b.get("name")+" on "+b.getBoard().get("name"));return c.navigate(c.getCardUrl(b))}}(this)),null!=c)h[c]()};b.prototype.displayBoard=function(b,c){var g,e,h,k,q,n,s,u,w;J("controller",["boardView",b.idBoard]);u=function(b){return function(c){return null!=c&&c.match("Confirm to view")&&z.isLoggedIn()?ba.waitFor("header",z.myId(),function(){return b.displayErrorPage(_.extend({errorType:"unconfirmedNotFound",
modelType:"board"},z.me().toJSON()))}):null!=c&&c.match("no card")?b.displayErrorPage({errorType:"cardNotFound"}):b.displayErrorPage({errorType:"boardNotFound"})}}(this);q=b.idBoard||(null!=(h=b.board)?h.id:void 0);if((n=b.idCard)&&null==q){if(!m.checkId(n)&&!m.isShortLink(n))return u("no card");q=IdCache.getBoardIdForCard(n)}if(null==q&&null==n)return u("no board id");k=this.spinnerUntil(c);w=function(c){return function(f,e){var h,m,n,s,v,u;if(g)W.isVisible&&W.hide(!0);else{c.setViewType("board",
null,f.id);c.clearPreviousView();c.showHeader();u=[f,oa.get("header",f.id)];n=0;for(v=u.length;n<v;n++)h=u[n],null!=h&&h.set("dateLastView",(new Date).toISOString());$("#content").html(c.topLevelView(Zb,f,{modelCache:ModelCacheCache["for"]("board_"+f.id)}).render().el);$("body").addClass("body-board-view")}aa.pushBoard(f.id);h=c.topLevelView(Zb,f,{modelCache:ModelCacheCache["for"]("board_"+f.id)});b.idCard?(s=function(b){return b?c.showCardDetail(b):c.setBoardLocation(f.id)},(m=f.getCard(b.idCard))?
s(m):P["for"](c.getCurrentModelCache()).loadCardData(b.idBoard,b.idCard,function(e){if(null!=e)O.show("Card does not exist on this board","warning","doesnotexist",5E3),c.setBoardLocation(f.id);else return s(f.getCard(b.idCard))})):b.usernameBoardProfile?null!=(m=ba.find(c.getCurrentModelCache(),"username",b.usernameBoardProfile)[0])&&m.viewBoardProfile(f.id):"calendar"===b.section?(n=[b.year,b.month],b.day&&n.push(b.day),0<=F.call(f.get("powerUps"),"calendar")&&!c.showingCalendar(h)&&(b.day||(b.day=
15),m=H.objToDate(b),H.validDate(m)?h.showCalendar(m):h.showCalendar()),c.setBoardLocation(f.id,"calendar",n)):(c.showingCalendar(h)&&h.closeCalendar(),f.onId(function(){c.setBoardLocation(f.id)}));"function"===typeof k&&k(window.boardView);e||_.defer(function(){P.loadBoardActions(q,P.cacheCallback(function(b){return"board_"+b.id},"Board"));return P.loadBoardChecklists(q,P.cacheCallback(function(b){return"board_"+b.id},"Board"))})}}(this);if(b.board)w(b.board);else if(null!=q){if(!m.checkId(q)&&!m.isShortLink(q))return u("no board");
s=IdCache.getBoardId(q);if(m.checkId(s)&&ModelCacheCache.hasCache("board_"+s)&&(h=ModelCacheCache["for"]("board_"+s),e=h.get("Board",s),g=this.onBoardView(s),null!=e)){w(e,!0);return}ua.time("Load Board Data: "+q);P.loadCurrentBoardData(q,function(b){return function(b,c){ua.timeEnd("Load Board Data: "+q);return null!=b?u(b):ModelCacheCache["for"]("board_"+c.id).enqueueDelta("Board",c,function(){e=oa.get("board_"+c.id,q);if(!e)return u("no board");ua.time("Render Board: "+c.name);Qa.hold();w(e);Qa.release();
ua.timeEnd("Render Board: "+c.name,{reportToServer:!0,serverName:"renderBoard",data:{idBoard:e.id}})})}}(this))}else null!=n?(ua.time("Load Card Data: "+n),P.loadCardData(n,function(b){return function(b,c){ua.timeEnd("Load Card Data: "+n);if(null!=b||null==c)return u("no card");q=c.idBoard;ua.time("Load Board Data: "+q);return P["for"]("board_"+q).loadCurrentBoardData(q,function(b,c){ua.timeEnd("Load Board Data: "+q);if(null!=b)return u(b);e=oa.get("board_"+c.id,q);if(!e)return u("no board");ua.time("RenderBoard w/ Card: "+
c.name);w(e);ua.timeEnd("RenderBoard w/ Card: "+c.name,{reportToServer:!0,serverName:"renderBoardCard",data:{idCard:n,idBoard:e.id}})})}}(this))):u("no board or id")};b.prototype.landingView=function(){var b,c;c=z.isLoggedIn()?"/landing":"/";b=0.5<Math.random()?u["promo/landing_boards"]:u["promo/landing_video"];return this.staticView({title:"Organize anything, together.",location:c,template:"promo/landing_base",templateData:{typekit:!0},templatePartials:{promo_footer:u.promo_footer,landing_content:b},
headerOpts:{promo:!0},bodyClass:"landing-body promo-page"},function(){Ii();return wi()})};b.prototype.tourView=function(){return this.staticView({title:"Tour",location:"/tour",template:"promo/tour",templateData:{typekit:!0},templatePartials:{promo_footer:u.promo_footer},headerOpts:{promo:!0},bodyClass:"tour-body promo-page"})};b.prototype.businessClassView=function(){var b;b={typekit:!0,bcMonthlyPrice:ta.formatPrice("businessClassMonthly"),bcYearlyPrice:ta.formatPrice("businessClassYearly")};return this.staticView({title:"Business Class",
location:"/business-class",template:"promo_business_class",templateData:b,templatePartials:{promo_footer:u.promo_footer},headerOpts:{promo:!0},bodyClass:"businessClass-body promo-page"})};b.prototype.enterpriseView=function(){return this.staticView({title:"Enterprise",location:"/enterprise",template:"promo_enterprise",templateData:{typekit:!0},templatePartials:{promo_footer:u.promo_footer},headerOpts:{promo:!0},bodyClass:"enterprise-body promo-page"})};b.prototype.goldView=function(){this.setViewType("gold");
P["for"](this.getCurrentModelCache()).loadMemberAccountData(z.myId(),function(b){return function(){var c,g,e;g=z.me();b.clearPreviousView();b.showHeader({promo:!0});e={promo_gold_content:u.promo_gold_content,card:u.card_in_list,promo_footer:u.promo_footer};c=g.get("credits");c=_.filter(c,function(b){var c;return!b.applied&&0<b.count&&("invitation"===(c=b.type)||"promoCode"===c)});c=_.reduce(c,function(b,c){return b+c.count},0);g={typekit:!0,confirmed:null!=g?g.get("confirmed"):void 0,hasGold:null!=
g?g.isGold():void 0,username:null!=g?g.get("username"):void 0,loggedIn:z.isLoggedIn(),hasCredits:c};(function(c){$("body").addClass("trelloGold-body promo-page");$("#content").html(c);return b.setLocation({title:"Trello Gold",location:"/gold"})})(u.fill("promo_fan_club",g,null,e));return ye()}}(this))};b.prototype.platformsView=function(){this.staticView({title:"Apps and Platforms",location:"/platforms",template:"platforms",templateData:{},templatePartials:{promo_footer:u.promo_footer},headerOpts:{promo:!0},
bodyClass:"promo-page"})};b.prototype.searchView=function(b){var c;J("controller",["searchView"]);c=this.spinnerUntil(b);P.waitFor("headerData",function(b){return function(){var d,h;b.setViewType("search");b.clearPreviousView();d=m.getQueryParameter("q","");Xa.query=d;h=new Hd({modelCache:b.getModelCache("search")});h.update(d,{partial:!0,cards_limit:12});b.showHeader();_.defer(function(){return Xa.focusInput()});$("body").addClass("single-column");$("#content").html(h.render().el);return"function"===
typeof c?c(h):void 0}}(this))};b.prototype.recoView=function(){var b;z.isLoggedIn()?(b=this.spinnerUntil(b),(this.onAnyBoardView()||this.overBoardsPage)&&this.saveBoardsView(),P.loadMemberRecommendData("me",function(c){return function(g,e){var h,k;c.setViewType("recommend");c.getCurrentModelCache().enqueueDelta("Member",e);h=!g&&null!=e?ba.get(c.getCurrentModelCache(),null!=(k=e.id)?k:e.idMember):null;c.setLocation({title:"Recommend Trello!",location:"/recommend"});c.onAnyBoardView()||c.overBoardsPage?
(k=new Be({model:h,modelCache:c.getCurrentModelCache()}),W.show({view:k,hide:function(b){if(!b)return c.loadBoardsView()}})):(c.clearPreviousView(),k=c.topLevelView(Be,h),c.showHeader(),$("#content").html(k.render().el));"function"===typeof b&&b(h)}}(this))):window.location="/login?returnUrl=/recommend"};b.prototype.organizationById=function(b,c){P.loadOrgNameById(b,function(g){return function(e,h){return null!=e||null==h?g.displayErrorPage():g.organizationBoardsView(h,b,c)}}(this))};b.prototype.organizationBoardsView=
function(b,c,g){this.displayOrganizationPage({orgname:b,loadFn:"loadOrganizationBoardsData",additionalFns:{members:"loadOrganizationMemberGhost"},viewClass:Lh,getLocation:this.getOrganizationUrl,idOrganization:c,callback:g})};b.prototype.organizationMembersView=function(b,c){this.displayOrganizationPage({orgname:b,loadFn:"loadOrganizationMembersData",viewClass:Qh,getLocation:this.getOrganizationMembersUrl,callback:c})};b.prototype.organizationMemberCardsView=function(b,c,g){this.displayOrganizationPage({orgname:b,
username:c,loadFn:"loadOrganizationMinimal",additionalFns:{cards:"loadOrgMemberCardData",members:"loadOrganizationMemberMinimal"},viewClass:Oh,getLocation:this.getOrganizationMemberCardsUrl,callback:g})};b.prototype.organizationAccountView=function(b,c,g){this.displayOrganizationPage({orgname:b,loadFn:"loadOrganizationData",viewClass:Hh,getLocation:this.getOrganizationAccountUrl,idOrganization:c,callback:g,adminOnly:!0})};b.prototype.organizationPlansView=function(b,c){this.orgView(b,function(b){return function(c,
d,f){return b.displayOrganizationPage({orgname:c,loadFn:"loadOrganizationData",viewClass:Rh,getLocation:b.getOrganizationPlansUrl,idOrganization:d,callback:f,membersOnly:!0})}}(this),c)};b.prototype.organizationBillingView=function(b,c){this.orgView(b,function(b){return function(c,d,f){return b.displayOrganizationPage({orgname:c,loadFn:"loadOrganizationData",viewClass:oe,getLocation:b.getOrganizationBillingUrl,idOrganization:d,callback:f,adminOnly:!0})}}(this),c)};b.prototype.organizationBillingCardView=
function(b,c,g){this.orgView(b,function(b){return function(d,g,k){return b.displayOrganizationPage({orgname:d,product:c,loadFn:"loadOrganizationData",viewClass:Jh,getLocation:b.getOrganizationBillingCardProductUrl,idOrganization:g,callback:k,adminOnly:!0})}}(this),g)};b.prototype.orgView=function(b,c,g){return this.getViewData(b,function(e){return function(h,k){return null!=k&&k.id&&"organization"===(null!=k?k.type:void 0)?c(b,k.id,g):e.displayErrorPage({callback:g})}}(this))};b.prototype.userOrOrgProfileView=
function(b,c){null==b&&(b="me");this.userOrOrgView(b,this.memberProfileView,this.organizationBoardsView,c)};b.prototype.userOrOrgAccountView=function(b,c){null==b&&(b="me");this.userOrOrgView(b,this.memberAccountView,this.organizationAccountView,c)};b.prototype.userOrOrgBillingView=function(b,c){null==b&&(b="me");this.userOrOrgView(b,this.memberBillingView,this.organizationBillingView,c)};b.prototype.userOrOrgBillingCardViewTMP=function(b,c){null==b&&(b="me");this.userOrOrgView(b,this.memberBillingCardView,
this.organizationBillingCardView,c)};b.prototype.userOrOrgBillingCardView=function(){var b,c,g,e,h;c=arguments[0];e=3<=arguments.length?G.call(arguments,1,h=arguments.length-1):(h=1,[]);b=arguments[h++];null==c&&(c="me");g=e[0];this.getViewData(c,function(e){return function(h,k){switch(null!=k?k.type:void 0){case "member":return e.memberBillingCardView.call(e,c,g,b);case "organization":return e.organizationBillingCardView.call(e,c,g,k.id,b);default:return e.displayErrorPage({callback:b})}}}(this))};
b.prototype.getViewData=function(b,c){var g,e,h,k;h=window.sessionStorage;e="userOrOrg_"+b;return null!=(k=null!=h?h.getItem(e):void 0)?(g=k.split("|"),k=g[0],g=g[1],c(null,{type:k,id:g})):async.waterfall([function(c){return $.get("/1/types/"+b).done(function(b){return c(null,b)}).fail(function(){return c("notFound")})},function(b,c){null!=(null!=b?b.type:void 0)&&null!=(null!=b?b.id:void 0)&&null!=h&&h.setItem(e,""+b.type+"|"+b.id);return c(null,b)}],c)};b.prototype.userOrOrgView=function(b,c,g,
e){return this.getViewData(b,function(h){return function(k,m){switch(null!=m?m.type:void 0){case "member":return c.call(h,b,e);case "organization":return g.call(h,b,m.id,e);default:return h.displayErrorPage({callback:e})}}}(this))};b.prototype.displayOrganizationPage=function(b){var c,g,e,h,k;null==b.idOrganization?this.getViewData(b.orgname,function(c){return function(e,f){return"organization"===(null!=f?f.type:void 0)?(b.idOrganization=f.id,c.displayOrganizationPage(b)):c.displayErrorPage({callback:b.callback})}}(this)):
(e=b.orgname,k=b.username,h=b.product,g=this.onAnyBoardView()&&b.inDialogIfOnBoard||this.overBoardsPage,J("controller",["organization"]),c=this.spinnerUntil(b.callback),async.auto({organization:function(c){return P[b.loadFn](e,function(b){return function(b,d){return null!=b||null==d?c(b||"Organization not found",d):ModelCacheCache["for"]("organization_"+d.id).enqueueDelta("Organization",d,function(b){return c(b,d)})}}(this))},additional:["organization",function(c,e){var f,g,h;g=e.organization;f={};
return async.forEach(_.keys(null!=(h=b.additionalFns)?h:{}),function(c,e){return P["for"]("organization_"+g.id)[b.additionalFns[c]](g.id,k,function(b,d){f[c]=d;return e()},e)},function(b){return c(b,f)})}],results:["organization","additional",function(m){return function(n,s){var u,w,A,B;B=s.organization;u=_.extend(B,s.additional);B=Va.get("organization_"+B.id,null!=(w=u.id)?w:u.idOrganization);u=ba.findOne("organization_"+B.id,"username",k);!B.owned()&&b.adminOnly||!B.isMember(z.me())&&b.membersOnly||
null!=b.businessClass&&!B.isFeatureEnabled(b.businessClass)?m.organizationBoardsView(e,b.idOrganization):(g?m.saveBoardsView():m.clearPreviousView(),m.setViewType("organization",null,b.idOrganization),A={},u&&(A.member=u),null!=h&&(A.product=h),A.modelCache=m.getCurrentModelCache(),g?(w=null,null!=b.maxDialogWidth&&(w=b.maxDialogWidth),A=new b.viewClass(_.extend({model:B},A)),W.show({isNavigating:!0,view:A,maxWidth:w,hide:function(b){if(!b)return m.loadBoardsView()}})):(A=m.topLevelView(b.viewClass,
B,A),m.showHeader(),$("body").addClass("tabbed-page"),$("#content").html(A.render().el)),w=""+B.get("displayName")+" ("+B.get("name")+")",u=u?b.getLocation(B.get("name"),u.get("username")):h?b.getLocation(B.get("name"),h):b.getLocation(B.get("name")),m.setLocation({title:w,location:u}),"function"===typeof c&&c(B))}}(this)]},function(b){return function(c){if(null!=c)return c.match("Confirm to view")&&z.isLoggedIn()?ba.waitFor("header",z.myId(),function(){return b.displayErrorPage(_.extend({errorType:"unconfirmedNotFound",
modelType:"organization"},z.me().toJSON()))}):b.displayErrorPage()}}(this)))};b.prototype.memberBoardsView=function(b,c,g){null==b&&(b="me");this.displayMemberPage(_.extend({username:b,loadFn:"loadMemberBoardsData",viewClass:ch,getLocation:function(b){return function(c){return b.getMemberBoardsUrl(c)}}(this),callback:function(){xi();return null!=g?g.apply(this,arguments):void 0}},c))};b.prototype.memberNotificationsView=function(b,c){null==b&&(b="me");if(!z.isLoggedIn())return this.displayErrorPage({callback:c});
this.displayMemberPage({username:"me",loadFn:"loadNotificationData",viewClass:kh,inDialogIfOnBoard:!0,maxDialogWidth:530,getLocation:function(b){return function(c){return b.getMemberNotificationsUrl(c)}}(this),callback:c})};b.prototype.memberProfileView=function(b,c){null==b&&(b="me");this.displayMemberPage({username:b,loadFn:"loadMemberProfileData",viewClass:lh,getLocation:function(b){return function(c){return b.getMemberProfileUrl(c)}}(this),callback:c})};b.prototype.memberCardsView=function(b,
c,g){null==b&&(b="me");this.displayMemberPage(_.extend({username:b,loadFn:"loadMemberCardsData",viewClass:hh,getLocation:function(b){return function(c){return b.getMemberCardsUrl(c)}}(this),callback:g},c))};b.prototype.memberIsGold=function(b){return b.isGold()};b.prototype.memberAccountView=function(b,c){this.displayMemberPage({username:"me",loadFn:"loadMemberAccountData",viewClass:Zg,getLocation:function(b){return function(c){return b.getMemberAccountUrl(c)}}(this),callback:c})};b.prototype.memberBillingView=
function(b,c){this.displayMemberPage({username:"me",loadFn:"loadMemberAccountData",viewClass:ge,getLocation:function(b){return function(c){return b.getMemberBillingUrl(c)}}(this),callback:c})};b.prototype.memberBillingCardView=function(b,c,g){this.displayMemberPage({username:"me",product:c,loadFn:"loadMemberAccountData",viewClass:ah,getLocation:function(b){return function(c,d){return b.getMemberBillingCardProductUrl(c,d)}}(this),callback:g})};b.prototype.displayMemberPage=function(b){var c,g,e,h,
k,m,n,s,u,w,A;w=b.username;n=b.loadFn;A=b.viewClass;k=b.getLocation;g=b.callback;s=b.message;c=b.bodyClass;m=b.inDialogIfOnBoard;u=b.product;h=b.fxIsValid;null==w&&(w=z.myUsername());e=this.onAnyBoardView()&&m||this.overBoardsPage;J("controller",["memberBoardsView"]);g=this.spinnerUntil(g);P[n](w,function(m){return function(q,n){var v;e&&m.saveBoardsView();m.setViewType("member","boardsView",n.id);e||m.clearPreviousView();v=m.getModelCache("member","boardsView",n.id);return ModelCacheCache["for"](v).enqueueDelta("Member",
n,function(){var w,B,E;B=!q&&null!=n?ba.get(v,n.id):null;q||!B||null!=h&&!h(B)?m.displayErrorPage():(w={isMore:n.isMore,data:n,product:u,modelCache:v},e?(E=new A(_.extend({model:B},w)),w=null,null!=b.maxDialogWidth&&(w=b.maxDialogWidth),W.show({isNavigating:!0,view:E,maxWidth:w,hide:function(b){if(!b)return m.loadBoardsView()}})):(E=m.topLevelView(A,B,w),m.showHeader(),c?$("body").addClass(c):$("body").addClass("tabbed-page"),$("#content").html(E.render().el)),w=z.isMe(B)?"":""+B.get("fullName")+
" ("+B.get("username")+")",m.setLocation({title:w,location:k(B.get("username"),u)}),"function"===typeof g&&g(B),null!=s&&O.flash(s.text,"confirm","member"))})}}(this))};b.prototype.cardView=function(b,c,g){return this.displayBoard({idCard:b},g)};b.prototype.oldCardView=function(b,c,g,e){this.displayBoard({idBoard:c,idCard:g},e)};b.prototype.blankView=function(b){var c;c=this.spinnerUntil(b);return P.waitFor("headerData",function(b){return function(){b.setViewType("blank");b.clearPreviousView();b.showHeader();
return"function"===typeof c?c():void 0}}(this))};b.prototype.manualView=function(b){var c,g,e;g=document.location.hash?document.location.hash.substr(1):document.location.pathname.substr(1);e=m.capitalize(g);c=function(b,c){return wa.ready(function(){var b;b={ab_gethelp:wa.inTest("gethelp"),bcMonthlyPrice:ta.formatPrice("businessClassMonthly"),goldMonthlyPrice:Ca.formatPrice("trelloGoldMonthly")};b={manual_content:u.fill("manual_"+g,b),title:e};b[g]=!0;b=u.fill("manual_base",b);return c(b)})};this.onAnyBoardView()||
this.overBoardsPage?(c("board",function(b){return function(c){return W.show({html:c,displayType:"single-column",hide:function(){return B.setBoardLocation(b.idModel)}})}}(this)),this.setLocation({title:e,location:g})):this.staticView({title:e,location:g,template:function(b){return c("static",b)},bodyClass:"single-column"},b)};b.prototype.staticView=function(b,c){var g,e,h,k,m,n,s,w,A;w=b.title;k=b.location;m=b.template;n=b.templateData;s=b.templatePartials;g=b.bodyClass;A=b.viewType;h=b.headerOpts;
J("controller",[k+"View"]);e=this.spinnerUntil(c);P.waitFor("headerData",function(b){return function(){var c;b.setViewType(null!=A?A:k);b.clearPreviousView();b.showHeader(h);null==n&&(n={});n.loggedIn=z.isLoggedIn();c=function(c){$("body").addClass(g);$("#content").html(c);b.setLocation({title:w,location:k});return"function"===typeof e?e():void 0};_.isFunction(m)?m(c):c(u.fill(m,n,null,s))}}(this))};b.prototype.showHeader=function(b){var c,g;null==b&&(b={});$("#header .header-user").remove();$("#header .header-boards-button").remove();
$("#header .show-search-btn").remove();$("#header #header-search").parent().remove();$(".header-banner").remove();$("#header nav").remove();$("#header-search").empty();$("#boards-drawer").empty();g=z.me();c=ModelCacheCache["for"]("header");$("#header").empty().prepend(u.fill("header_logo"));b.promo?$("#header").append(u.fill("header_promo_nav")):z.isLoggedIn()?($("#header").append(this.topLevelView(mf,g,{modelCache:c}).render().el),$("#header").append(this.topLevelView(Jd,g,{modelCache:c}).render().el),
$("#header .header-woof").parent().remove(),$("#header").append(this.topLevelView(rf,g,{modelCache:c}).render().el),$("#boards-drawer").append(this.topLevelView(si,g,{modelCache:c}).render().el)):$("#header").append(u.fill("header_promo_nav"));$("#header").append(this.topLevelView(pf,g,{modelCache:c}).render(b.promo).el);m.hasValidInviteTokenFor(this.getCurrentModelCache(),this.idModel)?(b={modelCache:this.getCurrentModelCache()},this.onAnyBoardView()?b.idBoard=this.idModel:this.onAnyOrganizationView()&&
(b.idOrganization=this.idModel),$("#header").after(this.topLevelView(sf,g,b,this.idModel).render().el)):z.isLoggedIn()&&!z.confirmed()?$("#header").after(this.topLevelView(kf,g,{modelCache:c}).render().el):z.isLoggedIn()&&!z.canLogIn()?$("#header").after(this.topLevelView(wf,g,{modelCache:c}).render().el):!z.isLoggedIn()&&B.onAnyBoardView()&&(b=oa.get(this.getCurrentModelCache(),this.idModel),null!=b&&b.isPublic()&&$("#header").after(this.topLevelView(vf,b,{modelCache:this.getCurrentModelCache()}).render().el));
g.checkColorBlindMode()};b.prototype.displayErrorPage=function(b){var c;c=b=_.extend({errorType:"notFound"},b);null!=b&&b.errorType&&(c[b.errorType]=!0,c.url=location.pathname);this.staticView({title:"Error",template:"error",templateData:b,viewType:"error"},b.callback)};b.prototype.showSpinner=function(){return $(".header-logo").addClass("throb")};b.prototype.hideSpinner=function(){return $(".header-logo").removeClass("throb")};b.prototype.spinnerUntil=function(b){this.showSpinner();return function(c){return function(g){c.hideSpinner();
return"function"===typeof b?b(g):void 0}}(this)};b.prototype.advertiseUpgrade=function(){return Oa.advertiseUpgrade()};b.prototype.upgradeClient=function(){var b;if(!this.upgrading)return this.upgrading=!0,b=m.randomWait(360,1800),"active"===za.getStatus()&&(b=m.randomWait(60,300)),O.showHtml((new Ae).render({timeInSeconds:b}),"confirm","upgrade"),setTimeout(function(b){return function(){if(b.upgrading)return b.upgradeNow()}}(this),1E3*b)};b.prototype.upgradeNow=function(){O.hideAll();return window.location.reload()};
b.prototype.stopUpgrade=function(){this.upgrading=!1;return O.showHtml((new Ae).render({stopped:!0}),"confirm","upgrade")};b.prototype.syncError=function(){return O.showHtml(u.fill("sync_error"),"error","modelSync")};return b}(Backbone.Router);(function(){var c;c=Backbone.History.prototype.navigate;return _.extend(Backbone.History.prototype,{navigate:function(b,d){c.call(this,b,d);this.trackPageview(b)},trackPageview:function(b){""===b&&(b=z.isLoggedIn()?"boards":"landing");"undefined"!==typeof ga&&
null!==ga&&(ga("create","UA-225715-29","trello.com"),ga("send","pageview","/"+b))}})})();var O,k=function(c,b){return function(){return c.apply(b,arguments)}};O=new (function(){function c(){this.hideAll=k(this.hideAll,this);this.hide=k(this.hide,this);this.showHtml=k(this.showHtml,this);this.show=k(this.show,this);this._showHideContainer=k(this._showHideContainer,this);this._show=k(this._show,this);this._hide=k(this._hide,this);var b,c,f;f=null;b=function(b){return function(){clearTimeout(f);b.hide("connection");
return b.showHtml(u.fill("connect_failed",{msg:"Could not connect to Trello."}),"error","connectionDead")}}(this);$(rpc).bind("connect_failed",b);$(rpc).bind("reconnect_failed",b);c=function(b){return function(){clearTimeout(f);return b.hide("connection")}}(this);b=function(b){return function(){clearTimeout(f);return f=setTimeout(function(){f=null;return b.show("Attempting to restore connection.  Changes made now may not be saved.","error","connection")},500)}}(this);$(rpc).bind("reconnect",c);$(rpc).bind("connecting",
b)}c.prototype._alerts={};c.prototype._hide=function(b){var c;c=this._alerts[b];null!=c&&c.timeout&&clearTimeout(c.timeout);delete this._alerts[b];$("#notification_"+b).remove();return this._showHideContainer()};c.prototype._show=function(b,c,f,g,e){var h;J("alerts","show",b,c,f,g,e);this._hide(g);e&&(h=setTimeout(function(b){return function(){return b.hide(g)}}(this),e));this._alerts[g]={timeout:h};f=$("<div>").attr("id","notification_"+g).addClass(f).appendTo("#notification");c?f.html(b):f.text(b);
return this._showHideContainer()};c.prototype._showHideContainer=function(){return $("#notification").toggle(!_.isEmpty(this._alerts))};c.prototype.show=function(b,c,f,g){return this._show(b,!1,c,f,g)};c.prototype.showHtml=function(b,c,f,g){return this._show(b,!0,c,f,g)};c.prototype.flash=function(b,c,f){return this._show(b,!1,c,f,2E3)};c.prototype.hide=function(b){J("alerts","hide",b);return this._hide(b)};c.prototype.hideAll=function(){var b,c;c=[];for(b in this._alerts)c.push(this.hide(b));return c};
return c}());var tb,k=function(c,b){return function(){return c.apply(b,arguments)}};window.fluid&&(window.Notification=function(){function c(b,c){fluid.showGrowlNotification({title:b,description:c.body,priority:1,sticky:!1,onclick:function(){return"function"===typeof notification.onclick?notification.onclick():void 0},icon:c.icon})}c.prototype.permission="granted";return c}());tb=function(){function c(d){this.model=d;this.localNotification=k(this.localNotification,this);this.clickHandler=k(this.clickHandler,
this);this.show=k(this.show,this);c.enabled()&&this.model.get("unread")&&(this.localNotification()?this.show():_.delay(this.show,b))}var b;c.__proto__=window.Notification;b=1E3;c.enabled=function(){return"granted"===this.permission};c.denied=function(){return"denied"===this.permission};c.notEnabled=function(){return"default"===this.permission};c.prototype.show=function(){return this.getLock(function(b){return function(){var c,g;g=b.render();c=new window.Notification(g.title,{body:g.body,icon:g.icon,
tag:g.tag});c.model=b.model;c.addEventListener("click",b.clickHandler);return _.delay(function(){return c.close()},1E4)}}(this))};c.prototype.render=function(){var b,c,g,e,h;c=this.model.getTemplateData({useHTML:!0,truncate:null});c.isDesktopNotification=!0;e=u.fill("text_notification",c,{},{text_entity:u.notification_title}).replace(/\s+/g," ").trim();b="";g=_.last(c.entities);g.commentType&&(b=g.text);g="/favicon.ico";if(null!=(h=c.member)&&h.avatarHash)g=""+avatarDomain+"/"+c.member.avatarHash+
"/50.png";return{title:e,body:b,icon:g,tag:this.model.id}};c.prototype.clickHandler=function(b){var c;this.model.get("data");this.model.markRead();b.target.close();if(this.localNotification())return this.model.navigateToView()||B.memberNotificationsView(),window.focus();c=this.model.getUrlOfTarget();b=window.open(c);return null!=b?b.focus():window.location=c};c.prototype.localNotification=function(){var b;b=this.model.get("data");return _.any(_.invoke([function(){var c;return B.onBoardView(null!=
(c=b.board)?c.id:void 0)},function(){var c;return B.onOrganizationView(null!=(c=b.organization)?c.id:void 0)},function(){return 0===location.pathname.indexOf(B.getMemberNotificationsUrl())}],"call"))};c.prototype.getLock=function(b){var c,g;c="notification_lock_"+this.model.id;if(!ja.get(c))return g=Math.random(),ja.set(c,g),_.delay(function(e){return function(){if(ja.get(c)===g)return b()}}(this),100),_.delay(function(b){return function(){return ja.unset(c)}}(this),1E4)};return c}();var X,k=function(c,
b){return function(){return c.apply(b,arguments)}},G=[].slice;X=new (function(){function c(){this._track=k(this._track,this);this.paste=k(this.paste,this);this.keydown=k(this.keydown,this);this._isKeyEligible=k(this._isKeyEligible,this);var b,c,f,g;this._handlers={};this.clear();g=["keydown","paste"];c=0;for(f=g.length;c<f;c++)b=g[c],$(document).bind(b,this[b])}c.prototype.precedence={global:0,"default":1,header:2,board:3,board_sidebar:3,card:4,search_box:5,dialog_view:10,dialog:12,attachment_viewer:20,
popover_view:30,popover:32};c.prototype._isKeyEligible=function(b){return!(ma.isTouch()||27!==b.which&&$(b.target).is("input:visible,textarea:visible,select:visible")||b.ctrlKey||b.altKey||b.metaKey)};c.prototype.addHandler=function(b,c){var f,g,e,h,k;e=c.scope;g=c.precedence;f=c.modal;h=c.top;null==g&&(g=this.precedence[e]);null==g&&(J("userinput","Missing precedence for "+e),g=this.precedence["default"]);null==f&&(f=!1);if(null==(k=this._handlers)[e])k[e]={};this._handlers[e]={target:b,scope:e,
precedence:g,modal:f,top:h};return J("userinput","Adding handler for "+e)};c.prototype.removeHandlerScope=function(b){var c,f;f=[];for(c in this._handlers)c===b&&(J("userinput","Removing handlers for "+c),f.push(delete this._handlers[c]));return f};c.prototype.removeHandler=function(b){var c,f,g,e;g=this._handlers;e=[];for(f in g)c=g[f].target,b===c&&(J("userinput","Removing handler for "+f),e.push(delete this._handlers[f]));return e};c.prototype.clear=function(){var b,c;J("userinput","Removing all non-global handlers");
c=[];for(b in this._handlers)"global"!==b&&(J("userinput","Removing handler for "+b),c.push(delete this._handlers[b]));return c};c.prototype._sortedHandlers=function(){var b;b=_.sortBy(_.values(this._handlers),function(b){return-b.precedence});_.any(b,function(b){return b.modal})&&(b=_.filter(b,function(b){return b.modal}));_.any(b,function(b){return b.top})&&(b=_.filter(b,function(b){return b.top}));return b};c.prototype._triggerOnTargets=function(){var b,c,f,g,e,h;c=arguments[0];b=2<=arguments.length?
G.call(arguments,1):[];h=this._sortedHandlers();g=0;for(e=h.length;g<e;g++)if(f=h[g].target,f=null!=(null!=f?f[c]:void 0)?f[c].apply(f,b):null!=(null!=f?f.triggerHandler:void 0)?f.triggerHandler(c,b):void 0)return(_.isString(f)||_.isArray(f))&&this._track(f),!0;return!1};c.prototype.keydown=function(b){27===b.which&&m.stop(b);this._isKeyEligible(b)&&this._triggerOnTargets("shortcut",b.which,b.shiftKey)&&m.stop(b)};c.prototype.paste=function(b){var c,f,g,e,h,k,q;c=null!=(g=b.originalEvent)?g.clipboardData:
void 0;e=null!=(h=null!=c?c.items:void 0)?h:[];g=function(b){return _.find(e,function(c){return c.type===b})};if(g("text/plain"))b=null!=(f=null!=c?"function"===typeof c.getData?c.getData("text/plain"):void 0:void 0)?f:null!=(k=window.clipboardData)?k.get("Text"):void 0,this._triggerOnTargets("paste","text",b);else if(f=g("image/png"),null!=f&&(f=f.getAsFile(),null!=f))if(m.validCardUpload(f)){if(n("Keyboard Shortcuts","Paste - Upload Image From Clipboard"),this._triggerOnTargets("paste","image",
f))return m.stop(b)}else return null!=(q=z.me())&&q.isFeatureEnabled("largeAttachments")?O.show("File size exceeds 250MB limit","error","upload",5E3):O.show("File size exceeds 10MB limit","error","upload",5E3)};c.prototype._track=function(b){if(null!=b)return _.isArray(b)||(b=[b]),n.apply(null,["Keyboard Shortcuts"].concat(G.call(b)))};return c}());X.addHandler({shortcut:function(c,b){if(63===c||191===c&&b)return B.navigate("shortcuts"),B.manualView(),"Shortcuts page"}},{scope:"global"});var B;if(!window.unsupported){B=
null;$(function(){B=new vi;Backbone.history.start({pushState:!0});ra.ensureRun();$("body").delegate("a[href^='/'],a[href^='"+siteDomain+"/']","click",function(c){var b,d;if(!c.ctrlKey&&(!c.metaKey&&!c.shiftKey)&&(d=$(this).attr("href").replace(RegExp("^(/(?=.)|"+siteDomain+")","g"),""),(b=d!==location.pathname.slice(1))&&w.hide(),!$(this).hasClass("js-real-link")&&("login"!==d&&"signup"!==d&&"forgot"!==d)&&(m.preventDefault(c),b)))return B.navigate(d,{trigger:!0})});return $("#surface").append(u.fill("surface_base"))});
(function(){var c;c=z.updateToken();return setInterval(function(){var b;b=z.updateToken();b!==c&&window.location.reload();return c=b},3E3)})();$(document).ready(function(){var c,b,d,f,g,e,h,k;g=0;h=["ms","moz","webkit","o"];d=0;for(k=h.length;d<k;d++)b=h[d],window.requestAnimationFrame||(window.requestAnimationFrame=window[""+b+"RequestAnimationFrame"],window.cancelAnimationFrame=window[""+b+"CancelAnimationFrame"]||window[""+b+"CancelRequestAnimationFrame"]);window.requestAnimationFrame||(window.requestAnimationFrame=
function(b,c){var d,e,f;d=(new Date).getTime();f=Math.max(0,16-(d-g));e=window.setTimeout(function(){return b(d+f)},f);g=d+f;return e});window.cancelAnimationFrame||(window.cancelAnimationFrame=function(b){return clearTimeout(b)});window.orientationchange=W.calcPos;jQuery.event.props.push("dataTransfer");"placeholder"in document.createElement("input")||$('input[placeholder]:not(".js-no-ie-placeholder"), textarea[placeholder]:not(".js-no-ie-placeholder")').delegate({focus:function(b){b=$(this);if(b.hasClass("placeholder"))return b.removeClass("placeholder").val("")},
blur:function(b){b=$(this);if(""===b.val().trim())return b.addClass("placeholder").val(b.attr("placeholder"))}});h=function(b,c,d,e){return $(document).on("click",b,function(b){var f,g,h,k,l;k=[c,d,e];l=[];g=0;for(h=k.length;g<h;g++)f=k[g],null!=f&&(_.isFunction(f)?l.push(f.call(this,b)):l.push(f));return n.apply(null,l)})};h(".js-home-via-logo","Header","Logo","Home");h(".header-signup","Header","Sign Up");$(document).on("click",".js-resend-confirmation-email",_.throttle(function(b){return function(){return T({type:"POST",
url:"/resendValidate",data:{email:z.me().get("email")},success:function(){return O.flash("Email Sent","confirm")}})}}(this),6E4));$(document).on("click",".js-add-this-businessClass",function(b){var c;m.stop(b);n("Business Class Promo Page","Clicked 'Add This'");b=$(b.target).closest(".js-add-this-businessClass");c=b.attr("name");w.toggle({elem:b,top:44,view:z.me().getView(Ah,"",{product:c})})});d={helpdot:"help.trello.com",shortcuts:"Shortcuts",api:"API",iphone:"iPhone link",android:"Android link",
win8:"Windows 8 link",blog:"Blog Link",dev:"Dev Board",twitter:"Twitter Link",facebook:"Facebook link",google:"Google+ link",fogcreek:"Fog Creek Link",resources:"Resources",privacy:"Privacy",legal:"Legal"};for(f in d)b=d[f],h(".js-help-main-"+f,"Help","Main",b);h(".js-first-sign-up-landing-boards","Landing","Clicked on first signup button","Boards");h(".js-first-sign-up-landing-video","Landing","Clicked on first signup button","Video");h("#landingSignUp .landing-signup-button","Landing","Clicked on second signup button");
h(".slideshow-arrow","Landing","Clicked on slideshow arrows");h("#slideshowNav a","Landing","Clicked on slideshow dots");h(".show-board-button","Landing","Clicked on featured board");h(".js-landing-learn-more","Landing","Learn more");h(".js-sign-up-via-business-class","Business Class","Sign up at bottom");f={android:"Android App",iphone:"iPhone App",ipad:"iPad App",win8:"Windows 8 App",web:"Web App"};for(c in f)b=f[c],h(".js-landing-app-"+c,"Landing",b,function(b){return $(b.target).hasClass("js-text")?
"Text":"Image"});c={web:"Open Web",ios:"Download iOS",android:"Download Android",kindle:"Download Kindle",win8:"Download Windows 8",chrome:"Download Chrome",firefox:"Download Firefox",safari:"Download Safari",ie:"Download Internet Explorer"};for(e in c)b=c[e],h(".js-platforms-"+e,"Platforms",b);$(".window-overlay").click(function(b){if(!$(b.target).is("a[href^='/']")&&!($(b.target).closest("a").hasClass("js-real-link")||0<b.button))$(b.target).is("a")&&"#"!==$(b.target).attr("href")?m.stopPropagation(b):
!$(b.target).is("a.focus-dummy")&&!$(b.target).hasClass("checkbox")&&(w.isVisible?w.hide():$(".new-comment").hasClass("focus")?$(".new-comment").removeClass("focus").find("textarea").blur():qa.isEditing()?qa.cancelEdits():0<$(b.target).closest(".window-wrapper").length||W.hide())});$("#surface").click(function(b){var c,d;if(!(0<$(b.target).closest(".boards-drawer").length))if($(b.target).is("input")||$(b.target).is("textarea"))m.stopPropagation(b);else return d=(c=B.getCurrentBoard())&&B.getCurrentBoardView(),
w.isVisible?w.hide():aa.getShowSidebar()&&!aa.getPinSidebar()?aa.hideSidebar():$(".new-comment").hasClass("focus")?$(".new-comment").removeClass("focus").find("textarea").blur():null!=c&&c.viewState.get("listComposerOpen")?null!=c?c.viewState.set("listComposerOpen",!1):void 0:null!=c&&c.composer.get("vis")&&0<!$(b.target).closest(".card-composer").length?c.composer.save("vis",!1):qa.isEditing()?qa.cancelEdits():B.showingCalendar(d)&&0===$(b.target).closest(".calendar-day").length?$(".calendar-day.active").removeClass("active"):
$("input, textarea").blur()});$(document).on("click","a[href=#]",function(b){return m.preventDefault(b)});$(document).keyup(function(b){if(27===b.keyCode&&(b.preventDefault(),B.getCurrentBoard(),!$("body").hasClass("editing-stickers"))){if(aa.getShowSidebar()&&!aa.getPinSidebar())return aa.hideSidebar();if(qa.isEditing())return qa.cancelEdits();if($(".new-comment").hasClass("focus"))return $(".new-comment").removeClass("focus").find("textarea").blur();$("input").blur();return $("textarea").blur()}});
$(document).bind("dragstart",function(b){return 0<$(b.target).closest(".ui-draggable").length});n("Trello Version",Oa.version.toString());null!=window.fluid&&n("FluidApp");TRMixpanel.setReferralCookie();return TRMixpanel.trackLoginOrSignUp()});$.fn.fixPlaceholder=function(){if("placeholder"in document.createElement("input"))return this;this.filter('input[placeholder]:not(".js-no-ie-placeholder"), textarea[placeholder]:not(".js-no-ie-placeholder")').each(function(){var c;c=$(this);return c.addClass("placeholder").val(c.attr("placeholder"))});
return this};var Xb;Xb=new (function(){function c(){}c.prototype.delta=ja.get("serverTimeDelta");c.prototype.updateServerTime=function(b){this.delta=new Date(b)-new Date;ja.set("serverTimeDelta",this.delta);return J("time","delta",this.delta)};c.prototype.serverToClient=function(b){return new Date(new Date(b)-this.delta)};return c}());var H;H=new (function(){function c(){_.extend(this,Backbone.Events);this.startOfWeekOffset=this.DAY_TABLE[this.isUS?"sunday":"monday"]}var b,d,f;f="";c.prototype.DAY_TABLE=
{sunday:0,monday:1,tuesday:2,wednesday:3,thursday:4,friday:5,saturday:6};c.prototype.objToDate=function(b,c,d){_.isObject(b)&&(d=b,b=d.year,c=d.month,d=d.day);return new Date(b,c-1,d)};c.prototype.dateToObj=function(b){return{year:b.getFullYear(),month:b.getMonth()+1,day:b.getDate()}};c.prototype.setStartOfWeek=function(b){return this.startOfWeekOffset=this.DAY_TABLE[b]};c.prototype.getStartOfWeek=function(b){return(new Date(b)).addDays(this.startOfWeekOffset-b.getDay())};c.prototype.getEndOfWeek=
function(b){return(new Date(b)).addDays(6-b.getDay())};c.prototype.getDaysOfWeek=function(b){var c,d,f;f=[];for(c=d=0;6>=d;c=++d)f.push((new Date(this.getStartOfWeek(b))).addDays(c));return f};c.prototype.getMidnightInt=function(b){return(new Date(b)).setHours(0,0,0,0)};c.prototype.getFirstOfMonth=function(b){return(new Date(b)).moveToFirstDayOfMonth(b)};c.prototype.getDateWithSpecificTime=function(b,c){return new Date(c.getFullYear(),c.getMonth(),c.getDate(),b.getHours(),b.getMinutes(),b.getSeconds())};
b=function(){var b;b=$(this).data("date");null==b&&(b=H.parse($(this).attr("dt")),b=Xb.serverToClient(b),$(this).data("date",b));$(this).text(function(){return qb(b.getTime(),f,{timeFormat:H.timeFormat()})});$(this).is("[title]")||$(this).attr("title",""+b.toLocaleDateString()+" "+b.toLocaleTimeString())};d=function(){var b,c,d;b=H.parse($(this).attr("dt"));c=null!=(d=$(this).attr("text"))?d:"";$(this).text(function(){return""+(b>f?"is":"was")+" "+c+" "+qb(b.getTime(),f)})};c.prototype.isUS=/en-us/i.test($.cookie("lang")||
navigator.language||navigator.browserLanguage);c.prototype.timeFormat=function(){return this.isUS?"h:mm tt":"HH:mm"};c.prototype.updateRel=function(b){f=new Date;return $(b).find(".rel-date[dt]").each(d)};c.prototype.update=function(c){f=new Date;$(c).find(".date[dt]").each(b)};c.prototype.convertDateFormat=function(b){null==b&&(b="");return this.isUS?b:b.replace(/(?:^|\s)(\d{1,2})[\/-](\d{1,2})(?:[\/-](\d\d{2,4}))?(?:$|\s)/g,function(b,c,d,f){return 12>=d?f?""+d+"/"+c+"/"+f+" ":""+d+"/"+c+" ":b})};
c.prototype.parse=function(b){var c;null==b&&(b="");if(_.isDate(b)||_.isNumber(b))return new Date(b);b=this.convertDateFormat(b);c=new Date(b);return isNaN(c)?new Date(b.replace(/-/g,"/").replace(/T|Z|\.\d+/g," ")+" GMT"):c};c.prototype.toShortString=function(b){return this.isUS?b.toString("MM/dd/yyyy"):b.toString("dd/MM/yyyy")};c.prototype.toDateString=function(b,c){var d,k;d=(null!=c?c:{}).smartYear;f=new Date;null==d&&(d=!1);d=d&&(b.getYear()===f.getYear()||m.getMs({months:-3})<(k=b-f)&&k<m.getMs({months:3}));
return b.toString(d?"MMM d":"MMM d, yyyy")};c.prototype.toLongString=function(b){var c;c=Date.today();return c.getYear()===b.getYear()&&c.getMonth()===b.getMonth()&&c.getDate()===b.getDate()?"Today at "+b.toString(this.timeFormat()):""+this.toDateString(b,{smartYear:!0})+" at "+b.toString(this.timeFormat())};c.prototype.toLongDateString=function(b){if(null!=b)return b=new Date(b),""+(this.monthMap[b.getMonth()]+b.toString(" d, yyyy"))};c.prototype.normalizeTime=function(b){var c,d,f,k,m;f=null!=b?
"function"===typeof b.match?b.match(/^(\d\d)(\d\d)/):void 0:void 0;null==f&&(f=null!=b?"function"===typeof b.match?b.match(/(\d+)(?::(\d\d))?\s*([aApP]?)/):void 0:void 0);if(!f)return null;b=parseInt(f[1],10);d="p"===(c=f[3])||"P"===c;c="a"===(m=f[3])||"A"===m;24===b?b=0:d?12!==b&&(b+=12):c&&12===b&&(b=0);f=parseInt(null!=(k=f[2])?k:0,10);if(!(0<=b&&23>=b)||!(0<=f&&59>=f))return null;k=function(b){return 10>b?"0"+b:b};return""+k(b)+":"+k(f)};c.prototype.monthMap={0:"January",1:"February",2:"March",
3:"April",4:"May",5:"June",6:"July",7:"August",8:"September",9:"October",10:"November",11:"December"};c.prototype.validDate=function(b){return _.isDate(b)&&!isNaN(b.getTime())};return c}());$(function(){return setInterval(function(){H.update("body");H.updateRel("body");H.trigger("renderInterval")},1E4)});var yi;yi=new (function(){function c(){}c.prototype.show=function(b){var c,f,g,e;c=b.alertType;f=b.data;g=b.date;b=b.dateExpires;H.parse(g);b=H.parse(b);switch(c){case "text":return 0<(null!=f?null!=
(e=f.text)?e.length:void 0:void 0)?(c=Xb.serverToClient(b)-new Date,O.show(f.text,"info","admin",c)):O.hide("admin")}};c.prototype.process=function(b){if(b.length)return this.show(b[0])};return c}());$(rpc).bind("adminAlert",function(c,b){return yi.show(b.deltas.msg)});var n;n=function(c,b,d,f){return"function"===typeof window.ga?window.ga("send","event",c,b,d,f):void 0};var xi;xi=function(){var c,b,d,f,g,e,h,k,m,n,s,u;if(z.isLoggedIn()){g=z.me();k=function(b){var c;c=b+"";if(c=c.match(/\(([^\)]+)\)$/)||
c.match(/([A-Z]+|UTC[+-]\d{4}) [\d]{4}$/)){c=c[1];/\s/.test(c)&&(c=c.replace(/(\S)\S*/g,function(b,c){return c}));for(c=c.match(/[A-Z]/g).join("");2>c.length;)c+="?"}else b=b.getTimezoneOffset(),c="UTC"+(0>b?"+":"-")+("00"+Math.floor(Math.abs(b)/60)).substr(-2)+":"+("00"+Math.abs(b)%60).substr(-2);return c};n=s=d=null;b=new Date;n=b.getTimezoneOffset();u=k(b);for(e=0;12>=e;++e)if(b.addDays(30),b.getTimezoneOffset()!==n){d=b;break}if(null!=d){s=d.getTimezoneOffset();e=(new Date).getTime();b=d.getTime();
for(c=0;b>e+3E4&&30>c;)if(c++,h=Math.floor((e+b)/2),m=(new Date(h)).getTimezoneOffset(),m===n)e=h;else if(m===s)b=h;else break;c=k(d);d=(new Date(6E4*Math.floor(b/6E4))).toISOString()}k={};n={offsetCurrent:n,timezoneCurrent:u,offsetNext:s,timezoneNext:c,dateNext:d};for(f in n)d=n[f],null!=d&&(k[f]=d);f=g.getPref("timezoneInfo");if(!_.isEqual(k,f))return g.run("timezoneInfo",k)}};var mg;mg=new (function(){function c(){this.value="";$(document).keydown(function(b){return function(c){var f,g;if(b.value&&
(c.ctrlKey||c.metaKey)&&!$(c.target).is("input:visible,textarea:visible")&&!("function"===typeof window.getSelection&&null!=(f=window.getSelection())&&f.toString()))if(!(null!=(g=document.selection)&&g.createRange().text))return _.defer(function(){var c;c=$("#clipboard-container");c.empty().show();return $("<textarea id='clipboard'></textarea>").val(b.value).appendTo(c).focus().select()})}}(this));$(document).keyup(function(b){if($(b.target).is("#clipboard"))return $("#clipboard-container").empty().hide()})}
c.prototype.set=function(b){this.value=b};return c}());window.TRMixpanel=new (function(){function c(){this.signUpCookieName="just_signed_up";this.loginCookieName="just_logged_in";this.referralTypeCookieName="referral_type";this.referralSourceCookieName="referral_source";this.publicBoardPathCookieName="public_board_path"}c.prototype.setCookie=function(b,c){return $.cookie(b,c,{expires:1,path:"/"})};c.prototype.setReferralCookie=function(){var b,c,f,g,e,h,k;if(!$.cookie(this.referralTypeCookieName))return h=
function(){return 0<=window.location.pathname.indexOf("/b/")},k=function(){return 0<=window.location.pathname.indexOf("/recommend")},b=function(){return 0<$("#board").length},g=function(){var b,c;return null!=(b=document.referrer)?null!=(c=b.match(/:\/\/(.[^/]+)/))?c[1]:void 0:void 0},c=function(){return 0<("undefined"!==typeof m&&null!==m?"function"===typeof m.invitationTokens?m.invitationTokens().length:void 0:void 0)},f=function(){return window.location.pathname},e=function(e){return function(){var m,
n;c()?n=h()?"board invitation":"org invitation":(m=g(),k()?n="recommend":b()?(n="public board",TRMixpanel.setCookie(e.publicBoardPathCookieName,f())):n="direct");TRMixpanel.setCookie(e.referralTypeCookieName,n);m&&TRMixpanel.setCookie(e.referralSourceCookieName,m)}}(this),setTimeout(e,3E3)};c.prototype.justSignedUp=function(){return TRMixpanel.setCookie(this.signUpCookieName,!0)};c.prototype.justLoggedIn=function(){return TRMixpanel.setCookie(this.loginCookieName,!0)};c.prototype.trackEmailCampaign=
function(b,c,f){return mixpanel.track("email campaign",{"email name":b,"email action":c,"email template slug":f})};c.prototype.trackLoginOrSignUp=function(){if(z.isLoggedIn()){if($.cookie(this.signUpCookieName))return TRMixpanel.trackSignup(),$.cookie(this.signUpCookieName,null);if($.cookie(this.loginCookieName))return TRMixpanel.trackLogin(),$.cookie(this.loginCookieName,null)}};c.prototype.trackSignup=function(){var b;mixpanel.alias(z.myId());b={};$.cookie(this.referralTypeCookieName)&&(b["signup type"]=
$.cookie(this.referralTypeCookieName),$.cookie(this.referralTypeCookieName,null));$.cookie(this.referralSourceCookieName)&&(b["signup referrer"]=$.cookie(this.referralSourceCookieName),$.cookie(this.referralSourceCookieName,null));$.cookie(this.publicBoardPathCookieName)&&(b["public board path"]=$.cookie(this.publicBoardPathCookieName),$.cookie(this.publicBoardPathCookieName,null));return mixpanel.track("signup",b)};c.prototype.trackLogin=function(){return mixpanel.identify(z.myId())};c.prototype.trackInvitation=
function(b){null==b&&(b="board");mixpanel.track("invitation sent",{invitation_type:b});return mixpanel.people.increment("invitations sent")};c.prototype.trackPageView=function(b,c){return mixpanel.track("page viewed",{"page name":b,url:c})};c.prototype.trackPurchase=function(b,c){return mixpanel.track("purchase",{"product name":b,"product id":c})};c.prototype.trackVideoWatched=function(b,c,f){return mixpanel.track("video watched",{"video id":b,"video name":c,"video embed location":f})};return c}());
var De,Qc,zi,Ai,Bi,Ci,Yc,G=[].slice,E={}.hasOwnProperty,s=function(c,b){function d(){this.constructor=c}for(var f in b)E.call(b,f)&&(c[f]=b[f]);d.prototype=b.prototype;c.prototype=new d;c.__super__=b.prototype;return c};Qc=new (function(){function c(){}c.prototype._findAd=function(){var b,c,f;b=arguments[0];f=arguments[1];c=3<=arguments.length?G.call(arguments,2):[];return _.find(b,function(b){return!f.isDismissed(b.adId)&&b.isEligible.apply(b,[f].concat(G.call(c)))})};c.prototype.adForMember=function(b){return this._findAd.apply(this,
[[zi]].concat(G.call(arguments)))};c.prototype.addMemberToOrganizationAd=function(b,c){return this._findAd.apply(this,[[Ai]].concat(G.call(arguments)))};c.prototype.addMemberToBoardAd=function(b,c){return this._findAd.apply(this,[[Ci]].concat(G.call(arguments)))};c.prototype.boardMenuAd=function(b,c){return this._findAd.apply(this,[[Bi]].concat(G.call(arguments)))};return c}());De=function(c){function b(){return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.events=function(){return{click:this.click,
"click .js-close-ad":this.close}};b.isEligible=function(b){return!1};b.prototype.getAdId=function(){return this.constructor.adId};b.prototype.click=function(){return n("Ad",this.getAdId(),"Click")};b.prototype.close=function(b){m.stop(b);if(null!=(b=this.getAdId()))n("Ad",this.getAdId(),"Dismiss"),z.me().dismiss(b);return this.$el.slideUp(100)};return b}(A);zi=function(c){function b(){return b.__super__.constructor.apply(this,arguments)}s(b,c);b.adId="BoardsListBC";b.isEligible=function(b){var c,
g;g=function(b,c){return m.idToDate(b.id)<m.dateBefore(c)};if(g(b,{months:1}))return c=b.organizationList,b=c.any(function(b){return b.isPremium()}),c=c.any(function(b){return wa.inTest("BC_boards_list_ad",b.id)&&g(b,{weeks:1})}),!b&&c};b.prototype.className="member-boards-list-ad business-class-ad";b.prototype.copyHtml=function(){return u.fill("ad_business_class")};b.prototype.iconClass=function(){return"business-class-mark"};b.prototype.click=function(){b.__super__.click.apply(this,arguments);return B.navigate("/business-class",
{trigger:!0})};return b}(function(c){function b(){return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.className="member-boards-list-ad";b.prototype.render=function(){this.$el.html(u.fill("member_boards_list_ad",{copyHtml:this.copyHtml(),iconClass:this.iconClass()}));return this};b.prototype.copy=function(){return""};return b}(De));Yc=function(c){function b(){return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.className="pop-over-ad business-class-ad";b.prototype.iconClass=
function(){return"business-class-mark"};b.prototype.click=function(){b.__super__.click.apply(this,arguments);return B.navigate("/business-class",{trigger:!0})};return b}(function(c){function b(){return b.__super__.constructor.apply(this,arguments)}s(b,c);b.prototype.className="pop-over-list-ad";b.prototype.render=function(){this.$el.html(u.fill("pop_over_ad",{copyHtml:this.copyHtml(),iconClass:this.iconClass()}));return this};b.prototype.copyHtml=function(){return""};return b}(De));Ai=function(c){function b(){return b.__super__.constructor.apply(this,
arguments)}s(b,c);b.adId="AddOrganizationMemberBC";b.isEligible=function(b,c){return null!=c&&wa.inTest("BC_google_apps_ad",c.id)&&!c.isPremium()};b.prototype.copyHtml=function(){return u.fill("ad_business_class_google_apps")};return b}(Yc);Ci=function(c){function b(){return b.__super__.constructor.apply(this,arguments)}s(b,c);b.adId="AddBoardMemberBC";b.isEligible=function(b,c){return null!=c&&wa.inTest("BC_observers_ad",c.id)&&!c.isPremium()};b.prototype.copyHtml=function(){return u.fill("ad_business_class_observers")};
return b}(Yc);Bi=function(c){function b(){return b.__super__.constructor.apply(this,arguments)}s(b,c);b.adId="BoardMenuBC";b.isEligible=function(b,c){var g;g=null!=c?c.getOrganization():void 0;return null!=g&&wa.inTest("BC_manage_boards_ad",g.id)&&!g.isPremium()&&!c.ownedByMember(b)&&g.ownedByMember(b)};b.prototype.copyHtml=function(){var b;b={organization:this.model.getOrganization().toJSON()};return u.fill("ad_business_class_manage_any_board",b)};return b}(Yc);var Kb,E={}.hasOwnProperty,s=function(c,
b){function d(){this.constructor=c}for(var f in b)E.call(b,f)&&(c[f]=b[f]);d.prototype=b.prototype;c.prototype=new d;c.__super__=b.prototype;return c};Kb=function(c){function b(){return b.__super__.constructor.apply(this,arguments)}s(b,c);b.loadedAuth=function(){return gapi.load("auth",function(){b.loaded=!0;b.trigger("loaded");return b.authorize(!0)})};b.authorize=function(c,f){return b.validToken()?"function"===typeof f?f(null,b.oauthToken.access_token):void 0:gapi.auth.authorize({client_id:window.googleDrive.clientId,
scope:"https://www.googleapis.com/auth/drive.readonly",immediate:c},function(c){var d;b.oauthToken=c;return!c||c.error?"function"===typeof f?f(null!=(d=null!=c?c.error:void 0)?d:Error("Failed to request token")):void 0:"function"===typeof f?f(null,b.oauthToken.access_token):void 0})};b.validToken=function(){var c;return(null!=(c=b.oauthToken)?c.access_token:void 0)&&Date.now()/1E3<parseInt(b.oauthToken.expires_at)};return b}(Backbone.Events);$.getScript("https://apis.google.com/js/api.js",Kb.loadedAuth);
var ye;ye=function(c){var b,d,f,g;null==c&&(c=$("body"));b=function(){var b,c,d,f;d=[];f=_.shuffle(ab);for(b in f)c=f[b],"premium"===c.type&&"Taco Pack"===c.pack.displayName&&d.push(new Rc(_.extend({image:b},c)));return d};f=function(){var d,f,g,k,n,s,w,z,A,B,C;d=c.find(".trellogold-demo-list-card");f=d.find(".js-card-stickers").empty();k=function(){return 90*Math.random()-45};s=_.shuffle(b()).slice(0,3);d=d.width()||300;n=z=0;for(A=s.length;z<A;n=++z)g=s[n],g=g.toJSON(),g.url=null!=(B=null!=(C=m.smallestPreviewBiggerThan(g.scaled,
80))?C.url:void 0)?B:g.url,g.rotate=k(),n=d/3*n+(30*Math.random()-15),w=30*Math.random()-15,f.append("<div class='sticker' style='left:"+n+"px;top:"+w+"%;'> "+u.fill("sticker_on_card",g)+" </div>")};g=function(b){var c;c=$(b.target).closest(".js-emoji");c.find("input").hide();b=c.find(".action-comment");b.find(".js-unrendered-emoji").addClass("hide");b.find(".js-rendered-emoji").removeClass("hide");c.find(".js-show-on-submit").removeClass("hide")};d=function(){var b;b=_.filter(Ua,function(b){return"premium"===
b.type&&!b.discontinued});b=b[Math.floor(Math.random()*b.length)];null!=b.scaled?c.find(".js-background").css({"background-image":'url("'+b.scaled[1].url+'")',"background-size":"cover"}):null!=b.tile&&c.find(".js-background").css({"background-image":'url("'+b.fullSizeUrl+'")',"background-size":"auto"})};(function(){var b;b=c.find(".trellogold-demo-list-card");b.find(".list-card-stickers-area").removeClass("hide");b.find(".js-card-name").text("Walk the dog.");f()})();d();(function(){var b;b=z.me().toJSON();
c.find(".js-member-emoji-demo").empty().append(u.fill("member",b));c.find(".js-member-name-emoji-demo").text(b.fullName)})();c.find(".js-earned-gold").append((new cc({model:z.me(),allowDismiss:!1})).render().el);c.find(".js-rotate-background").click(function(b){m.stop(b);return d()});c.find(".js-rotate-stickers").click(function(b){m.stop(b);return f()});return c.find(".js-submit-comment").click(function(b){m.stop(b);return g(b)})};var Ji=[{username:"brycecolquitt",avatar:"https://d2k1ftgv7pobq7.cloudfront.net/images/landing/twitter-avatars/04e835470f32dc246875cb81d3294bbf/brycecolquitt.jpg",
tweet:'How did people get work done before <a href="https://twitter.com/#!/trello" target="_blank">@Trello</a>?',timestamp:"29 Jun",url:"https://twitter.com/brycecolquitt/status/218763918934409217"},{username:"alfonsocatron",avatar:"https://d2k1ftgv7pobq7.cloudfront.net/images/landing/twitter-avatars/68cae40c6c8f244d85163197d7886c9b/alfonsocatron.jpg",tweet:'by far, trello.com is the best organization tool I\'ve ever seen, it is amazing how powerful and simple it is <a href="https://twitter.com/#!/trello" target="_blank">@trello</a>',
timestamp:"29 Jun",url:"https://twitter.com/alfonsocatron/status/218434126326403072"},{username:"angelabdotme",avatar:"https://d2k1ftgv7pobq7.cloudfront.net/images/landing/twitter-avatars/f1a5a13f00a33fc7fe84d69095070894/angelabdotme.jpg",tweet:'<a href="https://twitter.com/#!/trello" target="_blank">@Trello</a>, Good Lord, you rock! Just had to get that off my chest :)',timestamp:"28 Jun",url:"https://twitter.com/angelabdotme/status/218431858147475457"},{username:"krittabug",avatar:"https://d2k1ftgv7pobq7.cloudfront.net/images/landing/twitter-avatars/a478f6b1c3f2a7e12ecadf6163178504/krittabug.jpg",
tweet:'We\'ve been playing around on <a href="https://twitter.com/#!/trello" target="_blank">@Trello</a> at work. Brilliant, I say! Brilliant.',timestamp:"26 Jun",url:"https://twitter.com/krittabug/status/217659526135029761"},{username:"section71",avatar:"https://d2k1ftgv7pobq7.cloudfront.net/images/landing/twitter-avatars/b1f2bf42b27897400e2b4f58fd1daf28/section71.png",tweet:'A tool I use every day: <a href="https://twitter.com/#!/trello" target="_blank">@trello</a>. Awesome collaborative project management tool using boards and cards. Check it out!',
timestamp:"24 Jun",url:"https://twitter.com/section71/status/216851014370865154"},{username:"daehee",avatar:"https://d2k1ftgv7pobq7.cloudfront.net/images/landing/twitter-avatars/ad2bf733b15e83345ab1006a3eecd281/daehee.jpg",tweet:'I\'m sold. <a href="https://twitter.com/#!/trello" target="_blank">@Trello</a> is the most intuitive to-do list app I\'ve used.',timestamp:"24 Jun",url:"https://twitter.com/daehee/status/216813950745067520"},{username:"nabeelqu",avatar:"https://d2k1ftgv7pobq7.cloudfront.net/images/landing/twitter-avatars/18695da8696bb1e6a1d3662ad4dcc11e/nabeelqu.jpg",
tweet:'just transferred my entire life onto <a href="https://twitter.com/#!/trello" target="_blank">@trello</a>. Really useful tool. Thanks!',timestamp:"22 Jun",url:"https://twitter.com/nabeelqu/status/216261700637298688"},{username:"mdw233psu",avatar:"https://d2k1ftgv7pobq7.cloudfront.net/images/landing/twitter-avatars/268449c5750a33b569fb5efee220f079/mdw233psu.png",tweet:'I am at the point where I am using <a href="https://twitter.com/#!/trello" target="_blank">@trello</a> for everything ... Software project management, my GTD lists, my wedding ....',
timestamp:"22 Jun",url:"https://twitter.com/mdw233psu/status/216142253339586560"},{username:"mitchellhislop",avatar:"https://d2k1ftgv7pobq7.cloudfront.net/images/landing/twitter-avatars/63d666ce159b3035aceaffa9e118137f/mitchellhislop.jpg",tweet:'I love how <a href="https://twitter.com/#!/trello" target="_blank">@trello</a> balances both free-form stuff as well as structured stuff. Seriously powerful',timestamp:"19 Jun",url:"https://twitter.com/mitchellhislop/status/215196390400344064"},{username:"tomtheguvnor",
avatar:"/images/landing/twitter-avatars/omtheguvnor.jpg",tweet:'If you\'re not using <a href="https://twitter.com/#!/trello" target="_blank">@trello</a> to manage your project, whatever your project is, you\'re doing it wrong. Fact.',timestamp:"31 May",url:"https://twitter.com/tomtheguvnor/status/208365127144194048"}],Ii=function(){if("/landing"==location.pathname||"#landing"==location.hash||location.pathname.match(/\/recommend$/)||location.hash.match(/\/recommend$/)||"/"==location.pathname&&""==
location.hash&&(!window.Auth||!z.isLoggedIn())){$.getScript("https://use.typekit.com/wtv2ioe.js",function(){try{Typekit.load()}catch(b){}});$.easing.fastSlowFast=function(b){return(Math.tan(2.214*b-1.107)+2)/4};var c=$("#landingFeaturedUsers li"),b=$("#landingFeaturedUsers"),d=$("#landingSlidesWrapper"),f,g,e=c.length,h=d.height(),k=0,m,s=1,u=!1,A=!1;$(window).resize(function(){window.setTimeout(B,500)});var B=function(){k=d.width();$("#landingFeaturedUsers li").innerWidth(k);b.width(k*(e+2));c.css({display:"block"});
b.css({"margin-left":-k*s})},D=function(b){$("#slideshowNav .current").removeClass("current");$('#slideshowNav li[data-id="'+b+'"] a').addClass("current")},E=function(d){var h=c.filter('[data-id="'+s+'"]');if(d>e)C(h,f),F(d,function(){c.first().css({opacity:1});f.css({opacity:0});b.css({"margin-left":-k});s=1;A=!1}),D(1);else if(1>d)C(h,g),F(d,function(){c.last().css({opacity:1});g.css({opacity:0});b.css({"margin-left":-k*e});s=e;A=!1}),D(e);else{var m=c.filter('[data-id="'+d+'"]');C(h,m);F(d,function(){A=
!1});s=d;D(s)}},C=function(b,c){b.animate({opacity:0},{duration:300,easing:"linear",complete:function(){c.animate({opacity:1},{easing:"linear"})}})},F=function(c,d){A=!0;b.animate({"margin-left":-k*c},{duration:1E3,easing:"swing",complete:d})},G=function(){window.clearTimeout(m);u&&y($('.landing-featured-user[data-id="'+s+'"]'))};$(".slideshow-arrow").click(function(b){b.preventDefault();if(A)return!1;G();b="slideshowNext"===$(this).attr("id")?s+1:s-1;E(b);m=window.setTimeout(J,2E4)});var H=function(b){b.preventDefault();
if(A)return!1;G();b=parseInt($(this).parent().attr("data-id"));E(b);m=window.setTimeout(J,2E4)},J=function(){E(s+1);m=window.setTimeout(J,1E4)},M=function(b){u=!0;window.clearTimeout(m);var c=0;b.children().each(function(){c+=$(this).outerHeight()});b.children(".landing-board-fade").animate({bottom:"-800px",opacity:0});d.animate({height:c});$(".show-board-button").hide();$(".hide-board-button").show()},y=function(b){u=!1;b.children(".landing-board-fade").animate({bottom:"0px",opacity:1});d.animate({height:h});
$(".hide-board-button").hide();$(".show-board-button").show()};$(".show-board-button").click(function(b){b.preventDefault();M($('.landing-featured-user[data-id="'+s+'"]'))});$(".hide-board-button").click(function(b){b.preventDefault();y($('.landing-featured-user[data-id="'+s+'"]'));m=window.setTimeout(J,1E3)});B();(function(){f=c.first().clone().appendTo(b);g=c.last().clone().prependTo(b);for(var d=0;d<e;d++)$(c[d]).attr("data-id",d+1),$("#slideshowNav").append('<li data-id="'+(d+1)+'"><a href="">&bull;</a></li>');
$("#slideshowNav a").click(H);$("#landingFeaturedUsers li").filter('[data-id!="'+s+'"]').css({opacity:0})})();(function(){$("#surface").click(function(b){w.isVisible&&w.hide()})})();D(s);m=window.setTimeout(J,1E4);(function(){var b=Ji[Math.floor(10*Math.random())];$("#landingTwitterQuotes blockquote").html(b.tweet);$("#landingTwitterQuotes img").attr("src",b.avatar);$("#landingTwitterQuotes .quote-attribution").html(b.username);$("#landingTwitterQuotes .time").html(b.timestamp);$("#landingTwitterQuotes .tweet-url").attr("href",
b.url)})();$(document).on("click",".js-first-sign-up-landing-boards",function(b){n("Landing","Clicked on first signup button","Boards")});$(document).on("click",".js-first-sign-up-landing-video",function(b){n("Landing","Clicked on first signup button","Video")});$(document).on("click","#landingSignUp .landing-signup-button",function(b){n("Landing","Clicked on second signup button")});$(document).on("click",".slideshow-arrow",function(b){n("Landing","Clicked on slideshow arrows")});$(document).on("click",
"#slideshowNav a",function(b){n("Landing","Clicked on slideshow dots")});$(document).on("click",".show-board-button",function(b){n("Landing","Clicked on featured board")});$(document).on("click",".js-landing-learn-more",function(b){n("Landing","Learn more")});$(document).on("click",".js-landing-app-android",function(b){$(b.target).hasClass("js-text")?n("Landing","Android App","Text"):n("Landing","Android App","Image")});$(document).on("click",".js-landing-app-iphone",function(b){$(b.target).hasClass("js-text")?
n("Landing","iPhone App","Text"):n("Landing","iPhone App","Image")});$(document).on("click",".js-landing-app-ipad",function(b){$(b.target).hasClass("js-text")?n("Landing","iPad App","Text"):n("Landing","iPad App","Image")});$(document).on("click",".js-landing-app-win8",function(b){$(b.target).hasClass("js-text")?n("Landing","Windows 8 App","Text"):n("Landing","Windows 8 App","Image")});$(document).on("click",".js-landing-app-web",function(b){$(b.target).hasClass("js-text")?n("Landing","Web App","Text"):
n("Landing","Web App","Image")})}},wi;wi=function(){var c;c=$.cookie("referrer");if(null!=c)return $.get("/1/members/"+c,{fields:"username,fullName,initials,avatarHash"},function(b){var c;c=$("<div>").addClass("header-banner header-banner-reco");c.html('<span class="js-avatar"></span><span class="js-fullname"></span> recommends Trello!');c.find(".js-fullname").text(b.fullName);b.avatarHash&&(b=$("<img>").attr("src",""+avatarDomain+"/"+b.avatarHash+"/50.png"),c.find(".js-avatar").append(b));return $(function(){return $("#header").after(c)})})}}})();
